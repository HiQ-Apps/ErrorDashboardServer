var hF=Object.defineProperty;var dF=(t,e,n)=>e in t?hF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Yx=(t,e,n)=>dF(t,typeof e!="symbol"?e+"":e,n);function fF(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function G2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y2={exports:{}},Cg={},$2={exports:{}},ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=Symbol.for("react.element"),pF=Symbol.for("react.portal"),mF=Symbol.for("react.fragment"),gF=Symbol.for("react.strict_mode"),xF=Symbol.for("react.profiler"),vF=Symbol.for("react.provider"),yF=Symbol.for("react.context"),_F=Symbol.for("react.forward_ref"),bF=Symbol.for("react.suspense"),wF=Symbol.for("react.memo"),SF=Symbol.for("react.lazy"),gS=Symbol.iterator;function MF(t){return t===null||typeof t!="object"?null:(t=gS&&t[gS]||t["@@iterator"],typeof t=="function"?t:null)}var Z2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K2=Object.assign,Q2={};function Mu(t,e,n){this.props=t,this.context=e,this.refs=Q2,this.updater=n||Z2}Mu.prototype.isReactComponent={};Mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q2(){}q2.prototype=Mu.prototype;function T_(t,e,n){this.props=t,this.context=e,this.refs=Q2,this.updater=n||Z2}var P_=T_.prototype=new q2;P_.constructor=T_;K2(P_,Mu.prototype);P_.isPureReactComponent=!0;var xS=Array.isArray,J2=Object.prototype.hasOwnProperty,E_={current:null},eP={key:!0,ref:!0,__self:!0,__source:!0};function tP(t,e,n){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)J2.call(e,i)&&!eP.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];r.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:zd,type:t,key:s,ref:a,props:r,_owner:E_.current}}function CF(t,e){return{$$typeof:zd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function A_(t){return typeof t=="object"&&t!==null&&t.$$typeof===zd}function TF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vS=/\/+/g;function $x(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TF(""+t.key):e.toString(36)}function Wp(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case zd:case pF:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+$x(a,0):i,xS(r)?(n="",t!=null&&(n=t.replace(vS,"$&/")+"/"),Wp(r,e,n,"",function(d){return d})):r!=null&&(A_(r)&&(r=CF(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(vS,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",xS(t))for(var l=0;l<t.length;l++){s=t[l];var u=i+$x(s,l);a+=Wp(s,e,n,u,r)}else if(u=MF(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=i+$x(s,l++),a+=Wp(s,e,n,u,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function kf(t,e,n){if(t==null)return t;var i=[],r=0;return Wp(t,i,"","",function(s){return e.call(n,s,r++)}),i}function PF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $i={current:null},jp={transition:null},EF={ReactCurrentDispatcher:$i,ReactCurrentBatchConfig:jp,ReactCurrentOwner:E_};function nP(){throw Error("act(...) is not supported in production builds of React.")}ln.Children={map:kf,forEach:function(t,e,n){kf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kf(t,function(){e++}),e},toArray:function(t){return kf(t,function(e){return e})||[]},only:function(t){if(!A_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ln.Component=Mu;ln.Fragment=mF;ln.Profiler=xF;ln.PureComponent=T_;ln.StrictMode=gF;ln.Suspense=bF;ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EF;ln.act=nP;ln.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=K2({},t.props),r=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=E_.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)J2.call(e,u)&&!eP.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:zd,type:t.type,key:r,ref:s,props:i,_owner:a}};ln.createContext=function(t){return t={$$typeof:yF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vF,_context:t},t.Consumer=t};ln.createElement=tP;ln.createFactory=function(t){var e=tP.bind(null,t);return e.type=t,e};ln.createRef=function(){return{current:null}};ln.forwardRef=function(t){return{$$typeof:_F,render:t}};ln.isValidElement=A_;ln.lazy=function(t){return{$$typeof:SF,_payload:{_status:-1,_result:t},_init:PF}};ln.memo=function(t,e){return{$$typeof:wF,type:t,compare:e===void 0?null:e}};ln.startTransition=function(t){var e=jp.transition;jp.transition={};try{t()}finally{jp.transition=e}};ln.unstable_act=nP;ln.useCallback=function(t,e){return $i.current.useCallback(t,e)};ln.useContext=function(t){return $i.current.useContext(t)};ln.useDebugValue=function(){};ln.useDeferredValue=function(t){return $i.current.useDeferredValue(t)};ln.useEffect=function(t,e){return $i.current.useEffect(t,e)};ln.useId=function(){return $i.current.useId()};ln.useImperativeHandle=function(t,e,n){return $i.current.useImperativeHandle(t,e,n)};ln.useInsertionEffect=function(t,e){return $i.current.useInsertionEffect(t,e)};ln.useLayoutEffect=function(t,e){return $i.current.useLayoutEffect(t,e)};ln.useMemo=function(t,e){return $i.current.useMemo(t,e)};ln.useReducer=function(t,e,n){return $i.current.useReducer(t,e,n)};ln.useRef=function(t){return $i.current.useRef(t)};ln.useState=function(t){return $i.current.useState(t)};ln.useSyncExternalStore=function(t,e,n){return $i.current.useSyncExternalStore(t,e,n)};ln.useTransition=function(){return $i.current.useTransition()};ln.version="18.3.1";$2.exports=ln;var F=$2.exports;const wi=G2(F),mm=fF({__proto__:null,default:wi},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AF=F,kF=Symbol.for("react.element"),RF=Symbol.for("react.fragment"),IF=Object.prototype.hasOwnProperty,LF=AF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DF={key:!0,ref:!0,__self:!0,__source:!0};function iP(t,e,n){var i,r={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)IF.call(e,i)&&!DF.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:kF,type:t,key:s,ref:a,props:r,_owner:LF.current}}Cg.Fragment=RF;Cg.jsx=iP;Cg.jsxs=iP;Y2.exports=Cg;var w=Y2.exports,Gv={},rP={exports:{}},Pr={},sP={exports:{}},aP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ie,_e){var Te=ie.length;ie.push(_e);e:for(;0<Te;){var ee=Te-1>>>1,He=ie[ee];if(0<r(He,_e))ie[ee]=_e,ie[Te]=He,Te=ee;else break e}}function n(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var _e=ie[0],Te=ie.pop();if(Te!==_e){ie[0]=Te;e:for(var ee=0,He=ie.length,Ue=He>>>1;ee<Ue;){var K=2*(ee+1)-1,oe=ie[K],be=K+1,ue=ie[be];if(0>r(oe,Te))be<He&&0>r(ue,oe)?(ie[ee]=ue,ie[be]=Te,ee=be):(ie[ee]=oe,ie[K]=Te,ee=K);else if(be<He&&0>r(ue,Te))ie[ee]=ue,ie[be]=Te,ee=be;else break e}}return _e}function r(ie,_e){var Te=ie.sortIndex-_e.sortIndex;return Te!==0?Te:ie.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],f=1,x=null,v=3,y=!1,C=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(ie){for(var _e=n(d);_e!==null;){if(_e.callback===null)i(d);else if(_e.startTime<=ie)i(d),_e.sortIndex=_e.expirationTime,e(u,_e);else break;_e=n(d)}}function D(ie){if(k=!1,L(ie),!C)if(n(u)!==null)C=!0,Se(W);else{var _e=n(d);_e!==null&&ge(D,_e.startTime-ie)}}function W(ie,_e){C=!1,k&&(k=!1,S(Z),Z=-1),y=!0;var Te=v;try{for(L(_e),x=n(u);x!==null&&(!(x.expirationTime>_e)||ie&&!q());){var ee=x.callback;if(typeof ee=="function"){x.callback=null,v=x.priorityLevel;var He=ee(x.expirationTime<=_e);_e=t.unstable_now(),typeof He=="function"?x.callback=He:x===n(u)&&i(u),L(_e)}else i(u);x=n(u)}if(x!==null)var Ue=!0;else{var K=n(d);K!==null&&ge(D,K.startTime-_e),Ue=!1}return Ue}finally{x=null,v=Te,y=!1}}var z=!1,j=null,Z=-1,$=5,H=-1;function q(){return!(t.unstable_now()-H<$)}function ce(){if(j!==null){var ie=t.unstable_now();H=ie;var _e=!0;try{_e=j(!0,ie)}finally{_e?le():(z=!1,j=null)}}else z=!1}var le;if(typeof R=="function")le=function(){R(ce)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,we=me.port2;me.port1.onmessage=ce,le=function(){we.postMessage(null)}}else le=function(){P(ce,0)};function Se(ie){j=ie,z||(z=!0,le())}function ge(ie,_e){Z=P(function(){ie(t.unstable_now())},_e)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){C||y||(C=!0,Se(W))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(ie){switch(v){case 1:case 2:case 3:var _e=3;break;default:_e=v}var Te=v;v=_e;try{return ie()}finally{v=Te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,_e){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Te=v;v=ie;try{return _e()}finally{v=Te}},t.unstable_scheduleCallback=function(ie,_e,Te){var ee=t.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?ee+Te:ee):Te=ee,ie){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=Te+He,ie={id:f++,callback:_e,priorityLevel:ie,startTime:Te,expirationTime:He,sortIndex:-1},Te>ee?(ie.sortIndex=Te,e(d,ie),n(u)===null&&ie===n(d)&&(k?(S(Z),Z=-1):k=!0,ge(D,Te-ee))):(ie.sortIndex=He,e(u,ie),C||y||(C=!0,Se(W))),ie},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(ie){var _e=v;return function(){var Te=v;v=_e;try{return ie.apply(this,arguments)}finally{v=Te}}}})(aP);sP.exports=aP;var NF=sP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FF=F,Sr=NF;function qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oP=new Set,jh={};function Vl(t,e){tu(t,e),tu(t+"Capture",e)}function tu(t,e){for(jh[t]=e,t=0;t<e.length;t++)oP.add(e[t])}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yv=Object.prototype.hasOwnProperty,OF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yS={},_S={};function BF(t){return Yv.call(_S,t)?!0:Yv.call(yS,t)?!1:OF.test(t)?_S[t]=!0:(yS[t]=!0,!1)}function VF(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UF(t,e,n,i){if(e===null||typeof e>"u"||VF(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zi(t,e,n,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ci[t]=new Zi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ci[e]=new Zi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ci[t]=new Zi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ci[t]=new Zi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ci[t]=new Zi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ci[t]=new Zi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ci[t]=new Zi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ci[t]=new Zi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ci[t]=new Zi(t,5,!1,t.toLowerCase(),null,!1,!1)});var k_=/[\-:]([a-z])/g;function R_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(k_,R_);Ci[e]=new Zi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(k_,R_);Ci[e]=new Zi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(k_,R_);Ci[e]=new Zi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ci[t]=new Zi(t,1,!1,t.toLowerCase(),null,!1,!1)});Ci.xlinkHref=new Zi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ci[t]=new Zi(t,1,!1,t.toLowerCase(),null,!0,!0)});function I_(t,e,n,i){var r=Ci.hasOwnProperty(e)?Ci[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UF(e,n,r,i)&&(n=null),i||r===null?BF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Pa=FF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rf=Symbol.for("react.element"),_c=Symbol.for("react.portal"),bc=Symbol.for("react.fragment"),L_=Symbol.for("react.strict_mode"),$v=Symbol.for("react.profiler"),lP=Symbol.for("react.provider"),cP=Symbol.for("react.context"),D_=Symbol.for("react.forward_ref"),Zv=Symbol.for("react.suspense"),Kv=Symbol.for("react.suspense_list"),N_=Symbol.for("react.memo"),Xa=Symbol.for("react.lazy"),uP=Symbol.for("react.offscreen"),bS=Symbol.iterator;function ju(t){return t===null||typeof t!="object"?null:(t=bS&&t[bS]||t["@@iterator"],typeof t=="function"?t:null)}var Gn=Object.assign,Zx;function fh(t){if(Zx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zx=e&&e[1]||""}return`
`+Zx+t}var Kx=!1;function Qx(t,e){if(!t||Kx)return"";Kx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){i=d}t.call(e.prototype)}else{try{throw Error()}catch(d){i=d}t()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,l=s.length-1;1<=a&&0<=l&&r[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(r[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||r[a]!==s[l]){var u=`
`+r[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{Kx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fh(t):""}function zF(t){switch(t.tag){case 5:return fh(t.type);case 16:return fh("Lazy");case 13:return fh("Suspense");case 19:return fh("SuspenseList");case 0:case 2:case 15:return t=Qx(t.type,!1),t;case 11:return t=Qx(t.type.render,!1),t;case 1:return t=Qx(t.type,!0),t;default:return""}}function Qv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bc:return"Fragment";case _c:return"Portal";case $v:return"Profiler";case L_:return"StrictMode";case Zv:return"Suspense";case Kv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cP:return(t.displayName||"Context")+".Consumer";case lP:return(t._context.displayName||"Context")+".Provider";case D_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N_:return e=t.displayName||null,e!==null?e:Qv(t.type)||"Memo";case Xa:e=t._payload,t=t._init;try{return Qv(t(e))}catch{}}return null}function WF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qv(e);case 8:return e===L_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jF(t){var e=hP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function If(t){t._valueTracker||(t._valueTracker=jF(t))}function dP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=hP(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function gm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qv(t,e){var n=e.checked;return Gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wS(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=vo(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fP(t,e){e=e.checked,e!=null&&I_(t,"checked",e,!1)}function Jv(t,e){fP(t,e);var n=vo(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ey(t,e.type,n):e.hasOwnProperty("defaultValue")&&ey(t,e.type,vo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function SS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ey(t,e,n){(e!=="number"||gm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ph=Array.isArray;function Bc(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+vo(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function ty(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(qe(91));return Gn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function MS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(qe(92));if(ph(n)){if(1<n.length)throw Error(qe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vo(n)}}function pP(t,e){var n=vo(e.value),i=vo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function CS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ny(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lf,gP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lf=Lf||document.createElement("div"),Lf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ch={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HF=["Webkit","ms","Moz","O"];Object.keys(Ch).forEach(function(t){HF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ch[e]=Ch[t]})});function xP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ch.hasOwnProperty(t)&&Ch[t]?(""+e).trim():e+"px"}function vP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=xP(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var XF=Gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iy(t,e){if(e){if(XF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(qe(62))}}function ry(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sy=null;function F_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ay=null,Vc=null,Uc=null;function TS(t){if(t=Hd(t)){if(typeof ay!="function")throw Error(qe(280));var e=t.stateNode;e&&(e=kg(e),ay(t.stateNode,t.type,e))}}function yP(t){Vc?Uc?Uc.push(t):Uc=[t]:Vc=t}function _P(){if(Vc){var t=Vc,e=Uc;if(Uc=Vc=null,TS(t),e)for(t=0;t<e.length;t++)TS(e[t])}}function bP(t,e){return t(e)}function wP(){}var qx=!1;function SP(t,e,n){if(qx)return t(e,n);qx=!0;try{return bP(t,e,n)}finally{qx=!1,(Vc!==null||Uc!==null)&&(wP(),_P())}}function Xh(t,e){var n=t.stateNode;if(n===null)return null;var i=kg(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(qe(231,e,typeof n));return n}var oy=!1;if(ma)try{var Hu={};Object.defineProperty(Hu,"passive",{get:function(){oy=!0}}),window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{oy=!1}function GF(t,e,n,i,r,s,a,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Th=!1,xm=null,vm=!1,ly=null,YF={onError:function(t){Th=!0,xm=t}};function $F(t,e,n,i,r,s,a,l,u){Th=!1,xm=null,GF.apply(YF,arguments)}function ZF(t,e,n,i,r,s,a,l,u){if($F.apply(this,arguments),Th){if(Th){var d=xm;Th=!1,xm=null}else throw Error(qe(198));vm||(vm=!0,ly=d)}}function Ul(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function MP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function PS(t){if(Ul(t)!==t)throw Error(qe(188))}function KF(t){var e=t.alternate;if(!e){if(e=Ul(t),e===null)throw Error(qe(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return PS(r),t;if(s===i)return PS(r),e;s=s.sibling}throw Error(qe(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(qe(189))}}if(n.alternate!==i)throw Error(qe(190))}if(n.tag!==3)throw Error(qe(188));return n.stateNode.current===n?t:e}function CP(t){return t=KF(t),t!==null?TP(t):null}function TP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=TP(t);if(e!==null)return e;t=t.sibling}return null}var PP=Sr.unstable_scheduleCallback,ES=Sr.unstable_cancelCallback,QF=Sr.unstable_shouldYield,qF=Sr.unstable_requestPaint,ei=Sr.unstable_now,JF=Sr.unstable_getCurrentPriorityLevel,O_=Sr.unstable_ImmediatePriority,EP=Sr.unstable_UserBlockingPriority,ym=Sr.unstable_NormalPriority,eO=Sr.unstable_LowPriority,AP=Sr.unstable_IdlePriority,Tg=null,Ls=null;function tO(t){if(Ls&&typeof Ls.onCommitFiberRoot=="function")try{Ls.onCommitFiberRoot(Tg,t,void 0,(t.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:rO,nO=Math.log,iO=Math.LN2;function rO(t){return t>>>=0,t===0?32:31-(nO(t)/iO|0)|0}var Df=64,Nf=4194304;function mh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _m(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~r;l!==0?i=mh(l):(s&=a,s!==0&&(i=mh(s)))}else a=n&~r,a!==0?i=mh(a):s!==0&&(i=mh(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-ls(e),r=1<<n,i|=t[n],e&=~r;return i}function sO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aO(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ls(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=sO(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function cy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kP(){var t=Df;return Df<<=1,!(Df&4194240)&&(Df=64),t}function Jx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ls(e),t[e]=n}function oO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ls(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function B_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ls(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var En=0;function RP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IP,V_,LP,DP,NP,uy=!1,Ff=[],ao=null,oo=null,lo=null,Gh=new Map,Yh=new Map,$a=[],lO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AS(t,e){switch(t){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Gh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yh.delete(e.pointerId)}}function Xu(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Hd(e),e!==null&&V_(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function cO(t,e,n,i,r){switch(e){case"focusin":return ao=Xu(ao,t,e,n,i,r),!0;case"dragenter":return oo=Xu(oo,t,e,n,i,r),!0;case"mouseover":return lo=Xu(lo,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Gh.set(s,Xu(Gh.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Yh.set(s,Xu(Yh.get(s)||null,t,e,n,i,r)),!0}return!1}function FP(t){var e=ol(t.target);if(e!==null){var n=Ul(e);if(n!==null){if(e=n.tag,e===13){if(e=MP(n),e!==null){t.blockedOn=e,NP(t.priority,function(){LP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);sy=i,n.target.dispatchEvent(i),sy=null}else return e=Hd(n),e!==null&&V_(e),t.blockedOn=n,!1;e.shift()}return!0}function kS(t,e,n){Hp(t)&&n.delete(e)}function uO(){uy=!1,ao!==null&&Hp(ao)&&(ao=null),oo!==null&&Hp(oo)&&(oo=null),lo!==null&&Hp(lo)&&(lo=null),Gh.forEach(kS),Yh.forEach(kS)}function Gu(t,e){t.blockedOn===e&&(t.blockedOn=null,uy||(uy=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,uO)))}function $h(t){function e(r){return Gu(r,t)}if(0<Ff.length){Gu(Ff[0],t);for(var n=1;n<Ff.length;n++){var i=Ff[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ao!==null&&Gu(ao,t),oo!==null&&Gu(oo,t),lo!==null&&Gu(lo,t),Gh.forEach(e),Yh.forEach(e),n=0;n<$a.length;n++)i=$a[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<$a.length&&(n=$a[0],n.blockedOn===null);)FP(n),n.blockedOn===null&&$a.shift()}var zc=Pa.ReactCurrentBatchConfig,bm=!0;function hO(t,e,n,i){var r=En,s=zc.transition;zc.transition=null;try{En=1,U_(t,e,n,i)}finally{En=r,zc.transition=s}}function dO(t,e,n,i){var r=En,s=zc.transition;zc.transition=null;try{En=4,U_(t,e,n,i)}finally{En=r,zc.transition=s}}function U_(t,e,n,i){if(bm){var r=hy(t,e,n,i);if(r===null)c0(t,e,i,wm,n),AS(t,i);else if(cO(r,t,e,n,i))i.stopPropagation();else if(AS(t,i),e&4&&-1<lO.indexOf(t)){for(;r!==null;){var s=Hd(r);if(s!==null&&IP(s),s=hy(t,e,n,i),s===null&&c0(t,e,i,wm,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else c0(t,e,i,null,n)}}var wm=null;function hy(t,e,n,i){if(wm=null,t=F_(i),t=ol(t),t!==null)if(e=Ul(t),e===null)t=null;else if(n=e.tag,n===13){if(t=MP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wm=t,null}function OP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JF()){case O_:return 1;case EP:return 4;case ym:case eO:return 16;case AP:return 536870912;default:return 16}default:return 16}}var to=null,z_=null,Xp=null;function BP(){if(Xp)return Xp;var t,e=z_,n=e.length,i,r="value"in to?to.value:to.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return Xp=r.slice(t,1<i?1-i:void 0)}function Gp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Of(){return!0}function RS(){return!1}function Er(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Of:RS,this.isPropagationStopped=RS,this}return Gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Of)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Of)},persist:function(){},isPersistent:Of}),e}var Cu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},W_=Er(Cu),jd=Gn({},Cu,{view:0,detail:0}),fO=Er(jd),e0,t0,Yu,Pg=Gn({},jd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:j_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yu&&(Yu&&t.type==="mousemove"?(e0=t.screenX-Yu.screenX,t0=t.screenY-Yu.screenY):t0=e0=0,Yu=t),e0)},movementY:function(t){return"movementY"in t?t.movementY:t0}}),IS=Er(Pg),pO=Gn({},Pg,{dataTransfer:0}),mO=Er(pO),gO=Gn({},jd,{relatedTarget:0}),n0=Er(gO),xO=Gn({},Cu,{animationName:0,elapsedTime:0,pseudoElement:0}),vO=Er(xO),yO=Gn({},Cu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_O=Er(yO),bO=Gn({},Cu,{data:0}),LS=Er(bO),wO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MO[t])?!!e[t]:!1}function j_(){return CO}var TO=Gn({},jd,{key:function(t){if(t.key){var e=wO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:j_,charCode:function(t){return t.type==="keypress"?Gp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PO=Er(TO),EO=Gn({},Pg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DS=Er(EO),AO=Gn({},jd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:j_}),kO=Er(AO),RO=Gn({},Cu,{propertyName:0,elapsedTime:0,pseudoElement:0}),IO=Er(RO),LO=Gn({},Pg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DO=Er(LO),NO=[9,13,27,32],H_=ma&&"CompositionEvent"in window,Ph=null;ma&&"documentMode"in document&&(Ph=document.documentMode);var FO=ma&&"TextEvent"in window&&!Ph,VP=ma&&(!H_||Ph&&8<Ph&&11>=Ph),NS=" ",FS=!1;function UP(t,e){switch(t){case"keyup":return NO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wc=!1;function OO(t,e){switch(t){case"compositionend":return zP(e);case"keypress":return e.which!==32?null:(FS=!0,NS);case"textInput":return t=e.data,t===NS&&FS?null:t;default:return null}}function BO(t,e){if(wc)return t==="compositionend"||!H_&&UP(t,e)?(t=BP(),Xp=z_=to=null,wc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VP&&e.locale!=="ko"?null:e.data;default:return null}}var VO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VO[t.type]:e==="textarea"}function WP(t,e,n,i){yP(i),e=Sm(e,"onChange"),0<e.length&&(n=new W_("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Eh=null,Zh=null;function UO(t){JP(t,0)}function Eg(t){var e=Cc(t);if(dP(e))return t}function zO(t,e){if(t==="change")return e}var jP=!1;if(ma){var i0;if(ma){var r0="oninput"in document;if(!r0){var BS=document.createElement("div");BS.setAttribute("oninput","return;"),r0=typeof BS.oninput=="function"}i0=r0}else i0=!1;jP=i0&&(!document.documentMode||9<document.documentMode)}function VS(){Eh&&(Eh.detachEvent("onpropertychange",HP),Zh=Eh=null)}function HP(t){if(t.propertyName==="value"&&Eg(Zh)){var e=[];WP(e,Zh,t,F_(t)),SP(UO,e)}}function WO(t,e,n){t==="focusin"?(VS(),Eh=e,Zh=n,Eh.attachEvent("onpropertychange",HP)):t==="focusout"&&VS()}function jO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eg(Zh)}function HO(t,e){if(t==="click")return Eg(e)}function XO(t,e){if(t==="input"||t==="change")return Eg(e)}function GO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fs=typeof Object.is=="function"?Object.is:GO;function Kh(t,e){if(fs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Yv.call(e,r)||!fs(t[r],e[r]))return!1}return!0}function US(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zS(t,e){var n=US(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=US(n)}}function XP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GP(){for(var t=window,e=gm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gm(t.document)}return e}function X_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YO(t){var e=GP(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&XP(n.ownerDocument.documentElement,n)){if(i!==null&&X_(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=zS(n,s);var a=zS(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $O=ma&&"documentMode"in document&&11>=document.documentMode,Sc=null,dy=null,Ah=null,fy=!1;function WS(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fy||Sc==null||Sc!==gm(i)||(i=Sc,"selectionStart"in i&&X_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ah&&Kh(Ah,i)||(Ah=i,i=Sm(dy,"onSelect"),0<i.length&&(e=new W_("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Sc)))}function Bf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mc={animationend:Bf("Animation","AnimationEnd"),animationiteration:Bf("Animation","AnimationIteration"),animationstart:Bf("Animation","AnimationStart"),transitionend:Bf("Transition","TransitionEnd")},s0={},YP={};ma&&(YP=document.createElement("div").style,"AnimationEvent"in window||(delete Mc.animationend.animation,delete Mc.animationiteration.animation,delete Mc.animationstart.animation),"TransitionEvent"in window||delete Mc.transitionend.transition);function Ag(t){if(s0[t])return s0[t];if(!Mc[t])return t;var e=Mc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in YP)return s0[t]=e[n];return t}var $P=Ag("animationend"),ZP=Ag("animationiteration"),KP=Ag("animationstart"),QP=Ag("transitionend"),qP=new Map,jS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Io(t,e){qP.set(t,e),Vl(e,[t])}for(var a0=0;a0<jS.length;a0++){var o0=jS[a0],ZO=o0.toLowerCase(),KO=o0[0].toUpperCase()+o0.slice(1);Io(ZO,"on"+KO)}Io($P,"onAnimationEnd");Io(ZP,"onAnimationIteration");Io(KP,"onAnimationStart");Io("dblclick","onDoubleClick");Io("focusin","onFocus");Io("focusout","onBlur");Io(QP,"onTransitionEnd");tu("onMouseEnter",["mouseout","mouseover"]);tu("onMouseLeave",["mouseout","mouseover"]);tu("onPointerEnter",["pointerout","pointerover"]);tu("onPointerLeave",["pointerout","pointerover"]);Vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QO=new Set("cancel close invalid load scroll toggle".split(" ").concat(gh));function HS(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,ZF(i,e,void 0,t),t.currentTarget=null}function JP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;HS(r,l,d),s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,d=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;HS(r,l,d),s=u}}}if(vm)throw t=ly,vm=!1,ly=null,t}function Ln(t,e){var n=e[vy];n===void 0&&(n=e[vy]=new Set);var i=t+"__bubble";n.has(i)||(eE(e,t,2,!1),n.add(i))}function l0(t,e,n){var i=0;e&&(i|=4),eE(n,t,i,e)}var Vf="_reactListening"+Math.random().toString(36).slice(2);function Qh(t){if(!t[Vf]){t[Vf]=!0,oP.forEach(function(n){n!=="selectionchange"&&(QO.has(n)||l0(n,!1,t),l0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vf]||(e[Vf]=!0,l0("selectionchange",!1,e))}}function eE(t,e,n,i){switch(OP(e)){case 1:var r=hO;break;case 4:r=dO;break;default:r=U_}n=r.bind(null,e,n,t),r=void 0,!oy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function c0(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;a=a.return}for(;l!==null;){if(a=ol(l),a===null)return;if(u=a.tag,u===5||u===6){i=s=a;continue e}l=l.parentNode}}i=i.return}SP(function(){var d=s,f=F_(n),x=[];e:{var v=qP.get(t);if(v!==void 0){var y=W_,C=t;switch(t){case"keypress":if(Gp(n)===0)break e;case"keydown":case"keyup":y=PO;break;case"focusin":C="focus",y=n0;break;case"focusout":C="blur",y=n0;break;case"beforeblur":case"afterblur":y=n0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=IS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=mO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=kO;break;case $P:case ZP:case KP:y=vO;break;case QP:y=IO;break;case"scroll":y=fO;break;case"wheel":y=DO;break;case"copy":case"cut":case"paste":y=_O;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=DS}var k=(e&4)!==0,P=!k&&t==="scroll",S=k?v!==null?v+"Capture":null:v;k=[];for(var R=d,L;R!==null;){L=R;var D=L.stateNode;if(L.tag===5&&D!==null&&(L=D,S!==null&&(D=Xh(R,S),D!=null&&k.push(qh(R,D,L)))),P)break;R=R.return}0<k.length&&(v=new y(v,C,null,n,f),x.push({event:v,listeners:k}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",v&&n!==sy&&(C=n.relatedTarget||n.fromElement)&&(ol(C)||C[ga]))break e;if((y||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=d,C=C?ol(C):null,C!==null&&(P=Ul(C),C!==P||C.tag!==5&&C.tag!==6)&&(C=null)):(y=null,C=d),y!==C)){if(k=IS,D="onMouseLeave",S="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(k=DS,D="onPointerLeave",S="onPointerEnter",R="pointer"),P=y==null?v:Cc(y),L=C==null?v:Cc(C),v=new k(D,R+"leave",y,n,f),v.target=P,v.relatedTarget=L,D=null,ol(f)===d&&(k=new k(S,R+"enter",C,n,f),k.target=L,k.relatedTarget=P,D=k),P=D,y&&C)t:{for(k=y,S=C,R=0,L=k;L;L=Yl(L))R++;for(L=0,D=S;D;D=Yl(D))L++;for(;0<R-L;)k=Yl(k),R--;for(;0<L-R;)S=Yl(S),L--;for(;R--;){if(k===S||S!==null&&k===S.alternate)break t;k=Yl(k),S=Yl(S)}k=null}else k=null;y!==null&&XS(x,v,y,k,!1),C!==null&&P!==null&&XS(x,P,C,k,!0)}}e:{if(v=d?Cc(d):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var W=zO;else if(OS(v))if(jP)W=XO;else{W=jO;var z=WO}else(y=v.nodeName)&&y.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(W=HO);if(W&&(W=W(t,d))){WP(x,W,n,f);break e}z&&z(t,v,d),t==="focusout"&&(z=v._wrapperState)&&z.controlled&&v.type==="number"&&ey(v,"number",v.value)}switch(z=d?Cc(d):window,t){case"focusin":(OS(z)||z.contentEditable==="true")&&(Sc=z,dy=d,Ah=null);break;case"focusout":Ah=dy=Sc=null;break;case"mousedown":fy=!0;break;case"contextmenu":case"mouseup":case"dragend":fy=!1,WS(x,n,f);break;case"selectionchange":if($O)break;case"keydown":case"keyup":WS(x,n,f)}var j;if(H_)e:{switch(t){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else wc?UP(t,n)&&(Z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(VP&&n.locale!=="ko"&&(wc||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&wc&&(j=BP()):(to=f,z_="value"in to?to.value:to.textContent,wc=!0)),z=Sm(d,Z),0<z.length&&(Z=new LS(Z,t,null,n,f),x.push({event:Z,listeners:z}),j?Z.data=j:(j=zP(n),j!==null&&(Z.data=j)))),(j=FO?OO(t,n):BO(t,n))&&(d=Sm(d,"onBeforeInput"),0<d.length&&(f=new LS("onBeforeInput","beforeinput",null,n,f),x.push({event:f,listeners:d}),f.data=j))}JP(x,e)})}function qh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sm(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Xh(t,n),s!=null&&i.unshift(qh(t,s,r)),s=Xh(t,e),s!=null&&i.push(qh(t,s,r))),t=t.return}return i}function Yl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function XS(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===i)break;l.tag===5&&d!==null&&(l=d,r?(u=Xh(n,s),u!=null&&a.unshift(qh(n,u,l))):r||(u=Xh(n,s),u!=null&&a.push(qh(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var qO=/\r\n?/g,JO=/\u0000|\uFFFD/g;function GS(t){return(typeof t=="string"?t:""+t).replace(qO,`
`).replace(JO,"")}function Uf(t,e,n){if(e=GS(e),GS(t)!==e&&n)throw Error(qe(425))}function Mm(){}var py=null,my=null;function gy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xy=typeof setTimeout=="function"?setTimeout:void 0,e5=typeof clearTimeout=="function"?clearTimeout:void 0,YS=typeof Promise=="function"?Promise:void 0,t5=typeof queueMicrotask=="function"?queueMicrotask:typeof YS<"u"?function(t){return YS.resolve(null).then(t).catch(n5)}:xy;function n5(t){setTimeout(function(){throw t})}function u0(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),$h(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);$h(e)}function co(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $S(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tu=Math.random().toString(36).slice(2),Es="__reactFiber$"+Tu,Jh="__reactProps$"+Tu,ga="__reactContainer$"+Tu,vy="__reactEvents$"+Tu,i5="__reactListeners$"+Tu,r5="__reactHandles$"+Tu;function ol(t){var e=t[Es];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ga]||n[Es]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$S(t);t!==null;){if(n=t[Es])return n;t=$S(t)}return e}t=n,n=t.parentNode}return null}function Hd(t){return t=t[Es]||t[ga],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(qe(33))}function kg(t){return t[Jh]||null}var yy=[],Tc=-1;function Lo(t){return{current:t}}function Fn(t){0>Tc||(t.current=yy[Tc],yy[Tc]=null,Tc--)}function kn(t,e){Tc++,yy[Tc]=t.current,t.current=e}var yo={},Oi=Lo(yo),or=Lo(!1),bl=yo;function nu(t,e){var n=t.type.contextTypes;if(!n)return yo;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function lr(t){return t=t.childContextTypes,t!=null}function Cm(){Fn(or),Fn(Oi)}function ZS(t,e,n){if(Oi.current!==yo)throw Error(qe(168));kn(Oi,e),kn(or,n)}function tE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(qe(108,WF(t)||"Unknown",r));return Gn({},n,i)}function Tm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yo,bl=Oi.current,kn(Oi,t),kn(or,or.current),!0}function KS(t,e,n){var i=t.stateNode;if(!i)throw Error(qe(169));n?(t=tE(t,e,bl),i.__reactInternalMemoizedMergedChildContext=t,Fn(or),Fn(Oi),kn(Oi,t)):Fn(or),kn(or,n)}var oa=null,Rg=!1,h0=!1;function nE(t){oa===null?oa=[t]:oa.push(t)}function s5(t){Rg=!0,nE(t)}function Do(){if(!h0&&oa!==null){h0=!0;var t=0,e=En;try{var n=oa;for(En=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}oa=null,Rg=!1}catch(r){throw oa!==null&&(oa=oa.slice(t+1)),PP(O_,Do),r}finally{En=e,h0=!1}}return null}var Pc=[],Ec=0,Pm=null,Em=0,Lr=[],Dr=0,wl=null,ua=1,ha="";function qo(t,e){Pc[Ec++]=Em,Pc[Ec++]=Pm,Pm=t,Em=e}function iE(t,e,n){Lr[Dr++]=ua,Lr[Dr++]=ha,Lr[Dr++]=wl,wl=t;var i=ua;t=ha;var r=32-ls(i)-1;i&=~(1<<r),n+=1;var s=32-ls(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,ua=1<<32-ls(e)+r|n<<r|i,ha=s+t}else ua=1<<s|n<<r|i,ha=t}function G_(t){t.return!==null&&(qo(t,1),iE(t,1,0))}function Y_(t){for(;t===Pm;)Pm=Pc[--Ec],Pc[Ec]=null,Em=Pc[--Ec],Pc[Ec]=null;for(;t===wl;)wl=Lr[--Dr],Lr[Dr]=null,ha=Lr[--Dr],Lr[Dr]=null,ua=Lr[--Dr],Lr[Dr]=null}var yr=null,vr=null,On=!1,is=null;function rE(t,e){var n=Nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function QS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yr=t,vr=co(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yr=t,vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wl!==null?{id:ua,overflow:ha}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yr=t,vr=null,!0):!1;default:return!1}}function _y(t){return(t.mode&1)!==0&&(t.flags&128)===0}function by(t){if(On){var e=vr;if(e){var n=e;if(!QS(t,e)){if(_y(t))throw Error(qe(418));e=co(n.nextSibling);var i=yr;e&&QS(t,e)?rE(i,n):(t.flags=t.flags&-4097|2,On=!1,yr=t)}}else{if(_y(t))throw Error(qe(418));t.flags=t.flags&-4097|2,On=!1,yr=t}}}function qS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yr=t}function zf(t){if(t!==yr)return!1;if(!On)return qS(t),On=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gy(t.type,t.memoizedProps)),e&&(e=vr)){if(_y(t))throw sE(),Error(qe(418));for(;e;)rE(t,e),e=co(e.nextSibling)}if(qS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vr=co(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vr=null}}else vr=yr?co(t.stateNode.nextSibling):null;return!0}function sE(){for(var t=vr;t;)t=co(t.nextSibling)}function iu(){vr=yr=null,On=!1}function $_(t){is===null?is=[t]:is.push(t)}var a5=Pa.ReactCurrentBatchConfig;function $u(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(qe(309));var i=n.stateNode}if(!i)throw Error(qe(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=r.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(qe(284));if(!n._owner)throw Error(qe(290,t))}return t}function Wf(t,e){throw t=Object.prototype.toString.call(e),Error(qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function JS(t){var e=t._init;return e(t._payload)}function aE(t){function e(S,R){if(t){var L=S.deletions;L===null?(S.deletions=[R],S.flags|=16):L.push(R)}}function n(S,R){if(!t)return null;for(;R!==null;)e(S,R),R=R.sibling;return null}function i(S,R){for(S=new Map;R!==null;)R.key!==null?S.set(R.key,R):S.set(R.index,R),R=R.sibling;return S}function r(S,R){return S=po(S,R),S.index=0,S.sibling=null,S}function s(S,R,L){return S.index=L,t?(L=S.alternate,L!==null?(L=L.index,L<R?(S.flags|=2,R):L):(S.flags|=2,R)):(S.flags|=1048576,R)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,R,L,D){return R===null||R.tag!==6?(R=v0(L,S.mode,D),R.return=S,R):(R=r(R,L),R.return=S,R)}function u(S,R,L,D){var W=L.type;return W===bc?f(S,R,L.props.children,D,L.key):R!==null&&(R.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Xa&&JS(W)===R.type)?(D=r(R,L.props),D.ref=$u(S,R,L),D.return=S,D):(D=Jp(L.type,L.key,L.props,null,S.mode,D),D.ref=$u(S,R,L),D.return=S,D)}function d(S,R,L,D){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=y0(L,S.mode,D),R.return=S,R):(R=r(R,L.children||[]),R.return=S,R)}function f(S,R,L,D,W){return R===null||R.tag!==7?(R=gl(L,S.mode,D,W),R.return=S,R):(R=r(R,L),R.return=S,R)}function x(S,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return R=v0(""+R,S.mode,L),R.return=S,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Rf:return L=Jp(R.type,R.key,R.props,null,S.mode,L),L.ref=$u(S,null,R),L.return=S,L;case _c:return R=y0(R,S.mode,L),R.return=S,R;case Xa:var D=R._init;return x(S,D(R._payload),L)}if(ph(R)||ju(R))return R=gl(R,S.mode,L,null),R.return=S,R;Wf(S,R)}return null}function v(S,R,L,D){var W=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return W!==null?null:l(S,R,""+L,D);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Rf:return L.key===W?u(S,R,L,D):null;case _c:return L.key===W?d(S,R,L,D):null;case Xa:return W=L._init,v(S,R,W(L._payload),D)}if(ph(L)||ju(L))return W!==null?null:f(S,R,L,D,null);Wf(S,L)}return null}function y(S,R,L,D,W){if(typeof D=="string"&&D!==""||typeof D=="number")return S=S.get(L)||null,l(R,S,""+D,W);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Rf:return S=S.get(D.key===null?L:D.key)||null,u(R,S,D,W);case _c:return S=S.get(D.key===null?L:D.key)||null,d(R,S,D,W);case Xa:var z=D._init;return y(S,R,L,z(D._payload),W)}if(ph(D)||ju(D))return S=S.get(L)||null,f(R,S,D,W,null);Wf(R,D)}return null}function C(S,R,L,D){for(var W=null,z=null,j=R,Z=R=0,$=null;j!==null&&Z<L.length;Z++){j.index>Z?($=j,j=null):$=j.sibling;var H=v(S,j,L[Z],D);if(H===null){j===null&&(j=$);break}t&&j&&H.alternate===null&&e(S,j),R=s(H,R,Z),z===null?W=H:z.sibling=H,z=H,j=$}if(Z===L.length)return n(S,j),On&&qo(S,Z),W;if(j===null){for(;Z<L.length;Z++)j=x(S,L[Z],D),j!==null&&(R=s(j,R,Z),z===null?W=j:z.sibling=j,z=j);return On&&qo(S,Z),W}for(j=i(S,j);Z<L.length;Z++)$=y(j,S,Z,L[Z],D),$!==null&&(t&&$.alternate!==null&&j.delete($.key===null?Z:$.key),R=s($,R,Z),z===null?W=$:z.sibling=$,z=$);return t&&j.forEach(function(q){return e(S,q)}),On&&qo(S,Z),W}function k(S,R,L,D){var W=ju(L);if(typeof W!="function")throw Error(qe(150));if(L=W.call(L),L==null)throw Error(qe(151));for(var z=W=null,j=R,Z=R=0,$=null,H=L.next();j!==null&&!H.done;Z++,H=L.next()){j.index>Z?($=j,j=null):$=j.sibling;var q=v(S,j,H.value,D);if(q===null){j===null&&(j=$);break}t&&j&&q.alternate===null&&e(S,j),R=s(q,R,Z),z===null?W=q:z.sibling=q,z=q,j=$}if(H.done)return n(S,j),On&&qo(S,Z),W;if(j===null){for(;!H.done;Z++,H=L.next())H=x(S,H.value,D),H!==null&&(R=s(H,R,Z),z===null?W=H:z.sibling=H,z=H);return On&&qo(S,Z),W}for(j=i(S,j);!H.done;Z++,H=L.next())H=y(j,S,Z,H.value,D),H!==null&&(t&&H.alternate!==null&&j.delete(H.key===null?Z:H.key),R=s(H,R,Z),z===null?W=H:z.sibling=H,z=H);return t&&j.forEach(function(ce){return e(S,ce)}),On&&qo(S,Z),W}function P(S,R,L,D){if(typeof L=="object"&&L!==null&&L.type===bc&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Rf:e:{for(var W=L.key,z=R;z!==null;){if(z.key===W){if(W=L.type,W===bc){if(z.tag===7){n(S,z.sibling),R=r(z,L.props.children),R.return=S,S=R;break e}}else if(z.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Xa&&JS(W)===z.type){n(S,z.sibling),R=r(z,L.props),R.ref=$u(S,z,L),R.return=S,S=R;break e}n(S,z);break}else e(S,z);z=z.sibling}L.type===bc?(R=gl(L.props.children,S.mode,D,L.key),R.return=S,S=R):(D=Jp(L.type,L.key,L.props,null,S.mode,D),D.ref=$u(S,R,L),D.return=S,S=D)}return a(S);case _c:e:{for(z=L.key;R!==null;){if(R.key===z)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){n(S,R.sibling),R=r(R,L.children||[]),R.return=S,S=R;break e}else{n(S,R);break}else e(S,R);R=R.sibling}R=y0(L,S.mode,D),R.return=S,S=R}return a(S);case Xa:return z=L._init,P(S,R,z(L._payload),D)}if(ph(L))return C(S,R,L,D);if(ju(L))return k(S,R,L,D);Wf(S,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,R!==null&&R.tag===6?(n(S,R.sibling),R=r(R,L),R.return=S,S=R):(n(S,R),R=v0(L,S.mode,D),R.return=S,S=R),a(S)):n(S,R)}return P}var ru=aE(!0),oE=aE(!1),Am=Lo(null),km=null,Ac=null,Z_=null;function K_(){Z_=Ac=km=null}function Q_(t){var e=Am.current;Fn(Am),t._currentValue=e}function wy(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Wc(t,e){km=t,Z_=Ac=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sr=!0),t.firstContext=null)}function jr(t){var e=t._currentValue;if(Z_!==t)if(t={context:t,memoizedValue:e,next:null},Ac===null){if(km===null)throw Error(qe(308));Ac=t,km.dependencies={lanes:0,firstContext:t}}else Ac=Ac.next=t;return e}var ll=null;function q_(t){ll===null?ll=[t]:ll.push(t)}function lE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,q_(e)):(n.next=r.next,r.next=n),e.interleaved=n,xa(t,i)}function xa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ga=!1;function J_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uo(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,xn&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,xa(t,n)}return r=i.interleaved,r===null?(e.next=e,q_(i)):(e.next=r.next,r.next=e),i.interleaved=e,xa(t,n)}function Yp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,B_(t,n)}}function eM(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rm(t,e,n,i){var r=t.updateQueue;Ga=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,d=u.next;u.next=null,a===null?s=d:a.next=d,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=u))}if(s!==null){var x=r.baseState;a=0,f=d=u=null,l=s;do{var v=l.lane,y=l.eventTime;if((i&v)===v){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,k=l;switch(v=e,y=n,k.tag){case 1:if(C=k.payload,typeof C=="function"){x=C.call(y,x,v);break e}x=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=k.payload,v=typeof C=="function"?C.call(y,x,v):C,v==null)break e;x=Gn({},x,v);break e;case 2:Ga=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,v=r.effects,v===null?r.effects=[l]:v.push(l))}else y={eventTime:y,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=y,u=x):f=f.next=y,a|=v;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;v=l,l=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(!0);if(f===null&&(u=x),r.baseState=u,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Ml|=a,t.lanes=a,t.memoizedState=x}}function tM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(qe(191,r));r.call(i)}}}var Xd={},Ds=Lo(Xd),ed=Lo(Xd),td=Lo(Xd);function cl(t){if(t===Xd)throw Error(qe(174));return t}function eb(t,e){switch(kn(td,e),kn(ed,t),kn(Ds,Xd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ny(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ny(e,t)}Fn(Ds),kn(Ds,e)}function su(){Fn(Ds),Fn(ed),Fn(td)}function uE(t){cl(td.current);var e=cl(Ds.current),n=ny(e,t.type);e!==n&&(kn(ed,t),kn(Ds,n))}function tb(t){ed.current===t&&(Fn(Ds),Fn(ed))}var Un=Lo(0);function Im(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var d0=[];function nb(){for(var t=0;t<d0.length;t++)d0[t]._workInProgressVersionPrimary=null;d0.length=0}var $p=Pa.ReactCurrentDispatcher,f0=Pa.ReactCurrentBatchConfig,Sl=0,Hn=null,oi=null,mi=null,Lm=!1,kh=!1,nd=0,o5=0;function Pi(){throw Error(qe(321))}function ib(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fs(t[n],e[n]))return!1;return!0}function rb(t,e,n,i,r,s){if(Sl=s,Hn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$p.current=t===null||t.memoizedState===null?h5:d5,t=n(i,r),kh){s=0;do{if(kh=!1,nd=0,25<=s)throw Error(qe(301));s+=1,mi=oi=null,e.updateQueue=null,$p.current=f5,t=n(i,r)}while(kh)}if($p.current=Dm,e=oi!==null&&oi.next!==null,Sl=0,mi=oi=Hn=null,Lm=!1,e)throw Error(qe(300));return t}function sb(){var t=nd!==0;return nd=0,t}function Cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?Hn.memoizedState=mi=t:mi=mi.next=t,mi}function Hr(){if(oi===null){var t=Hn.alternate;t=t!==null?t.memoizedState:null}else t=oi.next;var e=mi===null?Hn.memoizedState:mi.next;if(e!==null)mi=e,oi=t;else{if(t===null)throw Error(qe(310));oi=t,t={memoizedState:oi.memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},mi===null?Hn.memoizedState=mi=t:mi=mi.next=t}return mi}function id(t,e){return typeof e=="function"?e(t):e}function p0(t){var e=Hr(),n=e.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=t;var i=oi,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var l=a=null,u=null,d=s;do{var f=d.lane;if((Sl&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:t(i,d.action);else{var x={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=x,a=i):u=u.next=x,Hn.lanes|=f,Ml|=f}d=d.next}while(d!==null&&d!==s);u===null?a=i:u.next=l,fs(i,e.memoizedState)||(sr=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=u,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Hn.lanes|=s,Ml|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function m0(t){var e=Hr(),n=e.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);fs(s,e.memoizedState)||(sr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function hE(){}function dE(t,e){var n=Hn,i=Hr(),r=e(),s=!fs(i.memoizedState,r);if(s&&(i.memoizedState=r,sr=!0),i=i.queue,ab(mE.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||mi!==null&&mi.memoizedState.tag&1){if(n.flags|=2048,rd(9,pE.bind(null,n,i,r,e),void 0,null),xi===null)throw Error(qe(349));Sl&30||fE(n,e,r)}return r}function fE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Hn.updateQueue,e===null?(e={lastEffect:null,stores:null},Hn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pE(t,e,n,i){e.value=n,e.getSnapshot=i,gE(e)&&xE(t)}function mE(t,e,n){return n(function(){gE(e)&&xE(t)})}function gE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fs(t,n)}catch{return!0}}function xE(t){var e=xa(t,1);e!==null&&cs(e,t,1,-1)}function nM(t){var e=Cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:t},e.queue=t,t=t.dispatch=u5.bind(null,Hn,t),[e.memoizedState,t]}function rd(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Hn.updateQueue,e===null?(e={lastEffect:null,stores:null},Hn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function vE(){return Hr().memoizedState}function Zp(t,e,n,i){var r=Cs();Hn.flags|=t,r.memoizedState=rd(1|e,n,void 0,i===void 0?null:i)}function Ig(t,e,n,i){var r=Hr();i=i===void 0?null:i;var s=void 0;if(oi!==null){var a=oi.memoizedState;if(s=a.destroy,i!==null&&ib(i,a.deps)){r.memoizedState=rd(e,n,s,i);return}}Hn.flags|=t,r.memoizedState=rd(1|e,n,s,i)}function iM(t,e){return Zp(8390656,8,t,e)}function ab(t,e){return Ig(2048,8,t,e)}function yE(t,e){return Ig(4,2,t,e)}function _E(t,e){return Ig(4,4,t,e)}function bE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wE(t,e,n){return n=n!=null?n.concat([t]):null,Ig(4,4,bE.bind(null,e,t),n)}function ob(){}function SE(t,e){var n=Hr();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&ib(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function ME(t,e){var n=Hr();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&ib(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function CE(t,e,n){return Sl&21?(fs(n,e)||(n=kP(),Hn.lanes|=n,Ml|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sr=!0),t.memoizedState=n)}function l5(t,e){var n=En;En=n!==0&&4>n?n:4,t(!0);var i=f0.transition;f0.transition={};try{t(!1),e()}finally{En=n,f0.transition=i}}function TE(){return Hr().memoizedState}function c5(t,e,n){var i=fo(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},PE(t))EE(e,n);else if(n=lE(t,e,n,i),n!==null){var r=Xi();cs(n,t,i,r),AE(n,e,i)}}function u5(t,e,n){var i=fo(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(PE(t))EE(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,fs(l,a)){var u=e.interleaved;u===null?(r.next=r,q_(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}n=lE(t,e,r,i),n!==null&&(r=Xi(),cs(n,t,i,r),AE(n,e,i))}}function PE(t){var e=t.alternate;return t===Hn||e!==null&&e===Hn}function EE(t,e){kh=Lm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,B_(t,n)}}var Dm={readContext:jr,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useInsertionEffect:Pi,useLayoutEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useMutableSource:Pi,useSyncExternalStore:Pi,useId:Pi,unstable_isNewReconciler:!1},h5={readContext:jr,useCallback:function(t,e){return Cs().memoizedState=[t,e===void 0?null:e],t},useContext:jr,useEffect:iM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zp(4194308,4,bE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zp(4,2,t,e)},useMemo:function(t,e){var n=Cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Cs();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=c5.bind(null,Hn,t),[i.memoizedState,t]},useRef:function(t){var e=Cs();return t={current:t},e.memoizedState=t},useState:nM,useDebugValue:ob,useDeferredValue:function(t){return Cs().memoizedState=t},useTransition:function(){var t=nM(!1),e=t[0];return t=l5.bind(null,t[1]),Cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Hn,r=Cs();if(On){if(n===void 0)throw Error(qe(407));n=n()}else{if(n=e(),xi===null)throw Error(qe(349));Sl&30||fE(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,iM(mE.bind(null,i,s,t),[t]),i.flags|=2048,rd(9,pE.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Cs(),e=xi.identifierPrefix;if(On){var n=ha,i=ua;n=(i&~(1<<32-ls(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=nd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=o5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},d5={readContext:jr,useCallback:SE,useContext:jr,useEffect:ab,useImperativeHandle:wE,useInsertionEffect:yE,useLayoutEffect:_E,useMemo:ME,useReducer:p0,useRef:vE,useState:function(){return p0(id)},useDebugValue:ob,useDeferredValue:function(t){var e=Hr();return CE(e,oi.memoizedState,t)},useTransition:function(){var t=p0(id)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:hE,useSyncExternalStore:dE,useId:TE,unstable_isNewReconciler:!1},f5={readContext:jr,useCallback:SE,useContext:jr,useEffect:ab,useImperativeHandle:wE,useInsertionEffect:yE,useLayoutEffect:_E,useMemo:ME,useReducer:m0,useRef:vE,useState:function(){return m0(id)},useDebugValue:ob,useDeferredValue:function(t){var e=Hr();return oi===null?e.memoizedState=t:CE(e,oi.memoizedState,t)},useTransition:function(){var t=m0(id)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:hE,useSyncExternalStore:dE,useId:TE,unstable_isNewReconciler:!1};function ts(t,e){if(t&&t.defaultProps){e=Gn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sy(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Gn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lg={isMounted:function(t){return(t=t._reactInternals)?Ul(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Xi(),r=fo(t),s=pa(i,r);s.payload=e,n!=null&&(s.callback=n),e=uo(t,s,r),e!==null&&(cs(e,t,r,i),Yp(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Xi(),r=fo(t),s=pa(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=uo(t,s,r),e!==null&&(cs(e,t,r,i),Yp(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xi(),i=fo(t),r=pa(n,i);r.tag=2,e!=null&&(r.callback=e),e=uo(t,r,i),e!==null&&(cs(e,t,i,n),Yp(e,t,i))}};function rM(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Kh(n,i)||!Kh(r,s):!0}function kE(t,e,n){var i=!1,r=yo,s=e.contextType;return typeof s=="object"&&s!==null?s=jr(s):(r=lr(e)?bl:Oi.current,i=e.contextTypes,s=(i=i!=null)?nu(t,r):yo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lg,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function sM(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Lg.enqueueReplaceState(e,e.state,null)}function My(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},J_(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=jr(s):(s=lr(e)?bl:Oi.current,r.context=nu(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Sy(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Lg.enqueueReplaceState(r,r.state,null),Rm(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function au(t,e){try{var n="",i=e;do n+=zF(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function g0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var p5=typeof WeakMap=="function"?WeakMap:Map;function RE(t,e,n){n=pa(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Fm||(Fm=!0,Ny=i),Cy(t,e)},n}function IE(t,e,n){n=pa(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Cy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Cy(t,e),typeof i!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function aM(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new p5;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=E5.bind(null,t,e,n),e.then(t,t))}function oM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lM(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pa(-1,1),e.tag=2,uo(n,e,1))),n.lanes|=1),t)}var m5=Pa.ReactCurrentOwner,sr=!1;function Wi(t,e,n,i){e.child=t===null?oE(e,null,n,i):ru(e,t.child,n,i)}function cM(t,e,n,i,r){n=n.render;var s=e.ref;return Wc(e,r),i=rb(t,e,n,i,s,r),n=sb(),t!==null&&!sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,va(t,e,r)):(On&&n&&G_(e),e.flags|=1,Wi(t,e,i,r),e.child)}function uM(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!mb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,LE(t,e,s,i,r)):(t=Jp(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Kh,n(a,i)&&t.ref===e.ref)return va(t,e,r)}return e.flags|=1,t=po(s,i),t.ref=e.ref,t.return=e,e.child=t}function LE(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Kh(s,i)&&t.ref===e.ref)if(sr=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(sr=!0);else return e.lanes=t.lanes,va(t,e,r)}return Ty(t,e,n,i,r)}function DE(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(Rc,gr),gr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kn(Rc,gr),gr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,kn(Rc,gr),gr|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,kn(Rc,gr),gr|=i;return Wi(t,e,r,n),e.child}function NE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ty(t,e,n,i,r){var s=lr(n)?bl:Oi.current;return s=nu(e,s),Wc(e,r),n=rb(t,e,n,i,s,r),i=sb(),t!==null&&!sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,va(t,e,r)):(On&&i&&G_(e),e.flags|=1,Wi(t,e,n,r),e.child)}function hM(t,e,n,i,r){if(lr(n)){var s=!0;Tm(e)}else s=!1;if(Wc(e,r),e.stateNode===null)Kp(t,e),kE(e,n,i),My(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=jr(d):(d=lr(n)?bl:Oi.current,d=nu(e,d));var f=n.getDerivedStateFromProps,x=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";x||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==i||u!==d)&&sM(e,a,i,d),Ga=!1;var v=e.memoizedState;a.state=v,Rm(e,i,a,r),u=e.memoizedState,l!==i||v!==u||or.current||Ga?(typeof f=="function"&&(Sy(e,n,f,i),u=e.memoizedState),(l=Ga||rM(e,n,l,i,v,u,d))?(x||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),a.props=i,a.state=u,a.context=d,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,cE(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:ts(e.type,l),a.props=d,x=e.pendingProps,v=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=jr(u):(u=lr(n)?bl:Oi.current,u=nu(e,u));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==x||v!==u)&&sM(e,a,i,u),Ga=!1,v=e.memoizedState,a.state=v,Rm(e,i,a,r);var C=e.memoizedState;l!==x||v!==C||or.current||Ga?(typeof y=="function"&&(Sy(e,n,y,i),C=e.memoizedState),(d=Ga||rM(e,n,d,i,v,C,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,C,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,C,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=C),a.props=i,a.state=C,a.context=u,i=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),i=!1)}return Py(t,e,n,i,s,r)}function Py(t,e,n,i,r,s){NE(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&KS(e,n,!1),va(t,e,s);i=e.stateNode,m5.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=ru(e,t.child,null,s),e.child=ru(e,null,l,s)):Wi(t,e,l,s),e.memoizedState=i.state,r&&KS(e,n,!0),e.child}function FE(t){var e=t.stateNode;e.pendingContext?ZS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ZS(t,e.context,!1),eb(t,e.containerInfo)}function dM(t,e,n,i,r){return iu(),$_(r),e.flags|=256,Wi(t,e,n,i),e.child}var Ey={dehydrated:null,treeContext:null,retryLane:0};function Ay(t){return{baseLanes:t,cachePool:null,transitions:null}}function OE(t,e,n){var i=e.pendingProps,r=Un.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),kn(Un,r&1),t===null)return by(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Fg(a,i,0,null),t=gl(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ay(n),e.memoizedState=Ey,t):lb(e,a));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return g5(t,e,a,i,l,r,n);if(s){s=i.fallback,a=e.mode,r=t.child,l=r.sibling;var u={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=po(r,u),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?s=po(l,s):(s=gl(s,a,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=t.child.memoizedState,a=a===null?Ay(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Ey,i}return s=t.child,t=s.sibling,i=po(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function lb(t,e){return e=Fg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jf(t,e,n,i){return i!==null&&$_(i),ru(e,t.child,null,n),t=lb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g5(t,e,n,i,r,s,a){if(n)return e.flags&256?(e.flags&=-257,i=g0(Error(qe(422))),jf(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Fg({mode:"visible",children:i.children},r,0,null),s=gl(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&ru(e,t.child,null,a),e.child.memoizedState=Ay(a),e.memoizedState=Ey,s);if(!(e.mode&1))return jf(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(qe(419)),i=g0(s,i,void 0),jf(t,e,a,i)}if(l=(a&t.childLanes)!==0,sr||l){if(i=xi,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,xa(t,r),cs(i,t,r,-1))}return pb(),i=g0(Error(qe(421))),jf(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=A5.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,vr=co(r.nextSibling),yr=e,On=!0,is=null,t!==null&&(Lr[Dr++]=ua,Lr[Dr++]=ha,Lr[Dr++]=wl,ua=t.id,ha=t.overflow,wl=e),e=lb(e,i.children),e.flags|=4096,e)}function fM(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),wy(t.return,e,n)}function x0(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function BE(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Wi(t,e,i.children,n),i=Un.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fM(t,n,e);else if(t.tag===19)fM(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(kn(Un,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Im(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),x0(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Im(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}x0(e,!0,n,null,s);break;case"together":x0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function va(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ml|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(qe(153));if(e.child!==null){for(t=e.child,n=po(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=po(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function x5(t,e,n){switch(e.tag){case 3:FE(e),iu();break;case 5:uE(e);break;case 1:lr(e.type)&&Tm(e);break;case 4:eb(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;kn(Am,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(kn(Un,Un.current&1),e.flags|=128,null):n&e.child.childLanes?OE(t,e,n):(kn(Un,Un.current&1),t=va(t,e,n),t!==null?t.sibling:null);kn(Un,Un.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return BE(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),kn(Un,Un.current),i)break;return null;case 22:case 23:return e.lanes=0,DE(t,e,n)}return va(t,e,n)}var VE,ky,UE,zE;VE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ky=function(){};UE=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,cl(Ds.current);var s=null;switch(n){case"input":r=qv(t,r),i=qv(t,i),s=[];break;case"select":r=Gn({},r,{value:void 0}),i=Gn({},i,{value:void 0}),s=[];break;case"textarea":r=ty(t,r),i=ty(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Mm)}iy(n,i);var a;n=null;for(d in r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(jh.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var u=i[d];if(l=r!=null?r[d]:void 0,i.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(jh.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Ln("scroll",t),s||l===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};zE=function(t,e,n,i){n!==i&&(e.flags|=4)};function Zu(t,e){if(!On)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ei(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function v5(t,e,n){var i=e.pendingProps;switch(Y_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(e),null;case 1:return lr(e.type)&&Cm(),Ei(e),null;case 3:return i=e.stateNode,su(),Fn(or),Fn(Oi),nb(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(zf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,is!==null&&(By(is),is=null))),ky(t,e),Ei(e),null;case 5:tb(e);var r=cl(td.current);if(n=e.type,t!==null&&e.stateNode!=null)UE(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(qe(166));return Ei(e),null}if(t=cl(Ds.current),zf(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Es]=e,i[Jh]=s,t=(e.mode&1)!==0,n){case"dialog":Ln("cancel",i),Ln("close",i);break;case"iframe":case"object":case"embed":Ln("load",i);break;case"video":case"audio":for(r=0;r<gh.length;r++)Ln(gh[r],i);break;case"source":Ln("error",i);break;case"img":case"image":case"link":Ln("error",i),Ln("load",i);break;case"details":Ln("toggle",i);break;case"input":wS(i,s),Ln("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ln("invalid",i);break;case"textarea":MS(i,s),Ln("invalid",i)}iy(n,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&Uf(i.textContent,l,t),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Uf(i.textContent,l,t),r=["children",""+l]):jh.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ln("scroll",i)}switch(n){case"input":If(i),SS(i,s,!0);break;case"textarea":If(i),CS(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Mm)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[Es]=e,t[Jh]=i,VE(t,e,!1,!1),e.stateNode=t;e:{switch(a=ry(n,i),n){case"dialog":Ln("cancel",t),Ln("close",t),r=i;break;case"iframe":case"object":case"embed":Ln("load",t),r=i;break;case"video":case"audio":for(r=0;r<gh.length;r++)Ln(gh[r],t);r=i;break;case"source":Ln("error",t),r=i;break;case"img":case"image":case"link":Ln("error",t),Ln("load",t),r=i;break;case"details":Ln("toggle",t),r=i;break;case"input":wS(t,i),r=qv(t,i),Ln("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Gn({},i,{value:void 0}),Ln("invalid",t);break;case"textarea":MS(t,i),r=ty(t,i),Ln("invalid",t);break;default:r=i}iy(n,r),l=r;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?vP(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gP(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Hh(t,u):typeof u=="number"&&Hh(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jh.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ln("scroll",t):u!=null&&I_(t,s,u,a))}switch(n){case"input":If(t),SS(t,i,!1);break;case"textarea":If(t),CS(t);break;case"option":i.value!=null&&t.setAttribute("value",""+vo(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Bc(t,!!i.multiple,s,!1):i.defaultValue!=null&&Bc(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Mm)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ei(e),null;case 6:if(t&&e.stateNode!=null)zE(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(qe(166));if(n=cl(td.current),cl(Ds.current),zf(e)){if(i=e.stateNode,n=e.memoizedProps,i[Es]=e,(s=i.nodeValue!==n)&&(t=yr,t!==null))switch(t.tag){case 3:Uf(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uf(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Es]=e,e.stateNode=i}return Ei(e),null;case 13:if(Fn(Un),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(On&&vr!==null&&e.mode&1&&!(e.flags&128))sE(),iu(),e.flags|=98560,s=!1;else if(s=zf(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(qe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(qe(317));s[Es]=e}else iu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ei(e),s=!1}else is!==null&&(By(is),is=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Un.current&1?li===0&&(li=3):pb())),e.updateQueue!==null&&(e.flags|=4),Ei(e),null);case 4:return su(),ky(t,e),t===null&&Qh(e.stateNode.containerInfo),Ei(e),null;case 10:return Q_(e.type._context),Ei(e),null;case 17:return lr(e.type)&&Cm(),Ei(e),null;case 19:if(Fn(Un),s=e.memoizedState,s===null)return Ei(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)Zu(s,!1);else{if(li!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Im(t),a!==null){for(e.flags|=128,Zu(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return kn(Un,Un.current&1|2),e.child}t=t.sibling}s.tail!==null&&ei()>ou&&(e.flags|=128,i=!0,Zu(s,!1),e.lanes=4194304)}else{if(!i)if(t=Im(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!On)return Ei(e),null}else 2*ei()-s.renderingStartTime>ou&&n!==1073741824&&(e.flags|=128,i=!0,Zu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ei(),e.sibling=null,n=Un.current,kn(Un,i?n&1|2:n&1),e):(Ei(e),null);case 22:case 23:return fb(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?gr&1073741824&&(Ei(e),e.subtreeFlags&6&&(e.flags|=8192)):Ei(e),null;case 24:return null;case 25:return null}throw Error(qe(156,e.tag))}function y5(t,e){switch(Y_(e),e.tag){case 1:return lr(e.type)&&Cm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return su(),Fn(or),Fn(Oi),nb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tb(e),null;case 13:if(Fn(Un),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(qe(340));iu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fn(Un),null;case 4:return su(),null;case 10:return Q_(e.type._context),null;case 22:case 23:return fb(),null;case 24:return null;default:return null}}var Hf=!1,Ii=!1,_5=typeof WeakSet=="function"?WeakSet:Set,wt=null;function kc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Zn(t,e,i)}else n.current=null}function Ry(t,e,n){try{n()}catch(i){Zn(t,e,i)}}var pM=!1;function b5(t,e){if(py=bm,t=GP(),X_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,d=0,f=0,x=t,v=null;t:for(;;){for(var y;x!==n||r!==0&&x.nodeType!==3||(l=a+r),x!==s||i!==0&&x.nodeType!==3||(u=a+i),x.nodeType===3&&(a+=x.nodeValue.length),(y=x.firstChild)!==null;)v=x,x=y;for(;;){if(x===t)break t;if(v===n&&++d===r&&(l=a),v===s&&++f===i&&(u=a),(y=x.nextSibling)!==null)break;x=v,v=x.parentNode}x=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(my={focusedElem:t,selectionRange:n},bm=!1,wt=e;wt!==null;)if(e=wt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,wt=t;else for(;wt!==null;){e=wt;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var k=C.memoizedProps,P=C.memoizedState,S=e.stateNode,R=S.getSnapshotBeforeUpdate(e.elementType===e.type?k:ts(e.type,k),P);S.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var L=e.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(D){Zn(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,wt=t;break}wt=e.return}return C=pM,pM=!1,C}function Rh(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Ry(e,n,s)}r=r.next}while(r!==i)}}function Dg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Iy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function WE(t){var e=t.alternate;e!==null&&(t.alternate=null,WE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Es],delete e[Jh],delete e[vy],delete e[i5],delete e[r5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jE(t){return t.tag===5||t.tag===3||t.tag===4}function mM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ly(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mm));else if(i!==4&&(t=t.child,t!==null))for(Ly(t,e,n),t=t.sibling;t!==null;)Ly(t,e,n),t=t.sibling}function Dy(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Dy(t,e,n),t=t.sibling;t!==null;)Dy(t,e,n),t=t.sibling}var bi=null,ns=!1;function Ra(t,e,n){for(n=n.child;n!==null;)HE(t,e,n),n=n.sibling}function HE(t,e,n){if(Ls&&typeof Ls.onCommitFiberUnmount=="function")try{Ls.onCommitFiberUnmount(Tg,n)}catch{}switch(n.tag){case 5:Ii||kc(n,e);case 6:var i=bi,r=ns;bi=null,Ra(t,e,n),bi=i,ns=r,bi!==null&&(ns?(t=bi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bi.removeChild(n.stateNode));break;case 18:bi!==null&&(ns?(t=bi,n=n.stateNode,t.nodeType===8?u0(t.parentNode,n):t.nodeType===1&&u0(t,n),$h(t)):u0(bi,n.stateNode));break;case 4:i=bi,r=ns,bi=n.stateNode.containerInfo,ns=!0,Ra(t,e,n),bi=i,ns=r;break;case 0:case 11:case 14:case 15:if(!Ii&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Ry(n,e,a),r=r.next}while(r!==i)}Ra(t,e,n);break;case 1:if(!Ii&&(kc(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){Zn(n,e,l)}Ra(t,e,n);break;case 21:Ra(t,e,n);break;case 22:n.mode&1?(Ii=(i=Ii)||n.memoizedState!==null,Ra(t,e,n),Ii=i):Ra(t,e,n);break;default:Ra(t,e,n)}}function gM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _5),e.forEach(function(i){var r=k5.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Zr(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:bi=l.stateNode,ns=!1;break e;case 3:bi=l.stateNode.containerInfo,ns=!0;break e;case 4:bi=l.stateNode.containerInfo,ns=!0;break e}l=l.return}if(bi===null)throw Error(qe(160));HE(s,a,r),bi=null,ns=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(d){Zn(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XE(e,t),e=e.sibling}function XE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zr(e,t),Ms(t),i&4){try{Rh(3,t,t.return),Dg(3,t)}catch(k){Zn(t,t.return,k)}try{Rh(5,t,t.return)}catch(k){Zn(t,t.return,k)}}break;case 1:Zr(e,t),Ms(t),i&512&&n!==null&&kc(n,n.return);break;case 5:if(Zr(e,t),Ms(t),i&512&&n!==null&&kc(n,n.return),t.flags&32){var r=t.stateNode;try{Hh(r,"")}catch(k){Zn(t,t.return,k)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&fP(r,s),ry(l,a);var d=ry(l,s);for(a=0;a<u.length;a+=2){var f=u[a],x=u[a+1];f==="style"?vP(r,x):f==="dangerouslySetInnerHTML"?gP(r,x):f==="children"?Hh(r,x):I_(r,f,x,d)}switch(l){case"input":Jv(r,s);break;case"textarea":pP(r,s);break;case"select":var v=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Bc(r,!!s.multiple,y,!1):v!==!!s.multiple&&(s.defaultValue!=null?Bc(r,!!s.multiple,s.defaultValue,!0):Bc(r,!!s.multiple,s.multiple?[]:"",!1))}r[Jh]=s}catch(k){Zn(t,t.return,k)}}break;case 6:if(Zr(e,t),Ms(t),i&4){if(t.stateNode===null)throw Error(qe(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(k){Zn(t,t.return,k)}}break;case 3:if(Zr(e,t),Ms(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{$h(e.containerInfo)}catch(k){Zn(t,t.return,k)}break;case 4:Zr(e,t),Ms(t);break;case 13:Zr(e,t),Ms(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(hb=ei())),i&4&&gM(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ii=(d=Ii)||f,Zr(e,t),Ii=d):Zr(e,t),Ms(t),i&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(wt=t,f=t.child;f!==null;){for(x=wt=f;wt!==null;){switch(v=wt,y=v.child,v.tag){case 0:case 11:case 14:case 15:Rh(4,v,v.return);break;case 1:kc(v,v.return);var C=v.stateNode;if(typeof C.componentWillUnmount=="function"){i=v,n=v.return;try{e=i,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(k){Zn(i,n,k)}}break;case 5:kc(v,v.return);break;case 22:if(v.memoizedState!==null){vM(x);continue}}y!==null?(y.return=v,wt=y):vM(x)}f=f.sibling}e:for(f=null,x=t;;){if(x.tag===5){if(f===null){f=x;try{r=x.stateNode,d?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=x.stateNode,u=x.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=xP("display",a))}catch(k){Zn(t,t.return,k)}}}else if(x.tag===6){if(f===null)try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(k){Zn(t,t.return,k)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===t)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;f===x&&(f=null),x=x.return}f===x&&(f=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Zr(e,t),Ms(t),i&4&&gM(t);break;case 21:break;default:Zr(e,t),Ms(t)}}function Ms(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jE(n)){var i=n;break e}n=n.return}throw Error(qe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Hh(r,""),i.flags&=-33);var s=mM(t);Dy(t,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,l=mM(t);Ly(t,l,a);break;default:throw Error(qe(161))}}catch(u){Zn(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function w5(t,e,n){wt=t,GE(t)}function GE(t,e,n){for(var i=(t.mode&1)!==0;wt!==null;){var r=wt,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||Hf;if(!a){var l=r.alternate,u=l!==null&&l.memoizedState!==null||Ii;l=Hf;var d=Ii;if(Hf=a,(Ii=u)&&!d)for(wt=r;wt!==null;)a=wt,u=a.child,a.tag===22&&a.memoizedState!==null?yM(r):u!==null?(u.return=a,wt=u):yM(r);for(;s!==null;)wt=s,GE(s),s=s.sibling;wt=r,Hf=l,Ii=d}xM(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,wt=s):xM(t)}}function xM(t){for(;wt!==null;){var e=wt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ii||Dg(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ii)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ts(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tM(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tM(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var x=f.dehydrated;x!==null&&$h(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}Ii||e.flags&512&&Iy(e)}catch(v){Zn(e,e.return,v)}}if(e===t){wt=null;break}if(n=e.sibling,n!==null){n.return=e.return,wt=n;break}wt=e.return}}function vM(t){for(;wt!==null;){var e=wt;if(e===t){wt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,wt=n;break}wt=e.return}}function yM(t){for(;wt!==null;){var e=wt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dg(4,e)}catch(u){Zn(e,n,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){Zn(e,r,u)}}var s=e.return;try{Iy(e)}catch(u){Zn(e,s,u)}break;case 5:var a=e.return;try{Iy(e)}catch(u){Zn(e,a,u)}}}catch(u){Zn(e,e.return,u)}if(e===t){wt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,wt=l;break}wt=e.return}}var S5=Math.ceil,Nm=Pa.ReactCurrentDispatcher,cb=Pa.ReactCurrentOwner,Vr=Pa.ReactCurrentBatchConfig,xn=0,xi=null,ri=null,Mi=0,gr=0,Rc=Lo(0),li=0,sd=null,Ml=0,Ng=0,ub=0,Ih=null,er=null,hb=0,ou=1/0,ra=null,Fm=!1,Ny=null,ho=null,Xf=!1,no=null,Om=0,Lh=0,Fy=null,Qp=-1,qp=0;function Xi(){return xn&6?ei():Qp!==-1?Qp:Qp=ei()}function fo(t){return t.mode&1?xn&2&&Mi!==0?Mi&-Mi:a5.transition!==null?(qp===0&&(qp=kP()),qp):(t=En,t!==0||(t=window.event,t=t===void 0?16:OP(t.type)),t):1}function cs(t,e,n,i){if(50<Lh)throw Lh=0,Fy=null,Error(qe(185));Wd(t,n,i),(!(xn&2)||t!==xi)&&(t===xi&&(!(xn&2)&&(Ng|=n),li===4&&Za(t,Mi)),cr(t,i),n===1&&xn===0&&!(e.mode&1)&&(ou=ei()+500,Rg&&Do()))}function cr(t,e){var n=t.callbackNode;aO(t,e);var i=_m(t,t===xi?Mi:0);if(i===0)n!==null&&ES(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&ES(n),e===1)t.tag===0?s5(_M.bind(null,t)):nE(_M.bind(null,t)),t5(function(){!(xn&6)&&Do()}),n=null;else{switch(RP(i)){case 1:n=O_;break;case 4:n=EP;break;case 16:n=ym;break;case 536870912:n=AP;break;default:n=ym}n=eA(n,YE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YE(t,e){if(Qp=-1,qp=0,xn&6)throw Error(qe(327));var n=t.callbackNode;if(jc()&&t.callbackNode!==n)return null;var i=_m(t,t===xi?Mi:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Bm(t,i);else{e=i;var r=xn;xn|=2;var s=ZE();(xi!==t||Mi!==e)&&(ra=null,ou=ei()+500,ml(t,e));do try{T5();break}catch(l){$E(t,l)}while(!0);K_(),Nm.current=s,xn=r,ri!==null?e=0:(xi=null,Mi=0,e=li)}if(e!==0){if(e===2&&(r=cy(t),r!==0&&(i=r,e=Oy(t,r))),e===1)throw n=sd,ml(t,0),Za(t,i),cr(t,ei()),n;if(e===6)Za(t,i);else{if(r=t.current.alternate,!(i&30)&&!M5(r)&&(e=Bm(t,i),e===2&&(s=cy(t),s!==0&&(i=s,e=Oy(t,s))),e===1))throw n=sd,ml(t,0),Za(t,i),cr(t,ei()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(qe(345));case 2:Jo(t,er,ra);break;case 3:if(Za(t,i),(i&130023424)===i&&(e=hb+500-ei(),10<e)){if(_m(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Xi(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=xy(Jo.bind(null,t,er,ra),e);break}Jo(t,er,ra);break;case 4:if(Za(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-ls(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=ei()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*S5(i/1960))-i,10<i){t.timeoutHandle=xy(Jo.bind(null,t,er,ra),i);break}Jo(t,er,ra);break;case 5:Jo(t,er,ra);break;default:throw Error(qe(329))}}}return cr(t,ei()),t.callbackNode===n?YE.bind(null,t):null}function Oy(t,e){var n=Ih;return t.current.memoizedState.isDehydrated&&(ml(t,e).flags|=256),t=Bm(t,e),t!==2&&(e=er,er=n,e!==null&&By(e)),t}function By(t){er===null?er=t:er.push.apply(er,t)}function M5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!fs(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Za(t,e){for(e&=~ub,e&=~Ng,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ls(e),i=1<<n;t[n]=-1,e&=~i}}function _M(t){if(xn&6)throw Error(qe(327));jc();var e=_m(t,0);if(!(e&1))return cr(t,ei()),null;var n=Bm(t,e);if(t.tag!==0&&n===2){var i=cy(t);i!==0&&(e=i,n=Oy(t,i))}if(n===1)throw n=sd,ml(t,0),Za(t,e),cr(t,ei()),n;if(n===6)throw Error(qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jo(t,er,ra),cr(t,ei()),null}function db(t,e){var n=xn;xn|=1;try{return t(e)}finally{xn=n,xn===0&&(ou=ei()+500,Rg&&Do())}}function Cl(t){no!==null&&no.tag===0&&!(xn&6)&&jc();var e=xn;xn|=1;var n=Vr.transition,i=En;try{if(Vr.transition=null,En=1,t)return t()}finally{En=i,Vr.transition=n,xn=e,!(xn&6)&&Do()}}function fb(){gr=Rc.current,Fn(Rc)}function ml(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,e5(n)),ri!==null)for(n=ri.return;n!==null;){var i=n;switch(Y_(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Cm();break;case 3:su(),Fn(or),Fn(Oi),nb();break;case 5:tb(i);break;case 4:su();break;case 13:Fn(Un);break;case 19:Fn(Un);break;case 10:Q_(i.type._context);break;case 22:case 23:fb()}n=n.return}if(xi=t,ri=t=po(t.current,null),Mi=gr=e,li=0,sd=null,ub=Ng=Ml=0,er=Ih=null,ll!==null){for(e=0;e<ll.length;e++)if(n=ll[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}n.pending=i}ll=null}return t}function $E(t,e){do{var n=ri;try{if(K_(),$p.current=Dm,Lm){for(var i=Hn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Lm=!1}if(Sl=0,mi=oi=Hn=null,kh=!1,nd=0,cb.current=null,n===null||n.return===null){li=1,sd=e,ri=null;break}e:{var s=t,a=n.return,l=n,u=e;if(e=Mi,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=l,x=f.tag;if(!(f.mode&1)&&(x===0||x===11||x===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=oM(a);if(y!==null){y.flags&=-257,lM(y,a,l,s,e),y.mode&1&&aM(s,d,e),e=y,u=d;var C=e.updateQueue;if(C===null){var k=new Set;k.add(u),e.updateQueue=k}else C.add(u);break e}else{if(!(e&1)){aM(s,d,e),pb();break e}u=Error(qe(426))}}else if(On&&l.mode&1){var P=oM(a);if(P!==null){!(P.flags&65536)&&(P.flags|=256),lM(P,a,l,s,e),$_(au(u,l));break e}}s=u=au(u,l),li!==4&&(li=2),Ih===null?Ih=[s]:Ih.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=RE(s,u,e);eM(s,S);break e;case 1:l=u;var R=s.type,L=s.stateNode;if(!(s.flags&128)&&(typeof R.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(ho===null||!ho.has(L)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=IE(s,l,e);eM(s,D);break e}}s=s.return}while(s!==null)}QE(n)}catch(W){e=W,ri===n&&n!==null&&(ri=n=n.return);continue}break}while(!0)}function ZE(){var t=Nm.current;return Nm.current=Dm,t===null?Dm:t}function pb(){(li===0||li===3||li===2)&&(li=4),xi===null||!(Ml&268435455)&&!(Ng&268435455)||Za(xi,Mi)}function Bm(t,e){var n=xn;xn|=2;var i=ZE();(xi!==t||Mi!==e)&&(ra=null,ml(t,e));do try{C5();break}catch(r){$E(t,r)}while(!0);if(K_(),xn=n,Nm.current=i,ri!==null)throw Error(qe(261));return xi=null,Mi=0,li}function C5(){for(;ri!==null;)KE(ri)}function T5(){for(;ri!==null&&!QF();)KE(ri)}function KE(t){var e=JE(t.alternate,t,gr);t.memoizedProps=t.pendingProps,e===null?QE(t):ri=e,cb.current=null}function QE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=y5(n,e),n!==null){n.flags&=32767,ri=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{li=6,ri=null;return}}else if(n=v5(n,e,gr),n!==null){ri=n;return}if(e=e.sibling,e!==null){ri=e;return}ri=e=t}while(e!==null);li===0&&(li=5)}function Jo(t,e,n){var i=En,r=Vr.transition;try{Vr.transition=null,En=1,P5(t,e,n,i)}finally{Vr.transition=r,En=i}return null}function P5(t,e,n,i){do jc();while(no!==null);if(xn&6)throw Error(qe(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(qe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(oO(t,s),t===xi&&(ri=xi=null,Mi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xf||(Xf=!0,eA(ym,function(){return jc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vr.transition,Vr.transition=null;var a=En;En=1;var l=xn;xn|=4,cb.current=null,b5(t,n),XE(n,t),YO(my),bm=!!py,my=py=null,t.current=n,w5(n),qF(),xn=l,En=a,Vr.transition=s}else t.current=n;if(Xf&&(Xf=!1,no=t,Om=r),s=t.pendingLanes,s===0&&(ho=null),tO(n.stateNode),cr(t,ei()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Fm)throw Fm=!1,t=Ny,Ny=null,t;return Om&1&&t.tag!==0&&jc(),s=t.pendingLanes,s&1?t===Fy?Lh++:(Lh=0,Fy=t):Lh=0,Do(),null}function jc(){if(no!==null){var t=RP(Om),e=Vr.transition,n=En;try{if(Vr.transition=null,En=16>t?16:t,no===null)var i=!1;else{if(t=no,no=null,Om=0,xn&6)throw Error(qe(331));var r=xn;for(xn|=4,wt=t.current;wt!==null;){var s=wt,a=s.child;if(wt.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(wt=d;wt!==null;){var f=wt;switch(f.tag){case 0:case 11:case 15:Rh(8,f,s)}var x=f.child;if(x!==null)x.return=f,wt=x;else for(;wt!==null;){f=wt;var v=f.sibling,y=f.return;if(WE(f),f===d){wt=null;break}if(v!==null){v.return=y,wt=v;break}wt=y}}}var C=s.alternate;if(C!==null){var k=C.child;if(k!==null){C.child=null;do{var P=k.sibling;k.sibling=null,k=P}while(k!==null)}}wt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,wt=a;else e:for(;wt!==null;){if(s=wt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rh(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,wt=S;break e}wt=s.return}}var R=t.current;for(wt=R;wt!==null;){a=wt;var L=a.child;if(a.subtreeFlags&2064&&L!==null)L.return=a,wt=L;else e:for(a=R;wt!==null;){if(l=wt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Dg(9,l)}}catch(W){Zn(l,l.return,W)}if(l===a){wt=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,wt=D;break e}wt=l.return}}if(xn=r,Do(),Ls&&typeof Ls.onPostCommitFiberRoot=="function")try{Ls.onPostCommitFiberRoot(Tg,t)}catch{}i=!0}return i}finally{En=n,Vr.transition=e}}return!1}function bM(t,e,n){e=au(n,e),e=RE(t,e,1),t=uo(t,e,1),e=Xi(),t!==null&&(Wd(t,1,e),cr(t,e))}function Zn(t,e,n){if(t.tag===3)bM(t,t,n);else for(;e!==null;){if(e.tag===3){bM(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ho===null||!ho.has(i))){t=au(n,t),t=IE(e,t,1),e=uo(e,t,1),t=Xi(),e!==null&&(Wd(e,1,t),cr(e,t));break}}e=e.return}}function E5(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Xi(),t.pingedLanes|=t.suspendedLanes&n,xi===t&&(Mi&n)===n&&(li===4||li===3&&(Mi&130023424)===Mi&&500>ei()-hb?ml(t,0):ub|=n),cr(t,e)}function qE(t,e){e===0&&(t.mode&1?(e=Nf,Nf<<=1,!(Nf&130023424)&&(Nf=4194304)):e=1);var n=Xi();t=xa(t,e),t!==null&&(Wd(t,e,n),cr(t,n))}function A5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qE(t,n)}function k5(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(qe(314))}i!==null&&i.delete(e),qE(t,n)}var JE;JE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||or.current)sr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sr=!1,x5(t,e,n);sr=!!(t.flags&131072)}else sr=!1,On&&e.flags&1048576&&iE(e,Em,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Kp(t,e),t=e.pendingProps;var r=nu(e,Oi.current);Wc(e,n),r=rb(null,e,i,t,r,n);var s=sb();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lr(i)?(s=!0,Tm(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,J_(e),r.updater=Lg,e.stateNode=r,r._reactInternals=e,My(e,i,t,n),e=Py(null,e,i,!0,s,n)):(e.tag=0,On&&s&&G_(e),Wi(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Kp(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=I5(i),t=ts(i,t),r){case 0:e=Ty(null,e,i,t,n);break e;case 1:e=hM(null,e,i,t,n);break e;case 11:e=cM(null,e,i,t,n);break e;case 14:e=uM(null,e,i,ts(i.type,t),n);break e}throw Error(qe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ts(i,r),Ty(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ts(i,r),hM(t,e,i,r,n);case 3:e:{if(FE(e),t===null)throw Error(qe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,cE(t,e),Rm(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=au(Error(qe(423)),e),e=dM(t,e,i,n,r);break e}else if(i!==r){r=au(Error(qe(424)),e),e=dM(t,e,i,n,r);break e}else for(vr=co(e.stateNode.containerInfo.firstChild),yr=e,On=!0,is=null,n=oE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(iu(),i===r){e=va(t,e,n);break e}Wi(t,e,i,n)}e=e.child}return e;case 5:return uE(e),t===null&&by(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,a=r.children,gy(i,r)?a=null:s!==null&&gy(i,s)&&(e.flags|=32),NE(t,e),Wi(t,e,a,n),e.child;case 6:return t===null&&by(e),null;case 13:return OE(t,e,n);case 4:return eb(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ru(e,null,i,n):Wi(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ts(i,r),cM(t,e,i,r,n);case 7:return Wi(t,e,e.pendingProps,n),e.child;case 8:return Wi(t,e,e.pendingProps.children,n),e.child;case 12:return Wi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,kn(Am,i._currentValue),i._currentValue=a,s!==null)if(fs(s.value,a)){if(s.children===r.children&&!or.current){e=va(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var u=l.firstContext;u!==null;){if(u.context===i){if(s.tag===1){u=pa(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),wy(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(qe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),wy(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Wi(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Wc(e,n),r=jr(r),i=i(r),e.flags|=1,Wi(t,e,i,n),e.child;case 14:return i=e.type,r=ts(i,e.pendingProps),r=ts(i.type,r),uM(t,e,i,r,n);case 15:return LE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ts(i,r),Kp(t,e),e.tag=1,lr(i)?(t=!0,Tm(e)):t=!1,Wc(e,n),kE(e,i,r),My(e,i,r,n),Py(null,e,i,!0,t,n);case 19:return BE(t,e,n);case 22:return DE(t,e,n)}throw Error(qe(156,e.tag))};function eA(t,e){return PP(t,e)}function R5(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(t,e,n,i){return new R5(t,e,n,i)}function mb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I5(t){if(typeof t=="function")return mb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===D_)return 11;if(t===N_)return 14}return 2}function po(t,e){var n=t.alternate;return n===null?(n=Nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jp(t,e,n,i,r,s){var a=2;if(i=t,typeof t=="function")mb(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case bc:return gl(n.children,r,s,e);case L_:a=8,r|=8;break;case $v:return t=Nr(12,n,e,r|2),t.elementType=$v,t.lanes=s,t;case Zv:return t=Nr(13,n,e,r),t.elementType=Zv,t.lanes=s,t;case Kv:return t=Nr(19,n,e,r),t.elementType=Kv,t.lanes=s,t;case uP:return Fg(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lP:a=10;break e;case cP:a=9;break e;case D_:a=11;break e;case N_:a=14;break e;case Xa:a=16,i=null;break e}throw Error(qe(130,t==null?t:typeof t,""))}return e=Nr(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function gl(t,e,n,i){return t=Nr(7,t,i,e),t.lanes=n,t}function Fg(t,e,n,i){return t=Nr(22,t,i,e),t.elementType=uP,t.lanes=n,t.stateNode={isHidden:!1},t}function v0(t,e,n){return t=Nr(6,t,null,e),t.lanes=n,t}function y0(t,e,n){return e=Nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function L5(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jx(0),this.expirationTimes=Jx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jx(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function gb(t,e,n,i,r,s,a,l,u){return t=new L5(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Nr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},J_(s),t}function D5(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_c,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function tA(t){if(!t)return yo;t=t._reactInternals;e:{if(Ul(t)!==t||t.tag!==1)throw Error(qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(qe(171))}if(t.tag===1){var n=t.type;if(lr(n))return tE(t,n,e)}return e}function nA(t,e,n,i,r,s,a,l,u){return t=gb(n,i,!0,t,r,s,a,l,u),t.context=tA(null),n=t.current,i=Xi(),r=fo(n),s=pa(i,r),s.callback=e??null,uo(n,s,r),t.current.lanes=r,Wd(t,r,i),cr(t,i),t}function Og(t,e,n,i){var r=e.current,s=Xi(),a=fo(r);return n=tA(n),e.context===null?e.context=n:e.pendingContext=n,e=pa(s,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=uo(r,e,a),t!==null&&(cs(t,r,a,s),Yp(t,r,a)),a}function Vm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xb(t,e){wM(t,e),(t=t.alternate)&&wM(t,e)}function N5(){return null}var iA=typeof reportError=="function"?reportError:function(t){console.error(t)};function vb(t){this._internalRoot=t}Bg.prototype.render=vb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(qe(409));Og(t,e,null,null)};Bg.prototype.unmount=vb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cl(function(){Og(null,t,null,null)}),e[ga]=null}};function Bg(t){this._internalRoot=t}Bg.prototype.unstable_scheduleHydration=function(t){if(t){var e=DP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$a.length&&e!==0&&e<$a[n].priority;n++);$a.splice(n,0,t),n===0&&FP(t)}};function yb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function SM(){}function F5(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var d=Vm(a);s.call(d)}}var a=nA(e,i,t,0,null,!1,!1,"",SM);return t._reactRootContainer=a,t[ga]=a.current,Qh(t.nodeType===8?t.parentNode:t),Cl(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var d=Vm(u);l.call(d)}}var u=gb(t,0,!1,null,null,!1,!1,"",SM);return t._reactRootContainer=u,t[ga]=u.current,Qh(t.nodeType===8?t.parentNode:t),Cl(function(){Og(e,u,n,i)}),u}function Ug(t,e,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var l=r;r=function(){var u=Vm(a);l.call(u)}}Og(e,a,t,r)}else a=F5(n,e,t,r,i);return Vm(a)}IP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mh(e.pendingLanes);n!==0&&(B_(e,n|1),cr(e,ei()),!(xn&6)&&(ou=ei()+500,Do()))}break;case 13:Cl(function(){var i=xa(t,1);if(i!==null){var r=Xi();cs(i,t,1,r)}}),xb(t,1)}};V_=function(t){if(t.tag===13){var e=xa(t,134217728);if(e!==null){var n=Xi();cs(e,t,134217728,n)}xb(t,134217728)}};LP=function(t){if(t.tag===13){var e=fo(t),n=xa(t,e);if(n!==null){var i=Xi();cs(n,t,e,i)}xb(t,e)}};DP=function(){return En};NP=function(t,e){var n=En;try{return En=t,e()}finally{En=n}};ay=function(t,e,n){switch(e){case"input":if(Jv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=kg(i);if(!r)throw Error(qe(90));dP(i),Jv(i,r)}}}break;case"textarea":pP(t,n);break;case"select":e=n.value,e!=null&&Bc(t,!!n.multiple,e,!1)}};bP=db;wP=Cl;var O5={usingClientEntryPoint:!1,Events:[Hd,Cc,kg,yP,_P,db]},Ku={findFiberByHostInstance:ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B5={bundleType:Ku.bundleType,version:Ku.version,rendererPackageName:Ku.rendererPackageName,rendererConfig:Ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CP(t),t===null?null:t.stateNode},findFiberByHostInstance:Ku.findFiberByHostInstance||N5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{Tg=Gf.inject(B5),Ls=Gf}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O5;Pr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yb(e))throw Error(qe(200));return D5(t,e,null,n)};Pr.createRoot=function(t,e){if(!yb(t))throw Error(qe(299));var n=!1,i="",r=iA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=gb(t,1,!1,null,null,n,!1,i,r),t[ga]=e.current,Qh(t.nodeType===8?t.parentNode:t),new vb(e)};Pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(qe(188)):(t=Object.keys(t).join(","),Error(qe(268,t)));return t=CP(e),t=t===null?null:t.stateNode,t};Pr.flushSync=function(t){return Cl(t)};Pr.hydrate=function(t,e,n){if(!Vg(e))throw Error(qe(200));return Ug(null,t,e,!0,n)};Pr.hydrateRoot=function(t,e,n){if(!yb(t))throw Error(qe(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",a=iA;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=nA(e,null,t,1,n??null,r,!1,s,a),t[ga]=e.current,Qh(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Bg(e)};Pr.render=function(t,e,n){if(!Vg(e))throw Error(qe(200));return Ug(null,t,e,!1,n)};Pr.unmountComponentAtNode=function(t){if(!Vg(t))throw Error(qe(40));return t._reactRootContainer?(Cl(function(){Ug(null,null,t,!1,function(){t._reactRootContainer=null,t[ga]=null})}),!0):!1};Pr.unstable_batchedUpdates=db;Pr.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Vg(n))throw Error(qe(200));if(t==null||t._reactInternals===void 0)throw Error(qe(38));return Ug(t,e,n,!1,i)};Pr.version="18.3.1-next-f1338f8080-20240426";function rA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rA)}catch(t){console.error(t)}}rA(),rP.exports=Pr;var No=rP.exports;const V5=G2(No);var MM=No;Gv.createRoot=MM.createRoot,Gv.hydrateRoot=MM.hydrateRoot;/**
 * @remix-run/router v1.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ad.apply(this,arguments)}var io;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(io||(io={}));const CM="popstate";function U5(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return Vy("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:aA(r)}return W5(e,n,null,t)}function si(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z5(){return Math.random().toString(36).substr(2,8)}function TM(t,e){return{usr:t.state,key:t.key,idx:e}}function Vy(t,e,n,i){return n===void 0&&(n=null),ad({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Pu(e):e,{state:n,key:e&&e.key||i||z5()})}function aA(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Pu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function W5(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l=io.Pop,u=null,d=f();d==null&&(d=0,a.replaceState(ad({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function x(){l=io.Pop;let P=f(),S=P==null?null:P-d;d=P,u&&u({action:l,location:k.location,delta:S})}function v(P,S){l=io.Push;let R=Vy(k.location,P,S);d=f()+1;let L=TM(R,d),D=k.createHref(R);try{a.pushState(L,"",D)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;r.location.assign(D)}s&&u&&u({action:l,location:k.location,delta:1})}function y(P,S){l=io.Replace;let R=Vy(k.location,P,S);d=f();let L=TM(R,d),D=k.createHref(R);a.replaceState(L,"",D),s&&u&&u({action:l,location:k.location,delta:0})}function C(P){let S=r.location.origin!=="null"?r.location.origin:r.location.href,R=typeof P=="string"?P:aA(P);return R=R.replace(/ $/,"%20"),si(S,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,S)}let k={get action(){return l},get location(){return t(r,a)},listen(P){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(CM,x),u=P,()=>{r.removeEventListener(CM,x),u=null}},createHref(P){return e(r,P)},createURL:C,encodeLocation(P){let S=C(P);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:y,go(P){return a.go(P)}};return k}var PM;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(PM||(PM={}));function j5(t,e,n){return n===void 0&&(n="/"),H5(t,e,n,!1)}function H5(t,e,n,i){let r=typeof e=="string"?Pu(e):e,s=cA(r.pathname||"/",n);if(s==null)return null;let a=oA(t);X5(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=nB(s);l=eB(a[u],d,i)}return l}function oA(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(si(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let d=xl([i,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(si(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),oA(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:q5(d,s.index),routesMeta:f})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,a);else for(let u of lA(s.path))r(s,a,u)}),e}function lA(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=lA(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function X5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:J5(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const G5=/^:[\w-]+$/,Y5=3,$5=2,Z5=1,K5=10,Q5=-2,EM=t=>t==="*";function q5(t,e){let n=t.split("/"),i=n.length;return n.some(EM)&&(i+=Q5),e&&(i+=$5),n.filter(r=>!EM(r)).reduce((r,s)=>r+(G5.test(s)?Y5:s===""?Z5:K5),i)}function J5(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function eB(t,e,n){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],d=l===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",x=AM({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),v=u.route;if(!x&&d&&n&&!i[i.length-1].route.index&&(x=AM({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!x)return null;Object.assign(r,x.params),a.push({params:r,pathname:xl([s,x.pathname]),pathnameBase:aB(xl([s,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(s=xl([s,x.pathnameBase]))}return a}function AM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=tB(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((d,f,x)=>{let{paramName:v,isOptional:y}=f;if(v==="*"){let k=l[x]||"";a=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const C=l[x];return y&&!C?d[v]=void 0:d[v]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function tB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),sA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function nB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function iB(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Pu(t):t;return{pathname:n?n.startsWith("/")?n:rB(n,e):e,search:oB(i),hash:lB(r)}}function rB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function _0(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uA(t,e){let n=sB(t);return e?n.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function hA(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Pu(t):(r=ad({},t),si(!r.pathname||!r.pathname.includes("?"),_0("?","pathname","search",r)),si(!r.pathname||!r.pathname.includes("#"),_0("#","pathname","hash",r)),si(!r.search||!r.search.includes("#"),_0("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let x=e.length-1;if(!i&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),x-=1;r.pathname=v.join("/")}l=x>=0?e[x]:"/"}let u=iB(r,l),d=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const xl=t=>t.join("/").replace(/\/\/+/g,"/"),aB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dA=["post","put","patch","delete"];new Set(dA);const uB=["get",...dA];new Set(uB);/**
 * React Router v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},od.apply(this,arguments)}const _b=F.createContext(null),hB=F.createContext(null),Gd=F.createContext(null),zg=F.createContext(null),Fo=F.createContext({outlet:null,matches:[],isDataRoute:!1}),fA=F.createContext(null);function Yd(){return F.useContext(zg)!=null}function $d(){return Yd()||si(!1),F.useContext(zg).location}function pA(t){F.useContext(Gd).static||F.useLayoutEffect(t)}function Xr(){let{isDataRoute:t}=F.useContext(Fo);return t?MB():dB()}function dB(){Yd()||si(!1);let t=F.useContext(_b),{basename:e,future:n,navigator:i}=F.useContext(Gd),{matches:r}=F.useContext(Fo),{pathname:s}=$d(),a=JSON.stringify(uA(r,n.v7_relativeSplatPath)),l=F.useRef(!1);return pA(()=>{l.current=!0}),F.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){i.go(d);return}let x=hA(d,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:xl([e,x.pathname])),(f.replace?i.replace:i.push)(x,f.state,f)},[e,i,a,s,t])}function Ar(){let{matches:t}=F.useContext(Fo),e=t[t.length-1];return e?e.params:{}}function fB(t,e){return pB(t,e)}function pB(t,e,n,i){Yd()||si(!1);let{navigator:r}=F.useContext(Gd),{matches:s}=F.useContext(Fo),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=$d(),f;if(e){var x;let P=typeof e=="string"?Pu(e):e;u==="/"||(x=P.pathname)!=null&&x.startsWith(u)||si(!1),f=P}else f=d;let v=f.pathname||"/",y=v;if(u!=="/"){let P=u.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=j5(t,{pathname:y}),k=yB(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:xl([u,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:xl([u,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,i);return e&&k?F.createElement(zg.Provider,{value:{location:od({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:io.Pop}},k):k}function mB(){let t=SB(),e=cB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:r},n):null,null)}const gB=F.createElement(mB,null);class xB extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(Fo.Provider,{value:this.props.routeContext},F.createElement(fA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vB(t){let{routeContext:e,match:n,children:i}=t,r=F.useContext(_b);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(Fo.Provider,{value:e},i)}function yB(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let a=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let f=a.findIndex(x=>x.route.id&&(l==null?void 0:l[x.route.id])!==void 0);f>=0||si(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let f=0;f<a.length;f++){let x=a[f];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(d=f),x.route.id){let{loaderData:v,errors:y}=n,C=x.route.loader&&v[x.route.id]===void 0&&(!y||y[x.route.id]===void 0);if(x.route.lazy||C){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,x,v)=>{let y,C=!1,k=null,P=null;n&&(y=l&&x.route.id?l[x.route.id]:void 0,k=x.route.errorElement||gB,u&&(d<0&&v===0?(C=!0,P=null):d===v&&(C=!0,P=x.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,v+1)),R=()=>{let L;return y?L=k:C?L=P:x.route.Component?L=F.createElement(x.route.Component,null):x.route.element?L=x.route.element:L=f,F.createElement(vB,{match:x,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:L})};return n&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?F.createElement(xB,{location:n.location,revalidation:n.revalidation,component:k,error:y,children:R(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):R()},null)}var mA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mA||{}),Um=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Um||{});function _B(t){let e=F.useContext(_b);return e||si(!1),e}function bB(t){let e=F.useContext(hB);return e||si(!1),e}function wB(t){let e=F.useContext(Fo);return e||si(!1),e}function gA(t){let e=wB(),n=e.matches[e.matches.length-1];return n.route.id||si(!1),n.route.id}function SB(){var t;let e=F.useContext(fA),n=bB(Um.UseRouteError),i=gA(Um.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function MB(){let{router:t}=_B(mA.UseNavigateStable),e=gA(Um.UseNavigateStable),n=F.useRef(!1);return pA(()=>{n.current=!0}),F.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,od({fromRouteId:e},s)))},[t,e])}function CB(t){let{to:e,replace:n,state:i,relative:r}=t;Yd()||si(!1);let{future:s,static:a}=F.useContext(Gd),{matches:l}=F.useContext(Fo),{pathname:u}=$d(),d=Xr(),f=hA(e,uA(l,s.v7_relativeSplatPath),u,r==="path"),x=JSON.stringify(f);return F.useEffect(()=>d(JSON.parse(x),{replace:n,state:i,relative:r}),[d,x,r,n,i]),null}function gi(t){si(!1)}function TB(t){let{basename:e="/",children:n=null,location:i,navigationType:r=io.Pop,navigator:s,static:a=!1,future:l}=t;Yd()&&si(!1);let u=e.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:u,navigator:s,static:a,future:od({v7_relativeSplatPath:!1},l)}),[u,l,s,a]);typeof i=="string"&&(i=Pu(i));let{pathname:f="/",search:x="",hash:v="",state:y=null,key:C="default"}=i,k=F.useMemo(()=>{let P=cA(f,u);return P==null?null:{location:{pathname:P,search:x,hash:v,state:y,key:C},navigationType:r}},[u,f,x,v,y,C,r]);return k==null?null:F.createElement(Gd.Provider,{value:d},F.createElement(zg.Provider,{children:n,value:k}))}function Eu(t){let{children:e,location:n}=t;return fB(Uy(e),n)}new Promise(()=>{});function Uy(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(i,r)=>{if(!F.isValidElement(i))return;let s=[...e,r];if(i.type===F.Fragment){n.push.apply(n,Uy(i.props.children,s));return}i.type!==gi&&si(!1),!i.props.index||!i.props.children||si(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Uy(i.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const PB="6";try{window.__reactRouterVersion=PB}catch{}const EB="startTransition",kM=mm[EB];function AB(t){let{basename:e,children:n,future:i,window:r}=t,s=F.useRef();s.current==null&&(s.current=U5({window:r,v5Compat:!0}));let a=s.current,[l,u]=F.useState({action:a.action,location:a.location}),{v7_startTransition:d}=i||{},f=F.useCallback(x=>{d&&kM?kM(()=>u(x)):u(x)},[u,d]);return F.useLayoutEffect(()=>a.listen(f),[a,f]),F.createElement(TB,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:i})}var RM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(RM||(RM={}));var IM;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(IM||(IM={}));var xA={exports:{}},vA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=F;function kB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var RB=typeof Object.is=="function"?Object.is:kB,IB=Zd.useSyncExternalStore,LB=Zd.useRef,DB=Zd.useEffect,NB=Zd.useMemo,FB=Zd.useDebugValue;vA.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var s=LB(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=NB(function(){function u(y){if(!d){if(d=!0,f=y,y=i(y),r!==void 0&&a.hasValue){var C=a.value;if(r(C,y))return x=C}return x=y}if(C=x,RB(f,y))return C;var k=i(y);return r!==void 0&&r(C,k)?C:(f=y,x=k)}var d=!1,f,x,v=n===void 0?null:n;return[function(){return u(e())},v===null?void 0:function(){return u(v())}]},[e,n,i,r]);var l=IB(t,s[0],s[1]);return DB(function(){a.hasValue=!0,a.value=l},[l]),FB(l),l};xA.exports=vA;var OB=xA.exports,fn="default"in mm?wi:mm,LM=Symbol.for("react-redux-context"),DM=typeof globalThis<"u"?globalThis:{};function BB(){if(!fn.createContext)return{};const t=DM[LM]??(DM[LM]=new Map);let e=t.get(fn.createContext);return e||(e=fn.createContext(null),t.set(fn.createContext,e)),e}var ya=BB(),yA=()=>{throw new Error("uSES not initialized!")};function bb(t=ya){return function(){return fn.useContext(t)}}var _A=bb(),bA=yA,VB=t=>{bA=t},UB=(t,e)=>t===e;function zB(t=ya){const e=t===ya?_A:bb(t),n=(i,r={})=>{const{equalityFn:s=UB,devModeChecks:a={}}=typeof r=="function"?{equalityFn:r}:r,{store:l,subscription:u,getServerState:d,stabilityCheck:f,identityFunctionCheck:x}=e();fn.useRef(!0);const v=fn.useCallback({[i.name](C){return i(C)}}[i.name],[i,f,a.stabilityCheck]),y=bA(u.addNestedSub,l.getState,d||l.getState,v,s);return fn.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var un=zB(),WB=Symbol.for("react.element"),jB=Symbol.for("react.portal"),HB=Symbol.for("react.fragment"),XB=Symbol.for("react.strict_mode"),GB=Symbol.for("react.profiler"),YB=Symbol.for("react.provider"),$B=Symbol.for("react.context"),ZB=Symbol.for("react.server_context"),wA=Symbol.for("react.forward_ref"),KB=Symbol.for("react.suspense"),QB=Symbol.for("react.suspense_list"),wb=Symbol.for("react.memo"),qB=Symbol.for("react.lazy"),JB=wA,e4=wb;function t4(t){if(typeof t=="object"&&t!==null){const e=t.$$typeof;switch(e){case WB:{const n=t.type;switch(n){case HB:case GB:case XB:case KB:case QB:return n;default:{const i=n&&n.$$typeof;switch(i){case ZB:case $B:case wA:case qB:case wb:case YB:return i;default:return e}}}}case jB:return e}}}function n4(t){return t4(t)===wb}function i4(t,e,n,i,{areStatesEqual:r,areOwnPropsEqual:s,areStatePropsEqual:a}){let l=!1,u,d,f,x,v;function y(R,L){return u=R,d=L,f=t(u,d),x=e(i,d),v=n(f,x,d),l=!0,v}function C(){return f=t(u,d),e.dependsOnOwnProps&&(x=e(i,d)),v=n(f,x,d),v}function k(){return t.dependsOnOwnProps&&(f=t(u,d)),e.dependsOnOwnProps&&(x=e(i,d)),v=n(f,x,d),v}function P(){const R=t(u,d),L=!a(R,f);return f=R,L&&(v=n(f,x,d)),v}function S(R,L){const D=!s(L,d),W=!r(R,u,L,d);return u=R,d=L,D&&W?C():D?k():W?P():v}return function(L,D){return l?S(L,D):y(L,D)}}function r4(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:i,...r}){const s=e(t,r),a=n(t,r),l=i(t,r);return i4(s,a,l,t,r)}function s4(t,e){const n={};for(const i in t){const r=t[i];typeof r=="function"&&(n[i]=(...s)=>e(r(...s)))}return n}function zy(t){return function(n){const i=t(n);function r(){return i}return r.dependsOnOwnProps=!1,r}}function NM(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function SA(t,e){return function(i,{displayName:r}){const s=function(l,u){return s.dependsOnOwnProps?s.mapToProps(l,u):s.mapToProps(l,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,u){s.mapToProps=t,s.dependsOnOwnProps=NM(t);let d=s(l,u);return typeof d=="function"&&(s.mapToProps=d,s.dependsOnOwnProps=NM(d),d=s(l,u)),d},s}}function Sb(t,e){return(n,i)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${i.wrappedComponentName}.`)}}function a4(t){return t&&typeof t=="object"?zy(e=>s4(t,e)):t?typeof t=="function"?SA(t):Sb(t,"mapDispatchToProps"):zy(e=>({dispatch:e}))}function o4(t){return t?typeof t=="function"?SA(t):Sb(t,"mapStateToProps"):zy(()=>({}))}function l4(t,e,n){return{...n,...t,...e}}function c4(t){return function(n,{displayName:i,areMergedPropsEqual:r}){let s=!1,a;return function(u,d,f){const x=t(u,d,f);return s?r(x,a)||(a=x):(s=!0,a=x),a}}}function u4(t){return t?typeof t=="function"?c4(t):Sb(t,"mergeProps"):()=>l4}function MA(t){t()}function h4(){let t=null,e=null;return{clear(){t=null,e=null},notify(){MA(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!i||t===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var FM={notify(){},get:()=>[]};function CA(t,e){let n,i=FM,r=0,s=!1;function a(k){f();const P=i.subscribe(k);let S=!1;return()=>{S||(S=!0,P(),x())}}function l(){i.notify()}function u(){C.onStateChange&&C.onStateChange()}function d(){return s}function f(){r++,n||(n=e?e.addNestedSub(u):t.subscribe(u),i=h4())}function x(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=FM)}function v(){s||(s=!0,f())}function y(){s&&(s=!1,x())}const C={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>i};return C}var d4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f4=typeof navigator<"u"&&navigator.product==="ReactNative",zm=d4||f4?fn.useLayoutEffect:fn.useEffect;function OM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function mo(t,e){if(OM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!OM(t[n[r]],e[n[r]]))return!1;return!0}var p4={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},m4={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},g4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},x4={[JB]:g4,[e4]:TA};function BM(t){return n4(t)?TA:x4[t.$$typeof]||p4}var v4=Object.defineProperty,y4=Object.getOwnPropertyNames,VM=Object.getOwnPropertySymbols,_4=Object.getOwnPropertyDescriptor,b4=Object.getPrototypeOf,UM=Object.prototype;function Wy(t,e){if(typeof e!="string"){if(UM){const s=b4(e);s&&s!==UM&&Wy(t,s)}let n=y4(e);VM&&(n=n.concat(VM(e)));const i=BM(t),r=BM(e);for(let s=0;s<n.length;++s){const a=n[s];if(!m4[a]&&!(r&&r[a])&&!(i&&i[a])){const l=_4(e,a);try{v4(t,a,l)}catch{}}}}return t}var PA=yA,w4=t=>{PA=t},S4=[null,null];function M4(t,e,n){zm(()=>t(...e),n)}function C4(t,e,n,i,r,s){t.current=i,n.current=!1,r.current&&(r.current=null,s())}function T4(t,e,n,i,r,s,a,l,u,d,f){if(!t)return()=>{};let x=!1,v=null;const y=()=>{if(x||!l.current)return;const k=e.getState();let P,S;try{P=i(k,r.current)}catch(R){S=R,v=R}S||(v=null),P===s.current?a.current||d():(s.current=P,u.current=P,a.current=!0,f())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(x=!0,n.tryUnsubscribe(),n.onStateChange=null,v)throw v}}function P4(t,e){return t===e}function E4(t,e,n,{pure:i,areStatesEqual:r=P4,areOwnPropsEqual:s=mo,areStatePropsEqual:a=mo,areMergedPropsEqual:l=mo,forwardRef:u=!1,context:d=ya}={}){const f=d,x=o4(t),v=a4(e),y=u4(n),C=!!t;return P=>{const S=P.displayName||P.name||"Component",R=`Connect(${S})`,L={shouldHandleStateChanges:C,displayName:R,wrappedComponentName:S,WrappedComponent:P,initMapStateToProps:x,initMapDispatchToProps:v,initMergeProps:y,areStatesEqual:r,areStatePropsEqual:a,areOwnPropsEqual:s,areMergedPropsEqual:l};function D(j){const[Z,$,H]=fn.useMemo(()=>{const{reactReduxForwardedRef:ne,...Oe}=j;return[j.context,ne,Oe]},[j]),q=fn.useMemo(()=>{let ne=f;return Z!=null&&Z.Consumer,ne},[Z,f]),ce=fn.useContext(q),le=!!j.store&&!!j.store.getState&&!!j.store.dispatch,me=!!ce&&!!ce.store,we=le?j.store:ce.store,Se=me?ce.getServerState:we.getState,ge=fn.useMemo(()=>r4(we.dispatch,L),[we]),[ie,_e]=fn.useMemo(()=>{if(!C)return S4;const ne=CA(we,le?void 0:ce.subscription),Oe=ne.notifyNestedSubs.bind(ne);return[ne,Oe]},[we,le,ce]),Te=fn.useMemo(()=>le?ce:{...ce,subscription:ie},[le,ce,ie]),ee=fn.useRef(void 0),He=fn.useRef(H),Ue=fn.useRef(void 0),K=fn.useRef(!1),oe=fn.useRef(!1),be=fn.useRef(void 0);zm(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const ue=fn.useMemo(()=>()=>Ue.current&&H===He.current?Ue.current:ge(we.getState(),H),[we,H]),Pe=fn.useMemo(()=>Oe=>ie?T4(C,we,ie,ge,He,ee,K,oe,Ue,_e,Oe):()=>{},[ie]);M4(C4,[He,ee,K,H,Ue,_e]);let Ee;try{Ee=PA(Pe,ue,Se?()=>ge(Se(),H):ue)}catch(ne){throw be.current&&(ne.message+=`
The error may be correlated with this previous error:
${be.current.stack}

`),ne}zm(()=>{be.current=void 0,Ue.current=void 0,ee.current=Ee});const ze=fn.useMemo(()=>fn.createElement(P,{...Ee,ref:$}),[$,P,Ee]);return fn.useMemo(()=>C?fn.createElement(q.Provider,{value:Te},ze):ze,[q,ze,Te])}const z=fn.memo(D);if(z.WrappedComponent=P,z.displayName=D.displayName=R,u){const Z=fn.forwardRef(function(H,q){return fn.createElement(z,{...H,reactReduxForwardedRef:q})});return Z.displayName=R,Z.WrappedComponent=P,Wy(Z,P)}return Wy(z,P)}}var A4=E4;function k4({store:t,context:e,children:n,serverState:i,stabilityCheck:r="once",identityFunctionCheck:s="once"}){const a=fn.useMemo(()=>{const d=CA(t);return{store:t,subscription:d,getServerState:i?()=>i:void 0,stabilityCheck:r,identityFunctionCheck:s}},[t,i,r,s]),l=fn.useMemo(()=>t.getState(),[t]);zm(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==t.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const u=e||ya;return fn.createElement(u.Provider,{value:a},n)}var R4=k4;function EA(t=ya){const e=t===ya?_A:bb(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var AA=EA();function I4(t=ya){const e=t===ya?AA:EA(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Ki=I4(),L4=MA;VB(OB.useSyncExternalStoreWithSelector);w4(F.useSyncExternalStore);function _i(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var D4=typeof Symbol=="function"&&Symbol.observable||"@@observable",zM=D4,b0=()=>Math.random().toString(36).substring(7).split("").join("."),N4={INIT:`@@redux/INIT${b0()}`,REPLACE:`@@redux/REPLACE${b0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${b0()}`},Wm=N4;function Os(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function kA(t,e,n){if(typeof t!="function")throw new Error(_i(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_i(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_i(1));return n(kA)(t,e)}let i=t,r=e,s=new Map,a=s,l=0,u=!1;function d(){a===s&&(a=new Map,s.forEach((P,S)=>{a.set(S,P)}))}function f(){if(u)throw new Error(_i(3));return r}function x(P){if(typeof P!="function")throw new Error(_i(4));if(u)throw new Error(_i(5));let S=!0;d();const R=l++;return a.set(R,P),function(){if(S){if(u)throw new Error(_i(6));S=!1,d(),a.delete(R),s=null}}}function v(P){if(!Os(P))throw new Error(_i(7));if(typeof P.type>"u")throw new Error(_i(8));if(typeof P.type!="string")throw new Error(_i(17));if(u)throw new Error(_i(9));try{u=!0,r=i(r,P)}finally{u=!1}return(s=a).forEach(R=>{R()}),P}function y(P){if(typeof P!="function")throw new Error(_i(10));i=P,v({type:Wm.REPLACE})}function C(){const P=x;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(_i(11));function R(){const D=S;D.next&&D.next(f())}return R(),{unsubscribe:P(R)}},[zM](){return this}}}return v({type:Wm.INIT}),{dispatch:v,subscribe:x,getState:f,replaceReducer:y,[zM]:C}}function F4(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Wm.INIT})>"u")throw new Error(_i(12));if(typeof n(void 0,{type:Wm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_i(13))})}function Mb(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const i=Object.keys(n);let r;try{F4(n)}catch(s){r=s}return function(a={},l){if(r)throw r;let u=!1;const d={};for(let f=0;f<i.length;f++){const x=i[f],v=n[x],y=a[x],C=v(y,l);if(typeof C>"u")throw l&&l.type,new Error(_i(14));d[x]=C,u=u||C!==y}return u=u||i.length!==Object.keys(a).length,u?d:a}}function jm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function O4(...t){return e=>(n,i)=>{const r=e(n,i);let s=()=>{throw new Error(_i(15))};const a={getState:r.getState,dispatch:(u,...d)=>s(u,...d)},l=t.map(u=>u(a));return s=jm(...l)(r.dispatch),{...r,dispatch:s}}}function RA(t){return Os(t)&&"type"in t&&typeof t.type=="string"}var Cb=Symbol.for("immer-nothing"),Dh=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function Si(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Tl=Object.getPrototypeOf;function ps(t){return!!t&&!!t[fr]}function ms(t){var e;return t?IA(t)||Array.isArray(t)||!!t[Dh]||!!((e=t.constructor)!=null&&e[Dh])||Kd(t)||Qd(t):!1}var B4=Object.prototype.constructor.toString();function IA(t){if(!t||typeof t!="object")return!1;const e=Tl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===B4}function V4(t){return ps(t)||Si(15,t),t[fr].base_}function ld(t,e){Pl(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function Pl(t){const e=t[fr];return e?e.type_:Array.isArray(t)?1:Kd(t)?2:Qd(t)?3:0}function cd(t,e){return Pl(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function w0(t,e){return Pl(t)===2?t.get(e):t[e]}function LA(t,e,n){const i=Pl(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function U4(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Kd(t){return t instanceof Map}function Qd(t){return t instanceof Set}function el(t){return t.copy_||t.base_}function jy(t,e){if(Kd(t))return new Map(t);if(Qd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=IA(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[fr];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],l=i[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(i[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(Tl(t),i)}else{const i=Tl(t);if(i!==null&&n)return{...t};const r=Object.create(i);return Object.assign(r,t)}}function Tb(t,e=!1){return Wg(t)||ps(t)||!ms(t)||(Pl(t)>1&&(t.set=t.add=t.clear=t.delete=z4),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>Tb(i,!0))),t}function z4(){Si(2)}function Wg(t){return Object.isFrozen(t)}var Hy={};function El(t){const e=Hy[t];return e||Si(0,t),e}function W4(t,e){Hy[t]||(Hy[t]=e)}var ud;function DA(){return ud}function j4(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function WM(t,e){e&&(El("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Xy(t){Gy(t),t.drafts_.forEach(H4),t.drafts_=null}function Gy(t){t===ud&&(ud=t.parent_)}function jM(t){return ud=j4(ud,t)}function H4(t){const e=t[fr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function HM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[fr].modified_&&(Xy(e),Si(4)),ms(t)&&(t=Hm(e,t),e.parent_||Xm(e,t)),e.patches_&&El("Patches").generateReplacementPatches_(n[fr].base_,t,e.patches_,e.inversePatches_)):t=Hm(e,n,[]),Xy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Cb?t:void 0}function Hm(t,e,n){if(Wg(e))return e;const i=e[fr];if(!i)return ld(e,(r,s)=>XM(t,i,e,r,s,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Xm(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let s=r,a=!1;i.type_===3&&(s=new Set(r),r.clear(),a=!0),ld(s,(l,u)=>XM(t,i,r,l,u,n,a)),Xm(t,r,!1),n&&t.patches_&&El("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function XM(t,e,n,i,r,s,a){if(ps(r)){const l=s&&e&&e.type_!==3&&!cd(e.assigned_,i)?s.concat(i):void 0,u=Hm(t,r,l);if(LA(n,i,u),ps(u))t.canAutoFreeze_=!1;else return}else a&&n.add(r);if(ms(r)&&!Wg(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Hm(t,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Xm(t,r)}}function Xm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Tb(e,n)}function X4(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:DA(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=Pb;n&&(r=[i],s=hd);const{revoke:a,proxy:l}=Proxy.revocable(r,s);return i.draft_=l,i.revoke_=a,l}var Pb={get(t,e){if(e===fr)return t;const n=el(t);if(!cd(n,e))return G4(t,n,e);const i=n[e];return t.finalized_||!ms(i)?i:i===S0(t.base_,e)?(M0(t),t.copy_[e]=$y(i,t)):i},has(t,e){return e in el(t)},ownKeys(t){return Reflect.ownKeys(el(t))},set(t,e,n){const i=NA(el(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=S0(el(t),e),s=r==null?void 0:r[fr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(U4(n,r)&&(n!==void 0||cd(t.base_,e)))return!0;M0(t),Yy(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return S0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,M0(t),Yy(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=el(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){Si(11)},getPrototypeOf(t){return Tl(t.base_)},setPrototypeOf(){Si(12)}},hd={};ld(Pb,(t,e)=>{hd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});hd.deleteProperty=function(t,e){return hd.set.call(this,t,e,void 0)};hd.set=function(t,e,n){return Pb.set.call(this,t[0],e,n,t[0])};function S0(t,e){const n=t[fr];return(n?el(n):t)[e]}function G4(t,e,n){var r;const i=NA(e,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(t.draft_):void 0}function NA(t,e){if(!(e in t))return;let n=Tl(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Tl(n)}}function Yy(t){t.modified_||(t.modified_=!0,t.parent_&&Yy(t.parent_))}function M0(t){t.copy_||(t.copy_=jy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Y4=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(u=s,...d){return a.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&Si(6),i!==void 0&&typeof i!="function"&&Si(7);let r;if(ms(e)){const s=jM(this),a=$y(e,void 0);let l=!0;try{r=n(a),l=!1}finally{l?Xy(s):Gy(s)}return WM(s,i),HM(r,s)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===Cb&&(r=void 0),this.autoFreeze_&&Tb(r,!0),i){const s=[],a=[];El("Patches").generateReplacementPatches_(e,r,s,a),i(s,a)}return r}else Si(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,u=>e(u,...l));let i,r;return[this.produce(e,n,(a,l)=>{i=a,r=l}),i,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ms(t)||Si(8),ps(t)&&(t=FA(t));const e=jM(this),n=$y(t,void 0);return n[fr].isManual_=!0,Gy(e),n}finishDraft(t,e){const n=t&&t[fr];(!n||!n.isManual_)&&Si(9);const{scope_:i}=n;return WM(i,e),HM(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const i=El("Patches").applyPatches_;return ps(t)?i(t,e):this.produce(t,r=>i(r,e))}};function $y(t,e){const n=Kd(t)?El("MapSet").proxyMap_(t,e):Qd(t)?El("MapSet").proxySet_(t,e):X4(t,e);return(e?e.scope_:DA()).drafts_.push(n),n}function FA(t){return ps(t)||Si(10,t),OA(t)}function OA(t){if(!ms(t)||Wg(t))return t;const e=t[fr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=jy(t,e.scope_.immer_.useStrictShallowCopy_)}else n=jy(t,!0);return ld(n,(i,r)=>{LA(n,i,OA(r))}),e&&(e.finalized_=!1),n}function $4(){const e="replace",n="add",i="remove";function r(v,y,C,k){switch(v.type_){case 0:case 2:return a(v,y,C,k);case 1:return s(v,y,C,k);case 3:return l(v,y,C,k)}}function s(v,y,C,k){let{base_:P,assigned_:S}=v,R=v.copy_;R.length<P.length&&([P,R]=[R,P],[C,k]=[k,C]);for(let L=0;L<P.length;L++)if(S[L]&&R[L]!==P[L]){const D=y.concat([L]);C.push({op:e,path:D,value:x(R[L])}),k.push({op:e,path:D,value:x(P[L])})}for(let L=P.length;L<R.length;L++){const D=y.concat([L]);C.push({op:n,path:D,value:x(R[L])})}for(let L=R.length-1;P.length<=L;--L){const D=y.concat([L]);k.push({op:i,path:D})}}function a(v,y,C,k){const{base_:P,copy_:S}=v;ld(v.assigned_,(R,L)=>{const D=w0(P,R),W=w0(S,R),z=L?cd(P,R)?e:n:i;if(D===W&&z===e)return;const j=y.concat(R);C.push(z===i?{op:z,path:j}:{op:z,path:j,value:W}),k.push(z===n?{op:i,path:j}:z===i?{op:n,path:j,value:x(D)}:{op:e,path:j,value:x(D)})})}function l(v,y,C,k){let{base_:P,copy_:S}=v,R=0;P.forEach(L=>{if(!S.has(L)){const D=y.concat([R]);C.push({op:i,path:D,value:L}),k.unshift({op:n,path:D,value:L})}R++}),R=0,S.forEach(L=>{if(!P.has(L)){const D=y.concat([R]);C.push({op:n,path:D,value:L}),k.unshift({op:i,path:D,value:L})}R++})}function u(v,y,C,k){C.push({op:e,path:[],value:y===Cb?void 0:y}),k.push({op:e,path:[],value:v})}function d(v,y){return y.forEach(C=>{const{path:k,op:P}=C;let S=v;for(let W=0;W<k.length-1;W++){const z=Pl(S);let j=k[W];typeof j!="string"&&typeof j!="number"&&(j=""+j),(z===0||z===1)&&(j==="__proto__"||j==="constructor")&&Si(19),typeof S=="function"&&j==="prototype"&&Si(19),S=w0(S,j),typeof S!="object"&&Si(18,k.join("/"))}const R=Pl(S),L=f(C.value),D=k[k.length-1];switch(P){case e:switch(R){case 2:return S.set(D,L);case 3:Si(16);default:return S[D]=L}case n:switch(R){case 1:return D==="-"?S.push(L):S.splice(D,0,L);case 2:return S.set(D,L);case 3:return S.add(L);default:return S[D]=L}case i:switch(R){case 1:return S.splice(D,1);case 2:return S.delete(D);case 3:return S.delete(C.value);default:return delete S[D]}default:Si(17,P)}}),v}function f(v){if(!ms(v))return v;if(Array.isArray(v))return v.map(f);if(Kd(v))return new Map(Array.from(v.entries()).map(([C,k])=>[C,f(k)]));if(Qd(v))return new Set(Array.from(v).map(f));const y=Object.create(Tl(v));for(const C in v)y[C]=f(v[C]);return cd(v,Dh)&&(y[Dh]=v[Dh]),y}function x(v){return ps(v)?f(v):v}W4("Patches",{applyPatches_:d,generatePatches_:r,generateReplacementPatches_:u})}var Mr=new Y4,qd=Mr.produce,BA=Mr.produceWithPatches.bind(Mr);Mr.setAutoFreeze.bind(Mr);Mr.setUseStrictShallowCopy.bind(Mr);var GM=Mr.applyPatches.bind(Mr);Mr.createDraft.bind(Mr);Mr.finishDraft.bind(Mr);function Z4(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function K4(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Q4(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${n}]`)}}var YM=t=>Array.isArray(t)?t:[t];function q4(t){const e=Array.isArray(t[0])?t[0]:t;return Q4(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function J4(t,e){const n=[],{length:i}=t;for(let r=0;r<i;r++)n.push(t[r].apply(null,e));return n}var eV=class{constructor(t){this.value=t}deref(){return this.value}},tV=typeof WeakRef<"u"?WeakRef:eV,nV=0,$M=1;function Yf(){return{s:nV,v:void 0,o:null,p:null}}function dd(t,e={}){let n=Yf();const{resultEqualityCheck:i}=e;let r,s=0;function a(){var x;let l=n;const{length:u}=arguments;for(let v=0,y=u;v<y;v++){const C=arguments[v];if(typeof C=="function"||typeof C=="object"&&C!==null){let k=l.o;k===null&&(l.o=k=new WeakMap);const P=k.get(C);P===void 0?(l=Yf(),k.set(C,l)):l=P}else{let k=l.p;k===null&&(l.p=k=new Map);const P=k.get(C);P===void 0?(l=Yf(),k.set(C,l)):l=P}}const d=l;let f;if(l.s===$M)f=l.v;else if(f=t.apply(null,arguments),s++,i){const v=((x=r==null?void 0:r.deref)==null?void 0:x.call(r))??r;v!=null&&i(v,f)&&(f=v,s!==0&&s--),r=typeof f=="object"&&f!==null||typeof f=="function"?new tV(f):f}return d.s=$M,d.v=f,f}return a.clearCache=()=>{n=Yf(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function VA(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,i=(...r)=>{let s=0,a=0,l,u={},d=r.pop();typeof d=="object"&&(u=d,d=r.pop()),Z4(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...u},{memoize:x,memoizeOptions:v=[],argsMemoize:y=dd,argsMemoizeOptions:C=[],devModeChecks:k={}}=f,P=YM(v),S=YM(C),R=q4(r),L=x(function(){return s++,d.apply(null,arguments)},...P),D=y(function(){a++;const z=J4(R,arguments);return l=L.apply(null,z),l},...S);return Object.assign(D,{resultFunc:d,memoizedResultFunc:L,dependencies:R,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:x,argsMemoize:y})};return Object.assign(i,{withTypes:()=>i}),i}var jg=VA(dd),iV=Object.assign((t,e=jg)=>{K4(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),i=n.map(s=>t[s]);return e(i,(...s)=>s.reduce((a,l,u)=>(a[n[u]]=l,a),{}))},{withTypes:()=>iV});function UA(t){return({dispatch:n,getState:i})=>r=>s=>typeof s=="function"?s(n,i,t):r(s)}var rV=UA(),sV=UA,aV=(...t)=>{const e=VA(...t),n=Object.assign((...i)=>{const r=e(...i),s=(a,...l)=>r(ps(a)?FA(a):a,...l);return Object.assign(s,r),s},{withTypes:()=>n});return n};aV(dd);var oV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jm:jm.apply(null,arguments)},lV=t=>t&&typeof t.match=="function";function Gi(t,e){function n(...i){if(e){let r=e(...i);if(!r)throw new Error(Ni(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>RA(i)&&i.type===t,n}var zA=class xh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,xh.prototype)}static get[Symbol.species](){return xh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new xh(...e[0].concat(this)):new xh(...e.concat(this))}};function ZM(t){return ms(t)?qd(t,()=>{}):t}function KM(t,e,n){if(t.has(e)){let r=t.get(e);return n.update&&(r=n.update(r,e,t),t.set(e,r)),r}if(!n.insert)throw new Error(Ni(10));const i=n.insert(e,t);return t.set(e,i),i}function cV(t){return typeof t=="boolean"}var uV=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let a=new zA;return n&&(cV(n)?a.push(rV):a.push(sV(n.extraArgument))),a},Ic="RTK_autoBatch",Qu=()=>t=>({payload:t,meta:{[Ic]:!0}}),WA=t=>e=>{setTimeout(e,t)},hV=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:WA(10),dV=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let r=!0,s=!1,a=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?hV:t.type==="callback"?t.queueNotification:WA(t.timeout),d=()=>{a=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},i,{subscribe(f){const x=()=>r&&f(),v=i.subscribe(x);return l.add(f),()=>{v(),l.delete(f)}},dispatch(f){var x;try{return r=!((x=f==null?void 0:f.meta)!=null&&x[Ic]),s=!r,s&&(a||(a=!0,u(d))),i.dispatch(f)}finally{r=!0}}})},fV=t=>function(n){const{autoBatch:i=!0}=n??{};let r=new zA(t);return i&&r.push(dV(typeof i=="object"?i:void 0)),r},pV=!0;function mV(t){const e=uV(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(Os(n))l=Mb(n);else throw new Error(Ni(1));let u;typeof i=="function"?u=i(e):u=e();let d=jm;r&&(d=oV({trace:!pV,...typeof r=="object"&&r}));const f=O4(...u),x=fV(f);let v=typeof a=="function"?a(x):x();const y=d(...v);return kA(l,s,y)}function jA(t){const e={},n=[];let i;const r={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Ni(28));if(l in e)throw new Error(Ni(29));return e[l]=a,r},addMatcher(s,a){return n.push({matcher:s,reducer:a}),r},addDefaultCase(s){return i=s,r}};return t(r),[e,n,i]}function gV(t){return typeof t=="function"}function xV(t,e){let[n,i,r]=jA(e),s;if(gV(t))s=()=>ZM(t());else{const l=ZM(t);s=()=>l}function a(l=s(),u){let d=[n[u.type],...i.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[r]),d.reduce((f,x)=>{if(x)if(ps(f)){const y=x(f,u);return y===void 0?f:y}else{if(ms(f))return qd(f,v=>x(v,u));{const v=x(f,u);if(v===void 0){if(f===null)return f;throw new Error(Ni(9))}return v}}return f},l)}return a.getInitialState=s,a}var vV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Eb=(t=21)=>{let e="",n=t;for(;n--;)e+=vV[Math.random()*64|0];return e},HA=(t,e)=>lV(t)?t.match(e):t(e);function _a(...t){return e=>t.some(n=>HA(n,e))}function Nh(...t){return e=>t.every(n=>HA(n,e))}function Hg(t,e){if(!t||!t.meta)return!1;const n=typeof t.meta.requestId=="string",i=e.indexOf(t.meta.requestStatus)>-1;return n&&i}function Jd(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function Ab(...t){return t.length===0?e=>Hg(e,["pending"]):Jd(t)?_a(...t.map(e=>e.pending)):Ab()(t[0])}function lu(...t){return t.length===0?e=>Hg(e,["rejected"]):Jd(t)?_a(...t.map(e=>e.rejected)):lu()(t[0])}function Xg(...t){const e=n=>n&&n.meta&&n.meta.rejectedWithValue;return t.length===0?Nh(lu(...t),e):Jd(t)?Nh(lu(...t),e):Xg()(t[0])}function _o(...t){return t.length===0?e=>Hg(e,["fulfilled"]):Jd(t)?_a(...t.map(e=>e.fulfilled)):_o()(t[0])}function Zy(...t){return t.length===0?e=>Hg(e,["pending","fulfilled","rejected"]):Jd(t)?_a(...t.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):Zy()(t[0])}var yV=["name","message","stack","code"],C0=class{constructor(t,e){Yx(this,"_type");this.payload=t,this.meta=e}},QM=class{constructor(t,e){Yx(this,"_type");this.payload=t,this.meta=e}},_V=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of yV)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},qM=(()=>{function t(e,n,i){const r=Gi(e+"/fulfilled",(u,d,f,x)=>({payload:u,meta:{...x||{},arg:f,requestId:d,requestStatus:"fulfilled"}})),s=Gi(e+"/pending",(u,d,f)=>({payload:void 0,meta:{...f||{},arg:d,requestId:u,requestStatus:"pending"}})),a=Gi(e+"/rejected",(u,d,f,x,v)=>({payload:x,error:(i&&i.serializeError||_V)(u||"Rejected"),meta:{...v||{},arg:f,requestId:d,rejectedWithValue:!!x,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function l(u){return(d,f,x)=>{const v=i!=null&&i.idGenerator?i.idGenerator(u):Eb(),y=new AbortController;let C,k;function P(R){k=R,y.abort()}const S=async function(){var D,W;let R;try{let z=(D=i==null?void 0:i.condition)==null?void 0:D.call(i,u,{getState:f,extra:x});if(wV(z)&&(z=await z),z===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const j=new Promise((Z,$)=>{C=()=>{$({name:"AbortError",message:k||"Aborted"})},y.signal.addEventListener("abort",C)});d(s(v,u,(W=i==null?void 0:i.getPendingMeta)==null?void 0:W.call(i,{requestId:v,arg:u},{getState:f,extra:x}))),R=await Promise.race([j,Promise.resolve(n(u,{dispatch:d,getState:f,extra:x,requestId:v,signal:y.signal,abort:P,rejectWithValue:(Z,$)=>new C0(Z,$),fulfillWithValue:(Z,$)=>new QM(Z,$)})).then(Z=>{if(Z instanceof C0)throw Z;return Z instanceof QM?r(Z.payload,v,u,Z.meta):r(Z,v,u)})])}catch(z){R=z instanceof C0?a(null,v,u,z.payload,z.meta):a(z,v,u)}finally{C&&y.signal.removeEventListener("abort",C)}return i&&!i.dispatchConditionRejection&&a.match(R)&&R.meta.condition||d(R),R}();return Object.assign(S,{abort:P,requestId:v,arg:u,unwrap(){return S.then(bV)}})}}return Object.assign(l,{pending:s,rejected:a,fulfilled:r,settled:_a(a,r),typePrefix:e})}return t.withTypes=()=>t,t})();function bV(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function wV(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var SV=Symbol.for("rtk-slice-createasyncthunk");function MV(t,e){return`${t}/${e}`}function CV({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[SV];return function(r){const{name:s,reducerPath:a=s}=r;if(!s)throw new Error(Ni(11));typeof process<"u";const l=(typeof r.reducers=="function"?r.reducers(PV()):r.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(L,D){const W=typeof L=="string"?L:L.type;if(!W)throw new Error(Ni(12));if(W in d.sliceCaseReducersByType)throw new Error(Ni(13));return d.sliceCaseReducersByType[W]=D,f},addMatcher(L,D){return d.sliceMatchers.push({matcher:L,reducer:D}),f},exposeAction(L,D){return d.actionCreators[L]=D,f},exposeCaseReducer(L,D){return d.sliceCaseReducersByName[L]=D,f}};u.forEach(L=>{const D=l[L],W={reducerName:L,type:MV(s,L),createNotation:typeof r.reducers=="function"};AV(D)?RV(W,D,f,e):EV(W,D,f)});function x(){const[L={},D=[],W=void 0]=typeof r.extraReducers=="function"?jA(r.extraReducers):[r.extraReducers],z={...L,...d.sliceCaseReducersByType};return xV(r.initialState,j=>{for(let Z in z)j.addCase(Z,z[Z]);for(let Z of d.sliceMatchers)j.addMatcher(Z.matcher,Z.reducer);for(let Z of D)j.addMatcher(Z.matcher,Z.reducer);W&&j.addDefaultCase(W)})}const v=L=>L,y=new Map;let C;function k(L,D){return C||(C=x()),C(L,D)}function P(){return C||(C=x()),C.getInitialState()}function S(L,D=!1){function W(j){let Z=j[L];return typeof Z>"u"&&D&&(Z=P()),Z}function z(j=v){const Z=KM(y,D,{insert:()=>new WeakMap});return KM(Z,j,{insert:()=>{const $={};for(const[H,q]of Object.entries(r.selectors??{}))$[H]=TV(q,j,P,D);return $}})}return{reducerPath:L,getSelectors:z,get selectors(){return z(W)},selectSlice:W}}const R={name:s,reducer:k,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:P,...S(a),injectInto(L,{reducerPath:D,...W}={}){const z=D??a;return L.inject({reducerPath:z,reducer:k},W),{...R,...S(z,!0)}}};return R}}function TV(t,e,n,i){function r(s,...a){let l=e(s);return typeof l>"u"&&i&&(l=n()),t(l,...a)}return r.unwrapped=t,r}var tr=CV();function PV(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function EV({type:t,reducerName:e,createNotation:n},i,r){let s,a;if("reducer"in i){if(n&&!kV(i))throw new Error(Ni(17));s=i.reducer,a=i.prepare}else s=i;r.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Gi(t,a):Gi(t))}function AV(t){return t._reducerDefinitionType==="asyncThunk"}function kV(t){return t._reducerDefinitionType==="reducerWithPrepare"}function RV({type:t,reducerName:e},n,i,r){if(!r)throw new Error(Ni(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:u,settled:d,options:f}=n,x=r(t,s,f);i.exposeAction(e,x),a&&i.addCase(x.fulfilled,a),l&&i.addCase(x.pending,l),u&&i.addCase(x.rejected,u),d&&i.addMatcher(x.settled,d),i.exposeCaseReducer(e,{fulfilled:a||$f,pending:l||$f,rejected:u||$f,settled:d||$f})}function $f(){}var IV=(t,e)=>{if(typeof t!="function")throw new Error(Ni(32))},kb="listenerMiddleware",LV=t=>{let{type:e,actionCreator:n,matcher:i,predicate:r,effect:s}=t;if(e)r=Gi(e).match;else if(n)e=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error(Ni(21));return IV(s),{predicate:r,type:e,effect:s}},DV=Object.assign(t=>{const{type:e,predicate:n,effect:i}=LV(t);return{id:Eb(),effect:i,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ni(22))}}},{withTypes:()=>DV}),NV=Object.assign(Gi(`${kb}/add`),{withTypes:()=>NV});Gi(`${kb}/removeAll`);var FV=Object.assign(Gi(`${kb}/remove`),{withTypes:()=>FV});function Ni(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const OV={isDark:JSON.parse(localStorage.getItem("isDark")||"false")};let XA=tr({name:"DarkMode",initialState:OV,reducers:{toggleDark:t=>{t.isDark=!t.isDark,localStorage.setItem("isDark",JSON.stringify(t.isDark))}}});const{toggleDark:BV}=XA.actions,Gg=t=>t.dark.isDark,VV=XA.reducer;var GA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},JM=wi.createContext&&wi.createContext(GA),UV=["attr","size","title"];function zV(t,e){if(t==null)return{};var n=WV(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function WV(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gm.apply(this,arguments)}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(i){jV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function jV(t,e,n){return e=HV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HV(t){var e=XV(t,"string");return typeof e=="symbol"?e:e+""}function XV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YA(t){return t&&t.map((e,n)=>wi.createElement(e.tag,Ym({key:n},e.attr),YA(e.child)))}function ef(t){return e=>wi.createElement(GV,Gm({attr:Ym({},t.attr)},e),YA(t.child))}function GV(t){var e=n=>{var{attr:i,size:r,title:s}=t,a=zV(t,UV),l=r||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),wi.createElement("svg",Gm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:u,style:Ym(Ym({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&wi.createElement("title",null,s),t.children)};return JM!==void 0?wi.createElement(JM.Consumer,null,n=>e(n)):e(GA)}const ro=t=>t.replace(/([A-Z])/g," $1").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),YV=t=>{const e=t.split(" ");let n="";if(e.length>1)for(let i=0;i<e.length;i++)n+=e[0].toUpperCase();else return t[0].toUpperCase();return n},tC={sm:{dimensions:"30px",fontSize:"1rem",maxHeight:""},md:{dimensions:"60px",fontSize:"2rem"},lg:{dimensions:"120px",fontSize:"3rem"}},$A=({name:t,size:e="sm",avatarColor:n="098585"})=>{if(!t)return null;const i=YV(t),r=sw.find(l=>l.background===n),s=tC[e].dimensions,a=tC[e].fontSize;return w.jsx("div",{style:{backgroundColor:n,width:s,height:s,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",color:(r==null?void 0:r.text)||"white",fontSize:a,fontWeight:"bold"},children:w.jsx("div",{style:{display:"flex",overflow:"hidden"},children:i})})};function $V(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Rb(...t){return e=>t.forEach(n=>$V(n,e))}function sn(...t){return F.useCallback(Rb(...t),t)}var ba=F.forwardRef((t,e)=>{const{children:n,...i}=t,r=F.Children.toArray(n),s=r.find(ZV);if(s){const a=s.props.children,l=r.map(u=>u===s?F.Children.count(a)>1?F.Children.only(null):F.isValidElement(a)?a.props.children:null:u);return w.jsx(Ky,{...i,ref:e,children:F.isValidElement(a)?F.cloneElement(a,void 0,l):null})}return w.jsx(Ky,{...i,ref:e,children:n})});ba.displayName="Slot";var Ky=F.forwardRef((t,e)=>{const{children:n,...i}=t;if(F.isValidElement(n)){const r=QV(n);return F.cloneElement(n,{...KV(i,n.props),ref:e?Rb(e,r):r})}return F.Children.count(n)>1?F.Children.only(null):null});Ky.displayName="SlotClone";var ZA=({children:t})=>w.jsx(w.Fragment,{children:t});function ZV(t){return F.isValidElement(t)&&t.type===ZA}function KV(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{s(...l),r(...l)}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function QV(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function KA(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=KA(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function qV(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=KA(t))&&(i&&(i+=" "),i+=e);return i}const nC=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,iC=qV,Yg=(t,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return iC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:s}=e,a=Object.keys(r).map(d=>{const f=n==null?void 0:n[d],x=s==null?void 0:s[d];if(f===null)return null;const v=nC(f)||nC(x);return r[d][v]}),l=n&&Object.entries(n).reduce((d,f)=>{let[x,v]=f;return v===void 0||(d[x]=v),d},{}),u=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,f)=>{let{class:x,className:v,...y}=f;return Object.entries(y).every(C=>{let[k,P]=C;return Array.isArray(P)?P.includes({...s,...l}[k]):{...s,...l}[k]===P})?[...d,x,v]:d},[]);return iC(t,a,u,n==null?void 0:n.class,n==null?void 0:n.className)};function QA(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=QA(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function JV(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=QA(t))&&(i&&(i+=" "),i+=e);return i}const Ib="-";function eU(t){const e=nU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;function r(a){const l=a.split(Ib);return l[0]===""&&l.length!==1&&l.shift(),qA(l,e)||tU(a)}function s(a,l){const u=n[a]||[];return l&&i[a]?[...u,...i[a]]:u}return{getClassGroupId:r,getConflictingClassGroupIds:s}}function qA(t,e){var a;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?qA(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(Ib);return(a=e.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId}const rC=/^\[(.+)\]$/;function tU(t){if(rC.test(t)){const e=rC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function nU(t){const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return rU(Object.entries(t.classGroups),n).forEach(([s,a])=>{Qy(a,i,s,e)}),i}function Qy(t,e,n,i){t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:sC(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(iU(r)){Qy(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,a])=>{Qy(a,sC(e,s),n,i)})})}function sC(t,e){let n=t;return e.split(Ib).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n}function iU(t){return t.isThemeGetter}function rU(t,e){return e?t.map(([n,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,r]}):t}function sU(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;function r(s,a){n.set(s,a),e++,e>t&&(e=0,i=n,n=new Map)}return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=i.get(s))!==void 0)return r(s,a),a},set(s,a){n.has(s)?n.set(s,a):r(s,a)}}}const JA="!";function aU(t){const e=t.separator,n=e.length===1,i=e[0],r=e.length;return function(a){const l=[];let u=0,d=0,f;for(let k=0;k<a.length;k++){let P=a[k];if(u===0){if(P===i&&(n||a.slice(k,k+r)===e)){l.push(a.slice(d,k)),d=k+r;continue}if(P==="/"){f=k;continue}}P==="["?u++:P==="]"&&u--}const x=l.length===0?a:a.substring(d),v=x.startsWith(JA),y=v?x.substring(1):x,C=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:C}}}function oU(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e}function lU(t){return{cache:sU(t.cacheSize),splitModifiers:aU(t),...eU(t)}}const cU=/\s+/;function uU(t,e){const{splitModifiers:n,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=new Set;return t.trim().split(cU).map(a=>{const{modifiers:l,hasImportantModifier:u,baseClassName:d,maybePostfixModifierPosition:f}=n(a);let x=i(f?d.substring(0,f):d),v=!!f;if(!x){if(!f)return{isTailwindClass:!1,originalClassName:a};if(x=i(d),!x)return{isTailwindClass:!1,originalClassName:a};v=!1}const y=oU(l).join(":");return{isTailwindClass:!0,modifierId:u?y+JA:y,classGroupId:x,originalClassName:a,hasPostfixModifier:v}}).reverse().filter(a=>{if(!a.isTailwindClass)return!0;const{modifierId:l,classGroupId:u,hasPostfixModifier:d}=a,f=l+u;return s.has(f)?!1:(s.add(f),r(u,d).forEach(x=>s.add(l+x)),!0)}).reverse().map(a=>a.originalClassName).join(" ")}function hU(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ek(e))&&(i&&(i+=" "),i+=n);return i}function ek(t){if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=ek(t[i]))&&(n&&(n+=" "),n+=e);return n}function dU(t,...e){let n,i,r,s=a;function a(u){const d=e.reduce((f,x)=>x(f),t());return n=lU(d),i=n.cache.get,r=n.cache.set,s=l,l(u)}function l(u){const d=i(u);if(d)return d;const f=uU(u,n);return r(u,f),f}return function(){return s(hU.apply(null,arguments))}}function In(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const tk=/^\[(?:([a-z-]+):)?(.+)\]$/i,fU=/^\d+\/\d+$/,pU=new Set(["px","full","screen"]),mU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function $s(t){return ul(t)||pU.has(t)||fU.test(t)}function Ia(t){return Au(t,"length",PU)}function ul(t){return!!t&&!Number.isNaN(Number(t))}function Zf(t){return Au(t,"number",ul)}function qu(t){return!!t&&Number.isInteger(Number(t))}function _U(t){return t.endsWith("%")&&ul(t.slice(0,-1))}function en(t){return tk.test(t)}function La(t){return mU.test(t)}const bU=new Set(["length","size","percentage"]);function wU(t){return Au(t,bU,nk)}function SU(t){return Au(t,"position",nk)}const MU=new Set(["image","url"]);function CU(t){return Au(t,MU,AU)}function TU(t){return Au(t,"",EU)}function Ju(){return!0}function Au(t,e,n){const i=tk.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1}function PU(t){return gU.test(t)&&!xU.test(t)}function nk(){return!1}function EU(t){return vU.test(t)}function AU(t){return yU.test(t)}function kU(){const t=In("colors"),e=In("spacing"),n=In("blur"),i=In("brightness"),r=In("borderColor"),s=In("borderRadius"),a=In("borderSpacing"),l=In("borderWidth"),u=In("contrast"),d=In("grayscale"),f=In("hueRotate"),x=In("invert"),v=In("gap"),y=In("gradientColorStops"),C=In("gradientColorStopPositions"),k=In("inset"),P=In("margin"),S=In("opacity"),R=In("padding"),L=In("saturate"),D=In("scale"),W=In("sepia"),z=In("skew"),j=In("space"),Z=In("translate"),$=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",en,e],ce=()=>[en,e],le=()=>["",$s,Ia],me=()=>["auto",ul,en],we=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Se=()=>["solid","dashed","dotted","double","none"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],_e=()=>["","0",en],Te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[ul,Zf],He=()=>[ul,en];return{cacheSize:500,separator:":",theme:{colors:[Ju],spacing:[$s,Ia],blur:["none","",La,en],brightness:ee(),borderColor:[t],borderRadius:["none","","full",La,en],borderSpacing:ce(),borderWidth:le(),contrast:ee(),grayscale:_e(),hueRotate:He(),invert:_e(),gap:ce(),gradientColorStops:[t],gradientColorStopPositions:[_U,Ia],inset:q(),margin:q(),opacity:ee(),padding:ce(),saturate:ee(),scale:ee(),sepia:_e(),skew:He(),space:ce(),translate:ce()},classGroups:{aspect:[{aspect:["auto","square","video",en]}],container:["container"],columns:[{columns:[La]}],"break-after":[{"break-after":Te()}],"break-before":[{"break-before":Te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...we(),en]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qu,en]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",en]}],grow:[{grow:_e()}],shrink:[{shrink:_e()}],order:[{order:["first","last","none",qu,en]}],"grid-cols":[{"grid-cols":[Ju]}],"col-start-end":[{col:["auto",{span:["full",qu,en]},en]}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":[Ju]}],"row-start-end":[{row:["auto",{span:[qu,en]},en]}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",en]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",en]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",en,e]}],"min-w":[{"min-w":[en,e,"min","max","fit"]}],"max-w":[{"max-w":[en,e,"none","full","min","max","fit","prose",{screen:[La]},La]}],h:[{h:[en,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[en,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[en,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[en,e,"auto","min","max","fit"]}],"font-size":[{text:["base",La,Ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zf]}],"font-family":[{font:[Ju]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",en]}],"line-clamp":[{"line-clamp":["none",ul,Zf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$s,en]}],"list-image":[{"list-image":["none",en]}],"list-style-type":[{list:["none","disc","decimal",en]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$s,Ia]}],"underline-offset":[{"underline-offset":["auto",$s,en]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ce()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",en]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",en]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...we(),SU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...Se(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:Se()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...Se()]}],"outline-offset":[{"outline-offset":[$s,en]}],"outline-w":[{outline:[$s,Ia]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[$s,Ia]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",La,TU]}],"shadow-color":[{shadow:[Ju]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...ge(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ge()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",La,en]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[x]}],saturate:[{saturate:[L]}],sepia:[{sepia:[W]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[W]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",en]}],duration:[{duration:He()}],ease:[{ease:["linear","in","out","in-out",en]}],delay:[{delay:He()}],animate:[{animate:["none","spin","ping","pulse","bounce",en]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[qu,en]}],"translate-x":[{"translate-x":[Z]}],"translate-y":[{"translate-y":[Z]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",en]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",en]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ce()}],"scroll-mx":[{"scroll-mx":ce()}],"scroll-my":[{"scroll-my":ce()}],"scroll-ms":[{"scroll-ms":ce()}],"scroll-me":[{"scroll-me":ce()}],"scroll-mt":[{"scroll-mt":ce()}],"scroll-mr":[{"scroll-mr":ce()}],"scroll-mb":[{"scroll-mb":ce()}],"scroll-ml":[{"scroll-ml":ce()}],"scroll-p":[{"scroll-p":ce()}],"scroll-px":[{"scroll-px":ce()}],"scroll-py":[{"scroll-py":ce()}],"scroll-ps":[{"scroll-ps":ce()}],"scroll-pe":[{"scroll-pe":ce()}],"scroll-pt":[{"scroll-pt":ce()}],"scroll-pr":[{"scroll-pr":ce()}],"scroll-pb":[{"scroll-pb":ce()}],"scroll-pl":[{"scroll-pl":ce()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",en]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[$s,Ia,Zf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const RU=dU(kU);function Pt(...t){return RU(JV(t))}const qy=Yg("font-markazi inline-flex items-center justify-center whitespace-nowrap rounded-md transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none disabled:opacity-50 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 shadow hover:bg-slate-900 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50",destructive:"bg-red-100 text-slate-900 border border-red-400 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900",outline:"border border-slate-800 hover:bg-slate-100 shadow-md dark:border-slate-800 dark:bg-slate-800 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 shadow-sm hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"bg-inherit text-slate-200 hover:bg-inherit dark:text-slate-100 dark:hover:inherit",link:"text-slate-900 underline-offset-4 hover:underline hover:decoration-default dark:text-slate-50",success:"border bg-success text-slate-50 shadow-sm dark:bg-success dark:text-slate-50",warning:"border bg-warning text-slate-50 shadow-sm dark:bg-warning dark:text-slate-50",error:"border bg-error text-slate-50 shadow-sm  dark:bg-error dark:text-slate-50",navbutton:"font-lexend bg-white text-lg text-slate-900 mx-1 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-100 dark:hover:bg-slate-500",sidenavbutton:`
          text-2xl text-gray-700 bg-transparent hover:text-default hover:decoration-default 
          dark:text-gray-200 dark:hover:text-gray-200 dark:bg-transparent dark:hover:text-default
          relative before:absolute before:bottom-0 before:left-0 before:w-0 before:h-[1px] before:bg-default before:transition-all before:duration-500
          hover:before:w-full px-0
        `,accent:"bg-default text-slate-50 hover:bg-default/80 dark:bg-default dark:text-slate-50 dark:hover:bg-default/90"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ik=F.forwardRef(({className:t,variant:e,size:n,asChild:i=!1,...r},s)=>{const a=i?ba:"button";return w.jsx(a,{className:Pt(qy({variant:e,size:n,className:t})),ref:s,...r})});ik.displayName="Button";const Kt=({type:t="button",content:e,image:n,onClick:i=()=>{},variant:r,disabled:s,overrideStyles:a,size:l})=>w.jsxs(ik,{type:t,size:l,onClick:u=>i==null?void 0:i(u),variant:r,className:a,disabled:s,children:[e?w.jsx(w.Fragment,{children:e}):w.jsx(w.Fragment,{}),n?w.jsx("img",{src:n,width:"25px",height:"25px"}):w.jsx(w.Fragment,{})]}),aC=localStorage.getItem("timezone"),IU={timezone:aC?JSON.parse(aC):"America/New_York"},rk=tr({name:"timezone",initialState:IU,reducers:{setTimeZone:(t,e)=>{t.timezone=e.payload,localStorage.setItem("timezone",JSON.stringify(t.timezone))}}}),{setTimeZone:LU}=rk.actions,ku=t=>t.timezone.timezone,DU=rk.reducer,NU=()=>{const t=un(ku),e=new Date().toLocaleString("en-US",{timeZone:t});return w.jsx("div",{className:"flex justify-center align-center items-center text-2xs dark:text-slate-200",children:e})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function so(t,e){return typeof t=="function"?t(e):t}function Cr(t,e){return n=>{e.setState(i=>({...i,[t]:so(n,i[t])}))}}function $g(t){return t instanceof Function}function FU(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function OU(t,e){const n=[],i=r=>{r.forEach(s=>{n.push(s);const a=e(s);a!=null&&a.length&&i(a)})};return i(t),n}function Bt(t,e,n){let i=[],r;return s=>{let a;n.key&&n.debug&&(a=Date.now());const l=t(s);if(!(l.length!==i.length||l.some((f,x)=>i[x]!==f)))return r;i=l;let d;if(n.key&&n.debug&&(d=Date.now()),r=e(...l),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const f=Math.round((Date.now()-a)*100)/100,x=Math.round((Date.now()-d)*100)/100,v=x/16,y=(C,k)=>{for(C=String(C);C.length<k;)C=" "+C;return C};console.info(`%c ${y(x,5)} /${y(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n==null?void 0:n.key)}return r}}function Vt(t,e,n,i){return{debug:()=>{var r;return(r=t==null?void 0:t.debugAll)!=null?r:t[e]},key:!1,onChange:i}}function BU(t,e,n,i){const r=()=>{var a;return(a=s.getValue())!=null?a:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(i),renderValue:r,getContext:Bt(()=>[t,n,e,s],(a,l,u,d)=>({table:a,column:l,row:u,cell:d,getValue:d.getValue,renderValue:d.renderValue}),Vt(t.options,"debugCells"))};return t._features.forEach(a=>{a.createCell==null||a.createCell(s,n,e,t)},{}),s}function VU(t,e,n,i){var r,s;const l={...t._getDefaultColumnDef(),...e},u=l.accessorKey;let d=(r=(s=l.id)!=null?s:u?u.replace(".","_"):void 0)!=null?r:typeof l.header=="string"?l.header:void 0,f;if(l.accessorFn?f=l.accessorFn:u&&(u.includes(".")?f=v=>{let y=v;for(const k of u.split(".")){var C;y=(C=y)==null?void 0:C[k]}return y}:f=v=>v[l.accessorKey]),!d)throw new Error;let x={id:`${String(d)}`,accessorFn:f,parent:i,depth:n,columnDef:l,columns:[],getFlatColumns:Bt(()=>[!0],()=>{var v;return[x,...(v=x.columns)==null?void 0:v.flatMap(y=>y.getFlatColumns())]},Vt(t.options,"debugColumns")),getLeafColumns:Bt(()=>[t._getOrderColumnsFn()],v=>{var y;if((y=x.columns)!=null&&y.length){let C=x.columns.flatMap(k=>k.getLeafColumns());return v(C)}return[x]},Vt(t.options,"debugColumns"))};for(const v of t._features)v.createColumn==null||v.createColumn(x,t);return x}const Ai="debugHeaders";function oC(t,e,n){var i;let s={id:(i=n.id)!=null?i:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],l=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(l),a.push(u)};return l(s),a},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(a=>{a.createHeader==null||a.createHeader(s,t)}),s}const UU={createTable:t=>{t.getHeaderGroups=Bt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>{var s,a;const l=(s=i==null?void 0:i.map(x=>n.find(v=>v.id===x)).filter(Boolean))!=null?s:[],u=(a=r==null?void 0:r.map(x=>n.find(v=>v.id===x)).filter(Boolean))!=null?a:[],d=n.filter(x=>!(i!=null&&i.includes(x.id))&&!(r!=null&&r.includes(x.id)));return Kf(e,[...l,...d,...u],t)},Vt(t.options,Ai)),t.getCenterHeaderGroups=Bt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>(n=n.filter(s=>!(i!=null&&i.includes(s.id))&&!(r!=null&&r.includes(s.id))),Kf(e,n,t,"center")),Vt(t.options,Ai)),t.getLeftHeaderGroups=Bt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,i)=>{var r;const s=(r=i==null?void 0:i.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?r:[];return Kf(e,s,t,"left")},Vt(t.options,Ai)),t.getRightHeaderGroups=Bt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,i)=>{var r;const s=(r=i==null?void 0:i.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?r:[];return Kf(e,s,t,"right")},Vt(t.options,Ai)),t.getFooterGroups=Bt(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Vt(t.options,Ai)),t.getLeftFooterGroups=Bt(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Vt(t.options,Ai)),t.getCenterFooterGroups=Bt(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Vt(t.options,Ai)),t.getRightFooterGroups=Bt(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Vt(t.options,Ai)),t.getFlatHeaders=Bt(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Vt(t.options,Ai)),t.getLeftFlatHeaders=Bt(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Vt(t.options,Ai)),t.getCenterFlatHeaders=Bt(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Vt(t.options,Ai)),t.getRightFlatHeaders=Bt(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Vt(t.options,Ai)),t.getCenterLeafHeaders=Bt(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Vt(t.options,Ai)),t.getLeftLeafHeaders=Bt(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Vt(t.options,Ai)),t.getRightLeafHeaders=Bt(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Vt(t.options,Ai)),t.getLeafHeaders=Bt(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,i)=>{var r,s,a,l,u,d;return[...(r=(s=e[0])==null?void 0:s.headers)!=null?r:[],...(a=(l=n[0])==null?void 0:l.headers)!=null?a:[],...(u=(d=i[0])==null?void 0:d.headers)!=null?u:[]].map(f=>f.getLeafHeaders()).flat()},Vt(t.options,Ai))}};function Kf(t,e,n,i){var r,s;let a=0;const l=function(v,y){y===void 0&&(y=1),a=Math.max(a,y),v.filter(C=>C.getIsVisible()).forEach(C=>{var k;(k=C.columns)!=null&&k.length&&l(C.columns,y+1)},0)};l(t);let u=[];const d=(v,y)=>{const C={depth:y,id:[i,`${y}`].filter(Boolean).join("_"),headers:[]},k=[];v.forEach(P=>{const S=[...k].reverse()[0],R=P.column.depth===C.depth;let L,D=!1;if(R&&P.column.parent?L=P.column.parent:(L=P.column,D=!0),S&&(S==null?void 0:S.column)===L)S.subHeaders.push(P);else{const W=oC(n,L,{id:[i,y,L.id,P==null?void 0:P.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${k.filter(z=>z.column===L).length}`:void 0,depth:y,index:k.length});W.subHeaders.push(P),k.push(W)}C.headers.push(P),P.headerGroup=C}),u.push(C),y>0&&d(k,y-1)},f=e.map((v,y)=>oC(n,v,{depth:a,index:y}));d(f,a-1),u.reverse();const x=v=>v.filter(C=>C.column.getIsVisible()).map(C=>{let k=0,P=0,S=[0];C.subHeaders&&C.subHeaders.length?(S=[],x(C.subHeaders).forEach(L=>{let{colSpan:D,rowSpan:W}=L;k+=D,S.push(W)})):k=1;const R=Math.min(...S);return P=P+R,C.colSpan=k,C.rowSpan=P,{colSpan:k,rowSpan:P}});return x((r=(s=u[0])==null?void 0:s.headers)!=null?r:[]),u}const zU=(t,e,n,i,r,s,a)=>{let l={id:e,index:i,original:n,depth:r,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(l._valuesCache.hasOwnProperty(u))return l._valuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return l._valuesCache[u]=d.accessorFn(l.original,i),l._valuesCache[u]},getUniqueValues:u=>{if(l._uniqueValuesCache.hasOwnProperty(u))return l._uniqueValuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[u]=d.columnDef.getUniqueValues(l.original,i),l._uniqueValuesCache[u]):(l._uniqueValuesCache[u]=[l.getValue(u)],l._uniqueValuesCache[u])},renderValue:u=>{var d;return(d=l.getValue(u))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>OU(l.subRows,u=>u.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let u=[],d=l;for(;;){const f=d.getParentRow();if(!f)break;u.push(f),d=f}return u.reverse()},getAllCells:Bt(()=>[t.getAllLeafColumns()],u=>u.map(d=>BU(t,l,d,d.id)),Vt(t.options,"debugRows")),_getAllCellsByColumnId:Bt(()=>[l.getAllCells()],u=>u.reduce((d,f)=>(d[f.column.id]=f,d),{}),Vt(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const d=t._features[u];d==null||d.createRow==null||d.createRow(l,t)}return l},WU={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},sk=(t,e,n)=>{var i;const r=n.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(r))};sk.autoRemove=t=>us(t);const ak=(t,e,n)=>{var i;return!!(!((i=t.getValue(e))==null||(i=i.toString())==null)&&i.includes(n))};ak.autoRemove=t=>us(t);const ok=(t,e,n)=>{var i;return((i=t.getValue(e))==null||(i=i.toString())==null?void 0:i.toLowerCase())===(n==null?void 0:n.toLowerCase())};ok.autoRemove=t=>us(t);const lk=(t,e,n)=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)};lk.autoRemove=t=>us(t)||!(t!=null&&t.length);const ck=(t,e,n)=>!n.some(i=>{var r;return!((r=t.getValue(e))!=null&&r.includes(i))});ck.autoRemove=t=>us(t)||!(t!=null&&t.length);const uk=(t,e,n)=>n.some(i=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(i)});uk.autoRemove=t=>us(t)||!(t!=null&&t.length);const hk=(t,e,n)=>t.getValue(e)===n;hk.autoRemove=t=>us(t);const dk=(t,e,n)=>t.getValue(e)==n;dk.autoRemove=t=>us(t);const Lb=(t,e,n)=>{let[i,r]=n;const s=t.getValue(e);return s>=i&&s<=r};Lb.resolveFilterValue=t=>{let[e,n]=t,i=typeof e!="number"?parseFloat(e):e,r=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(i)?-1/0:i,a=n===null||Number.isNaN(r)?1/0:r;if(s>a){const l=s;s=a,a=l}return[s,a]};Lb.autoRemove=t=>us(t)||us(t[0])&&us(t[1]);const sa={includesString:sk,includesStringSensitive:ak,equalsString:ok,arrIncludes:lk,arrIncludesAll:ck,arrIncludesSome:uk,equals:hk,weakEquals:dk,inNumberRange:Lb};function us(t){return t==null||t===""}const jU={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Cr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n==null?void 0:n.getValue(t.id);return typeof i=="string"?sa.includesString:typeof i=="number"?sa.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?sa.equals:Array.isArray(i)?sa.arrIncludes:sa.weakEquals},t.getFilterFn=()=>{var n,i;return $g(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(i=e.options.filterFns)==null?void 0:i[t.columnDef.filterFn])!=null?n:sa[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,i,r;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((i=e.options.enableColumnFilters)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(i=>i.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,i;return(n=(i=e.getState().columnFilters)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(i=>{const r=t.getFilterFn(),s=i==null?void 0:i.find(f=>f.id===t.id),a=so(n,s?s.value:void 0);if(lC(r,a,t)){var l;return(l=i==null?void 0:i.filter(f=>f.id!==t.id))!=null?l:[]}const u={id:t.id,value:a};if(s){var d;return(d=i==null?void 0:i.map(f=>f.id===t.id?u:f))!=null?d:[]}return i!=null&&i.length?[...i,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),i=r=>{var s;return(s=so(e,r))==null?void 0:s.filter(a=>{const l=n.find(u=>u.id===a.id);if(l){const u=l.getFilterFn();if(lC(u,a.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(i)},t.resetColumnFilters=e=>{var n,i;t.setColumnFilters(e?[]:(n=(i=t.initialState)==null?void 0:i.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function lC(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const HU=(t,e,n)=>n.reduce((i,r)=>{const s=r.getValue(t);return i+(typeof s=="number"?s:0)},0),XU=(t,e,n)=>{let i;return n.forEach(r=>{const s=r.getValue(t);s!=null&&(i>s||i===void 0&&s>=s)&&(i=s)}),i},GU=(t,e,n)=>{let i;return n.forEach(r=>{const s=r.getValue(t);s!=null&&(i<s||i===void 0&&s>=s)&&(i=s)}),i},YU=(t,e,n)=>{let i,r;return n.forEach(s=>{const a=s.getValue(t);a!=null&&(i===void 0?a>=a&&(i=r=a):(i>a&&(i=a),r<a&&(r=a)))}),[i,r]},$U=(t,e)=>{let n=0,i=0;if(e.forEach(r=>{let s=r.getValue(t);s!=null&&(s=+s)>=s&&(++n,i+=s)}),n)return i/n},ZU=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!FU(n))return;if(n.length===1)return n[0];const i=Math.floor(n.length/2),r=n.sort((s,a)=>s-a);return n.length%2!==0?r[i]:(r[i-1]+r[i])/2},KU=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),QU=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,qU=(t,e)=>e.length,T0={sum:HU,min:XU,max:GU,extent:YU,mean:$U,median:ZU,unique:KU,uniqueCount:QU,count:qU},JU={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Cr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(i=>i!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,i;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((i=e.options.enableGrouping)!=null?i:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n==null?void 0:n.getValue(t.id);if(typeof i=="number")return T0.sum;if(Object.prototype.toString.call(i)==="[object Date]")return T0.extent},t.getAggregationFn=()=>{var n,i;if(!t)throw new Error;return $g(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(i=e.options.aggregationFns)==null?void 0:i[t.columnDef.aggregationFn])!=null?n:T0[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,i;t.setGrouping(e?[]:(n=(i=t.initialState)==null?void 0:i.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const i=e.getColumn(n);return i!=null&&i.columnDef.getGroupingValue?(t._groupingValuesCache[n]=i.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,i)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var r;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function e6(t,e,n){if(!(e!=null&&e.length)||!n)return t;const i=t.filter(s=>!e.includes(s.id));return n==="remove"?i:[...e.map(s=>t.find(a=>a.id===s)).filter(Boolean),...i]}const t6={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Cr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Bt(n=>[Fh(e,n)],n=>n.findIndex(i=>i.id===t.id),Vt(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var i;return((i=Fh(e,n)[0])==null?void 0:i.id)===t.id},t.getIsLastColumn=n=>{var i;const r=Fh(e,n);return((i=r[r.length-1])==null?void 0:i.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Bt(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,i)=>r=>{let s=[];if(!(e!=null&&e.length))s=r;else{const a=[...e],l=[...r];for(;l.length&&a.length;){const u=a.shift(),d=l.findIndex(f=>f.id===u);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return e6(s,n,i)},Vt(t.options,"debugTable"))}},P0=()=>({left:[],right:[]}),n6={getInitialState:t=>({columnPinning:P0(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Cr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const i=t.getLeafColumns().map(r=>r.id).filter(Boolean);e.setColumnPinning(r=>{var s,a;if(n==="right"){var l,u;return{left:((l=r==null?void 0:r.left)!=null?l:[]).filter(x=>!(i!=null&&i.includes(x))),right:[...((u=r==null?void 0:r.right)!=null?u:[]).filter(x=>!(i!=null&&i.includes(x))),...i]}}if(n==="left"){var d,f;return{left:[...((d=r==null?void 0:r.left)!=null?d:[]).filter(x=>!(i!=null&&i.includes(x))),...i],right:((f=r==null?void 0:r.right)!=null?f:[]).filter(x=>!(i!=null&&i.includes(x)))}}return{left:((s=r==null?void 0:r.left)!=null?s:[]).filter(x=>!(i!=null&&i.includes(x))),right:((a=r==null?void 0:r.right)!=null?a:[]).filter(x=>!(i!=null&&i.includes(x)))}})},t.getCanPin=()=>t.getLeafColumns().some(i=>{var r,s,a;return((r=i.columnDef.enablePinning)!=null?r:!0)&&((s=(a=e.options.enableColumnPinning)!=null?a:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:i,right:r}=e.getState().columnPinning,s=n.some(l=>i==null?void 0:i.includes(l)),a=n.some(l=>r==null?void 0:r.includes(l));return s?"left":a?"right":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();return r?(n=(i=e.getState().columnPinning)==null||(i=i[r])==null?void 0:i.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Bt(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,i,r)=>{const s=[...i??[],...r??[]];return n.filter(a=>!s.includes(a.column.id))},Vt(e.options,"debugRows")),t.getLeftVisibleCells=Bt(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,i)=>(i??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Vt(e.options,"debugRows")),t.getRightVisibleCells=Bt(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,i)=>(i??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Vt(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,i;return t.setColumnPinning(e?P0():(n=(i=t.initialState)==null?void 0:i.columnPinning)!=null?n:P0())},t.getIsSomeColumnsPinned=e=>{var n;const i=t.getState().columnPinning;if(!e){var r,s;return!!((r=i.left)!=null&&r.length||(s=i.right)!=null&&s.length)}return!!((n=i[e])!=null&&n.length)},t.getLeftLeafColumns=Bt(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Vt(t.options,"debugColumns")),t.getRightLeafColumns=Bt(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Vt(t.options,"debugColumns")),t.getCenterLeafColumns=Bt(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i)=>{const r=[...n??[],...i??[]];return e.filter(s=>!r.includes(s.id))},Vt(t.options,"debugColumns"))}},Qf={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},E0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),i6={getDefaultColumnDef:()=>Qf,getInitialState:t=>({columnSizing:{},columnSizingInfo:E0(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Cr("columnSizing",t),onColumnSizingInfoChange:Cr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,i,r;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Qf.minSize,(i=s??t.columnDef.size)!=null?i:Qf.size),(r=t.columnDef.maxSize)!=null?r:Qf.maxSize)},t.getStart=Bt(n=>[n,Fh(e,n),e.getState().columnSizing],(n,i)=>i.slice(0,t.getIndex(n)).reduce((r,s)=>r+s.getSize(),0),Vt(e.options,"debugColumns")),t.getAfter=Bt(n=>[n,Fh(e,n),e.getState().columnSizing],(n,i)=>i.slice(t.getIndex(n)+1).reduce((r,s)=>r+s.getSize(),0),Vt(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:i,...r}=n;return r})},t.getCanResize=()=>{var n,i;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((i=e.options.enableColumnResizing)!=null?i:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const i=r=>{if(r.subHeaders.length)r.subHeaders.forEach(i);else{var s;n+=(s=r.column.getSize())!=null?s:0}};return i(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const i=e.getColumn(t.column.id),r=i==null?void 0:i.getCanResize();return s=>{if(!i||!r||(s.persist==null||s.persist(),A0(s)&&s.touches&&s.touches.length>1))return;const a=t.getSize(),l=t?t.getLeafHeaders().map(S=>[S.column.id,S.column.getSize()]):[[i.id,i.getSize()]],u=A0(s)?Math.round(s.touches[0].clientX):s.clientX,d={},f=(S,R)=>{typeof R=="number"&&(e.setColumnSizingInfo(L=>{var D,W;const z=e.options.columnResizeDirection==="rtl"?-1:1,j=(R-((D=L==null?void 0:L.startOffset)!=null?D:0))*z,Z=Math.max(j/((W=L==null?void 0:L.startSize)!=null?W:0),-.999999);return L.columnSizingStart.forEach($=>{let[H,q]=$;d[H]=Math.round(Math.max(q+q*Z,0)*100)/100}),{...L,deltaOffset:j,deltaPercentage:Z}}),(e.options.columnResizeMode==="onChange"||S==="end")&&e.setColumnSizing(L=>({...L,...d})))},x=S=>f("move",S),v=S=>{f("end",S),e.setColumnSizingInfo(R=>({...R,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},y=n||typeof document<"u"?document:null,C={moveHandler:S=>x(S.clientX),upHandler:S=>{y==null||y.removeEventListener("mousemove",C.moveHandler),y==null||y.removeEventListener("mouseup",C.upHandler),v(S.clientX)}},k={moveHandler:S=>(S.cancelable&&(S.preventDefault(),S.stopPropagation()),x(S.touches[0].clientX),!1),upHandler:S=>{var R;y==null||y.removeEventListener("touchmove",k.moveHandler),y==null||y.removeEventListener("touchend",k.upHandler),S.cancelable&&(S.preventDefault(),S.stopPropagation()),v((R=S.touches[0])==null?void 0:R.clientX)}},P=r6()?{passive:!1}:!1;A0(s)?(y==null||y.addEventListener("touchmove",k.moveHandler,P),y==null||y.addEventListener("touchend",k.upHandler,P)):(y==null||y.addEventListener("mousemove",C.moveHandler,P),y==null||y.addEventListener("mouseup",C.upHandler,P)),e.setColumnSizingInfo(S=>({...S,startOffset:u,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:i.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?E0():(n=t.initialState.columnSizingInfo)!=null?n:E0())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0}}};let qf=null;function r6(){if(typeof qf=="boolean")return qf;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return qf=t,qf}function A0(t){return t.type==="touchstart"}const s6={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Cr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(i=>({...i,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,i;const r=t.columns;return(n=r.length?r.some(s=>s.getIsVisible()):(i=e.getState().columnVisibility)==null?void 0:i[t.id])!=null?n:!0},t.getCanHide=()=>{var n,i;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((i=e.options.enableHiding)!=null?i:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Bt(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(i=>i.column.getIsVisible()),Vt(e.options,"debugRows")),t.getVisibleCells=Bt(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,i,r)=>[...n,...i,...r],Vt(e.options,"debugRows"))},createTable:t=>{const e=(n,i)=>Bt(()=>[i(),i().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Vt(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var i;t.setColumnVisibility(n?{}:(i=t.initialState.columnVisibility)!=null?i:{})},t.toggleAllColumnsVisible=n=>{var i;n=(i=n)!=null?i:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((r,s)=>({...r,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var i;t.toggleAllColumnsVisible((i=n.target)==null?void 0:i.checked)}}};function Fh(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const a6={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},o6={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Cr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const i=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,i,r,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableGlobalFilter)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>sa.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:i}=t.options;return $g(i)?i:i==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[i])!=null?e:sa[i]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},l6={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Cr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetExpanded)!=null?i:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=i=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(i),t.toggleAllRowsExpanded=i=>{i??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=i=>{var r,s;t.setExpanded(i?{}:(r=(s=t.initialState)==null?void 0:s.expanded)!=null?r:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const i=t.getState().expanded;return i===!0||Object.values(i).some(Boolean)},t.getIsAllRowsExpanded=()=>{const i=t.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||t.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},t.getExpandedDepth=()=>{let i=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const a=s.split(".");i=Math.max(i,a.length)}),i},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(i=>{var r;const s=i===!0?!0:!!(i!=null&&i[t.id]);let a={};if(i===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{a[l]=!0}):a=i,n=(r=n)!=null?r:!s,!s&&n)return{...a,[t.id]:!0};if(s&&!n){const{[t.id]:l,...u}=a;return u}return i})},t.getIsExpanded=()=>{var n;const i=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:i===!0||i!=null&&i[t.id])},t.getCanExpand=()=>{var n,i,r;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((i=e.options.enableExpanding)!=null?i:!0)&&!!((r=t.subRows)!=null&&r.length)},t.getIsAllParentsExpanded=()=>{let n=!0,i=t;for(;n&&i.parentId;)i=e.getRow(i.parentId,!0),n=i.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},Jy=0,e1=10,k0=()=>({pageIndex:Jy,pageSize:e1}),c6={getInitialState:t=>({...t,pagination:{...k0(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Cr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetPageIndex)!=null?i:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=i=>{const r=s=>so(i,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(r)},t.resetPagination=i=>{var r;t.setPagination(i?k0():(r=t.initialState.pagination)!=null?r:k0())},t.setPageIndex=i=>{t.setPagination(r=>{let s=so(i,r.pageIndex);const a=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,a)),{...r,pageIndex:s}})},t.resetPageIndex=i=>{var r,s;t.setPageIndex(i?Jy:(r=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?r:Jy)},t.resetPageSize=i=>{var r,s;t.setPageSize(i?e1:(r=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?r:e1)},t.setPageSize=i=>{t.setPagination(r=>{const s=Math.max(1,so(i,r.pageSize)),a=r.pageSize*r.pageIndex,l=Math.floor(a/s);return{...r,pageIndex:l,pageSize:s}})},t.setPageCount=i=>t.setPagination(r=>{var s;let a=so(i,(s=t.options.pageCount)!=null?s:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...r,pageCount:a}}),t.getPageOptions=Bt(()=>[t.getPageCount()],i=>{let r=[];return i&&i>0&&(r=[...new Array(i)].fill(null).map((s,a)=>a)),r},Vt(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:i}=t.getState().pagination,r=t.getPageCount();return r===-1?!0:r===0?!1:i<r-1},t.previousPage=()=>t.setPageIndex(i=>i-1),t.nextPage=()=>t.setPageIndex(i=>i+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var i;return(i=t.options.pageCount)!=null?i:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var i;return(i=t.options.rowCount)!=null?i:t.getPrePaginationRowModel().rows.length}}},R0=()=>({top:[],bottom:[]}),u6={getInitialState:t=>({rowPinning:R0(),...t}),getDefaultOptions:t=>({onRowPinningChange:Cr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,i,r)=>{const s=i?t.getLeafRows().map(u=>{let{id:d}=u;return d}):[],a=r?t.getParentRows().map(u=>{let{id:d}=u;return d}):[],l=new Set([...a,t.id,...s]);e.setRowPinning(u=>{var d,f;if(n==="bottom"){var x,v;return{top:((x=u==null?void 0:u.top)!=null?x:[]).filter(k=>!(l!=null&&l.has(k))),bottom:[...((v=u==null?void 0:u.bottom)!=null?v:[]).filter(k=>!(l!=null&&l.has(k))),...Array.from(l)]}}if(n==="top"){var y,C;return{top:[...((y=u==null?void 0:u.top)!=null?y:[]).filter(k=>!(l!=null&&l.has(k))),...Array.from(l)],bottom:((C=u==null?void 0:u.bottom)!=null?C:[]).filter(k=>!(l!=null&&l.has(k)))}}return{top:((d=u==null?void 0:u.top)!=null?d:[]).filter(k=>!(l!=null&&l.has(k))),bottom:((f=u==null?void 0:u.bottom)!=null?f:[]).filter(k=>!(l!=null&&l.has(k)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:i,enablePinning:r}=e.options;return typeof i=="function"?i(t):(n=i??r)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:i,bottom:r}=e.getState().rowPinning,s=n.some(l=>i==null?void 0:i.includes(l)),a=n.some(l=>r==null?void 0:r.includes(l));return s?"top":a?"bottom":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();if(!r)return-1;const s=(n=r==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(a=>{let{id:l}=a;return l});return(i=s==null?void 0:s.indexOf(t.id))!=null?i:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,i;return t.setRowPinning(e?R0():(n=(i=t.initialState)==null?void 0:i.rowPinning)!=null?n:R0())},t.getIsSomeRowsPinned=e=>{var n;const i=t.getState().rowPinning;if(!e){var r,s;return!!((r=i.top)!=null&&r.length||(s=i.bottom)!=null&&s.length)}return!!((n=i[e])!=null&&n.length)},t._getPinnedRows=(e,n,i)=>{var r;return((r=t.options.keepPinnedRows)==null||r?(n??[]).map(a=>{const l=t.getRow(a,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(a=>e.find(l=>l.id===a))).filter(Boolean).map(a=>({...a,position:i}))},t.getTopRows=Bt(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Vt(t.options,"debugRows")),t.getBottomRows=Bt(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Vt(t.options,"debugRows")),t.getCenterRows=Bt(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,i)=>{const r=new Set([...n??[],...i??[]]);return e.filter(s=>!r.has(s.id))},Vt(t.options,"debugRows"))}},h6={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Cr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const i={...n},r=t.getPreGroupedRowModel().flatRows;return e?r.forEach(s=>{s.getCanSelect()&&(i[s.id]=!0)}):r.forEach(s=>{delete i[s.id]}),i})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const i=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),r={...n};return t.getRowModel().rows.forEach(s=>{t1(r,s.id,i,!0,t)}),r}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Bt(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?I0(t,n):{rows:[],flatRows:[],rowsById:{}},Vt(t.options,"debugTable")),t.getFilteredSelectedRowModel=Bt(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?I0(t,n):{rows:[],flatRows:[],rowsById:{}},Vt(t.options,"debugTable")),t.getGroupedSelectedRowModel=Bt(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?I0(t,n):{rows:[],flatRows:[],rowsById:{}},Vt(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let i=!!(e.length&&Object.keys(n).length);return i&&e.some(r=>r.getCanSelect()&&!n[r.id])&&(i=!1),i},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=t.getState();let i=!!e.length;return i&&e.some(r=>!n[r.id])&&(i=!1),i},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,i)=>{const r=t.getIsSelected();e.setRowSelection(s=>{var a;if(n=typeof n<"u"?n:!r,t.getCanSelect()&&r===n)return s;const l={...s};return t1(l,t.id,n,(a=i==null?void 0:i.selectChildren)!=null?a:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return Db(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return n1(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return n1(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return i=>{var r;n&&t.toggleSelected((r=i.target)==null?void 0:r.checked)}}}},t1=(t,e,n,i,r)=>{var s;const a=r.getRow(e,!0);n?(a.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),a.getCanSelect()&&(t[e]=!0)):delete t[e],i&&(s=a.subRows)!=null&&s.length&&a.getCanSelectSubRows()&&a.subRows.forEach(l=>t1(t,l.id,n,i,r))};function I0(t,e){const n=t.getState().rowSelection,i=[],r={},s=function(a,l){return a.map(u=>{var d;const f=Db(u,n);if(f&&(i.push(u),r[u.id]=u),(d=u.subRows)!=null&&d.length&&(u={...u,subRows:s(u.subRows)}),f)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:i,rowsById:r}}function Db(t,e){var n;return(n=e[t.id])!=null?n:!1}function n1(t,e,n){var i;if(!((i=t.subRows)!=null&&i.length))return!1;let r=!0,s=!1;return t.subRows.forEach(a=>{if(!(s&&!r)&&(a.getCanSelect()&&(Db(a,e)?s=!0:r=!1),a.subRows&&a.subRows.length)){const l=n1(a,e);l==="all"?s=!0:(l==="some"&&(s=!0),r=!1)}}),r?"all":s?"some":!1}const i1=/([0-9]+)/gm,d6=(t,e,n)=>fk(bo(t.getValue(n)).toLowerCase(),bo(e.getValue(n)).toLowerCase()),f6=(t,e,n)=>fk(bo(t.getValue(n)),bo(e.getValue(n))),p6=(t,e,n)=>Nb(bo(t.getValue(n)).toLowerCase(),bo(e.getValue(n)).toLowerCase()),m6=(t,e,n)=>Nb(bo(t.getValue(n)),bo(e.getValue(n))),g6=(t,e,n)=>{const i=t.getValue(n),r=e.getValue(n);return i>r?1:i<r?-1:0},x6=(t,e,n)=>Nb(t.getValue(n),e.getValue(n));function Nb(t,e){return t===e?0:t>e?1:-1}function bo(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function fk(t,e){const n=t.split(i1).filter(Boolean),i=e.split(i1).filter(Boolean);for(;n.length&&i.length;){const r=n.shift(),s=i.shift(),a=parseInt(r,10),l=parseInt(s,10),u=[a,l].sort();if(isNaN(u[0])){if(r>s)return 1;if(s>r)return-1;continue}if(isNaN(u[1]))return isNaN(a)?-1:1;if(a>l)return 1;if(l>a)return-1}return n.length-i.length}const eh={alphanumeric:d6,alphanumericCaseSensitive:f6,text:p6,textCaseSensitive:m6,datetime:g6,basic:x6},v6={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Cr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const r of n){const s=r==null?void 0:r.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return eh.datetime;if(typeof s=="string"&&(i=!0,s.split(i1).length>1))return eh.alphanumeric}return i?eh.text:eh.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,i;if(!t)throw new Error;return $g(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(i=e.options.sortingFns)==null?void 0:i[t.columnDef.sortingFn])!=null?n:eh[t.columnDef.sortingFn]},t.toggleSorting=(n,i)=>{const r=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(a=>{const l=a==null?void 0:a.find(y=>y.id===t.id),u=a==null?void 0:a.findIndex(y=>y.id===t.id);let d=[],f,x=s?n:r==="desc";if(a!=null&&a.length&&t.getCanMultiSort()&&i?l?f="toggle":f="add":a!=null&&a.length&&u!==a.length-1?f="replace":l?f="toggle":f="replace",f==="toggle"&&(s||r||(f="remove")),f==="add"){var v;d=[...a,{id:t.id,desc:x}],d.splice(0,d.length-((v=e.options.maxMultiSortColCount)!=null?v:Number.MAX_SAFE_INTEGER))}else f==="toggle"?d=a.map(y=>y.id===t.id?{...y,desc:x}:y):f==="remove"?d=a.filter(y=>y.id!==t.id):d=[{id:t.id,desc:x}];return d})},t.getFirstSortDir=()=>{var n,i;return((n=(i=t.columnDef.sortDescFirst)!=null?i:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var i,r;const s=t.getFirstSortDir(),a=t.getIsSorted();return a?a!==s&&((i=e.options.enableSortingRemoval)==null||i)&&(!(n&&(r=e.options.enableMultiRemove)!=null)||r)?!1:a==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,i;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((i=e.options.enableSorting)!=null?i:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,i;return(n=(i=t.columnDef.enableMultiSort)!=null?i:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const i=(n=e.getState().sorting)==null?void 0:n.find(r=>r.id===t.id);return i?i.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,i;return(n=(i=e.getState().sorting)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(i=>i.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return i=>{n&&(i.persist==null||i.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(i):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,i;t.setSorting(e?[]:(n=(i=t.initialState)==null?void 0:i.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},y6=[UU,s6,t6,n6,WU,jU,a6,o6,v6,JU,l6,c6,u6,h6,i6];function _6(t){var e,n;const i=[...y6,...(e=t._features)!=null?e:[]];let r={_features:i};const s=r._features.reduce((v,y)=>Object.assign(v,y.getDefaultOptions==null?void 0:y.getDefaultOptions(r)),{}),a=v=>r.options.mergeOptions?r.options.mergeOptions(s,v):{...s,...v};let u={...{},...(n=t.initialState)!=null?n:{}};r._features.forEach(v=>{var y;u=(y=v.getInitialState==null?void 0:v.getInitialState(u))!=null?y:u});const d=[];let f=!1;const x={_features:i,options:{...s,...t},initialState:u,_queue:v=>{d.push(v),f||(f=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();f=!1}).catch(y=>setTimeout(()=>{throw y})))},reset:()=>{r.setState(r.initialState)},setOptions:v=>{const y=so(v,r.options);r.options=a(y)},getState:()=>r.options.state,setState:v=>{r.options.onStateChange==null||r.options.onStateChange(v)},_getRowId:(v,y,C)=>{var k;return(k=r.options.getRowId==null?void 0:r.options.getRowId(v,y,C))!=null?k:`${C?[C.id,y].join("."):y}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(v,y)=>{let C=(y?r.getPrePaginationRowModel():r.getRowModel()).rowsById[v];if(!C&&(C=r.getCoreRowModel().rowsById[v],!C))throw new Error;return C},_getDefaultColumnDef:Bt(()=>[r.options.defaultColumn],v=>{var y;return v=(y=v)!=null?y:{},{header:C=>{const k=C.header.column.columnDef;return k.accessorKey?k.accessorKey:k.accessorFn?k.id:null},cell:C=>{var k,P;return(k=(P=C.renderValue())==null||P.toString==null?void 0:P.toString())!=null?k:null},...r._features.reduce((C,k)=>Object.assign(C,k.getDefaultColumnDef==null?void 0:k.getDefaultColumnDef()),{}),...v}},Vt(t,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:Bt(()=>[r._getColumnDefs()],v=>{const y=function(C,k,P){return P===void 0&&(P=0),C.map(S=>{const R=VU(r,S,P,k),L=S;return R.columns=L.columns?y(L.columns,R,P+1):[],R})};return y(v)},Vt(t,"debugColumns")),getAllFlatColumns:Bt(()=>[r.getAllColumns()],v=>v.flatMap(y=>y.getFlatColumns()),Vt(t,"debugColumns")),_getAllFlatColumnsById:Bt(()=>[r.getAllFlatColumns()],v=>v.reduce((y,C)=>(y[C.id]=C,y),{}),Vt(t,"debugColumns")),getAllLeafColumns:Bt(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(v,y)=>{let C=v.flatMap(k=>k.getLeafColumns());return y(C)},Vt(t,"debugColumns")),getColumn:v=>r._getAllFlatColumnsById()[v]};Object.assign(r,x);for(let v=0;v<r._features.length;v++){const y=r._features[v];y==null||y.createTable==null||y.createTable(r)}return r}function b6(){return t=>Bt(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},i=function(r,s,a){s===void 0&&(s=0);const l=[];for(let d=0;d<r.length;d++){const f=zU(t,t._getRowId(r[d],d,a),r[d],d,s,void 0,a==null?void 0:a.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,l.push(f),t.options.getSubRows){var u;f.originalSubRows=t.options.getSubRows(r[d],d),(u=f.originalSubRows)!=null&&u.length&&(f.subRows=i(f.originalSubRows,s+1,f))}}return l};return n.rows=i(e),n},Vt(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function w6(t){const e=[],n=i=>{var r;e.push(i),(r=i.subRows)!=null&&r.length&&i.getIsExpanded()&&i.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function S6(t){return e=>Bt(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,i)=>{if(!i.rows.length)return i;const{pageSize:r,pageIndex:s}=n;let{rows:a,flatRows:l,rowsById:u}=i;const d=r*s,f=d+r;a=a.slice(d,f);let x;e.options.paginateExpandedRows?x={rows:a,flatRows:l,rowsById:u}:x=w6({rows:a,flatRows:l,rowsById:u}),x.flatRows=[];const v=y=>{x.flatRows.push(y),y.subRows.length&&y.subRows.forEach(v)};return x.rows.forEach(v),x},Vt(e.options,"debugTable"))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function cC(t,e){return t?M6(t)?F.createElement(t,e):t:null}function M6(t){return C6(t)||typeof t=="function"||T6(t)}function C6(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function T6(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function P6(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=F.useState(()=>({current:_6(e)})),[i,r]=F.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...i,...t.state},onStateChange:a=>{r(a),t.onStateChange==null||t.onStateChange(a)}})),n.current}const Fb=F.forwardRef(({className:t,...e},n)=>w.jsx("div",{className:"relative w-full overflow-auto",children:w.jsx("table",{ref:n,className:Pt("w-full caption-bottom text-sm",t),...e})}));Fb.displayName="Table";const Ob=F.forwardRef(({className:t,...e},n)=>w.jsx("thead",{ref:n,className:Pt("[&_tr]:border-b",t),...e}));Ob.displayName="TableHeader";const Bb=F.forwardRef(({className:t,...e},n)=>w.jsx("tbody",{ref:n,className:Pt("[&_tr:last-child]:border-0",t),...e}));Bb.displayName="TableBody";const pk=F.forwardRef(({className:t,...e},n)=>w.jsx("tfoot",{ref:n,className:Pt("border-t bg-slate-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-slate-800/50",t),...e}));pk.displayName="TableFooter";const vl=F.forwardRef(({className:t,...e},n)=>w.jsx("tr",{ref:n,className:Pt("border-b transition-colors hover:bg-slate-100/50 data-[state=selected]:bg-slate-100 dark:hover:bg-slate-800/50 dark:data-[state=selected]:bg-slate-800",t),...e}));vl.displayName="TableRow";const Vb=F.forwardRef(({className:t,...e},n)=>w.jsx("th",{ref:n,className:Pt("h-10 px-2 text-left align-middle font-medium text-slate-500 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] dark:text-slate-400",t),...e}));Vb.displayName="TableHead";const fd=F.forwardRef(({className:t,...e},n)=>w.jsx("td",{ref:n,className:Pt("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));fd.displayName="TableCell";const E6=F.forwardRef(({className:t,...e},n)=>w.jsx("caption",{ref:n,className:Pt("mt-4 text-sm text-slate-500 dark:text-slate-400",t),...e}));E6.displayName="TableCaption";function mk({columns:t,data:e}){var i;const n=P6({data:e,columns:t,getCoreRowModel:b6(),getPaginationRowModel:S6()});return w.jsxs("div",{className:"mr-4 rounded-md border dark:text-slate-300",children:[w.jsxs(Fb,{children:[w.jsx(Ob,{children:n.getHeaderGroups().map(r=>w.jsx(vl,{children:r.headers.map(s=>w.jsx(Vb,{className:"p-2 text-slate-900 text-center rounded-full dark:text-slate-100",children:s.isPlaceholder?null:cC(s.column.columnDef.header,s.getContext())},s.id))},r.id))}),w.jsx(Bb,{children:(i=n.getRowModel().rows)!=null&&i.length?n.getRowModel().rows.map(r=>w.jsx(vl,{className:"hover:bg-slate-200 dark:hover:bg-slate-700","data-state":r.getIsSelected()&&"selected",children:r.getVisibleCells().map(s=>w.jsx(fd,{children:cC(s.column.columnDef.cell,s.getContext())},s.id))},r.id)):w.jsx(vl,{children:w.jsx(fd,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]}),w.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4 mx-4",children:[w.jsx(Kt,{size:"sm",content:"Previous",variant:"default",onClick:()=>n.previousPage(),disabled:!n.getCanPreviousPage(),overrideStyles:"px-3"}),w.jsx(Kt,{size:"sm",content:"Next",variant:"default",onClick:()=>n.nextPage(),disabled:!n.getCanNextPage(),overrideStyles:"px-3"})]})]})}const A6="/assets/AppIcon-Da_AEpdu.svg",k6="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2048%2048'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3edark-mode-solid%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='Icons'%3e%3cg%3e%3crect%20width='48'%20height='48'%20fill='none'/%3e%3cg%3e%3cpath%20d='M14,24A10,10,0,0,0,24,34V14A10,10,0,0,0,14,24Z'%20fill='%23f7fafc'/%3e%3cpath%20d='M24,2A22,22,0,1,0,46,24,21.9,21.9,0,0,0,24,2ZM6,24A18.1,18.1,0,0,1,24,6v8a10,10,0,0,1,0,20v8A18.1,18.1,0,0,1,6,24Z'%20fill='%23f7fafc'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",R6="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3cpath%20d='M12%2016C14.2091%2016%2016%2014.2091%2016%2012C16%209.79086%2014.2091%208%2012%208V16Z'%20fill='%23000000'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%202C6.47715%202%202%206.47715%202%2012C2%2017.5228%206.47715%2022%2012%2022C17.5228%2022%2022%2017.5228%2022%2012C22%206.47715%2017.5228%202%2012%202ZM12%204V8C9.79086%208%208%209.79086%208%2012C8%2014.2091%209.79086%2016%2012%2016V20C16.4183%2020%2020%2016.4183%2020%2012C20%207.58172%2016.4183%204%2012%204Z'%20fill='%23000000'%20/%3e%3c/svg%3e",I6="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20fill='%23000000'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='800px'%20height='800px'%20viewBox='0%200%20495.398%20495.398'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M487.083,225.514l-75.08-75.08V63.704c0-15.682-12.708-28.391-28.413-28.391c-15.669,0-28.377,12.709-28.377,28.391%20v29.941L299.31,37.74c-27.639-27.624-75.694-27.575-103.27,0.05L8.312,225.514c-11.082,11.104-11.082,29.071,0,40.158%20c11.087,11.101,29.089,11.101,40.172,0l187.71-187.729c6.115-6.083,16.893-6.083,22.976-0.018l187.742,187.747%20c5.567,5.551,12.825,8.312,20.081,8.312c7.271,0,14.541-2.764,20.091-8.312C498.17,254.586,498.17,236.619,487.083,225.514z'/%3e%3cpath%20d='M257.561,131.836c-5.454-5.451-14.285-5.451-19.723,0L72.712,296.913c-2.607,2.606-4.085,6.164-4.085,9.877v120.401%20c0,28.253,22.908,51.16,51.16,51.16h81.754v-126.61h92.299v126.61h81.755c28.251,0,51.159-22.907,51.159-51.159V306.79%20c0-3.713-1.465-7.271-4.085-9.877L257.561,131.836z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",L6="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20fill='%23ffffff'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='800px'%20height='800px'%20viewBox='0%200%20495.398%20495.398'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M487.083,225.514l-75.08-75.08V63.704c0-15.682-12.708-28.391-28.413-28.391c-15.669,0-28.377,12.709-28.377,28.391%20v29.941L299.31,37.74c-27.639-27.624-75.694-27.575-103.27,0.05L8.312,225.514c-11.082,11.104-11.082,29.071,0,40.158%20c11.087,11.101,29.089,11.101,40.172,0l187.71-187.729c6.115-6.083,16.893-6.083,22.976-0.018l187.742,187.747%20c5.567,5.551,12.825,8.312,20.081,8.312c7.271,0,14.541-2.764,20.091-8.312C498.17,254.586,498.17,236.619,487.083,225.514z'/%3e%3cpath%20d='M257.561,131.836c-5.454-5.451-14.285-5.451-19.723,0L72.712,296.913c-2.607,2.606-4.085,6.164-4.085,9.877v120.401%20c0,28.253,22.908,51.16,51.16,51.16h81.754v-126.61h92.299v126.61h81.755c28.251,0,51.159-22.907,51.159-51.159V306.79%20c0-3.713-1.465-7.271-4.085-9.877L257.561,131.836z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",D6="/assets/ErrorSheldon-VkbQmTNC.png",N6="/assets/NotificationMagnifyingGlass-CbfFojs8.png";function F6(t){return ef({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0005 3C16.2849 3 20.2196 4.49683 23.3104 6.99607L22.4989 8H18.0005L17.9999 13.571L12.0005 21L0.689941 6.99671C3.78078 4.49709 7.71583 3 12.0005 3ZM22.0005 19V21H20.0005V19H22.0005ZM22.0005 10V17H20.0005V10H22.0005Z"},child:[]}]})(t)}function O6(t){return ef({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 13v-8.5a1.5 1.5 0 0 1 3 0v7.5"},child:[]},{tag:"path",attr:{d:"M11 11.5v-2a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M14 10.5a1.5 1.5 0 0 1 3 0v1.5"},child:[]},{tag:"path",attr:{d:"M17 11.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"},child:[]},{tag:"path",attr:{d:"M5 3l-1 -1"},child:[]},{tag:"path",attr:{d:"M4 7h-1"},child:[]},{tag:"path",attr:{d:"M14 3l1 -1"},child:[]},{tag:"path",attr:{d:"M15 6h1"},child:[]}]})(t)}function B6(t){return ef({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 13V14H1.5L1 13.5V0H2V13H15Z"},child:[]},{tag:"path",attr:{d:"M13 3.20714L7.85353 8.35359H7.14642L5.49998 6.70714L1.85353 10.3536L1.14642 9.64648L5.14642 5.64648H5.85353L7.49998 7.29293L12.6464 2.14648H13.3535L15.3535 4.14648L14.6464 4.85359L13 3.20714Z"},child:[]}]})(t)}const V6=()=>w.jsxs("div",{className:"flex justify-around py-2 md:w-[85%] sm:w-[50%] sm:flex hidden",children:[w.jsx(F6,{className:"w-36 h-36 text-default"}),w.jsx("div",{className:"h-2 w-28 bg-default my-16"}),w.jsx(O6,{className:"w-36 h-36 text-default"}),w.jsx("div",{className:"h-2 w-28 bg-default my-16"}),w.jsx(B6,{className:"w-36 h-36 text-default"})]}),gk=F.forwardRef(({className:t,type:e,...n},i)=>w.jsx("input",{type:e,className:Pt("flex h-9 w-full rounded-md border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-default disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:placeholder:text-slate-400 dark:focus-visible:ring-default",t),ref:i,...n}));gk.displayName="Input";const ti=({id:t,disabled:e=!1,readonly:n=!1,value:i,overrideStyles:r="",placeholder:s="",type:a,name:l,onChange:u})=>w.jsx(gk,{id:t,readOnly:n,disabled:e,type:a,name:l,placeholder:s,value:i,onChange:u,className:`${r} border mt-1 px-2 block w-full rounded-md shadow-sm focus:ring focus:ring-opacity-50`});var U6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Dt=U6.reduce((t,e)=>{const n=F.forwardRef((i,r)=>{const{asChild:s,...a}=i,l=s?ba:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(l,{...a,ref:r})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Ub(t,e){t&&No.flushSync(()=>t.dispatchEvent(e))}var z6="Label",xk=F.forwardRef((t,e)=>w.jsx(Dt.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));xk.displayName=z6;var vk=xk;const W6=Yg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yk=F.forwardRef(({className:t,...e},n)=>w.jsx(vk,{ref:n,className:Pt(W6(),t),...e}));yk.displayName=vk.displayName;const zn=({text:t,htmlFor:e,className:n})=>w.jsx(yk,{className:n,htmlFor:e,children:t}),j6=({data:t})=>{const e=t.length>0?Object.keys(t[0]):[];return w.jsx("div",{className:"container pr-4 font-mono",children:w.jsxs("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg",children:[w.jsx("div",{className:"max-h-96 overflow-y-auto",children:w.jsxs(Fb,{className:"min-w-full leading-normal",children:[w.jsx(Ob,{children:w.jsx(vl,{className:"bg-gray-200",children:e.map((n,i)=>w.jsx(Vb,{className:"px-5 py-3 border-b-2 border-gray-300 text-left text-md font-semibold text-gray-700 uppercase tracking-wider",children:n},i))})}),w.jsx(Bb,{children:t.map((n,i)=>w.jsx(vl,{className:`${i%2===0?"bg-white":"bg-gray-50"} hover:bg-gray-100`,children:e.map((r,s)=>w.jsx(fd,{className:"px-5 py-2 border-b border-gray-200 text-2xs text-gray-700",children:String(n[r])},s))},i))})]})}),w.jsx(pk,{children:w.jsx(vl,{children:w.jsxs(fd,{colSpan:e.length,className:"px-5 py-1 border-t text-right text-md text-gray-600",children:["Showing ",t.length," entries"]})})})]})})};function it(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function H6(t,e){const n=F.createContext(e);function i(s){const{children:a,...l}=s,u=F.useMemo(()=>l,Object.values(l));return w.jsx(n.Provider,{value:u,children:a})}function r(s){const a=F.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return i.displayName=t+"Provider",[i,r]}function bs(t,e=[]){let n=[];function i(s,a){const l=F.createContext(a),u=n.length;n=[...n,a];function d(x){const{scope:v,children:y,...C}=x,k=(v==null?void 0:v[t][u])||l,P=F.useMemo(()=>C,Object.values(C));return w.jsx(k.Provider,{value:P,children:y})}function f(x,v){const y=(v==null?void 0:v[t][u])||l,C=F.useContext(y);if(C)return C;if(a!==void 0)return a;throw new Error(`\`${x}\` must be used within \`${s}\``)}return d.displayName=s+"Provider",[d,f]}const r=()=>{const s=n.map(a=>F.createContext(a));return function(l){const u=(l==null?void 0:l[t])||s;return F.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return r.scopeName=t,[i,X6(r,...e)]}function X6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const a=i.reduce((l,{useScope:u,scopeName:d})=>{const x=u(s)[`__scope${d}`];return{...l,...x}},{});return F.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Ti=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{},G6=mm.useId||(()=>{}),Y6=0;function Ur(t){const[e,n]=F.useState(G6());return Ti(()=>{n(i=>i??String(Y6++))},[t]),e?`radix-${e}`:""}function Wn(t){const e=F.useRef(t);return F.useEffect(()=>{e.current=t}),F.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function wo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[i,r]=$6({defaultProp:e,onChange:n}),s=t!==void 0,a=s?t:i,l=Wn(n),u=F.useCallback(d=>{if(s){const x=typeof d=="function"?d(t):d;x!==t&&l(x)}else r(d)},[s,t,r,l]);return[a,u]}function $6({defaultProp:t,onChange:e}){const n=F.useState(t),[i]=n,r=F.useRef(i),s=Wn(e);return F.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),n}function Z6(t,e=globalThis==null?void 0:globalThis.document){const n=Wn(t);F.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var K6="DismissableLayer",r1="dismissableLayer.update",Q6="dismissableLayer.pointerDownOutside",q6="dismissableLayer.focusOutside",uC,_k=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zl=F.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...u}=t,d=F.useContext(_k),[f,x]=F.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=F.useState({}),C=sn(e,j=>x(j)),k=Array.from(d.layers),[P]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),S=k.indexOf(P),R=f?k.indexOf(f):-1,L=d.layersWithOutsidePointerEventsDisabled.size>0,D=R>=S,W=e8(j=>{const Z=j.target,$=[...d.branches].some(H=>H.contains(Z));!D||$||(r==null||r(j),a==null||a(j),j.defaultPrevented||l==null||l())},v),z=t8(j=>{const Z=j.target;[...d.branches].some(H=>H.contains(Z))||(s==null||s(j),a==null||a(j),j.defaultPrevented||l==null||l())},v);return Z6(j=>{R===d.layers.size-1&&(i==null||i(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},v),F.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(uC=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),hC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=uC)}},[f,v,n,d]),F.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),hC())},[f,d]),F.useEffect(()=>{const j=()=>y({});return document.addEventListener(r1,j),()=>document.removeEventListener(r1,j)},[]),w.jsx(Dt.div,{...u,ref:C,style:{pointerEvents:L?D?"auto":"none":void 0,...t.style},onFocusCapture:it(t.onFocusCapture,z.onFocusCapture),onBlurCapture:it(t.onBlurCapture,z.onBlurCapture),onPointerDownCapture:it(t.onPointerDownCapture,W.onPointerDownCapture)})});zl.displayName=K6;var J6="DismissableLayerBranch",bk=F.forwardRef((t,e)=>{const n=F.useContext(_k),i=F.useRef(null),r=sn(e,i);return F.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),w.jsx(Dt.div,{...t,ref:r})});bk.displayName=J6;function e8(t,e=globalThis==null?void 0:globalThis.document){const n=Wn(t),i=F.useRef(!1),r=F.useRef(()=>{});return F.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let u=function(){wk(Q6,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=u,e.addEventListener("click",r.current,{once:!0})):u()}else e.removeEventListener("click",r.current);i.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function t8(t,e=globalThis==null?void 0:globalThis.document){const n=Wn(t),i=F.useRef(!1);return F.useEffect(()=>{const r=s=>{s.target&&!i.current&&wk(q6,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function hC(){const t=new CustomEvent(r1);document.dispatchEvent(t)}function wk(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?Ub(r,s):r.dispatchEvent(s)}var n8=zl,i8=bk,L0="focusScope.autoFocusOnMount",D0="focusScope.autoFocusOnUnmount",dC={bubbles:!1,cancelable:!0},r8="FocusScope",tf=F.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...a}=t,[l,u]=F.useState(null),d=Wn(r),f=Wn(s),x=F.useRef(null),v=sn(e,k=>u(k)),y=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(i){let k=function(L){if(y.paused||!l)return;const D=L.target;l.contains(D)?x.current=D:Ha(x.current,{select:!0})},P=function(L){if(y.paused||!l)return;const D=L.relatedTarget;D!==null&&(l.contains(D)||Ha(x.current,{select:!0}))},S=function(L){if(document.activeElement===document.body)for(const W of L)W.removedNodes.length>0&&Ha(l)};document.addEventListener("focusin",k),document.addEventListener("focusout",P);const R=new MutationObserver(S);return l&&R.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",P),R.disconnect()}}},[i,l,y.paused]),F.useEffect(()=>{if(l){pC.add(y);const k=document.activeElement;if(!l.contains(k)){const S=new CustomEvent(L0,dC);l.addEventListener(L0,d),l.dispatchEvent(S),S.defaultPrevented||(s8(u8(Sk(l)),{select:!0}),document.activeElement===k&&Ha(l))}return()=>{l.removeEventListener(L0,d),setTimeout(()=>{const S=new CustomEvent(D0,dC);l.addEventListener(D0,f),l.dispatchEvent(S),S.defaultPrevented||Ha(k??document.body,{select:!0}),l.removeEventListener(D0,f),pC.remove(y)},0)}}},[l,d,f,y]);const C=F.useCallback(k=>{if(!n&&!i||y.paused)return;const P=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,S=document.activeElement;if(P&&S){const R=k.currentTarget,[L,D]=a8(R);L&&D?!k.shiftKey&&S===D?(k.preventDefault(),n&&Ha(L,{select:!0})):k.shiftKey&&S===L&&(k.preventDefault(),n&&Ha(D,{select:!0})):S===R&&k.preventDefault()}},[n,i,y.paused]);return w.jsx(Dt.div,{tabIndex:-1,...a,ref:v,onKeyDown:C})});tf.displayName=r8;function s8(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(Ha(i,{select:e}),document.activeElement!==n)return}function a8(t){const e=Sk(t),n=fC(e,t),i=fC(e.reverse(),t);return[n,i]}function Sk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function fC(t,e){for(const n of t)if(!o8(n,{upTo:e}))return n}function o8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function l8(t){return t instanceof HTMLInputElement&&"select"in t}function Ha(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&l8(t)&&e&&t.select()}}var pC=c8();function c8(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=mC(t,e),t.unshift(e)},remove(e){var n;t=mC(t,e),(n=t[0])==null||n.resume()}}}function mC(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function u8(t){return t.filter(e=>e.tagName!=="A")}var h8="Portal",Ru=F.forwardRef((t,e)=>{var l;const{container:n,...i}=t,[r,s]=F.useState(!1);Ti(()=>s(!0),[]);const a=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?V5.createPortal(w.jsx(Dt.div,{...i,ref:e}),a):null});Ru.displayName=h8;function d8(t,e){return F.useReducer((n,i)=>e[n][i]??n,t)}var Vi=t=>{const{present:e,children:n}=t,i=f8(e),r=typeof n=="function"?n({present:i.isPresent}):F.Children.only(n),s=sn(i.ref,p8(r));return typeof n=="function"||i.isPresent?F.cloneElement(r,{ref:s}):null};Vi.displayName="Presence";function f8(t){const[e,n]=F.useState(),i=F.useRef({}),r=F.useRef(t),s=F.useRef("none"),a=t?"mounted":"unmounted",[l,u]=d8(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return F.useEffect(()=>{const d=Jf(i.current);s.current=l==="mounted"?d:"none"},[l]),Ti(()=>{const d=i.current,f=r.current;if(f!==t){const v=s.current,y=Jf(d);t?u("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&v!==y?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,u]),Ti(()=>{if(e){const d=x=>{const y=Jf(i.current).includes(x.animationName);x.target===e&&y&&No.flushSync(()=>u("ANIMATION_END"))},f=x=>{x.target===e&&(s.current=Jf(i.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:F.useCallback(d=>{d&&(i.current=getComputedStyle(d)),n(d)},[])}}function Jf(t){return(t==null?void 0:t.animationName)||"none"}function p8(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var N0=0;function Zg(){F.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??gC()),document.body.insertAdjacentElement("beforeend",t[1]??gC()),N0++,()=>{N0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),N0--}},[])}function gC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var As=function(){return As=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},As.apply(this,arguments)};function Mk(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function m8(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}var em="right-scroll-bar-position",tm="width-before-scroll-bar",g8="with-scroll-bars-hidden",x8="--removed-body-scroll-bar-size";function F0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function v8(t,e){var n=F.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var y8=typeof window<"u"?F.useLayoutEffect:F.useEffect,xC=new WeakMap;function _8(t,e){var n=v8(null,function(i){return t.forEach(function(r){return F0(r,i)})});return y8(function(){var i=xC.get(n);if(i){var r=new Set(i),s=new Set(t),a=n.current;r.forEach(function(l){s.has(l)||F0(l,null)}),s.forEach(function(l){r.has(l)||F0(l,a)})}xC.set(n,t)},[t]),n}function b8(t){return t}function w8(t,e){e===void 0&&(e=b8);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,i);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(i=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){i=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var u=function(){var f=a;a=[],f.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){a.push(f),d()},filter:function(f){return a=a.filter(f),n}}}};return r}function S8(t){t===void 0&&(t={});var e=w8(null);return e.options=As({async:!0,ssr:!1},t),e}var Ck=function(t){var e=t.sideCar,n=Mk(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return F.createElement(i,As({},n))};Ck.isSideCarExport=!0;function M8(t,e){return t.useMedium(e),Ck}var Tk=S8(),O0=function(){},Kg=F.forwardRef(function(t,e){var n=F.useRef(null),i=F.useState({onScrollCapture:O0,onWheelCapture:O0,onTouchMoveCapture:O0}),r=i[0],s=i[1],a=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,f=t.enabled,x=t.shards,v=t.sideCar,y=t.noIsolation,C=t.inert,k=t.allowPinchZoom,P=t.as,S=P===void 0?"div":P,R=t.gapMode,L=Mk(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=v,W=_8([n,e]),z=As(As({},L),r);return F.createElement(F.Fragment,null,f&&F.createElement(D,{sideCar:Tk,removeScrollBar:d,shards:x,noIsolation:y,inert:C,setCallbacks:s,allowPinchZoom:!!k,lockRef:n,gapMode:R}),a?F.cloneElement(F.Children.only(l),As(As({},z),{ref:W})):F.createElement(S,As({},z,{className:u,ref:W}),l))});Kg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kg.classNames={fullWidth:tm,zeroRight:em};var C8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function T8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=C8();return e&&t.setAttribute("nonce",e),t}function P8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function E8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var A8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=T8())&&(P8(e,n),E8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},k8=function(){var t=A8();return function(e,n){F.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Pk=function(){var t=k8(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},R8={left:0,top:0,right:0,gap:0},B0=function(t){return parseInt(t||"",10)||0},I8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[B0(n),B0(i),B0(r)]},L8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return R8;var e=I8(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},D8=Pk(),Hc="data-scroll-locked",N8=function(t,e,n,i){var r=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(g8,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(Hc,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(em,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(tm,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(em," .").concat(em,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(tm," .").concat(tm,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Hc,`] {
    `).concat(x8,": ").concat(l,`px;
  }
`)},vC=function(){var t=parseInt(document.body.getAttribute(Hc)||"0",10);return isFinite(t)?t:0},F8=function(){F.useEffect(function(){return document.body.setAttribute(Hc,(vC()+1).toString()),function(){var t=vC()-1;t<=0?document.body.removeAttribute(Hc):document.body.setAttribute(Hc,t.toString())}},[])},O8=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;F8();var s=F.useMemo(function(){return L8(r)},[r]);return F.createElement(D8,{styles:N8(s,!e,r,n?"":"!important")})},s1=!1;if(typeof window<"u")try{var ep=Object.defineProperty({},"passive",{get:function(){return s1=!0,!0}});window.addEventListener("test",ep,ep),window.removeEventListener("test",ep,ep)}catch{s1=!1}var $l=s1?{passive:!1}:!1,B8=function(t){return t.tagName==="TEXTAREA"},Ek=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!B8(t)&&n[e]==="visible")},V8=function(t){return Ek(t,"overflowY")},U8=function(t){return Ek(t,"overflowX")},yC=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=Ak(t,i);if(r){var s=kk(t,i),a=s[1],l=s[2];if(a>l)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},z8=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},W8=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},Ak=function(t,e){return t==="v"?V8(e):U8(e)},kk=function(t,e){return t==="v"?z8(e):W8(e)},j8=function(t,e){return t==="h"&&e==="rtl"?-1:1},H8=function(t,e,n,i,r){var s=j8(t,window.getComputedStyle(e).direction),a=s*i,l=n.target,u=e.contains(l),d=!1,f=a>0,x=0,v=0;do{var y=kk(t,l),C=y[0],k=y[1],P=y[2],S=k-P-s*C;(C||S)&&Ak(t,l)&&(x+=S,v+=C),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(f&&(Math.abs(x)<1||!r)||!f&&(Math.abs(v)<1||!r))&&(d=!0),d},tp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_C=function(t){return[t.deltaX,t.deltaY]},bC=function(t){return t&&"current"in t?t.current:t},X8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},G8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Y8=0,Zl=[];function $8(t){var e=F.useRef([]),n=F.useRef([0,0]),i=F.useRef(),r=F.useState(Y8++)[0],s=F.useState(Pk)[0],a=F.useRef(t);F.useEffect(function(){a.current=t},[t]),F.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var k=m8([t.lockRef.current],(t.shards||[]).map(bC),!0).filter(Boolean);return k.forEach(function(P){return P.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),k.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=F.useCallback(function(k,P){if("touches"in k&&k.touches.length===2)return!a.current.allowPinchZoom;var S=tp(k),R=n.current,L="deltaX"in k?k.deltaX:R[0]-S[0],D="deltaY"in k?k.deltaY:R[1]-S[1],W,z=k.target,j=Math.abs(L)>Math.abs(D)?"h":"v";if("touches"in k&&j==="h"&&z.type==="range")return!1;var Z=yC(j,z);if(!Z)return!0;if(Z?W=j:(W=j==="v"?"h":"v",Z=yC(j,z)),!Z)return!1;if(!i.current&&"changedTouches"in k&&(L||D)&&(i.current=W),!W)return!0;var $=i.current||W;return H8($,P,k,$==="h"?L:D,!0)},[]),u=F.useCallback(function(k){var P=k;if(!(!Zl.length||Zl[Zl.length-1]!==s)){var S="deltaY"in P?_C(P):tp(P),R=e.current.filter(function(W){return W.name===P.type&&(W.target===P.target||P.target===W.shadowParent)&&X8(W.delta,S)})[0];if(R&&R.should){P.cancelable&&P.preventDefault();return}if(!R){var L=(a.current.shards||[]).map(bC).filter(Boolean).filter(function(W){return W.contains(P.target)}),D=L.length>0?l(P,L[0]):!a.current.noIsolation;D&&P.cancelable&&P.preventDefault()}}},[]),d=F.useCallback(function(k,P,S,R){var L={name:k,delta:P,target:S,should:R,shadowParent:Z8(S)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(D){return D!==L})},1)},[]),f=F.useCallback(function(k){n.current=tp(k),i.current=void 0},[]),x=F.useCallback(function(k){d(k.type,_C(k),k.target,l(k,t.lockRef.current))},[]),v=F.useCallback(function(k){d(k.type,tp(k),k.target,l(k,t.lockRef.current))},[]);F.useEffect(function(){return Zl.push(s),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:v}),document.addEventListener("wheel",u,$l),document.addEventListener("touchmove",u,$l),document.addEventListener("touchstart",f,$l),function(){Zl=Zl.filter(function(k){return k!==s}),document.removeEventListener("wheel",u,$l),document.removeEventListener("touchmove",u,$l),document.removeEventListener("touchstart",f,$l)}},[]);var y=t.removeScrollBar,C=t.inert;return F.createElement(F.Fragment,null,C?F.createElement(s,{styles:G8(r)}):null,y?F.createElement(O8,{gapMode:t.gapMode}):null)}function Z8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const K8=M8(Tk,$8);var nf=F.forwardRef(function(t,e){return F.createElement(Kg,As({},t,{ref:e,sideCar:K8}))});nf.classNames=Kg.classNames;var Q8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Kl=new WeakMap,np=new WeakMap,ip={},V0=0,Rk=function(t){return t&&(t.host||Rk(t.parentNode))},q8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=Rk(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},J8=function(t,e,n,i){var r=q8(e,Array.isArray(t)?t:[t]);ip[n]||(ip[n]=new WeakMap);var s=ip[n],a=[],l=new Set,u=new Set(r),d=function(x){!x||l.has(x)||(l.add(x),d(x.parentNode))};r.forEach(d);var f=function(x){!x||u.has(x)||Array.prototype.forEach.call(x.children,function(v){if(l.has(v))f(v);else try{var y=v.getAttribute(i),C=y!==null&&y!=="false",k=(Kl.get(v)||0)+1,P=(s.get(v)||0)+1;Kl.set(v,k),s.set(v,P),a.push(v),k===1&&C&&np.set(v,!0),P===1&&v.setAttribute(n,"true"),C||v.setAttribute(i,"true")}catch(S){console.error("aria-hidden: cannot operate on ",v,S)}})};return f(e),l.clear(),V0++,function(){a.forEach(function(x){var v=Kl.get(x)-1,y=s.get(x)-1;Kl.set(x,v),s.set(x,y),v||(np.has(x)||x.removeAttribute(i),np.delete(x)),y||x.removeAttribute(n)}),V0--,V0||(Kl=new WeakMap,Kl=new WeakMap,np=new WeakMap,ip={})}},Qg=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),r=Q8(t);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),J8(i,r,n,"aria-hidden")):function(){return null}},zb="Dialog",[Ik,xae]=bs(zb),[ez,ws]=Ik(zb),Lk=t=>{const{__scopeDialog:e,children:n,open:i,defaultOpen:r,onOpenChange:s,modal:a=!0}=t,l=F.useRef(null),u=F.useRef(null),[d=!1,f]=wo({prop:i,defaultProp:r,onChange:s});return w.jsx(ez,{scope:e,triggerRef:l,contentRef:u,contentId:Ur(),titleId:Ur(),descriptionId:Ur(),open:d,onOpenChange:f,onOpenToggle:F.useCallback(()=>f(x=>!x),[f]),modal:a,children:n})};Lk.displayName=zb;var Dk="DialogTrigger",Nk=F.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=ws(Dk,n),s=sn(e,r.triggerRef);return w.jsx(Dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Hb(r.open),...i,ref:s,onClick:it(t.onClick,r.onOpenToggle)})});Nk.displayName=Dk;var Wb="DialogPortal",[tz,Fk]=Ik(Wb,{forceMount:void 0}),Ok=t=>{const{__scopeDialog:e,forceMount:n,children:i,container:r}=t,s=ws(Wb,e);return w.jsx(tz,{scope:e,forceMount:n,children:F.Children.map(i,a=>w.jsx(Vi,{present:n||s.open,children:w.jsx(Ru,{asChild:!0,container:r,children:a})}))})};Ok.displayName=Wb;var $m="DialogOverlay",Bk=F.forwardRef((t,e)=>{const n=Fk($m,t.__scopeDialog),{forceMount:i=n.forceMount,...r}=t,s=ws($m,t.__scopeDialog);return s.modal?w.jsx(Vi,{present:i||s.open,children:w.jsx(nz,{...r,ref:e})}):null});Bk.displayName=$m;var nz=F.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=ws($m,n);return w.jsx(nf,{as:ba,allowPinchZoom:!0,shards:[r.contentRef],children:w.jsx(Dt.div,{"data-state":Hb(r.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Al="DialogContent",Vk=F.forwardRef((t,e)=>{const n=Fk(Al,t.__scopeDialog),{forceMount:i=n.forceMount,...r}=t,s=ws(Al,t.__scopeDialog);return w.jsx(Vi,{present:i||s.open,children:s.modal?w.jsx(iz,{...r,ref:e}):w.jsx(rz,{...r,ref:e})})});Vk.displayName=Al;var iz=F.forwardRef((t,e)=>{const n=ws(Al,t.__scopeDialog),i=F.useRef(null),r=sn(e,n.contentRef,i);return F.useEffect(()=>{const s=i.current;if(s)return Qg(s)},[]),w.jsx(Uk,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:it(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:it(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:it(t.onFocusOutside,s=>s.preventDefault())})}),rz=F.forwardRef((t,e)=>{const n=ws(Al,t.__scopeDialog),i=F.useRef(!1),r=F.useRef(!1);return w.jsx(Uk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(i.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),Uk=F.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...a}=t,l=ws(Al,n),u=F.useRef(null),d=sn(e,u);return Zg(),w.jsxs(w.Fragment,{children:[w.jsx(tf,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:w.jsx(zl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Hb(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),w.jsxs(w.Fragment,{children:[w.jsx(sz,{titleId:l.titleId}),w.jsx(oz,{contentRef:u,descriptionId:l.descriptionId})]})]})}),jb="DialogTitle",zk=F.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=ws(jb,n);return w.jsx(Dt.h2,{id:r.titleId,...i,ref:e})});zk.displayName=jb;var Wk="DialogDescription",jk=F.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=ws(Wk,n);return w.jsx(Dt.p,{id:r.descriptionId,...i,ref:e})});jk.displayName=Wk;var Hk="DialogClose",Xk=F.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=ws(Hk,n);return w.jsx(Dt.button,{type:"button",...i,ref:e,onClick:it(t.onClick,()=>r.onOpenChange(!1))})});Xk.displayName=Hk;function Hb(t){return t?"open":"closed"}var Gk="DialogTitleWarning",[vae,Yk]=H6(Gk,{contentName:Al,titleName:jb,docsSlug:"dialog"}),sz=({titleId:t})=>{const e=Yk(Gk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return F.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},az="DialogDescriptionWarning",oz=({contentRef:t,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Yk(az).contentName}}.`;return F.useEffect(()=>{var s;const r=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(i))},[i,t,e]),null},$k=Lk,lz=Nk,Zk=Ok,qg=Bk,Jg=Vk,ex=zk,tx=jk,Kk=Xk;function vi(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var cz=["color"],uz=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,cz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M8.60124 1.25086C8.60124 1.75459 8.26278 2.17927 7.80087 2.30989C10.1459 2.4647 12 4.41582 12 6.79999V10.25C12 11.0563 12.0329 11.7074 12.7236 12.0528C12.931 12.1565 13.0399 12.3892 12.9866 12.6149C12.9333 12.8406 12.7319 13 12.5 13H8.16144C8.36904 13.1832 8.49997 13.4513 8.49997 13.75C8.49997 14.3023 8.05226 14.75 7.49997 14.75C6.94769 14.75 6.49997 14.3023 6.49997 13.75C6.49997 13.4513 6.63091 13.1832 6.83851 13H2.49999C2.2681 13 2.06664 12.8406 2.01336 12.6149C1.96009 12.3892 2.06897 12.1565 2.27638 12.0528C2.96708 11.7074 2.99999 11.0563 2.99999 10.25V6.79999C2.99999 4.41537 4.85481 2.46396 7.20042 2.3098C6.73867 2.17908 6.40036 1.75448 6.40036 1.25086C6.40036 0.643104 6.89304 0.150421 7.5008 0.150421C8.10855 0.150421 8.60124 0.643104 8.60124 1.25086ZM7.49999 3.29999C5.56699 3.29999 3.99999 4.86699 3.99999 6.79999V10.25L4.00002 10.3009C4.0005 10.7463 4.00121 11.4084 3.69929 12H11.3007C10.9988 11.4084 10.9995 10.7463 11 10.3009L11 10.25V6.79999C11 4.86699 9.43299 3.29999 7.49999 3.29999Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),hz=["color"],dz=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,hz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M4.5 1C4.77614 1 5 1.22386 5 1.5V2H10V1.5C10 1.22386 10.2239 1 10.5 1C10.7761 1 11 1.22386 11 1.5V2H12.5C13.3284 2 14 2.67157 14 3.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V3.5C1 2.67157 1.67157 2 2.5 2H4V1.5C4 1.22386 4.22386 1 4.5 1ZM10 3V3.5C10 3.77614 10.2239 4 10.5 4C10.7761 4 11 3.77614 11 3.5V3H12.5C12.7761 3 13 3.22386 13 3.5V5H2V3.5C2 3.22386 2.22386 3 2.5 3H4V3.5C4 3.77614 4.22386 4 4.5 4C4.77614 4 5 3.77614 5 3.5V3H10ZM2 6V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V6H2ZM7 7.5C7 7.22386 7.22386 7 7.5 7C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8C7.22386 8 7 7.77614 7 7.5ZM9.5 7C9.22386 7 9 7.22386 9 7.5C9 7.77614 9.22386 8 9.5 8C9.77614 8 10 7.77614 10 7.5C10 7.22386 9.77614 7 9.5 7ZM11 7.5C11 7.22386 11.2239 7 11.5 7C11.7761 7 12 7.22386 12 7.5C12 7.77614 11.7761 8 11.5 8C11.2239 8 11 7.77614 11 7.5ZM11.5 9C11.2239 9 11 9.22386 11 9.5C11 9.77614 11.2239 10 11.5 10C11.7761 10 12 9.77614 12 9.5C12 9.22386 11.7761 9 11.5 9ZM9 9.5C9 9.22386 9.22386 9 9.5 9C9.77614 9 10 9.22386 10 9.5C10 9.77614 9.77614 10 9.5 10C9.22386 10 9 9.77614 9 9.5ZM7.5 9C7.22386 9 7 9.22386 7 9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5C8 9.22386 7.77614 9 7.5 9ZM5 9.5C5 9.22386 5.22386 9 5.5 9C5.77614 9 6 9.22386 6 9.5C6 9.77614 5.77614 10 5.5 10C5.22386 10 5 9.77614 5 9.5ZM3.5 9C3.22386 9 3 9.22386 3 9.5C3 9.77614 3.22386 10 3.5 10C3.77614 10 4 9.77614 4 9.5C4 9.22386 3.77614 9 3.5 9ZM3 11.5C3 11.2239 3.22386 11 3.5 11C3.77614 11 4 11.2239 4 11.5C4 11.7761 3.77614 12 3.5 12C3.22386 12 3 11.7761 3 11.5ZM5.5 11C5.22386 11 5 11.2239 5 11.5C5 11.7761 5.22386 12 5.5 12C5.77614 12 6 11.7761 6 11.5C6 11.2239 5.77614 11 5.5 11ZM7 11.5C7 11.2239 7.22386 11 7.5 11C7.77614 11 8 11.2239 8 11.5C8 11.7761 7.77614 12 7.5 12C7.22386 12 7 11.7761 7 11.5ZM9.5 11C9.22386 11 9 11.2239 9 11.5C9 11.7761 9.22386 12 9.5 12C9.77614 12 10 11.7761 10 11.5C10 11.2239 9.77614 11 9.5 11Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),fz=["color"],pz=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,fz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),mz=["color"],Qk=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,mz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),gz=["color"],xz=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,gz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),vz=["color"],yz=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,vz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),_z=["color"],qk=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,_z);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),bz=["color"],wz=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,bz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Sz=["color"],a1=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,Sz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Mz=["color"],Xb=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,Mz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Cz=["color"],Tz=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,Cz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:i}))}),Pz=["color"],Ez=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,Pz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Az=["color"],kz=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,Az);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M1 2C0.447715 2 0 2.44772 0 3V12C0 12.5523 0.447715 13 1 13H14C14.5523 13 15 12.5523 15 12V3C15 2.44772 14.5523 2 14 2H1ZM1 3L14 3V3.92494C13.9174 3.92486 13.8338 3.94751 13.7589 3.99505L7.5 7.96703L1.24112 3.99505C1.16621 3.94751 1.0826 3.92486 1 3.92494V3ZM1 4.90797V12H14V4.90797L7.74112 8.87995C7.59394 8.97335 7.40606 8.97335 7.25888 8.87995L1 4.90797Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Rz=["color"],Iz=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,Rz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M8.4449 0.608765C8.0183 -0.107015 6.9817 -0.107015 6.55509 0.608766L0.161178 11.3368C-0.275824 12.07 0.252503 13 1.10608 13H13.8939C14.7475 13 15.2758 12.07 14.8388 11.3368L8.4449 0.608765ZM7.4141 1.12073C7.45288 1.05566 7.54712 1.05566 7.5859 1.12073L13.9798 11.8488C14.0196 11.9154 13.9715 12 13.8939 12H1.10608C1.02849 12 0.980454 11.9154 1.02018 11.8488L7.4141 1.12073ZM6.8269 4.48611C6.81221 4.10423 7.11783 3.78663 7.5 3.78663C7.88217 3.78663 8.18778 4.10423 8.1731 4.48612L8.01921 8.48701C8.00848 8.766 7.7792 8.98664 7.5 8.98664C7.2208 8.98664 6.99151 8.766 6.98078 8.48701L6.8269 4.48611ZM8.24989 10.476C8.24989 10.8902 7.9141 11.226 7.49989 11.226C7.08567 11.226 6.74989 10.8902 6.74989 10.476C6.74989 10.0618 7.08567 9.72599 7.49989 9.72599C7.9141 9.72599 8.24989 10.0618 8.24989 10.476Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Lz=["color"],o1=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,Lz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M14.7649 6.07596C14.9991 6.22231 15.0703 6.53079 14.9239 6.76495C14.4849 7.46743 13.9632 8.10645 13.3702 8.66305L14.5712 9.86406C14.7664 10.0593 14.7664 10.3759 14.5712 10.5712C14.3759 10.7664 14.0593 10.7664 13.8641 10.5712L12.6011 9.30817C11.805 9.90283 10.9089 10.3621 9.93375 10.651L10.383 12.3277C10.4544 12.5944 10.2961 12.8685 10.0294 12.94C9.76267 13.0115 9.4885 12.8532 9.41704 12.5865L8.95917 10.8775C8.48743 10.958 8.00036 10.9999 7.50001 10.9999C6.99965 10.9999 6.51257 10.958 6.04082 10.8775L5.58299 12.5864C5.51153 12.8532 5.23737 13.0115 4.97064 12.94C4.7039 12.8686 4.5456 12.5944 4.61706 12.3277L5.06625 10.651C4.09111 10.3621 3.19503 9.90282 2.3989 9.30815L1.1359 10.5712C0.940638 10.7664 0.624058 10.7664 0.428798 10.5712C0.233537 10.3759 0.233537 10.0593 0.428798 9.86405L1.62982 8.66303C1.03682 8.10643 0.515113 7.46742 0.0760677 6.76495C-0.0702867 6.53079 0.000898544 6.22231 0.235065 6.07596C0.469231 5.9296 0.777703 6.00079 0.924058 6.23496C1.40354 7.00213 1.989 7.68057 2.66233 8.2427C2.67315 8.25096 2.6837 8.25972 2.69397 8.26898C4.00897 9.35527 5.65537 9.99991 7.50001 9.99991C10.3078 9.99991 12.6564 8.5063 14.076 6.23495C14.2223 6.00079 14.5308 5.9296 14.7649 6.07596Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Dz=["color"],l1=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,Dz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Nz=["color"],Fz=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,Nz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M7.07095 0.650238C6.67391 0.650238 6.32977 0.925096 6.24198 1.31231L6.0039 2.36247C5.6249 2.47269 5.26335 2.62363 4.92436 2.81013L4.01335 2.23585C3.67748 2.02413 3.23978 2.07312 2.95903 2.35386L2.35294 2.95996C2.0722 3.2407 2.0232 3.6784 2.23493 4.01427L2.80942 4.92561C2.62307 5.2645 2.47227 5.62594 2.36216 6.00481L1.31209 6.24287C0.924883 6.33065 0.650024 6.6748 0.650024 7.07183V7.92897C0.650024 8.32601 0.924883 8.67015 1.31209 8.75794L2.36228 8.99603C2.47246 9.375 2.62335 9.73652 2.80979 10.0755L2.2354 10.9867C2.02367 11.3225 2.07267 11.7602 2.35341 12.041L2.95951 12.6471C3.24025 12.9278 3.67795 12.9768 4.01382 12.7651L4.92506 12.1907C5.26384 12.377 5.62516 12.5278 6.0039 12.6379L6.24198 13.6881C6.32977 14.0753 6.67391 14.3502 7.07095 14.3502H7.92809C8.32512 14.3502 8.66927 14.0753 8.75705 13.6881L8.99505 12.6383C9.37411 12.5282 9.73573 12.3773 10.0748 12.1909L10.986 12.7653C11.3218 12.977 11.7595 12.928 12.0403 12.6473L12.6464 12.0412C12.9271 11.7604 12.9761 11.3227 12.7644 10.9869L12.1902 10.076C12.3768 9.73688 12.5278 9.37515 12.638 8.99596L13.6879 8.75794C14.0751 8.67015 14.35 8.32601 14.35 7.92897V7.07183C14.35 6.6748 14.0751 6.33065 13.6879 6.24287L12.6381 6.00488C12.528 5.62578 12.3771 5.26414 12.1906 4.92507L12.7648 4.01407C12.9766 3.6782 12.9276 3.2405 12.6468 2.95975L12.0407 2.35366C11.76 2.07292 11.3223 2.02392 10.9864 2.23565L10.0755 2.80989C9.73622 2.62328 9.37437 2.47229 8.99505 2.36209L8.75705 1.31231C8.66927 0.925096 8.32512 0.650238 7.92809 0.650238H7.07095ZM4.92053 3.81251C5.44724 3.44339 6.05665 3.18424 6.71543 3.06839L7.07095 1.50024H7.92809L8.28355 3.06816C8.94267 3.18387 9.5524 3.44302 10.0794 3.81224L11.4397 2.9547L12.0458 3.56079L11.1882 4.92117C11.5573 5.44798 11.8164 6.0575 11.9321 6.71638L13.5 7.07183V7.92897L11.932 8.28444C11.8162 8.94342 11.557 9.55301 11.1878 10.0798L12.0453 11.4402L11.4392 12.0462L10.0787 11.1886C9.55192 11.5576 8.94241 11.8166 8.28355 11.9323L7.92809 13.5002H7.07095L6.71543 11.932C6.0569 11.8162 5.44772 11.5572 4.92116 11.1883L3.56055 12.046L2.95445 11.4399L3.81213 10.0794C3.4431 9.55266 3.18403 8.94326 3.06825 8.2845L1.50002 7.92897V7.07183L3.06818 6.71632C3.18388 6.05765 3.44283 5.44833 3.81171 4.92165L2.95398 3.561L3.56008 2.95491L4.92053 3.81251ZM9.02496 7.50008C9.02496 8.34226 8.34223 9.02499 7.50005 9.02499C6.65786 9.02499 5.97513 8.34226 5.97513 7.50008C5.97513 6.65789 6.65786 5.97516 7.50005 5.97516C8.34223 5.97516 9.02496 6.65789 9.02496 7.50008ZM9.92496 7.50008C9.92496 8.83932 8.83929 9.92499 7.50005 9.92499C6.1608 9.92499 5.07513 8.83932 5.07513 7.50008C5.07513 6.16084 6.1608 5.07516 7.50005 5.07516C8.83929 5.07516 9.92496 6.16084 9.92496 7.50008Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Oz=["color"],Bs=F.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=vi(t,Oz);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),F.createElement("path",{d:"M1.90321 7.29677C1.90321 10.341 4.11041 12.4147 6.58893 12.8439C6.87255 12.893 7.06266 13.1627 7.01355 13.4464C6.96444 13.73 6.69471 13.9201 6.41109 13.871C3.49942 13.3668 0.86084 10.9127 0.86084 7.29677C0.860839 5.76009 1.55996 4.55245 2.37639 3.63377C2.96124 2.97568 3.63034 2.44135 4.16846 2.03202L2.53205 2.03202C2.25591 2.03202 2.03205 1.80816 2.03205 1.53202C2.03205 1.25588 2.25591 1.03202 2.53205 1.03202L5.53205 1.03202C5.80819 1.03202 6.03205 1.25588 6.03205 1.53202L6.03205 4.53202C6.03205 4.80816 5.80819 5.03202 5.53205 5.03202C5.25591 5.03202 5.03205 4.80816 5.03205 4.53202L5.03205 2.68645L5.03054 2.68759L5.03045 2.68766L5.03044 2.68767L5.03043 2.68767C4.45896 3.11868 3.76059 3.64538 3.15554 4.3262C2.44102 5.13021 1.90321 6.10154 1.90321 7.29677ZM13.0109 7.70321C13.0109 4.69115 10.8505 2.6296 8.40384 2.17029C8.12093 2.11718 7.93465 1.84479 7.98776 1.56188C8.04087 1.27898 8.31326 1.0927 8.59616 1.14581C11.4704 1.68541 14.0532 4.12605 14.0532 7.70321C14.0532 9.23988 13.3541 10.4475 12.5377 11.3662C11.9528 12.0243 11.2837 12.5586 10.7456 12.968L12.3821 12.968C12.6582 12.968 12.8821 13.1918 12.8821 13.468C12.8821 13.7441 12.6582 13.968 12.3821 13.968L9.38205 13.968C9.10591 13.968 8.88205 13.7441 8.88205 13.468L8.88205 10.468C8.88205 10.1918 9.10591 9.96796 9.38205 9.96796C9.65819 9.96796 9.88205 10.1918 9.88205 10.468L9.88205 12.3135L9.88362 12.3123C10.4551 11.8813 11.1535 11.3546 11.7585 10.6738C12.4731 9.86976 13.0109 8.89844 13.0109 7.70321Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))});const Bz=$k,Vz=Zk,Jk=F.forwardRef(({className:t,...e},n)=>w.jsx(qg,{ref:n,className:Pt("fixed inset-0 z-50 bg-overlay data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Jk.displayName=qg.displayName;const eR=F.forwardRef(({className:t,children:e,...n},i)=>w.jsxs(Vz,{children:[w.jsx(Jk,{}),w.jsxs(Jg,{ref:i,className:Pt("bg-white fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-slate-800 dark:bg-slate-900 dark:text-slate-200",t),...n,children:[e,w.jsxs(Kk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-100",children:[w.jsx(Xb,{className:"h-4 w-4"}),w.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));eR.displayName=Jg.displayName;const tR=({className:t,...e})=>w.jsx("div",{className:Pt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});tR.displayName="DialogHeader";const nR=F.forwardRef(({className:t,...e},n)=>w.jsx(ex,{ref:n,className:Pt("text-lg font-semibold leading-none tracking-tight",t),...e}));nR.displayName=ex.displayName;const Uz=F.forwardRef(({className:t,...e},n)=>w.jsx(tx,{ref:n,className:Pt("text-sm text-slate-500 dark:text-slate-400",t),...e}));Uz.displayName=tx.displayName;const pd=({header:t,content:e,open:n,onClose:i,onConfirm:r,showConfirmButtons:s})=>w.jsx(Bz,{open:n,onOpenChange:i,children:w.jsxs(eR,{children:[w.jsx(tR,{children:w.jsx(nR,{children:t})}),w.jsx("div",{className:"p-4",children:e}),w.jsx("div",{className:"flex flex-row justify-end p-4",children:s?w.jsxs(w.Fragment,{children:[w.jsx(Kt,{content:"Cancel",onClick:i,variant:"default"}),w.jsx(Kt,{content:"Confirm",onClick:r,variant:"default"})]}):null})]})}),zz=()=>w.jsxs("div",{className:"flex relative my-0 overflow-none",children:[w.jsx("div",{className:"bg-green-500 rounded-full w-4.2 h-4.2 absolute top-4.4 left-4.925"}),w.jsx("img",{className:"min-h-14 min-w-14 h-14 w-14",src:N6})]}),Xs=F.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:Pt("rounded-xl border border-slate-200 bg-white text-slate-950 shadow dark:border-slate-800 dark:bg-slate-900 dark:text-slate-50",t),...e}));Xs.displayName="Card";const Ea=F.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:Pt("flex flex-col space-y-1.5 p-6",t),...e}));Ea.displayName="CardHeader";const rf=F.forwardRef(({className:t,...e},n)=>w.jsx("h3",{ref:n,className:Pt("font-semibold leading-none tracking-tight",t),...e}));rf.displayName="CardTitle";const Gb=F.forwardRef(({className:t,...e},n)=>w.jsx("p",{ref:n,className:Pt("text-sm text-slate-500 dark:text-slate-400",t),...e}));Gb.displayName="CardDescription";const Oo=F.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:Pt("p-6 pt-0",t),...e}));Oo.displayName="CardContent";const Wz=F.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:Pt("flex items-center p-6 pt-0",t),...e}));Wz.displayName="CardFooter";function jz(t){return ef({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15.28 5.22a.75.75 0 0 1 0 1.06L9.56 12l5.72 5.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-6.25-6.25a.75.75 0 0 1 0-1.06l6.25-6.25a.75.75 0 0 1 1.06 0Z"},child:[]}]})(t)}function Hz(t){return ef({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"},child:[]}]})(t)}const Xz={isOpen:JSON.parse(localStorage.getItem("isOpen")||"true")};let iR=tr({name:"Sidebar",initialState:Xz,reducers:{isOpen:t=>{t.isOpen=!t.isOpen,localStorage.setItem("isOpen",JSON.stringify(t.isOpen))},setIsOpen:(t,e)=>{t.isOpen=e.payload,localStorage.setItem("isOpen",JSON.stringify(t.isOpen))}}});const{isOpen:yae,setIsOpen:Gz}=iR.actions,rR=t=>t.sidebar.isOpen,Yz=iR.reducer,sf=({header:t,links:e,overrideStyles:n="",isOpen:i=!0})=>{const r=Ki();localStorage.removeItem("isOpen");const s=()=>{r(Gz(!i))};return w.jsxs(w.Fragment,{children:[w.jsx(Xs,{className:`${n}transform duration-300 ease-in-out ${i?"translate-x-0":"-translate-x-full"} fixed shadow-none border-none z-49 left-0 box-border h-screen bg-slate-50 dark:bg-slate-900 rounded-none w-60`,children:w.jsxs(Ea,{className:"flex",children:[w.jsx(rf,{className:"mt-6 font-lexend text-2xl mx-4 pl-1",children:t}),w.jsx(Oo,{className:"p-0 font-markazi ml-6",children:e.map((a,l)=>w.jsx("div",{className:"my-3",children:a},l))})]})}),w.jsx(Kt,{overrideStyles:"fixed h-full dark:bg-slate-900 dark:hover:bg-default hover:bg-default bg-slate-50 hover:opacity-70 top-1/2 transform -translate-y-1/2 shadow-none text-black hover:text-white rounded opacity-0.1 z-48 transition-transform duration-300 ease-in-out",onClick:s,content:i?w.jsx(jz,{className:"w-[25px] h-[25px]"}):w.jsx(Hz,{className:"w-[25px] h-[25px]"}),variant:"ghost",size:"icon"})]})},Zm=({status:t})=>w.jsxs("div",{className:"flex justify-center",children:[t===!0&&w.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full block"}),t===!1&&w.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full block"}),t==="pending"&&w.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full block"})]}),$z=()=>w.jsxs("div",{className:"group trash-can flex flex-col justify-center items-center",children:[w.jsx("div",{className:"lid w-1 h-1 bg-black transition-all duration-300 ease-out group-hover:bg-red-500"}),w.jsx("div",{className:"lid w-6 h-1 bg-black transition-all duration-300 ease-out group-hover:bg-red-500 transform group-hover:translate-y-[-5px]"}),w.jsx("div",{className:"can w-5 h-5 bg-black transition-all duration-300 ease-out group-hover:bg-red-500"})]}),nm=({tagKey:t,tagValue:e,tagColor:n})=>{let i;for(const r of sw)r.background===n&&(i=r.text);return w.jsxs("div",{className:"my-1 mx-6 text-slate-900 flex text-2xs py-1 border border-slate-600 justify-center text-center text-balance align-center items-center rounded-full dark:text-slate-900",style:{backgroundColor:n,color:i},children:[t,": ",e]})},Zz=[{id:1,title:"who we are",description:"Welcome to HiGuard, a premium error monitoring and performance management solution. Designed to give developers and organizations insight into their software systems. HiGuard is excels in delivering reliable real-time error tracking and diagnostics. HiGuard combines the performance advantages of Rust with the flexibility and modern tooling of TypeScript, ensuring a seamless, high-performance experience across all environments."},{id:2,title:"intuitive UI",description:"Our frontend is crafted with React, providing an simple and responsive user interface that makes navigating complex error logs and performance metrics a breeze. The backend is built using Actix Web, a powerful Rust framework known for its speed and safety. This allows HiGuard to handle massive amounts of data without compromising on security or performance. This combination allows HiGuard to process and present error data faster and more securely than traditional solutions."},{id:3,title:"insights",description:"HiGuard isnt just about tracking errors; its about empowering your team with actionable insights. Our platform integrates deeply with your existing tech stack, offering customizable alerts, detailed analytics, and integrations with popular tools, ensuring that your developers have the information they need at their fingertips. Whether youre a small startup or a large enterprise, HiGuard scales with you, offering both the simplicity and power you need to keep your applications running smoothly and efficiently."}],Kz=()=>w.jsxs("div",{className:"flex flex-col justify-center h-full overflow-hidden",children:[w.jsx("div",{className:"flex justify-center",children:w.jsx(V6,{})}),w.jsx("div",{className:"flex flex-col lg:flex-row justify-between items-start w-full px-16",children:Zz.map(t=>w.jsxs(Xs,{className:"bg-grey-300 border-none shadow-none p-8 m-4 lg:w-1/3  w-full",children:[w.jsx(rf,{className:"text-2xl text-left mx-5",children:t.title}),w.jsx(Gb,{className:"text-lg text-left mx-5",children:t.description})]},t.id))})]});class Wl extends Error{}class Qz extends Wl{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class qz extends Wl{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Jz extends Wl{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Lc extends Wl{}class sR extends Wl{constructor(e){super(`Invalid unit ${e}`)}}class nr extends Wl{}class Da extends Wl{constructor(){super("Zone is an abstract class")}}const gt="numeric",gs="short",_r="long",Km={year:gt,month:gt,day:gt},aR={year:gt,month:gs,day:gt},eW={year:gt,month:gs,day:gt,weekday:gs},oR={year:gt,month:_r,day:gt},lR={year:gt,month:_r,day:gt,weekday:_r},cR={hour:gt,minute:gt},uR={hour:gt,minute:gt,second:gt},hR={hour:gt,minute:gt,second:gt,timeZoneName:gs},dR={hour:gt,minute:gt,second:gt,timeZoneName:_r},fR={hour:gt,minute:gt,hourCycle:"h23"},pR={hour:gt,minute:gt,second:gt,hourCycle:"h23"},mR={hour:gt,minute:gt,second:gt,hourCycle:"h23",timeZoneName:gs},gR={hour:gt,minute:gt,second:gt,hourCycle:"h23",timeZoneName:_r},xR={year:gt,month:gt,day:gt,hour:gt,minute:gt},vR={year:gt,month:gt,day:gt,hour:gt,minute:gt,second:gt},yR={year:gt,month:gs,day:gt,hour:gt,minute:gt},_R={year:gt,month:gs,day:gt,hour:gt,minute:gt,second:gt},tW={year:gt,month:gs,day:gt,weekday:gs,hour:gt,minute:gt},bR={year:gt,month:_r,day:gt,hour:gt,minute:gt,timeZoneName:gs},wR={year:gt,month:_r,day:gt,hour:gt,minute:gt,second:gt,timeZoneName:gs},SR={year:gt,month:_r,day:gt,weekday:_r,hour:gt,minute:gt,timeZoneName:_r},MR={year:gt,month:_r,day:gt,weekday:_r,hour:gt,minute:gt,second:gt,timeZoneName:_r};class af{get type(){throw new Da}get name(){throw new Da}get ianaName(){return this.name}get isUniversal(){throw new Da}offsetName(e,n){throw new Da}formatOffset(e,n){throw new Da}offset(e){throw new Da}equals(e){throw new Da}get isValid(){throw new Da}}let U0=null;class nx extends af{static get instance(){return U0===null&&(U0=new nx),U0}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return LR(e,n,i)}formatOffset(e,n){return Oh(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let im={};function nW(t){return im[t]||(im[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),im[t]}const iW={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function rW(t,e){const n=t.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,r,s,a,l,u,d,f]=i;return[a,r,s,l,u,d,f]}function sW(t,e){const n=t.formatToParts(e),i=[];for(let r=0;r<n.length;r++){const{type:s,value:a}=n[r],l=iW[s];s==="era"?i[l]=a:Zt(l)||(i[l]=parseInt(a,10))}return i}let rp={};class wa extends af{static create(e){return rp[e]||(rp[e]=new wa(e)),rp[e]}static resetCache(){rp={},im={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=wa.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return LR(e,n,i,this.name)}formatOffset(e,n){return Oh(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const i=nW(this.name);let[r,s,a,l,u,d,f]=i.formatToParts?sW(i,n):rW(i,n);l==="BC"&&(r=-Math.abs(r)+1);const v=rx({year:r,month:s,day:a,hour:u===24?0:u,minute:d,second:f,millisecond:0});let y=+n;const C=y%1e3;return y-=C>=0?C:1e3+C,(v-y)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let wC={};function aW(t,e={}){const n=JSON.stringify([t,e]);let i=wC[n];return i||(i=new Intl.ListFormat(t,e),wC[n]=i),i}let c1={};function u1(t,e={}){const n=JSON.stringify([t,e]);let i=c1[n];return i||(i=new Intl.DateTimeFormat(t,e),c1[n]=i),i}let h1={};function oW(t,e={}){const n=JSON.stringify([t,e]);let i=h1[n];return i||(i=new Intl.NumberFormat(t,e),h1[n]=i),i}let d1={};function lW(t,e={}){const{base:n,...i}=e,r=JSON.stringify([t,i]);let s=d1[r];return s||(s=new Intl.RelativeTimeFormat(t,e),d1[r]=s),s}let vh=null;function cW(){return vh||(vh=new Intl.DateTimeFormat().resolvedOptions().locale,vh)}let SC={};function uW(t){let e=SC[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,SC[t]=e}return e}function hW(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let i,r;try{i=u1(t).resolvedOptions(),r=t}catch{const u=t.substring(0,n);i=u1(u).resolvedOptions(),r=u}const{numberingSystem:s,calendar:a}=i;return[r,s,a]}}function dW(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function fW(t){const e=[];for(let n=1;n<=12;n++){const i=It.utc(2009,n,1);e.push(t(i))}return e}function pW(t){const e=[];for(let n=1;n<=7;n++){const i=It.utc(2016,11,13+n);e.push(t(i))}return e}function sp(t,e,n,i){const r=t.listingMode();return r==="error"?null:r==="en"?n(e):i(e)}function mW(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class gW{constructor(e,n,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:s,...a}=i;if(!n||Object.keys(a).length>0){const l={useGrouping:!1,...i};i.padTo>0&&(l.minimumIntegerDigits=i.padTo),this.inf=oW(e,l)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Kb(e,3);return ii(n,this.padTo)}}}class xW{constructor(e,n,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),l=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&wa.create(l).valid?(r=l,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=u1(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:i}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class vW{constructor(e,n,i){this.opts={style:"long",...i},!n&&RR()&&(this.rtf=lW(e,i))}format(e,n){return this.rtf?this.rtf.format(e,n):BW(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const yW={firstDay:1,minimalDays:4,weekend:[6,7]};class An{static fromOpts(e){return An.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,i,r,s=!1){const a=e||Jn.defaultLocale,l=a||(s?"en-US":cW()),u=n||Jn.defaultNumberingSystem,d=i||Jn.defaultOutputCalendar,f=f1(r)||Jn.defaultWeekSettings;return new An(l,u,d,f,a)}static resetCache(){vh=null,c1={},h1={},d1={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:i,weekSettings:r}={}){return An.create(e,n,i,r)}constructor(e,n,i,r,s){const[a,l,u]=hW(e);this.locale=a,this.numberingSystem=n||l||null,this.outputCalendar=i||u||null,this.weekSettings=r,this.intl=dW(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=mW(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:An.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,f1(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return sp(this,e,FR,()=>{const i=n?{month:e,day:"numeric"}:{month:e},r=n?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=fW(s=>this.extract(s,i,"month"))),this.monthsCache[r][e]})}weekdays(e,n=!1){return sp(this,e,VR,()=>{const i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=n?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=pW(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return sp(this,void 0,()=>UR,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[It.utc(2016,11,13,9),It.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return sp(this,e,zR,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[It.utc(-40,1,1),It.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,n,i){const r=this.dtFormatter(e,n),s=r.formatToParts(),a=s.find(l=>l.type.toLowerCase()===i);return a?a.value:null}numberFormatter(e={}){return new gW(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new xW(e,this.intl,n)}relFormatter(e={}){return new vW(this.intl,this.isEnglish(),e)}listFormatter(e={}){return aW(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:IR()?uW(this.locale):yW}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let z0=null;class Hi extends af{static get utcInstance(){return z0===null&&(z0=new Hi(0)),z0}static instance(e){return e===0?Hi.utcInstance:new Hi(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Hi(sx(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Oh(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Oh(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Oh(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class _W extends af{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ka(t,e){if(Zt(t)||t===null)return e;if(t instanceof af)return t;if(SW(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?nx.instance:n==="utc"||n==="gmt"?Hi.utcInstance:Hi.parseSpecifier(n)||wa.create(t)}else return yl(t)?Hi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new _W(t)}let MC=()=>Date.now(),CC="system",TC=null,PC=null,EC=null,AC=60,kC,RC=null;class Jn{static get now(){return MC}static set now(e){MC=e}static set defaultZone(e){CC=e}static get defaultZone(){return Ka(CC,nx.instance)}static get defaultLocale(){return TC}static set defaultLocale(e){TC=e}static get defaultNumberingSystem(){return PC}static set defaultNumberingSystem(e){PC=e}static get defaultOutputCalendar(){return EC}static set defaultOutputCalendar(e){EC=e}static get defaultWeekSettings(){return RC}static set defaultWeekSettings(e){RC=f1(e)}static get twoDigitCutoffYear(){return AC}static set twoDigitCutoffYear(e){AC=e%100}static get throwOnInvalid(){return kC}static set throwOnInvalid(e){kC=e}static resetCaches(){An.resetCache(),wa.resetCache()}}class ss{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const CR=[0,31,59,90,120,151,181,212,243,273,304,334],TR=[0,31,60,91,121,152,182,213,244,274,305,335];function Fr(t,e){return new ss("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Yb(t,e,n){const i=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function PR(t,e,n){return n+(of(t)?TR:CR)[e-1]}function ER(t,e){const n=of(t)?TR:CR,i=n.findIndex(s=>s<e),r=e-n[i];return{month:i+1,day:r}}function $b(t,e){return(t-e+7)%7+1}function Qm(t,e=4,n=1){const{year:i,month:r,day:s}=t,a=PR(i,r,s),l=$b(Yb(i,r,s),n);let u=Math.floor((a-l+14-e)/7),d;return u<1?(d=i-1,u=md(d,e,n)):u>md(i,e,n)?(d=i+1,u=1):d=i,{weekYear:d,weekNumber:u,weekday:l,...ax(t)}}function IC(t,e=4,n=1){const{weekYear:i,weekNumber:r,weekday:s}=t,a=$b(Yb(i,1,e),n),l=Xc(i);let u=r*7+s-a-7+e,d;u<1?(d=i-1,u+=Xc(d)):u>l?(d=i+1,u-=Xc(i)):d=i;const{month:f,day:x}=ER(d,u);return{year:d,month:f,day:x,...ax(t)}}function W0(t){const{year:e,month:n,day:i}=t,r=PR(e,n,i);return{year:e,ordinal:r,...ax(t)}}function LC(t){const{year:e,ordinal:n}=t,{month:i,day:r}=ER(e,n);return{year:e,month:i,day:r,...ax(t)}}function DC(t,e){if(!Zt(t.localWeekday)||!Zt(t.localWeekNumber)||!Zt(t.localWeekYear)){if(!Zt(t.weekday)||!Zt(t.weekNumber)||!Zt(t.weekYear))throw new Lc("Cannot mix locale-based week fields with ISO-based week fields");return Zt(t.localWeekday)||(t.weekday=t.localWeekday),Zt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Zt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function bW(t,e=4,n=1){const i=ix(t.weekYear),r=Or(t.weekNumber,1,md(t.weekYear,e,n)),s=Or(t.weekday,1,7);return i?r?s?!1:Fr("weekday",t.weekday):Fr("week",t.weekNumber):Fr("weekYear",t.weekYear)}function wW(t){const e=ix(t.year),n=Or(t.ordinal,1,Xc(t.year));return e?n?!1:Fr("ordinal",t.ordinal):Fr("year",t.year)}function AR(t){const e=ix(t.year),n=Or(t.month,1,12),i=Or(t.day,1,qm(t.year,t.month));return e?n?i?!1:Fr("day",t.day):Fr("month",t.month):Fr("year",t.year)}function kR(t){const{hour:e,minute:n,second:i,millisecond:r}=t,s=Or(e,0,23)||e===24&&n===0&&i===0&&r===0,a=Or(n,0,59),l=Or(i,0,59),u=Or(r,0,999);return s?a?l?u?!1:Fr("millisecond",r):Fr("second",i):Fr("minute",n):Fr("hour",e)}function Zt(t){return typeof t>"u"}function yl(t){return typeof t=="number"}function ix(t){return typeof t=="number"&&t%1===0}function SW(t){return typeof t=="string"}function MW(t){return Object.prototype.toString.call(t)==="[object Date]"}function RR(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function IR(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function CW(t){return Array.isArray(t)?t:[t]}function NC(t,e,n){if(t.length!==0)return t.reduce((i,r)=>{const s=[e(r),r];return i&&n(i[0],s[0])===i[0]?i:s},null)[1]}function TW(t,e){return e.reduce((n,i)=>(n[i]=t[i],n),{})}function cu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f1(t){if(t==null)return null;if(typeof t!="object")throw new nr("Week settings must be an object");if(!Or(t.firstDay,1,7)||!Or(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Or(e,1,7)))throw new nr("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Or(t,e,n){return ix(t)&&t>=e&&t<=n}function PW(t,e){return t-e*Math.floor(t/e)}function ii(t,e=2){const n=t<0;let i;return n?i="-"+(""+-t).padStart(e,"0"):i=(""+t).padStart(e,"0"),i}function Ya(t){if(!(Zt(t)||t===null||t===""))return parseInt(t,10)}function Ho(t){if(!(Zt(t)||t===null||t===""))return parseFloat(t)}function Zb(t){if(!(Zt(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Kb(t,e,n=!1){const i=10**e;return(n?Math.trunc:Math.round)(t*i)/i}function of(t){return t%4===0&&(t%100!==0||t%400===0)}function Xc(t){return of(t)?366:365}function qm(t,e){const n=PW(e-1,12)+1,i=t+(e-n)/12;return n===2?of(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function rx(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function FC(t,e,n){return-$b(Yb(t,1,e),n)+e-1}function md(t,e=4,n=1){const i=FC(t,e,n),r=FC(t+1,e,n);return(Xc(t)-i+r)/7}function p1(t){return t>99?t:t>Jn.twoDigitCutoffYear?1900+t:2e3+t}function LR(t,e,n,i=null){const r=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const a={timeZoneName:e,...s},l=new Intl.DateTimeFormat(n,a).formatToParts(r).find(u=>u.type.toLowerCase()==="timezonename");return l?l.value:null}function sx(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const i=parseInt(e,10)||0,r=n<0||Object.is(n,-0)?-i:i;return n*60+r}function DR(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new nr(`Invalid unit value ${t}`);return e}function Jm(t,e){const n={};for(const i in t)if(cu(t,i)){const r=t[i];if(r==null)continue;n[e(i)]=DR(r)}return n}function Oh(t,e){const n=Math.trunc(Math.abs(t/60)),i=Math.trunc(Math.abs(t%60)),r=t>=0?"+":"-";switch(e){case"short":return`${r}${ii(n,2)}:${ii(i,2)}`;case"narrow":return`${r}${n}${i>0?`:${i}`:""}`;case"techie":return`${r}${ii(n,2)}${ii(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function ax(t){return TW(t,["hour","minute","second","millisecond"])}const EW=["January","February","March","April","May","June","July","August","September","October","November","December"],NR=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],AW=["J","F","M","A","M","J","J","A","S","O","N","D"];function FR(t){switch(t){case"narrow":return[...AW];case"short":return[...NR];case"long":return[...EW];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const OR=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],BR=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],kW=["M","T","W","T","F","S","S"];function VR(t){switch(t){case"narrow":return[...kW];case"short":return[...BR];case"long":return[...OR];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const UR=["AM","PM"],RW=["Before Christ","Anno Domini"],IW=["BC","AD"],LW=["B","A"];function zR(t){switch(t){case"narrow":return[...LW];case"short":return[...IW];case"long":return[...RW];default:return null}}function DW(t){return UR[t.hour<12?0:1]}function NW(t,e){return VR(e)[t.weekday-1]}function FW(t,e){return FR(e)[t.month-1]}function OW(t,e){return zR(e)[t.year<0?0:1]}function BW(t,e,n="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const x=t==="days";switch(e){case 1:return x?"tomorrow":`next ${r[t][0]}`;case-1:return x?"yesterday":`last ${r[t][0]}`;case 0:return x?"today":`this ${r[t][0]}`}}const a=Object.is(e,-0)||e<0,l=Math.abs(e),u=l===1,d=r[t],f=i?u?d[1]:d[2]||d[1]:u?r[t][0]:t;return a?`${l} ${f} ago`:`in ${l} ${f}`}function OC(t,e){let n="";for(const i of t)i.literal?n+=i.val:n+=e(i.val);return n}const VW={D:Km,DD:aR,DDD:oR,DDDD:lR,t:cR,tt:uR,ttt:hR,tttt:dR,T:fR,TT:pR,TTT:mR,TTTT:gR,f:xR,ff:yR,fff:bR,ffff:SR,F:vR,FF:_R,FFF:wR,FFFF:MR};class Di{static create(e,n={}){return new Di(e,n)}static parseFormat(e){let n=null,i="",r=!1;const s=[];for(let a=0;a<e.length;a++){const l=e.charAt(a);l==="'"?(i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),n=null,i="",r=!r):r||l===n?i+=l:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=l,n=l)}return i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(e){return VW[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return ii(e,n);const i={...this.opts};return n>0&&(i.padTo=n),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,n){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,C)=>this.loc.extract(e,y,C),a=y=>e.isOffsetFixed&&e.offset===0&&y.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,y.format):"",l=()=>i?DW(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(y,C)=>i?FW(e,y):s(C?{month:y}:{month:y,day:"numeric"},"month"),d=(y,C)=>i?NW(e,y):s(C?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),f=y=>{const C=Di.macroTokenToFormatOpts(y);return C?this.formatWithSystemDefault(e,C):y},x=y=>i?OW(e,y):s({era:y},"era"),v=y=>{switch(y){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return r?s({day:"numeric"},"day"):this.num(e.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(e.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(e.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return x("short");case"GG":return x("long");case"GGGGG":return x("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(y)}};return OC(Di.parseFormat(n),v)}formatDurationFromString(e,n){const i=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=u=>d=>{const f=i(d);return f?this.num(u.get(f),d.length):d},s=Di.parseFormat(n),a=s.reduce((u,{literal:d,val:f})=>d?u:u.concat(f),[]),l=e.shiftTo(...a.map(i).filter(u=>u));return OC(s,r(l))}}const WR=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Iu(...t){const e=t.reduce((n,i)=>n+i.source,"");return RegExp(`^${e}$`)}function Lu(...t){return e=>t.reduce(([n,i,r],s)=>{const[a,l,u]=s(e,r);return[{...n,...a},l||i,u]},[{},null,1]).slice(0,2)}function Du(t,...e){if(t==null)return[null,null];for(const[n,i]of e){const r=n.exec(t);if(r)return i(r)}return[null,null]}function jR(...t){return(e,n)=>{const i={};let r;for(r=0;r<t.length;r++)i[t[r]]=Ya(e[n+r]);return[i,null,n+r]}}const HR=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,UW=`(?:${HR.source}?(?:\\[(${WR.source})\\])?)?`,Qb=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,XR=RegExp(`${Qb.source}${UW}`),qb=RegExp(`(?:T${XR.source})?`),zW=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,WW=/(\d{4})-?W(\d\d)(?:-?(\d))?/,jW=/(\d{4})-?(\d{3})/,HW=jR("weekYear","weekNumber","weekDay"),XW=jR("year","ordinal"),GW=/(\d{4})-(\d\d)-(\d\d)/,GR=RegExp(`${Qb.source} ?(?:${HR.source}|(${WR.source}))?`),YW=RegExp(`(?: ${GR.source})?`);function Gc(t,e,n){const i=t[e];return Zt(i)?n:Ya(i)}function $W(t,e){return[{year:Gc(t,e),month:Gc(t,e+1,1),day:Gc(t,e+2,1)},null,e+3]}function Nu(t,e){return[{hours:Gc(t,e,0),minutes:Gc(t,e+1,0),seconds:Gc(t,e+2,0),milliseconds:Zb(t[e+3])},null,e+4]}function lf(t,e){const n=!t[e]&&!t[e+1],i=sx(t[e+1],t[e+2]),r=n?null:Hi.instance(i);return[{},r,e+3]}function cf(t,e){const n=t[e]?wa.create(t[e]):null;return[{},n,e+1]}const ZW=RegExp(`^T?${Qb.source}$`),KW=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function QW(t){const[e,n,i,r,s,a,l,u,d]=t,f=e[0]==="-",x=u&&u[0]==="-",v=(y,C=!1)=>y!==void 0&&(C||y&&f)?-y:y;return[{years:v(Ho(n)),months:v(Ho(i)),weeks:v(Ho(r)),days:v(Ho(s)),hours:v(Ho(a)),minutes:v(Ho(l)),seconds:v(Ho(u),u==="-0"),milliseconds:v(Zb(d),x)}]}const qW={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Jb(t,e,n,i,r,s,a){const l={year:e.length===2?p1(Ya(e)):Ya(e),month:NR.indexOf(n)+1,day:Ya(i),hour:Ya(r),minute:Ya(s)};return a&&(l.second=Ya(a)),t&&(l.weekday=t.length>3?OR.indexOf(t)+1:BR.indexOf(t)+1),l}const JW=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function e9(t){const[,e,n,i,r,s,a,l,u,d,f,x]=t,v=Jb(e,r,i,n,s,a,l);let y;return u?y=qW[u]:d?y=0:y=sx(f,x),[v,new Hi(y)]}function t9(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const n9=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,i9=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,r9=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function BC(t){const[,e,n,i,r,s,a,l]=t;return[Jb(e,r,i,n,s,a,l),Hi.utcInstance]}function s9(t){const[,e,n,i,r,s,a,l]=t;return[Jb(e,l,n,i,r,s,a),Hi.utcInstance]}const a9=Iu(zW,qb),o9=Iu(WW,qb),l9=Iu(jW,qb),c9=Iu(XR),YR=Lu($W,Nu,lf,cf),u9=Lu(HW,Nu,lf,cf),h9=Lu(XW,Nu,lf,cf),d9=Lu(Nu,lf,cf);function f9(t){return Du(t,[a9,YR],[o9,u9],[l9,h9],[c9,d9])}function p9(t){return Du(t9(t),[JW,e9])}function m9(t){return Du(t,[n9,BC],[i9,BC],[r9,s9])}function g9(t){return Du(t,[KW,QW])}const x9=Lu(Nu);function v9(t){return Du(t,[ZW,x9])}const y9=Iu(GW,YW),_9=Iu(GR),b9=Lu(Nu,lf,cf);function w9(t){return Du(t,[y9,YR],[_9,b9])}const VC="Invalid Duration",$R={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},S9={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...$R},Rr=146097/400,Ql=146097/4800,M9={years:{quarters:4,months:12,weeks:Rr/7,days:Rr,hours:Rr*24,minutes:Rr*24*60,seconds:Rr*24*60*60,milliseconds:Rr*24*60*60*1e3},quarters:{months:3,weeks:Rr/28,days:Rr/4,hours:Rr*24/4,minutes:Rr*24*60/4,seconds:Rr*24*60*60/4,milliseconds:Rr*24*60*60*1e3/4},months:{weeks:Ql/7,days:Ql,hours:Ql*24,minutes:Ql*24*60,seconds:Ql*24*60*60,milliseconds:Ql*24*60*60*1e3},...$R},hl=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],C9=hl.slice(0).reverse();function Na(t,e,n=!1){const i={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new mn(i)}function ZR(t,e){let n=e.milliseconds??0;for(const i of C9.slice(1))e[i]&&(n+=e[i]*t[i].milliseconds);return n}function UC(t,e){const n=ZR(t,e)<0?-1:1;hl.reduceRight((i,r)=>{if(Zt(e[r]))return i;if(i){const s=e[i]*n,a=t[r][i],l=Math.floor(s/a);e[r]+=l*n,e[i]-=l*a*n}return r},null),hl.reduce((i,r)=>{if(Zt(e[r]))return i;if(i){const s=e[i]%1;e[i]-=s,e[r]+=s*t[i][r]}return r},null)}function T9(t){const e={};for(const[n,i]of Object.entries(t))i!==0&&(e[n]=i);return e}class mn{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let i=n?M9:S9;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||An.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,n){return mn.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new nr(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new mn({values:Jm(e,mn.normalizeUnit),loc:An.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(yl(e))return mn.fromMillis(e);if(mn.isDuration(e))return e;if(typeof e=="object")return mn.fromObject(e);throw new nr(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[i]=g9(e);return i?mn.fromObject(i,n):mn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[i]=v9(e);return i?mn.fromObject(i,n):mn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new nr("need to specify a reason the Duration is invalid");const i=e instanceof ss?e:new ss(e,n);if(Jn.throwOnInvalid)throw new Jz(i);return new mn({invalid:i})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new sR(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const i={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Di.create(this.loc,i).formatDurationFromString(this,e):VC}toHuman(e={}){if(!this.isValid)return VC;const n=hl.map(i=>{const r=this.values[i];return Zt(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(r)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Kb(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},It.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?ZR(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=mn.fromDurationLike(e),i={};for(const r of hl)(cu(n.values,r)||cu(this.values,r))&&(i[r]=n.get(r)+this.get(r));return Na(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const n=mn.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const i of Object.keys(this.values))n[i]=DR(e(this.values[i],i));return Na(this,{values:n},!0)}get(e){return this[mn.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Jm(e,mn.normalizeUnit)};return Na(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:i,matrix:r}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:r,conversionAccuracy:i};return Na(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return UC(this.matrix,e),Na(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=T9(this.normalize().shiftToAll().toObject());return Na(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>mn.normalizeUnit(a));const n={},i={},r=this.toObject();let s;for(const a of hl)if(e.indexOf(a)>=0){s=a;let l=0;for(const d in i)l+=this.matrix[d][a]*i[d],i[d]=0;yl(r[a])&&(l+=r[a]);const u=Math.trunc(l);n[a]=u,i[a]=(l*1e3-u*1e3)/1e3}else yl(r[a])&&(i[a]=r[a]);for(const a in i)i[a]!==0&&(n[s]+=a===s?i[a]:i[a]/this.matrix[s][a]);return UC(this.matrix,n),Na(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return Na(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of hl)if(!n(this.values[i],e.values[i]))return!1;return!0}}const ql="Invalid Interval";function P9(t,e){return!t||!t.isValid?$n.invalid("missing or invalid start"):!e||!e.isValid?$n.invalid("missing or invalid end"):e<t?$n.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class $n{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new nr("need to specify a reason the Interval is invalid");const i=e instanceof ss?e:new ss(e,n);if(Jn.throwOnInvalid)throw new qz(i);return new $n({invalid:i})}static fromDateTimes(e,n){const i=nh(e),r=nh(n),s=P9(i,r);return s??new $n({start:i,end:r})}static after(e,n){const i=mn.fromDurationLike(n),r=nh(e);return $n.fromDateTimes(r,r.plus(i))}static before(e,n){const i=mn.fromDurationLike(n),r=nh(e);return $n.fromDateTimes(r.minus(i),r)}static fromISO(e,n){const[i,r]=(e||"").split("/",2);if(i&&r){let s,a;try{s=It.fromISO(i,n),a=s.isValid}catch{a=!1}let l,u;try{l=It.fromISO(r,n),u=l.isValid}catch{u=!1}if(a&&u)return $n.fromDateTimes(s,l);if(a){const d=mn.fromISO(r,n);if(d.isValid)return $n.after(s,d)}else if(u){const d=mn.fromISO(i,n);if(d.isValid)return $n.before(l,d)}}return $n.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const i=this.start.startOf(e,n);let r;return n!=null&&n.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(e,n),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?$n.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(nh).filter(a=>this.contains(a)).sort((a,l)=>a.toMillis()-l.toMillis()),i=[];let{s:r}=this,s=0;for(;r<this.e;){const a=n[s]||this.e,l=+a>+this.e?this.e:a;i.push($n.fromDateTimes(r,l)),r=l,s+=1}return i}splitBy(e){const n=mn.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:i}=this,r=1,s;const a=[];for(;i<this.e;){const l=this.start.plus(n.mapUnits(u=>u*r));s=+l>+this.e?this.e:l,a.push($n.fromDateTimes(i,s)),i=s,r+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return n>=i?null:$n.fromDateTimes(n,i)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return $n.fromDateTimes(n,i)}static merge(e){const[n,i]=e.sort((r,s)=>r.s-s.s).reduce(([r,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[r,s.union(a)]:[r.concat([s]),a]:[r,a],[[],null]);return i&&n.push(i),n}static xor(e){let n=null,i=0;const r=[],s=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...s),l=a.sort((u,d)=>u.time-d.time);for(const u of l)i+=u.type==="s"?1:-1,i===1?n=u.time:(n&&+n!=+u.time&&r.push($n.fromDateTimes(n,u.time)),n=null);return $n.merge(r)}difference(...e){return $n.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:ql}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Km,n={}){return this.isValid?Di.create(this.s.loc.clone(n),e).formatInterval(this):ql}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:ql}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ql}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:ql}toFormat(e,{separator:n="  "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:ql}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):mn.invalid(this.invalidReason)}mapEndpoints(e){return $n.fromDateTimes(e(this.s),e(this.e))}}class ap{static hasDST(e=Jn.defaultZone){const n=It.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return wa.isValidZone(e)}static normalizeZone(e){return Ka(e,Jn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||An.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||An.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||An.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||An.create(n,i,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||An.create(n,i,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||An.create(n,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||An.create(n,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return An.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return An.create(n,null,"gregory").eras(e)}static features(){return{relative:RR(),localeWeek:IR()}}}function zC(t,e){const n=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=n(e)-n(t);return Math.floor(mn.fromMillis(i).as("days"))}function E9(t,e,n){const i=[["years",(u,d)=>d.year-u.year],["quarters",(u,d)=>d.quarter-u.quarter+(d.year-u.year)*4],["months",(u,d)=>d.month-u.month+(d.year-u.year)*12],["weeks",(u,d)=>{const f=zC(u,d);return(f-f%7)/7}],["days",zC]],r={},s=t;let a,l;for(const[u,d]of i)n.indexOf(u)>=0&&(a=u,r[u]=d(t,e),l=s.plus(r),l>e?(r[u]--,t=s.plus(r),t>e&&(l=t,r[u]--,t=s.plus(r))):t=l);return[t,r,l,a]}function A9(t,e,n,i){let[r,s,a,l]=E9(t,e,n);const u=e-r,d=n.filter(x=>["hours","minutes","seconds","milliseconds"].indexOf(x)>=0);d.length===0&&(a<e&&(a=r.plus({[l]:1})),a!==r&&(s[l]=(s[l]||0)+u/(a-r)));const f=mn.fromObject(s,i);return d.length>0?mn.fromMillis(u,i).shiftTo(...d).plus(f):f}const ew={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},WC={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},k9=ew.hanidec.replace(/[\[|\]]/g,"").split("");function R9(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(t[n].search(ew.hanidec)!==-1)e+=k9.indexOf(t[n]);else for(const r in WC){const[s,a]=WC[r];i>=s&&i<=a&&(e+=i-s)}}return parseInt(e,10)}else return e}function Kr({numberingSystem:t},e=""){return new RegExp(`${ew[t||"latn"]}${e}`)}const I9="missing Intl.DateTimeFormat.formatToParts support";function _n(t,e=n=>n){return{regex:t,deser:([n])=>e(R9(n))}}const L9="",KR=`[ ${L9}]`,QR=new RegExp(KR,"g");function D9(t){return t.replace(/\./g,"\\.?").replace(QR,KR)}function jC(t){return t.replace(/\./g,"").replace(QR," ").toLowerCase()}function Qr(t,e){return t===null?null:{regex:RegExp(t.map(D9).join("|")),deser:([n])=>t.findIndex(i=>jC(n)===jC(i))+e}}function HC(t,e){return{regex:t,deser:([,n,i])=>sx(n,i),groups:e}}function op(t){return{regex:t,deser:([e])=>e}}function N9(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function F9(t,e){const n=Kr(e),i=Kr(e,"{2}"),r=Kr(e,"{3}"),s=Kr(e,"{4}"),a=Kr(e,"{6}"),l=Kr(e,"{1,2}"),u=Kr(e,"{1,3}"),d=Kr(e,"{1,6}"),f=Kr(e,"{1,9}"),x=Kr(e,"{2,4}"),v=Kr(e,"{4,6}"),y=P=>({regex:RegExp(N9(P.val)),deser:([S])=>S,literal:!0}),k=(P=>{if(t.literal)return y(P);switch(P.val){case"G":return Qr(e.eras("short"),0);case"GG":return Qr(e.eras("long"),0);case"y":return _n(d);case"yy":return _n(x,p1);case"yyyy":return _n(s);case"yyyyy":return _n(v);case"yyyyyy":return _n(a);case"M":return _n(l);case"MM":return _n(i);case"MMM":return Qr(e.months("short",!0),1);case"MMMM":return Qr(e.months("long",!0),1);case"L":return _n(l);case"LL":return _n(i);case"LLL":return Qr(e.months("short",!1),1);case"LLLL":return Qr(e.months("long",!1),1);case"d":return _n(l);case"dd":return _n(i);case"o":return _n(u);case"ooo":return _n(r);case"HH":return _n(i);case"H":return _n(l);case"hh":return _n(i);case"h":return _n(l);case"mm":return _n(i);case"m":return _n(l);case"q":return _n(l);case"qq":return _n(i);case"s":return _n(l);case"ss":return _n(i);case"S":return _n(u);case"SSS":return _n(r);case"u":return op(f);case"uu":return op(l);case"uuu":return _n(n);case"a":return Qr(e.meridiems(),0);case"kkkk":return _n(s);case"kk":return _n(x,p1);case"W":return _n(l);case"WW":return _n(i);case"E":case"c":return _n(n);case"EEE":return Qr(e.weekdays("short",!1),1);case"EEEE":return Qr(e.weekdays("long",!1),1);case"ccc":return Qr(e.weekdays("short",!0),1);case"cccc":return Qr(e.weekdays("long",!0),1);case"Z":case"ZZ":return HC(new RegExp(`([+-]${l.source})(?::(${i.source}))?`),2);case"ZZZ":return HC(new RegExp(`([+-]${l.source})(${i.source})?`),2);case"z":return op(/[a-z_+-/]{1,256}?/i);case" ":return op(/[^\S\n\r]/);default:return y(P)}})(t)||{invalidReason:I9};return k.token=t,k}const O9={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function B9(t,e,n){const{type:i,value:r}=t;if(i==="literal"){const u=/^\s+$/.test(r);return{literal:!u,val:u?" ":r}}const s=e[i];let a=i;i==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=n.hour12?"hour12":"hour24");let l=O9[a];if(typeof l=="object"&&(l=l[s]),l)return{literal:!1,val:l}}function V9(t){return[`^${t.map(n=>n.regex).reduce((n,i)=>`${n}(${i.source})`,"")}$`,t]}function U9(t,e,n){const i=t.match(e);if(i){const r={};let s=1;for(const a in n)if(cu(n,a)){const l=n[a],u=l.groups?l.groups+1:1;!l.literal&&l.token&&(r[l.token.val[0]]=l.deser(i.slice(s,s+u))),s+=u}return[i,r]}else return[i,{}]}function z9(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,i;return Zt(t.z)||(n=wa.create(t.z)),Zt(t.Z)||(n||(n=new Hi(t.Z)),i=t.Z),Zt(t.q)||(t.M=(t.q-1)*3+1),Zt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Zt(t.u)||(t.S=Zb(t.u)),[Object.keys(t).reduce((s,a)=>{const l=e(a);return l&&(s[l]=t[a]),s},{}),n,i]}let j0=null;function W9(){return j0||(j0=It.fromMillis(1555555555555)),j0}function j9(t,e){if(t.literal)return t;const n=Di.macroTokenToFormatOpts(t.val),i=eI(n,e);return i==null||i.includes(void 0)?t:i}function qR(t,e){return Array.prototype.concat(...t.map(n=>j9(n,e)))}function JR(t,e,n){const i=qR(Di.parseFormat(n),t),r=i.map(a=>F9(a,t)),s=r.find(a=>a.invalidReason);if(s)return{input:e,tokens:i,invalidReason:s.invalidReason};{const[a,l]=V9(r),u=RegExp(a,"i"),[d,f]=U9(e,u,l),[x,v,y]=f?z9(f):[null,null,void 0];if(cu(f,"a")&&cu(f,"H"))throw new Lc("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:i,regex:u,rawMatches:d,matches:f,result:x,zone:v,specificOffset:y}}}function H9(t,e,n){const{result:i,zone:r,specificOffset:s,invalidReason:a}=JR(t,e,n);return[i,r,s,a]}function eI(t,e){if(!t)return null;const i=Di.create(e,t).dtFormatter(W9()),r=i.formatToParts(),s=i.resolvedOptions();return r.map(a=>B9(a,t,s))}const H0="Invalid DateTime",XC=864e13;function lp(t){return new ss("unsupported zone",`the zone "${t.name}" is not supported`)}function X0(t){return t.weekData===null&&(t.weekData=Qm(t.c)),t.weekData}function G0(t){return t.localWeekData===null&&(t.localWeekData=Qm(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Xo(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new It({...n,...e,old:n})}function tI(t,e,n){let i=t-e*60*1e3;const r=n.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const s=n.offset(i);return r===s?[i,r]:[t-Math.min(r,s)*60*1e3,Math.max(r,s)]}function cp(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function rm(t,e,n){return tI(rx(t),e,n)}function GC(t,e){const n=t.o,i=t.c.year+Math.trunc(e.years),r=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:i,month:r,day:Math.min(t.c.day,qm(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=mn.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=rx(s);let[u,d]=tI(l,n,t.zone);return a!==0&&(u+=a,d=t.zone.offset(u)),{ts:u,o:d}}function th(t,e,n,i,r,s){const{setZone:a,zone:l}=n;if(t&&Object.keys(t).length!==0||e){const u=e||l,d=It.fromObject(t,{...n,zone:u,specificOffset:s});return a?d:d.setZone(l)}else return It.invalid(new ss("unparsable",`the input "${r}" can't be parsed as ${i}`))}function up(t,e,n=!0){return t.isValid?Di.create(An.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Y0(t,e){const n=t.c.year>9999||t.c.year<0;let i="";return n&&t.c.year>=0&&(i+="+"),i+=ii(t.c.year,n?6:4),e?(i+="-",i+=ii(t.c.month),i+="-",i+=ii(t.c.day)):(i+=ii(t.c.month),i+=ii(t.c.day)),i}function YC(t,e,n,i,r,s){let a=ii(t.c.hour);return e?(a+=":",a+=ii(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=":")):a+=ii(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=ii(t.c.second),(t.c.millisecond!==0||!i)&&(a+=".",a+=ii(t.c.millisecond,3))),r&&(t.isOffsetFixed&&t.offset===0&&!s?a+="Z":t.o<0?(a+="-",a+=ii(Math.trunc(-t.o/60)),a+=":",a+=ii(Math.trunc(-t.o%60))):(a+="+",a+=ii(Math.trunc(t.o/60)),a+=":",a+=ii(Math.trunc(t.o%60)))),s&&(a+="["+t.zone.ianaName+"]"),a}const nI={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},X9={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},G9={ordinal:1,hour:0,minute:0,second:0,millisecond:0},iI=["year","month","day","hour","minute","second","millisecond"],Y9=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],$9=["year","ordinal","hour","minute","second","millisecond"];function Z9(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new sR(t);return e}function $C(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Z9(t)}}function ZC(t,e){const n=Ka(e.zone,Jn.defaultZone),i=An.fromObject(e),r=Jn.now();let s,a;if(Zt(t.year))s=r;else{for(const d of iI)Zt(t[d])&&(t[d]=nI[d]);const l=AR(t)||kR(t);if(l)return It.invalid(l);const u=n.offset(r);[s,a]=rm(t,u,n)}return new It({ts:s,zone:n,loc:i,o:a})}function KC(t,e,n){const i=Zt(n.round)?!0:n.round,r=(a,l)=>(a=Kb(a,i||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(a,l)),s=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return r(s(n.unit),n.unit);for(const a of n.units){const l=s(a);if(Math.abs(l)>=1)return r(l,a)}return r(t>e?-0:0,n.units[n.units.length-1])}function QC(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class It{constructor(e){const n=e.zone||Jn.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new ss("invalid input"):null)||(n.isValid?null:lp(n));this.ts=Zt(e.ts)?Jn.now():e.ts;let r=null,s=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[r,s]=[e.old.c,e.old.o];else{const l=n.offset(this.ts);r=cp(this.ts,l),i=Number.isNaN(r.year)?new ss("invalid input"):null,r=i?null:r,s=i?null:l}this._zone=n,this.loc=e.loc||An.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new It({})}static local(){const[e,n]=QC(arguments),[i,r,s,a,l,u,d]=n;return ZC({year:i,month:r,day:s,hour:a,minute:l,second:u,millisecond:d},e)}static utc(){const[e,n]=QC(arguments),[i,r,s,a,l,u,d]=n;return e.zone=Hi.utcInstance,ZC({year:i,month:r,day:s,hour:a,minute:l,second:u,millisecond:d},e)}static fromJSDate(e,n={}){const i=MW(e)?e.valueOf():NaN;if(Number.isNaN(i))return It.invalid("invalid input");const r=Ka(n.zone,Jn.defaultZone);return r.isValid?new It({ts:i,zone:r,loc:An.fromObject(n)}):It.invalid(lp(r))}static fromMillis(e,n={}){if(yl(e))return e<-XC||e>XC?It.invalid("Timestamp out of range"):new It({ts:e,zone:Ka(n.zone,Jn.defaultZone),loc:An.fromObject(n)});throw new nr(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(yl(e))return new It({ts:e*1e3,zone:Ka(n.zone,Jn.defaultZone),loc:An.fromObject(n)});throw new nr("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const i=Ka(n.zone,Jn.defaultZone);if(!i.isValid)return It.invalid(lp(i));const r=An.fromObject(n),s=Jm(e,$C),{minDaysInFirstWeek:a,startOfWeek:l}=DC(s,r),u=Jn.now(),d=Zt(n.specificOffset)?i.offset(u):n.specificOffset,f=!Zt(s.ordinal),x=!Zt(s.year),v=!Zt(s.month)||!Zt(s.day),y=x||v,C=s.weekYear||s.weekNumber;if((y||f)&&C)throw new Lc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(v&&f)throw new Lc("Can't mix ordinal dates with month/day");const k=C||s.weekday&&!y;let P,S,R=cp(u,d);k?(P=Y9,S=X9,R=Qm(R,a,l)):f?(P=$9,S=G9,R=W0(R)):(P=iI,S=nI);let L=!1;for(const H of P){const q=s[H];Zt(q)?L?s[H]=S[H]:s[H]=R[H]:L=!0}const D=k?bW(s,a,l):f?wW(s):AR(s),W=D||kR(s);if(W)return It.invalid(W);const z=k?IC(s,a,l):f?LC(s):s,[j,Z]=rm(z,d,i),$=new It({ts:j,zone:i,o:Z,loc:r});return s.weekday&&y&&e.weekday!==$.weekday?It.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${$.toISO()}`):$}static fromISO(e,n={}){const[i,r]=f9(e);return th(i,r,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[i,r]=p9(e);return th(i,r,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[i,r]=m9(e);return th(i,r,n,"HTTP",n)}static fromFormat(e,n,i={}){if(Zt(e)||Zt(n))throw new nr("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=i,a=An.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[l,u,d,f]=H9(a,e,n);return f?It.invalid(f):th(l,u,i,`format ${n}`,e,d)}static fromString(e,n,i={}){return It.fromFormat(e,n,i)}static fromSQL(e,n={}){const[i,r]=w9(e);return th(i,r,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new nr("need to specify a reason the DateTime is invalid");const i=e instanceof ss?e:new ss(e,n);if(Jn.throwOnInvalid)throw new Qz(i);return new It({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const i=eI(e,An.fromObject(n));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,n={}){return qR(Di.parseFormat(e),An.fromObject(n)).map(r=>r.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?X0(this).weekYear:NaN}get weekNumber(){return this.isValid?X0(this).weekNumber:NaN}get weekday(){return this.isValid?X0(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?G0(this).weekday:NaN}get localWeekNumber(){return this.isValid?G0(this).weekNumber:NaN}get localWeekYear(){return this.isValid?G0(this).weekYear:NaN}get ordinal(){return this.isValid?W0(this.c).ordinal:NaN}get monthShort(){return this.isValid?ap.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ap.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ap.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ap.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,i=rx(this.c),r=this.zone.offset(i-e),s=this.zone.offset(i+e),a=this.zone.offset(i-r*n),l=this.zone.offset(i-s*n);if(a===l)return[this];const u=i-a*n,d=i-l*n,f=cp(u,a),x=cp(d,l);return f.hour===x.hour&&f.minute===x.minute&&f.second===x.second&&f.millisecond===x.millisecond?[Xo(this,{ts:u}),Xo(this,{ts:d})]:[this]}get isInLeapYear(){return of(this.year)}get daysInMonth(){return qm(this.year,this.month)}get daysInYear(){return this.isValid?Xc(this.year):NaN}get weeksInWeekYear(){return this.isValid?md(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?md(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:i,calendar:r}=Di.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:i,outputCalendar:r}}toUTC(e=0,n={}){return this.setZone(Hi.instance(e),n)}toLocal(){return this.setZone(Jn.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:i=!1}={}){if(e=Ka(e,Jn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(n||i){const s=e.offset(this.ts),a=this.toObject();[r]=rm(a,s,e)}return Xo(this,{ts:r,zone:e})}else return It.invalid(lp(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:i});return Xo(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Jm(e,$C),{minDaysInFirstWeek:i,startOfWeek:r}=DC(n,this.loc),s=!Zt(n.weekYear)||!Zt(n.weekNumber)||!Zt(n.weekday),a=!Zt(n.ordinal),l=!Zt(n.year),u=!Zt(n.month)||!Zt(n.day),d=l||u,f=n.weekYear||n.weekNumber;if((d||a)&&f)throw new Lc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new Lc("Can't mix ordinal dates with month/day");let x;s?x=IC({...Qm(this.c,i,r),...n},i,r):Zt(n.ordinal)?(x={...this.toObject(),...n},Zt(n.day)&&(x.day=Math.min(qm(x.year,x.month),x.day))):x=LC({...W0(this.c),...n});const[v,y]=rm(x,this.o,this.zone);return Xo(this,{ts:v,o:y})}plus(e){if(!this.isValid)return this;const n=mn.fromDurationLike(e);return Xo(this,GC(this,n))}minus(e){if(!this.isValid)return this;const n=mn.fromDurationLike(e).negate();return Xo(this,GC(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const i={},r=mn.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(r==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:a}=this;a<s&&(i.weekNumber=this.weekNumber-1),i.weekday=s}else i.weekday=1;if(r==="quarters"){const s=Math.ceil(this.month/3);i.month=(s-1)*3+1}return this.set(i)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?Di.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):H0}toLocaleString(e=Km,n={}){return this.isValid?Di.create(this.loc.clone(n),e).formatDateTime(this):H0}toLocaleParts(e={}){return this.isValid?Di.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=e==="extended";let l=Y0(this,a);return l+="T",l+=YC(this,a,n,i,r,s),l}toISODate({format:e="extended"}={}){return this.isValid?Y0(this,e==="extended"):null}toISOWeekDate(){return up(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(r?"T":"")+YC(this,a==="extended",n,e,i,s):null}toRFC2822(){return up(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return up(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Y0(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(n||e)&&(i&&(r+=" "),n?r+="z":e&&(r+="ZZ")),up(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():H0}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",i={}){if(!this.isValid||!e.isValid)return mn.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=CW(n).map(mn.normalizeUnit),a=e.valueOf()>this.valueOf(),l=a?this:e,u=a?e:this,d=A9(l,u,s,r);return a?d.negate():d}diffNow(e="milliseconds",n={}){return this.diff(It.now(),e,n)}until(e){return this.isValid?$n.fromDateTimes(this,e):this}hasSame(e,n,i){if(!this.isValid)return!1;const r=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,i)<=r&&r<=s.endOf(n,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||It.fromObject({},{zone:this.zone}),i=e.padding?this<n?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(r=e.unit,s=void 0),KC(n,this.plus(i),{...e,numeric:"always",units:r,unit:s})}toRelativeCalendar(e={}){return this.isValid?KC(e.base||It.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(It.isDateTime))throw new nr("min requires all arguments be DateTimes");return NC(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(It.isDateTime))throw new nr("max requires all arguments be DateTimes");return NC(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,i={}){const{locale:r=null,numberingSystem:s=null}=i,a=An.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return JR(a,e,n)}static fromStringExplain(e,n,i={}){return It.fromFormatExplain(e,n,i)}static get DATE_SHORT(){return Km}static get DATE_MED(){return aR}static get DATE_MED_WITH_WEEKDAY(){return eW}static get DATE_FULL(){return oR}static get DATE_HUGE(){return lR}static get TIME_SIMPLE(){return cR}static get TIME_WITH_SECONDS(){return uR}static get TIME_WITH_SHORT_OFFSET(){return hR}static get TIME_WITH_LONG_OFFSET(){return dR}static get TIME_24_SIMPLE(){return fR}static get TIME_24_WITH_SECONDS(){return pR}static get TIME_24_WITH_SHORT_OFFSET(){return mR}static get TIME_24_WITH_LONG_OFFSET(){return gR}static get DATETIME_SHORT(){return xR}static get DATETIME_SHORT_WITH_SECONDS(){return vR}static get DATETIME_MED(){return yR}static get DATETIME_MED_WITH_SECONDS(){return _R}static get DATETIME_MED_WITH_WEEKDAY(){return tW}static get DATETIME_FULL(){return bR}static get DATETIME_FULL_WITH_SECONDS(){return wR}static get DATETIME_HUGE(){return SR}static get DATETIME_HUGE_WITH_SECONDS(){return MR}}function nh(t){if(It.isDateTime(t))return t;if(t&&t.valueOf&&yl(t.valueOf()))return It.fromJSDate(t);if(t&&typeof t=="object")return It.fromObject(t);throw new nr(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var K9=F.createContext(void 0);function uf(t){const e=F.useContext(K9);return t||e||"ltr"}function m1(t,[e,n]){return Math.min(n,Math.max(e,t))}function Q9(t,e){return F.useReducer((n,i)=>e[n][i]??n,t)}var tw="ScrollArea",[rI,_ae]=bs(tw),[q9,Gr]=rI(tw),sI=F.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:i="hover",dir:r,scrollHideDelay:s=600,...a}=t,[l,u]=F.useState(null),[d,f]=F.useState(null),[x,v]=F.useState(null),[y,C]=F.useState(null),[k,P]=F.useState(null),[S,R]=F.useState(0),[L,D]=F.useState(0),[W,z]=F.useState(!1),[j,Z]=F.useState(!1),$=sn(e,q=>u(q)),H=uf(r);return w.jsx(q9,{scope:n,type:i,dir:H,scrollHideDelay:s,scrollArea:l,viewport:d,onViewportChange:f,content:x,onContentChange:v,scrollbarX:y,onScrollbarXChange:C,scrollbarXEnabled:W,onScrollbarXEnabledChange:z,scrollbarY:k,onScrollbarYChange:P,scrollbarYEnabled:j,onScrollbarYEnabledChange:Z,onCornerWidthChange:R,onCornerHeightChange:D,children:w.jsx(Dt.div,{dir:H,...a,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":L+"px",...t.style}})})});sI.displayName=tw;var aI="ScrollAreaViewport",oI=F.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:i,nonce:r,...s}=t,a=Gr(aI,n),l=F.useRef(null),u=sn(e,l,a.onViewportChange);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),w.jsx(Dt.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:w.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});oI.displayName=aI;var Gs="ScrollAreaScrollbar",nw=F.forwardRef((t,e)=>{const{forceMount:n,...i}=t,r=Gr(Gs,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=r,l=t.orientation==="horizontal";return F.useEffect(()=>(l?s(!0):a(!0),()=>{l?s(!1):a(!1)}),[l,s,a]),r.type==="hover"?w.jsx(J9,{...i,ref:e,forceMount:n}):r.type==="scroll"?w.jsx(e7,{...i,ref:e,forceMount:n}):r.type==="auto"?w.jsx(lI,{...i,ref:e,forceMount:n}):r.type==="always"?w.jsx(iw,{...i,ref:e}):null});nw.displayName=Gs;var J9=F.forwardRef((t,e)=>{const{forceMount:n,...i}=t,r=Gr(Gs,t.__scopeScrollArea),[s,a]=F.useState(!1);return F.useEffect(()=>{const l=r.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),a(!0)},f=()=>{u=window.setTimeout(()=>a(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[r.scrollArea,r.scrollHideDelay]),w.jsx(Vi,{present:n||s,children:w.jsx(lI,{"data-state":s?"visible":"hidden",...i,ref:e})})}),e7=F.forwardRef((t,e)=>{const{forceMount:n,...i}=t,r=Gr(Gs,t.__scopeScrollArea),s=t.orientation==="horizontal",a=lx(()=>u("SCROLL_END"),100),[l,u]=Q9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return F.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>u("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,r.scrollHideDelay,u]),F.useEffect(()=>{const d=r.viewport,f=s?"scrollLeft":"scrollTop";if(d){let x=d[f];const v=()=>{const y=d[f];x!==y&&(u("SCROLL"),a()),x=y};return d.addEventListener("scroll",v),()=>d.removeEventListener("scroll",v)}},[r.viewport,s,u,a]),w.jsx(Vi,{present:n||l!=="hidden",children:w.jsx(iw,{"data-state":l==="hidden"?"hidden":"visible",...i,ref:e,onPointerEnter:it(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:it(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),lI=F.forwardRef((t,e)=>{const n=Gr(Gs,t.__scopeScrollArea),{forceMount:i,...r}=t,[s,a]=F.useState(!1),l=t.orientation==="horizontal",u=lx(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?d:f)}},10);return uu(n.viewport,u),uu(n.content,u),w.jsx(Vi,{present:i||s,children:w.jsx(iw,{"data-state":s?"visible":"hidden",...r,ref:e})})}),iw=F.forwardRef((t,e)=>{const{orientation:n="vertical",...i}=t,r=Gr(Gs,t.__scopeScrollArea),s=F.useRef(null),a=F.useRef(0),[l,u]=F.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=fI(l.viewport,l.content),f={...i,sizes:l,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:v=>s.current=v,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:v=>a.current=v};function x(v,y){return a7(v,a.current,l,y)}return n==="horizontal"?w.jsx(t7,{...f,ref:e,onThumbPositionChange:()=>{if(r.viewport&&s.current){const v=r.viewport.scrollLeft,y=qC(v,l,r.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:v=>{r.viewport&&(r.viewport.scrollLeft=v)},onDragScroll:v=>{r.viewport&&(r.viewport.scrollLeft=x(v,r.dir))}}):n==="vertical"?w.jsx(n7,{...f,ref:e,onThumbPositionChange:()=>{if(r.viewport&&s.current){const v=r.viewport.scrollTop,y=qC(v,l);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:v=>{r.viewport&&(r.viewport.scrollTop=v)},onDragScroll:v=>{r.viewport&&(r.viewport.scrollTop=x(v))}}):null}),t7=F.forwardRef((t,e)=>{const{sizes:n,onSizesChange:i,...r}=t,s=Gr(Gs,t.__scopeScrollArea),[a,l]=F.useState(),u=F.useRef(null),d=sn(e,u,s.onScrollbarXChange);return F.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),w.jsx(uI,{"data-orientation":"horizontal",...r,ref:d,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ox(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,x)=>{if(s.viewport){const v=s.viewport.scrollLeft+f.deltaX;t.onWheelScroll(v),mI(v,x)&&f.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&i({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:tg(a.paddingLeft),paddingEnd:tg(a.paddingRight)}})}})}),n7=F.forwardRef((t,e)=>{const{sizes:n,onSizesChange:i,...r}=t,s=Gr(Gs,t.__scopeScrollArea),[a,l]=F.useState(),u=F.useRef(null),d=sn(e,u,s.onScrollbarYChange);return F.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),w.jsx(uI,{"data-orientation":"vertical",...r,ref:d,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ox(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,x)=>{if(s.viewport){const v=s.viewport.scrollTop+f.deltaY;t.onWheelScroll(v),mI(v,x)&&f.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&i({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:tg(a.paddingTop),paddingEnd:tg(a.paddingBottom)}})}})}),[i7,cI]=rI(Gs),uI=F.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:r,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:f,onResize:x,...v}=t,y=Gr(Gs,n),[C,k]=F.useState(null),P=sn(e,$=>k($)),S=F.useRef(null),R=F.useRef(""),L=y.viewport,D=i.content-i.viewport,W=Wn(f),z=Wn(u),j=lx(x,10);function Z($){if(S.current){const H=$.clientX-S.current.left,q=$.clientY-S.current.top;d({x:H,y:q})}}return F.useEffect(()=>{const $=H=>{const q=H.target;(C==null?void 0:C.contains(q))&&W(H,D)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[L,C,D,W]),F.useEffect(z,[i,z]),uu(C,j),uu(y.content,j),w.jsx(i7,{scope:n,scrollbar:C,hasThumb:r,onThumbChange:Wn(s),onThumbPointerUp:Wn(a),onThumbPositionChange:z,onThumbPointerDown:Wn(l),children:w.jsx(Dt.div,{...v,ref:P,style:{position:"absolute",...v.style},onPointerDown:it(t.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),S.current=C.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),Z($))}),onPointerMove:it(t.onPointerMove,Z),onPointerUp:it(t.onPointerUp,$=>{const H=$.target;H.hasPointerCapture($.pointerId)&&H.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=R.current,y.viewport&&(y.viewport.style.scrollBehavior=""),S.current=null})})})}),eg="ScrollAreaThumb",hI=F.forwardRef((t,e)=>{const{forceMount:n,...i}=t,r=cI(eg,t.__scopeScrollArea);return w.jsx(Vi,{present:n||r.hasThumb,children:w.jsx(r7,{ref:e,...i})})}),r7=F.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:i,...r}=t,s=Gr(eg,n),a=cI(eg,n),{onThumbPositionChange:l}=a,u=sn(e,x=>a.onThumbChange(x)),d=F.useRef(),f=lx(()=>{d.current&&(d.current(),d.current=void 0)},100);return F.useEffect(()=>{const x=s.viewport;if(x){const v=()=>{if(f(),!d.current){const y=o7(x,l);d.current=y,l()}};return l(),x.addEventListener("scroll",v),()=>x.removeEventListener("scroll",v)}},[s.viewport,f,l]),w.jsx(Dt.div,{"data-state":a.hasThumb?"visible":"hidden",...r,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:it(t.onPointerDownCapture,x=>{const y=x.target.getBoundingClientRect(),C=x.clientX-y.left,k=x.clientY-y.top;a.onThumbPointerDown({x:C,y:k})}),onPointerUp:it(t.onPointerUp,a.onThumbPointerUp)})});hI.displayName=eg;var rw="ScrollAreaCorner",dI=F.forwardRef((t,e)=>{const n=Gr(rw,t.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?w.jsx(s7,{...t,ref:e}):null});dI.displayName=rw;var s7=F.forwardRef((t,e)=>{const{__scopeScrollArea:n,...i}=t,r=Gr(rw,n),[s,a]=F.useState(0),[l,u]=F.useState(0),d=!!(s&&l);return uu(r.scrollbarX,()=>{var x;const f=((x=r.scrollbarX)==null?void 0:x.offsetHeight)||0;r.onCornerHeightChange(f),u(f)}),uu(r.scrollbarY,()=>{var x;const f=((x=r.scrollbarY)==null?void 0:x.offsetWidth)||0;r.onCornerWidthChange(f),a(f)}),d?w.jsx(Dt.div,{...i,ref:e,style:{width:s,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function tg(t){return t?parseInt(t,10):0}function fI(t,e){const n=t/e;return isNaN(n)?0:n}function ox(t){const e=fI(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=(t.scrollbar.size-n)*e;return Math.max(i,18)}function a7(t,e,n,i="ltr"){const r=ox(n),s=r/2,a=e||s,l=r-a,u=n.scrollbar.paddingStart+a,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,x=i==="ltr"?[0,f]:[f*-1,0];return pI([u,d],x)(t)}function qC(t,e,n="ltr"){const i=ox(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-r,a=e.content-e.viewport,l=s-i,u=n==="ltr"?[0,a]:[a*-1,0],d=m1(t,u);return pI([0,a],[0,l])(d)}function pI(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(t[1]-t[0]);return e[0]+i*(n-t[0])}}function mI(t,e){return t>0&&t<e}var o7=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},i=0;return function r(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,l=n.top!==s.top;(a||l)&&e(),n=s,i=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(i)};function lx(t,e){const n=Wn(t),i=F.useRef(0);return F.useEffect(()=>()=>window.clearTimeout(i.current),[]),F.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,e)},[n,e])}function uu(t,e){const n=Wn(e);Ti(()=>{let i=0;if(t){const r=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return r.observe(t),()=>{window.cancelAnimationFrame(i),r.unobserve(t)}}},[t,n])}var gI=sI,l7=oI,c7=dI;const cx=F.forwardRef(({className:t,children:e,...n},i)=>w.jsxs(gI,{ref:i,className:Pt("relative overflow-hidden",t),...n,children:[w.jsx(l7,{className:"h-full w-full rounded-[inherit]",children:e}),w.jsx(xI,{}),w.jsx(c7,{})]}));cx.displayName=gI.displayName;const xI=F.forwardRef(({className:t,orientation:e="vertical",...n},i)=>w.jsx(nw,{ref:i,orientation:e,className:Pt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:w.jsx(hI,{className:"relative flex-1 rounded-full bg-slate-600 dark:bg-slate-400"})}));xI.displayName=nw.displayName;const u7=$k,h7=lz,d7=Zk,vI=F.forwardRef(({className:t,...e},n)=>w.jsx(qg,{className:Pt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));vI.displayName=qg.displayName;const f7=Yg("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 dark:bg-slate-950",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right"}},defaultVariants:{side:"right"}}),yI=F.forwardRef(({side:t="right",className:e,children:n,...i},r)=>w.jsxs(d7,{children:[w.jsx(vI,{}),w.jsxs(Jg,{ref:r,className:Pt(f7({side:t}),e),...i,children:[n,w.jsxs(Kk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800",children:[w.jsx(Xb,{className:"h-4 w-4 dark:text-slate-100"}),w.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yI.displayName=Jg.displayName;const _I=({className:t,...e})=>w.jsx("div",{className:Pt("flex flex-col space-y-2 text-center sm:text-left",t),...e});_I.displayName="SheetHeader";const bI=F.forwardRef(({className:t,...e},n)=>w.jsx(ex,{ref:n,className:Pt("text-lg font-semibold text-slate-950 dark:text-slate-50",t),...e}));bI.displayName=ex.displayName;const p7=F.forwardRef(({className:t,...e},n)=>w.jsx(tx,{ref:n,className:Pt("text-sm text-slate-500 dark:text-slate-400",t),...e}));p7.displayName=tx.displayName;function m7({className:t,...e}){return w.jsx("div",{className:Pt("animate-pulse rounded-md bg-slate-900/10 dark:bg-slate-50/10",t),...e})}const g7=({count:t})=>w.jsx("div",{children:[...Array(t)].map(e=>w.jsx(m7,{className:"w-[300px] h-4 m-4"}))}),x7=({errorMeta:t})=>{const e=Xr(),n=un(ku),i=r=>{e(`/error/${r}/console`)};return w.jsxs(yI,{className:"w-120","aria-describedby":"Error Data",children:[w.jsx(_I,{children:w.jsx(bI,{children:"Error Data"})}),w.jsx(cx,{className:"h-80 w-full rounded-md border dark:text-slate-200",children:t?t.map(r=>w.jsxs("div",{className:"text-2xs flex flex-row justify-around items-center space-x-4",children:[w.jsx("p",{onClick:()=>{i(r.id)},className:"w-[220px] hover:underline hover:decoration-default cursor-pointer flex text-center",children:r.id}),w.jsx(Zm,{status:r.resolved}),w.jsx("p",{className:"flex text-center",children:It.fromISO(r.createdAt).setZone(n).toFormat("MM-dd-yyyy HH:mm")})]},r.id)):w.jsx("div",{children:w.jsx(g7,{count:9})})}),w.jsx("div",{className:"w-full mt-12 absolute",children:w.jsx("div",{className:"relative left-10"})})]})},v7=()=>w.jsxs(Xs,{className:"flex flex-col w-88 h-140",children:[w.jsx(Ea,{children:w.jsx("h1",{children:"Daily Error Frequency Chart"})}),w.jsx(Oo,{className:"pl-10 flex w-80",children:w.jsx(sZ,{formAddOn:!0})})]}),y7=({version:t,date:e,changes:n})=>w.jsxs(Xs,{className:"flex flex-col md:flex-row border-none shadow-none p-8 min-h-[400px] items-center space-x-4 bg-white-200",children:[w.jsxs("div",{className:"flex flex-col w-full md:w-1/4 ",children:[w.jsx(rf,{className:"text-2xl font-semibold mb-4 text-wrap",children:t}),w.jsx(Ea,{className:"w-full place-items-center mb-4 p-0 flex flex-row text-nowrap",children:w.jsx("div",{className:"ml-0 text-md text-default text-wrap",children:e})})]}),w.jsx(Oo,{className:"list-disc space-y-2 md:pl-10 w-full border-default md:border-l-2 min-h-[100px] ",children:n.map((i,r)=>w.jsx("li",{children:i},r))})]}),sw=[{background:"#098585",text:"white"},{background:"#000000",text:"white"},{background:"#808080",text:"white"},{background:"#A9A9A9",text:"white"},{background:"#D3D3D3",text:"black"},{background:"#DCDCDC",text:"black"},{background:"#F5F5F5",text:"black"},{background:"#FFFFFF",text:"black"},{background:"#2F4F4F",text:"white"},{background:"#778899",text:"white"}],wI=({selectedColor:t,setColor:e})=>w.jsx("div",{className:"flex flex-row space-x-2",children:sw.map((n,i)=>w.jsx("div",{className:`border border-2 rounded-full h-5 w-5 cursor-pointer ${t===n.background?"border-green-500":"border-slate-900"}`,style:{backgroundColor:n.background,color:n.text},onClick:()=>e(n.background)},i))}),SI=F.createContext(void 0),_7=({children:t})=>{const[e,n]=F.useState({}),i=F.useCallback((s,a)=>{n({onConfirm:s,onReject:a})},[]),r=F.useCallback(()=>{n({})},[]);return w.jsx(SI.Provider,{value:{...e,registerHandler:i,unregisterHandler:r},children:t})},aw=()=>{const t=F.useContext(SI);if(t===void 0)throw new Error("useModalHandlerContext must be used within a ModalHandlerProvider");return t},b7=1,w7=1e6;let $0=0;function S7(){return $0=($0+1)%Number.MAX_SAFE_INTEGER,$0.toString()}const Z0=new Map,JC=t=>{if(Z0.has(t))return;const e=setTimeout(()=>{Z0.delete(t),Bh({type:"REMOVE_TOAST",toastId:t})},w7);Z0.set(t,e)},M7=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,b7)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?JC(n):t.toasts.forEach(i=>{JC(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},sm=[];let am={toasts:[]};function Bh(t){am=M7(am,t),sm.forEach(e=>{e(am)})}function C7({...t}){const e=S7(),n=r=>Bh({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>Bh({type:"DISMISS_TOAST",toastId:e});return Bh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:n}}function kr(){const[t,e]=F.useState(am);return F.useEffect(()=>(sm.push(e),()=>{const n=sm.indexOf(e);n>-1&&sm.splice(n,1)}),[t]),{...t,toast:C7,dismiss:n=>Bh({type:"DISMISS_TOAST",toastId:n})}}var pn;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const s={};for(const a of r)s[a]=a;return s},t.getValidEnumValues=r=>{const s=t.objectKeys(r).filter(l=>typeof r[r[l]]!="number"),a={};for(const l of s)a[l]=r[l];return t.objectValues(a)},t.objectValues=r=>t.objectKeys(r).map(function(s){return r[s]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&s.push(a);return s},t.find=(r,s)=>{for(const a of r)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function i(r,s=" | "){return r.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=i,t.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})(pn||(pn={}));var g1;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(g1||(g1={}));const _t=pn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qa=t=>{switch(typeof t){case"undefined":return _t.undefined;case"string":return _t.string;case"number":return isNaN(t)?_t.nan:_t.number;case"boolean":return _t.boolean;case"function":return _t.function;case"bigint":return _t.bigint;case"symbol":return _t.symbol;case"object":return Array.isArray(t)?_t.array:t===null?_t.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?_t.promise:typeof Map<"u"&&t instanceof Map?_t.map:typeof Set<"u"&&t instanceof Set?_t.set:typeof Date<"u"&&t instanceof Date?_t.date:_t.object;default:return _t.unknown}},et=pn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),T7=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class br extends Error{constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},i={_errors:[]},r=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(r);else if(a.code==="invalid_return_type")r(a.returnTypeError);else if(a.code==="invalid_arguments")r(a.argumentsError);else if(a.path.length===0)i._errors.push(n(a));else{let l=i,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(a))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return r(this),i}static assert(e){if(!(e instanceof br))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,pn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const r of this.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}br.create=t=>new br(t);const hu=(t,e)=>{let n;switch(t.code){case et.invalid_type:t.received===_t.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case et.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,pn.jsonStringifyReplacer)}`;break;case et.unrecognized_keys:n=`Unrecognized key(s) in object: ${pn.joinValues(t.keys,", ")}`;break;case et.invalid_union:n="Invalid input";break;case et.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pn.joinValues(t.options)}`;break;case et.invalid_enum_value:n=`Invalid enum value. Expected ${pn.joinValues(t.options)}, received '${t.received}'`;break;case et.invalid_arguments:n="Invalid function arguments";break;case et.invalid_return_type:n="Invalid function return type";break;case et.invalid_date:n="Invalid date";break;case et.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:pn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case et.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case et.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case et.custom:n="Invalid input";break;case et.invalid_intersection_types:n="Intersection results could not be merged";break;case et.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case et.not_finite:n="Number must be finite";break;default:n=e.defaultError,pn.assertNever(t)}return{message:n}};let MI=hu;function P7(t){MI=t}function ng(){return MI}const ig=t=>{const{data:e,path:n,errorMaps:i,issueData:r}=t,s=[...n,...r.path||[]],a={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let l="";const u=i.filter(d=>!!d).slice().reverse();for(const d of u)l=d(a,{data:e,defaultError:l}).message;return{...r,path:s,message:l}},E7=[];function vt(t,e){const n=ng(),i=ig({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===hu?void 0:hu].filter(r=>!!r)});t.common.issues.push(i)}class Bi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const r of n){if(r.status==="aborted")return zt;r.status==="dirty"&&e.dirty(),i.push(r.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const r of n){const s=await r.key,a=await r.value;i.push({key:s,value:a})}return Bi.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const r of n){const{key:s,value:a}=r;if(s.status==="aborted"||a.status==="aborted")return zt;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||r.alwaysSet)&&(i[s.value]=a.value)}return{status:e.value,value:i}}}const zt=Object.freeze({status:"aborted"}),Dc=t=>({status:"dirty",value:t}),Yi=t=>({status:"valid",value:t}),x1=t=>t.status==="aborted",v1=t=>t.status==="dirty",gd=t=>t.status==="valid",xd=t=>typeof Promise<"u"&&t instanceof Promise;function rg(t,e,n,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function CI(t,e,n,i,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var kt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(kt||(kt={}));var yh,_h;class Vs{constructor(e,n,i,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const eT=(t,e)=>{if(gd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new br(t.common.issues);return this._error=n,this._error}}};function qt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:r}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(a,l)=>{var u,d;const{message:f}=t;return a.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(u=f??i)!==null&&u!==void 0?u:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:l.defaultError}},description:r}}class rn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Qa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Qa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Bi,ctx:{common:e.parent.common,data:e.data,parsedType:Qa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(xd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){var i;const r={common:{issues:[],async:(i=n==null?void 0:n.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qa(e)},s=this._parseSync({data:e,path:r.path,parent:r});return eT(r,s)}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qa(e)},r=this._parse({data:e,path:i.path,parent:i}),s=await(xd(r)?r:Promise.resolve(r));return eT(i,s)}refine(e,n){const i=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,s)=>{const a=e(r),l=()=>s.addIssue({code:et.custom,...i(r)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((i,r)=>e(i)?!0:(r.addIssue(typeof n=="function"?n(i,r):n),!1))}_refinement(e){return new xs({schema:this,typeName:Nt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ns.create(this,this._def)}nullable(){return To.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hs.create(this,this._def)}promise(){return fu.create(this,this._def)}or(e){return bd.create([this,e],this._def)}and(e){return wd.create(this,e,this._def)}transform(e){return new xs({...qt(this._def),schema:this,typeName:Nt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Pd({...qt(this._def),innerType:this,defaultValue:n,typeName:Nt.ZodDefault})}brand(){return new ow({typeName:Nt.ZodBranded,type:this,...qt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ed({...qt(this._def),innerType:this,catchValue:n,typeName:Nt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return hf.create(this,e)}readonly(){return Ad.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const A7=/^c[^\s-]{8,}$/i,k7=/^[0-9a-z]+$/,R7=/^[0-9A-HJKMNP-TV-Z]{26}$/,I7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,L7=/^[a-z0-9_-]{21}$/i,D7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,N7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,F7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let K0;const O7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,B7=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,V7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",U7=new RegExp(`^${TI}$`);function PI(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function z7(t){return new RegExp(`^${PI(t)}$`)}function EI(t){let e=`${TI}T${PI(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function W7(t,e){return!!((e==="v4"||!e)&&O7.test(t)||(e==="v6"||!e)&&B7.test(t))}class as extends rn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_t.string){const s=this._getOrReturnCtx(e);return vt(s,{code:et.invalid_type,expected:_t.string,received:s.parsedType}),zt}const i=new Bi;let r;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(r=this._getOrReturnCtx(e,r),vt(r,{code:et.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(r=this._getOrReturnCtx(e,r),vt(r,{code:et.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,l=e.data.length<s.value;(a||l)&&(r=this._getOrReturnCtx(e,r),a?vt(r,{code:et.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&vt(r,{code:et.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")N7.test(e.data)||(r=this._getOrReturnCtx(e,r),vt(r,{validation:"email",code:et.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")K0||(K0=new RegExp(F7,"u")),K0.test(e.data)||(r=this._getOrReturnCtx(e,r),vt(r,{validation:"emoji",code:et.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")I7.test(e.data)||(r=this._getOrReturnCtx(e,r),vt(r,{validation:"uuid",code:et.invalid_string,message:s.message}),i.dirty());else if(s.kind==="nanoid")L7.test(e.data)||(r=this._getOrReturnCtx(e,r),vt(r,{validation:"nanoid",code:et.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")A7.test(e.data)||(r=this._getOrReturnCtx(e,r),vt(r,{validation:"cuid",code:et.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")k7.test(e.data)||(r=this._getOrReturnCtx(e,r),vt(r,{validation:"cuid2",code:et.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")R7.test(e.data)||(r=this._getOrReturnCtx(e,r),vt(r,{validation:"ulid",code:et.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),vt(r,{validation:"url",code:et.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),vt(r,{validation:"regex",code:et.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(e,r),vt(r,{code:et.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(r=this._getOrReturnCtx(e,r),vt(r,{code:et.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(r=this._getOrReturnCtx(e,r),vt(r,{code:et.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?EI(s).test(e.data)||(r=this._getOrReturnCtx(e,r),vt(r,{code:et.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="date"?U7.test(e.data)||(r=this._getOrReturnCtx(e,r),vt(r,{code:et.invalid_string,validation:"date",message:s.message}),i.dirty()):s.kind==="time"?z7(s).test(e.data)||(r=this._getOrReturnCtx(e,r),vt(r,{code:et.invalid_string,validation:"time",message:s.message}),i.dirty()):s.kind==="duration"?D7.test(e.data)||(r=this._getOrReturnCtx(e,r),vt(r,{validation:"duration",code:et.invalid_string,message:s.message}),i.dirty()):s.kind==="ip"?W7(e.data,s.version)||(r=this._getOrReturnCtx(e,r),vt(r,{validation:"ip",code:et.invalid_string,message:s.message}),i.dirty()):s.kind==="base64"?V7.test(e.data)||(r=this._getOrReturnCtx(e,r),vt(r,{validation:"base64",code:et.invalid_string,message:s.message}),i.dirty()):pn.assertNever(s);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(r=>e.test(r),{validation:n,code:et.invalid_string,...kt.errToObj(i)})}_addCheck(e){return new as({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...kt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...kt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...kt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...kt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...kt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...kt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...kt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...kt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...kt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...kt.errToObj(e)})}datetime(e){var n,i;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(i=e==null?void 0:e.local)!==null&&i!==void 0?i:!1,...kt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...kt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...kt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...kt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...kt.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...kt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...kt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...kt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...kt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...kt.errToObj(n)})}nonempty(e){return this.min(1,kt.errToObj(e))}trim(){return new as({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new as({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new as({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}as.create=t=>{var e;return new as({checks:[],typeName:Nt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...qt(t)})};function j7(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=n>i?n:i,s=parseInt(t.toFixed(r).replace(".","")),a=parseInt(e.toFixed(r).replace(".",""));return s%a/Math.pow(10,r)}class So extends rn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_t.number){const s=this._getOrReturnCtx(e);return vt(s,{code:et.invalid_type,expected:_t.number,received:s.parsedType}),zt}let i;const r=new Bi;for(const s of this._def.checks)s.kind==="int"?pn.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),vt(i,{code:et.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),vt(i,{code:et.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),vt(i,{code:et.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?j7(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),vt(i,{code:et.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),vt(i,{code:et.not_finite,message:s.message}),r.dirty()):pn.assertNever(s);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,kt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,kt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,kt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,kt.toString(n))}setLimit(e,n,i,r){return new So({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:kt.toString(r)}]})}_addCheck(e){return new So({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:kt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:kt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:kt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:kt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:kt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:kt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:kt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:kt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:kt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&pn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}So.create=t=>new So({checks:[],typeName:Nt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...qt(t)});class Mo extends rn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==_t.bigint){const s=this._getOrReturnCtx(e);return vt(s,{code:et.invalid_type,expected:_t.bigint,received:s.parsedType}),zt}let i;const r=new Bi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),vt(i,{code:et.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),vt(i,{code:et.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),vt(i,{code:et.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):pn.assertNever(s);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,kt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,kt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,kt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,kt.toString(n))}setLimit(e,n,i,r){return new Mo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:kt.toString(r)}]})}_addCheck(e){return new Mo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:kt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:kt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:kt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:kt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:kt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Mo.create=t=>{var e;return new Mo({checks:[],typeName:Nt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...qt(t)})};class vd extends rn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_t.boolean){const i=this._getOrReturnCtx(e);return vt(i,{code:et.invalid_type,expected:_t.boolean,received:i.parsedType}),zt}return Yi(e.data)}}vd.create=t=>new vd({typeName:Nt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...qt(t)});class kl extends rn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_t.date){const s=this._getOrReturnCtx(e);return vt(s,{code:et.invalid_type,expected:_t.date,received:s.parsedType}),zt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return vt(s,{code:et.invalid_date}),zt}const i=new Bi;let r;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(r=this._getOrReturnCtx(e,r),vt(r,{code:et.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(r=this._getOrReturnCtx(e,r),vt(r,{code:et.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):pn.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new kl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:kt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:kt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}kl.create=t=>new kl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Nt.ZodDate,...qt(t)});class sg extends rn{_parse(e){if(this._getType(e)!==_t.symbol){const i=this._getOrReturnCtx(e);return vt(i,{code:et.invalid_type,expected:_t.symbol,received:i.parsedType}),zt}return Yi(e.data)}}sg.create=t=>new sg({typeName:Nt.ZodSymbol,...qt(t)});class yd extends rn{_parse(e){if(this._getType(e)!==_t.undefined){const i=this._getOrReturnCtx(e);return vt(i,{code:et.invalid_type,expected:_t.undefined,received:i.parsedType}),zt}return Yi(e.data)}}yd.create=t=>new yd({typeName:Nt.ZodUndefined,...qt(t)});class _d extends rn{_parse(e){if(this._getType(e)!==_t.null){const i=this._getOrReturnCtx(e);return vt(i,{code:et.invalid_type,expected:_t.null,received:i.parsedType}),zt}return Yi(e.data)}}_d.create=t=>new _d({typeName:Nt.ZodNull,...qt(t)});class du extends rn{constructor(){super(...arguments),this._any=!0}_parse(e){return Yi(e.data)}}du.create=t=>new du({typeName:Nt.ZodAny,...qt(t)});class _l extends rn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Yi(e.data)}}_l.create=t=>new _l({typeName:Nt.ZodUnknown,...qt(t)});class Sa extends rn{_parse(e){const n=this._getOrReturnCtx(e);return vt(n,{code:et.invalid_type,expected:_t.never,received:n.parsedType}),zt}}Sa.create=t=>new Sa({typeName:Nt.ZodNever,...qt(t)});class ag extends rn{_parse(e){if(this._getType(e)!==_t.undefined){const i=this._getOrReturnCtx(e);return vt(i,{code:et.invalid_type,expected:_t.void,received:i.parsedType}),zt}return Yi(e.data)}}ag.create=t=>new ag({typeName:Nt.ZodVoid,...qt(t)});class hs extends rn{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),r=this._def;if(n.parsedType!==_t.array)return vt(n,{code:et.invalid_type,expected:_t.array,received:n.parsedType}),zt;if(r.exactLength!==null){const a=n.data.length>r.exactLength.value,l=n.data.length<r.exactLength.value;(a||l)&&(vt(n,{code:a?et.too_big:et.too_small,minimum:l?r.exactLength.value:void 0,maximum:a?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(vt(n,{code:et.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(vt(n,{code:et.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>r.type._parseAsync(new Vs(n,a,n.path,l)))).then(a=>Bi.mergeArray(i,a));const s=[...n.data].map((a,l)=>r.type._parseSync(new Vs(n,a,n.path,l)));return Bi.mergeArray(i,s)}get element(){return this._def.type}min(e,n){return new hs({...this._def,minLength:{value:e,message:kt.toString(n)}})}max(e,n){return new hs({...this._def,maxLength:{value:e,message:kt.toString(n)}})}length(e,n){return new hs({...this._def,exactLength:{value:e,message:kt.toString(n)}})}nonempty(e){return this.min(1,e)}}hs.create=(t,e)=>new hs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Nt.ZodArray,...qt(e)});function yc(t){if(t instanceof Vn){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=Ns.create(yc(i))}return new Vn({...t._def,shape:()=>e})}else return t instanceof hs?new hs({...t._def,type:yc(t.element)}):t instanceof Ns?Ns.create(yc(t.unwrap())):t instanceof To?To.create(yc(t.unwrap())):t instanceof Us?Us.create(t.items.map(e=>yc(e))):t}class Vn extends rn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=pn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==_t.object){const d=this._getOrReturnCtx(e);return vt(d,{code:et.invalid_type,expected:_t.object,received:d.parsedType}),zt}const{status:i,ctx:r}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Sa&&this._def.unknownKeys==="strip"))for(const d in r.data)a.includes(d)||l.push(d);const u=[];for(const d of a){const f=s[d],x=r.data[d];u.push({key:{status:"valid",value:d},value:f._parse(new Vs(r,x,r.path,d)),alwaysSet:d in r.data})}if(this._def.catchall instanceof Sa){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:r.data[f]}});else if(d==="strict")l.length>0&&(vt(r,{code:et.unrecognized_keys,keys:l}),i.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const x=r.data[f];u.push({key:{status:"valid",value:f},value:d._parse(new Vs(r,x,r.path,f)),alwaysSet:f in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of u){const x=await f.key,v=await f.value;d.push({key:x,value:v,alwaysSet:f.alwaysSet})}return d}).then(d=>Bi.mergeObjectSync(i,d)):Bi.mergeObjectSync(i,u)}get shape(){return this._def.shape()}strict(e){return kt.errToObj,new Vn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var r,s,a,l;const u=(a=(s=(r=this._def).errorMap)===null||s===void 0?void 0:s.call(r,n,i).message)!==null&&a!==void 0?a:i.defaultError;return n.code==="unrecognized_keys"?{message:(l=kt.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new Vn({...this._def,unknownKeys:"strip"})}passthrough(){return new Vn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Vn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Vn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Nt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Vn({...this._def,catchall:e})}pick(e){const n={};return pn.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(n[i]=this.shape[i])}),new Vn({...this._def,shape:()=>n})}omit(e){const n={};return pn.objectKeys(this.shape).forEach(i=>{e[i]||(n[i]=this.shape[i])}),new Vn({...this._def,shape:()=>n})}deepPartial(){return yc(this)}partial(e){const n={};return pn.objectKeys(this.shape).forEach(i=>{const r=this.shape[i];e&&!e[i]?n[i]=r:n[i]=r.optional()}),new Vn({...this._def,shape:()=>n})}required(e){const n={};return pn.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])n[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof Ns;)s=s._def.innerType;n[i]=s}}),new Vn({...this._def,shape:()=>n})}keyof(){return AI(pn.objectKeys(this.shape))}}Vn.create=(t,e)=>new Vn({shape:()=>t,unknownKeys:"strip",catchall:Sa.create(),typeName:Nt.ZodObject,...qt(e)});Vn.strictCreate=(t,e)=>new Vn({shape:()=>t,unknownKeys:"strict",catchall:Sa.create(),typeName:Nt.ZodObject,...qt(e)});Vn.lazycreate=(t,e)=>new Vn({shape:t,unknownKeys:"strip",catchall:Sa.create(),typeName:Nt.ZodObject,...qt(e)});class bd extends rn{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function r(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=s.map(l=>new br(l.ctx.common.issues));return vt(n,{code:et.invalid_union,unionErrors:a}),zt}if(n.common.async)return Promise.all(i.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(r);{let s;const a=[];for(const u of i){const d={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=a.map(u=>new br(u));return vt(n,{code:et.invalid_union,unionErrors:l}),zt}}get options(){return this._def.options}}bd.create=(t,e)=>new bd({options:t,typeName:Nt.ZodUnion,...qt(e)});const na=t=>t instanceof Md?na(t.schema):t instanceof xs?na(t.innerType()):t instanceof Cd?[t.value]:t instanceof Co?t.options:t instanceof Td?pn.objectValues(t.enum):t instanceof Pd?na(t._def.innerType):t instanceof yd?[void 0]:t instanceof _d?[null]:t instanceof Ns?[void 0,...na(t.unwrap())]:t instanceof To?[null,...na(t.unwrap())]:t instanceof ow||t instanceof Ad?na(t.unwrap()):t instanceof Ed?na(t._def.innerType):[];class ux extends rn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==_t.object)return vt(n,{code:et.invalid_type,expected:_t.object,received:n.parsedType}),zt;const i=this.discriminator,r=n.data[i],s=this.optionsMap.get(r);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(vt(n,{code:et.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),zt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,i){const r=new Map;for(const s of n){const a=na(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of a){if(r.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);r.set(l,s)}}return new ux({typeName:Nt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:r,...qt(i)})}}function y1(t,e){const n=Qa(t),i=Qa(e);if(t===e)return{valid:!0,data:t};if(n===_t.object&&i===_t.object){const r=pn.objectKeys(e),s=pn.objectKeys(t).filter(l=>r.indexOf(l)!==-1),a={...t,...e};for(const l of s){const u=y1(t[l],e[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(n===_t.array&&i===_t.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let s=0;s<t.length;s++){const a=t[s],l=e[s],u=y1(a,l);if(!u.valid)return{valid:!1};r.push(u.data)}return{valid:!0,data:r}}else return n===_t.date&&i===_t.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class wd extends rn{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),r=(s,a)=>{if(x1(s)||x1(a))return zt;const l=y1(s.value,a.value);return l.valid?((v1(s)||v1(a))&&n.dirty(),{status:n.value,value:l.data}):(vt(i,{code:et.invalid_intersection_types}),zt)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,a])=>r(s,a)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}wd.create=(t,e,n)=>new wd({left:t,right:e,typeName:Nt.ZodIntersection,...qt(n)});class Us extends rn{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==_t.array)return vt(i,{code:et.invalid_type,expected:_t.array,received:i.parsedType}),zt;if(i.data.length<this._def.items.length)return vt(i,{code:et.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),zt;!this._def.rest&&i.data.length>this._def.items.length&&(vt(i,{code:et.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...i.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Vs(i,a,i.path,l)):null}).filter(a=>!!a);return i.common.async?Promise.all(s).then(a=>Bi.mergeArray(n,a)):Bi.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Us({...this._def,rest:e})}}Us.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Us({items:t,typeName:Nt.ZodTuple,rest:null,...qt(e)})};class Sd extends rn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==_t.object)return vt(i,{code:et.invalid_type,expected:_t.object,received:i.parsedType}),zt;const r=[],s=this._def.keyType,a=this._def.valueType;for(const l in i.data)r.push({key:s._parse(new Vs(i,l,i.path,l)),value:a._parse(new Vs(i,i.data[l],i.path,l)),alwaysSet:l in i.data});return i.common.async?Bi.mergeObjectAsync(n,r):Bi.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof rn?new Sd({keyType:e,valueType:n,typeName:Nt.ZodRecord,...qt(i)}):new Sd({keyType:as.create(),valueType:e,typeName:Nt.ZodRecord,...qt(n)})}}class og extends rn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==_t.map)return vt(i,{code:et.invalid_type,expected:_t.map,received:i.parsedType}),zt;const r=this._def.keyType,s=this._def.valueType,a=[...i.data.entries()].map(([l,u],d)=>({key:r._parse(new Vs(i,l,i.path,[d,"key"])),value:s._parse(new Vs(i,u,i.path,[d,"value"]))}));if(i.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,f=await u.value;if(d.status==="aborted"||f.status==="aborted")return zt;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of a){const d=u.key,f=u.value;if(d.status==="aborted"||f.status==="aborted")return zt;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}og.create=(t,e,n)=>new og({valueType:e,keyType:t,typeName:Nt.ZodMap,...qt(n)});class Rl extends rn{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==_t.set)return vt(i,{code:et.invalid_type,expected:_t.set,received:i.parsedType}),zt;const r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(vt(i,{code:et.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(vt(i,{code:et.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const s=this._def.valueType;function a(u){const d=new Set;for(const f of u){if(f.status==="aborted")return zt;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...i.data.values()].map((u,d)=>s._parse(new Vs(i,u,i.path,d)));return i.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(e,n){return new Rl({...this._def,minSize:{value:e,message:kt.toString(n)}})}max(e,n){return new Rl({...this._def,maxSize:{value:e,message:kt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Rl.create=(t,e)=>new Rl({valueType:t,minSize:null,maxSize:null,typeName:Nt.ZodSet,...qt(e)});class Yc extends rn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==_t.function)return vt(n,{code:et.invalid_type,expected:_t.function,received:n.parsedType}),zt;function i(l,u){return ig({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ng(),hu].filter(d=>!!d),issueData:{code:et.invalid_arguments,argumentsError:u}})}function r(l,u){return ig({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ng(),hu].filter(d=>!!d),issueData:{code:et.invalid_return_type,returnTypeError:u}})}const s={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof fu){const l=this;return Yi(async function(...u){const d=new br([]),f=await l._def.args.parseAsync(u,s).catch(y=>{throw d.addIssue(i(u,y)),d}),x=await Reflect.apply(a,this,f);return await l._def.returns._def.type.parseAsync(x,s).catch(y=>{throw d.addIssue(r(x,y)),d})})}else{const l=this;return Yi(function(...u){const d=l._def.args.safeParse(u,s);if(!d.success)throw new br([i(u,d.error)]);const f=Reflect.apply(a,this,d.data),x=l._def.returns.safeParse(f,s);if(!x.success)throw new br([r(f,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Yc({...this._def,args:Us.create(e).rest(_l.create())})}returns(e){return new Yc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,i){return new Yc({args:e||Us.create([]).rest(_l.create()),returns:n||_l.create(),typeName:Nt.ZodFunction,...qt(i)})}}class Md extends rn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Md.create=(t,e)=>new Md({getter:t,typeName:Nt.ZodLazy,...qt(e)});class Cd extends rn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return vt(n,{received:n.data,code:et.invalid_literal,expected:this._def.value}),zt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Cd.create=(t,e)=>new Cd({value:t,typeName:Nt.ZodLiteral,...qt(e)});function AI(t,e){return new Co({values:t,typeName:Nt.ZodEnum,...qt(e)})}class Co extends rn{constructor(){super(...arguments),yh.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return vt(n,{expected:pn.joinValues(i),received:n.parsedType,code:et.invalid_type}),zt}if(rg(this,yh)||CI(this,yh,new Set(this._def.values)),!rg(this,yh).has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return vt(n,{received:n.data,code:et.invalid_enum_value,options:i}),zt}return Yi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Co.create(e,{...this._def,...n})}exclude(e,n=this._def){return Co.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}yh=new WeakMap;Co.create=AI;class Td extends rn{constructor(){super(...arguments),_h.set(this,void 0)}_parse(e){const n=pn.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==_t.string&&i.parsedType!==_t.number){const r=pn.objectValues(n);return vt(i,{expected:pn.joinValues(r),received:i.parsedType,code:et.invalid_type}),zt}if(rg(this,_h)||CI(this,_h,new Set(pn.getValidEnumValues(this._def.values))),!rg(this,_h).has(e.data)){const r=pn.objectValues(n);return vt(i,{received:i.data,code:et.invalid_enum_value,options:r}),zt}return Yi(e.data)}get enum(){return this._def.values}}_h=new WeakMap;Td.create=(t,e)=>new Td({values:t,typeName:Nt.ZodNativeEnum,...qt(e)});class fu extends rn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==_t.promise&&n.common.async===!1)return vt(n,{code:et.invalid_type,expected:_t.promise,received:n.parsedType}),zt;const i=n.parsedType===_t.promise?n.data:Promise.resolve(n.data);return Yi(i.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}fu.create=(t,e)=>new fu({type:t,typeName:Nt.ZodPromise,...qt(e)});class xs extends rn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),r=this._def.effect||null,s={addIssue:a=>{vt(i,a),a.fatal?n.abort():n.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const a=r.transform(i.data,s);if(i.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return zt;const u=await this._def.schema._parseAsync({data:l,path:i.path,parent:i});return u.status==="aborted"?zt:u.status==="dirty"||n.value==="dirty"?Dc(u.value):u});{if(n.value==="aborted")return zt;const l=this._def.schema._parseSync({data:a,path:i.path,parent:i});return l.status==="aborted"?zt:l.status==="dirty"||n.value==="dirty"?Dc(l.value):l}}if(r.type==="refinement"){const a=l=>{const u=r.refinement(l,s);if(i.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?zt:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>l.status==="aborted"?zt:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(r.type==="transform")if(i.common.async===!1){const a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!gd(a))return a;const l=r.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>gd(a)?Promise.resolve(r.transform(a.value,s)).then(l=>({status:n.value,value:l})):a);pn.assertNever(r)}}xs.create=(t,e,n)=>new xs({schema:t,typeName:Nt.ZodEffects,effect:e,...qt(n)});xs.createWithPreprocess=(t,e,n)=>new xs({schema:e,effect:{type:"preprocess",transform:t},typeName:Nt.ZodEffects,...qt(n)});class Ns extends rn{_parse(e){return this._getType(e)===_t.undefined?Yi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ns.create=(t,e)=>new Ns({innerType:t,typeName:Nt.ZodOptional,...qt(e)});class To extends rn{_parse(e){return this._getType(e)===_t.null?Yi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}To.create=(t,e)=>new To({innerType:t,typeName:Nt.ZodNullable,...qt(e)});class Pd extends rn{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===_t.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Pd.create=(t,e)=>new Pd({innerType:t,typeName:Nt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...qt(e)});class Ed extends rn{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return xd(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new br(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new br(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Ed.create=(t,e)=>new Ed({innerType:t,typeName:Nt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...qt(e)});class lg extends rn{_parse(e){if(this._getType(e)!==_t.nan){const i=this._getOrReturnCtx(e);return vt(i,{code:et.invalid_type,expected:_t.nan,received:i.parsedType}),zt}return{status:"valid",value:e.data}}}lg.create=t=>new lg({typeName:Nt.ZodNaN,...qt(t)});const H7=Symbol("zod_brand");class ow extends rn{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class hf extends rn{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?zt:s.status==="dirty"?(n.dirty(),Dc(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?zt:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(e,n){return new hf({in:e,out:n,typeName:Nt.ZodPipeline})}}class Ad extends rn{_parse(e){const n=this._def.innerType._parse(e),i=r=>(gd(r)&&(r.value=Object.freeze(r.value)),r);return xd(n)?n.then(r=>i(r)):i(n)}unwrap(){return this._def.innerType}}Ad.create=(t,e)=>new Ad({innerType:t,typeName:Nt.ZodReadonly,...qt(e)});function kI(t,e={},n){return t?du.create().superRefine((i,r)=>{var s,a;if(!t(i)){const l=typeof e=="function"?e(i):typeof e=="string"?{message:e}:e,u=(a=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&a!==void 0?a:!0,d=typeof l=="string"?{message:l}:l;r.addIssue({code:"custom",...d,fatal:u})}}):du.create()}const X7={object:Vn.lazycreate};var Nt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Nt||(Nt={}));const G7=(t,e={message:`Input not instance of ${t.name}`})=>kI(n=>n instanceof t,e),RI=as.create,II=So.create,Y7=lg.create,$7=Mo.create,LI=vd.create,Z7=kl.create,K7=sg.create,Q7=yd.create,q7=_d.create,J7=du.create,ej=_l.create,tj=Sa.create,nj=ag.create,ij=hs.create,rj=Vn.create,sj=Vn.strictCreate,aj=bd.create,oj=ux.create,lj=wd.create,cj=Us.create,uj=Sd.create,hj=og.create,dj=Rl.create,fj=Yc.create,pj=Md.create,mj=Cd.create,gj=Co.create,xj=Td.create,vj=fu.create,tT=xs.create,yj=Ns.create,_j=To.create,bj=xs.createWithPreprocess,wj=hf.create,Sj=()=>RI().optional(),Mj=()=>II().optional(),Cj=()=>LI().optional(),Tj={string:t=>as.create({...t,coerce:!0}),number:t=>So.create({...t,coerce:!0}),boolean:t=>vd.create({...t,coerce:!0}),bigint:t=>Mo.create({...t,coerce:!0}),date:t=>kl.create({...t,coerce:!0})},Pj=zt;var cn=Object.freeze({__proto__:null,defaultErrorMap:hu,setErrorMap:P7,getErrorMap:ng,makeIssue:ig,EMPTY_PATH:E7,addIssueToContext:vt,ParseStatus:Bi,INVALID:zt,DIRTY:Dc,OK:Yi,isAborted:x1,isDirty:v1,isValid:gd,isAsync:xd,get util(){return pn},get objectUtil(){return g1},ZodParsedType:_t,getParsedType:Qa,ZodType:rn,datetimeRegex:EI,ZodString:as,ZodNumber:So,ZodBigInt:Mo,ZodBoolean:vd,ZodDate:kl,ZodSymbol:sg,ZodUndefined:yd,ZodNull:_d,ZodAny:du,ZodUnknown:_l,ZodNever:Sa,ZodVoid:ag,ZodArray:hs,ZodObject:Vn,ZodUnion:bd,ZodDiscriminatedUnion:ux,ZodIntersection:wd,ZodTuple:Us,ZodRecord:Sd,ZodMap:og,ZodSet:Rl,ZodFunction:Yc,ZodLazy:Md,ZodLiteral:Cd,ZodEnum:Co,ZodNativeEnum:Td,ZodPromise:fu,ZodEffects:xs,ZodTransformer:xs,ZodOptional:Ns,ZodNullable:To,ZodDefault:Pd,ZodCatch:Ed,ZodNaN:lg,BRAND:H7,ZodBranded:ow,ZodPipeline:hf,ZodReadonly:Ad,custom:kI,Schema:rn,ZodSchema:rn,late:X7,get ZodFirstPartyTypeKind(){return Nt},coerce:Tj,any:J7,array:ij,bigint:$7,boolean:LI,date:Z7,discriminatedUnion:oj,effect:tT,enum:gj,function:fj,instanceof:G7,intersection:lj,lazy:pj,literal:mj,map:hj,nan:Y7,nativeEnum:xj,never:tj,null:q7,nullable:_j,number:II,object:rj,oboolean:Cj,onumber:Mj,optional:yj,ostring:Sj,pipeline:wj,preprocess:bj,promise:vj,record:uj,set:dj,strictObject:sj,string:RI,symbol:K7,transformer:tT,tuple:cj,undefined:Q7,union:aj,unknown:ej,void:nj,NEVER:Pj,ZodIssueCode:et,quotelessJson:T7,ZodError:br});const Ej=cn.object({password:cn.string().min(8)}),Bo=(t,e)=>{const[n,i]=F.useState(t),[r,s]=F.useState({hasError:!1,errorMessages:{}});return{form:n,handleChange:d=>{const{name:f,value:x}=d.target;i(v=>({...v,[f]:x}))},resetForm:()=>{i(t)},setForm:i,validate:()=>{const d=e.safeParse(n);if(!d.success){const f={};return d.error.errors.forEach(x=>{x.path[0]&&(f[x.path[0]]=x.message)}),s({hasError:!0,errorMessages:f}),!1}return s({hasError:!1,errorMessages:{}}),!0},errors:r}},Aj={isOpen:!1,isLoading:!1,modalType:void 0},DI=tr({name:"modal",initialState:Aj,reducers:{openModal:(t,e)=>{t.isOpen=!0,t.modalType=e.payload.modalType},closeModal:t=>{t.isOpen=!1,t.modalType=void 0},setIsLoading:(t,e)=>{t.isLoading=e.payload}}}),{openModal:pu,closeModal:ds,setIsLoading:$c}=DI.actions,hx=t=>t.modal.isOpen,dx=t=>t.modal.modalType,kj=t=>t.modal.isLoading,Rj=DI.reducer,Ij=({onConfirm:t})=>{const{toast:e}=kr(),n=un(kj),{form:i,handleChange:r,validate:s,errors:a}=Bo({password:""},Ej),l=async u=>{u.preventDefault(),s()?t(i):e({title:"Error Verifying User",description:"Please check the form and try again"})};return w.jsxs("form",{className:"flex flex-col space-y-2",children:[w.jsx("h1",{children:"Verify User"}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(zn,{htmlFor:"password",text:"Password"}),w.jsx(ti,{type:"password",name:"password",value:i.password,onChange:r,overrideStyles:a.errorMessages.password?"border-red-500":""}),a.errorMessages.password&&w.jsx("p",{className:"text-red-500 text-xs italic",children:a.errorMessages.password}),w.jsx(Kt,{variant:"accent",size:"sm",overrideStyles:"px-3",onClick:l,content:n?w.jsx(Bs,{className:"animate-ease-in-out-rotation"}):"Verify"})]})]})},NI=()=>{const{onConfirm:t,onReject:e,unregisterHandler:n}=aw(),i=un(hx),r=un(dx),s=()=>{e&&e(),n(),ds()},a=l=>{if(t)try{t(l),n(),ds()}catch(u){console.error(u)}};return w.jsx(pd,{header:"Confirmation",content:w.jsx(Ij,{onConfirm:a}),open:i&&r==="confirmation",onClose:s,showConfirmButtons:!1})},Lj=()=>{const t=Xr(),e=()=>{t("/documentation")};let n;return n=[w.jsx(Kt,{content:"Getting Started",size:"sm",variant:"sidenavbutton",onClick:e})],w.jsx(sf,{isOpen:!0,header:"Documentation",links:n})},nT={params:{offset:0,limit:100,groupBy:"message"}};let FI=tr({name:"AggregateTable",initialState:nT,reducers:{setOffset:(t,e)=>{t.params.offset=e.payload},setLimit:(t,e)=>{t.params.limit=e.payload},setGroupBy:(t,e)=>{t.params.groupBy=e.payload},resetParams:t=>{t.params=nT.params}}});const{setOffset:bae,setLimit:wae,setGroupBy:Dj}=FI.actions,OI=t=>t.aggregateTable.params,Nj=FI.reducer;var BI=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(BI||{});function Fj(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}function Oj(t){return new RegExp("(^|:)//").test(t)}var Bj=t=>t.replace(/\/$/,""),Vj=t=>t.replace(/^\//,"");function Uj(t,e){if(!t)return e;if(!e)return t;if(Oj(e))return e;const n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=Bj(t),e=Vj(e),`${t}${n}${e}`}var iT=t=>[].concat(...t);function zj(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function Wj(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var rT=Os;function VI(t,e){if(t===e||!(rT(t)&&rT(e)||Array.isArray(t)&&Array.isArray(e)))return e;const n=Object.keys(e),i=Object.keys(t);let r=n.length===i.length;const s=Array.isArray(e)?[]:{};for(const a of n)s[a]=VI(t[a],e[a]),r&&(r=t[a]===s[a]);return r?t:s}var sT=(...t)=>fetch(...t),jj=t=>t.status>=200&&t.status<=299,Hj=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function aT(t){if(!Os(t))return t;const e={...t};for(const[n,i]of Object.entries(e))i===void 0&&delete e[n];return e}function Xj({baseUrl:t,prepareHeaders:e=x=>x,fetchFn:n=sT,paramsSerializer:i,isJsonContentType:r=Hj,jsonContentType:s="application/json",jsonReplacer:a,timeout:l,responseHandler:u,validateStatus:d,...f}={}){return typeof fetch>"u"&&n===sT&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(v,y)=>{const{signal:C,getState:k,extra:P,endpoint:S,forced:R,type:L}=y;let D,{url:W,headers:z=new Headers(f.headers),params:j=void 0,responseHandler:Z=u??"json",validateStatus:$=d??jj,timeout:H=l,...q}=typeof v=="string"?{url:v}:v,ce={...f,signal:C,...q};z=new Headers(aT(z)),ce.headers=await e(z,{getState:k,extra:P,endpoint:S,forced:R,type:L})||z;const le=He=>typeof He=="object"&&(Os(He)||Array.isArray(He)||typeof He.toJSON=="function");if(!ce.headers.has("content-type")&&le(ce.body)&&ce.headers.set("content-type",s),le(ce.body)&&r(ce.headers)&&(ce.body=JSON.stringify(ce.body,a)),j){const He=~W.indexOf("?")?"&":"?",Ue=i?i(j):new URLSearchParams(aT(j));W+=He+Ue}W=Uj(t,W);const me=new Request(W,ce);D={request:new Request(W,ce)};let Se,ge=!1,ie=H&&setTimeout(()=>{ge=!0,y.abort()},H);try{Se=await n(me)}catch(He){return{error:{status:ge?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(He)},meta:D}}finally{ie&&clearTimeout(ie)}const _e=Se.clone();D.response=_e;let Te,ee="";try{let He;if(await Promise.all([x(Se,Z).then(Ue=>Te=Ue,Ue=>He=Ue),_e.text().then(Ue=>ee=Ue,()=>{})]),He)throw He}catch(He){return{error:{status:"PARSING_ERROR",originalStatus:Se.status,data:ee,error:String(He)},meta:D}}return $(Se,Te)?{data:Te,meta:D}:{error:{status:Se.status,data:Te},meta:D}};async function x(v,y){if(typeof y=="function")return y(v);if(y==="content-type"&&(y=r(v.headers)?"json":"text"),y==="json"){const C=await v.text();return C.length?JSON.parse(C):null}return v.text()}}var oT=class{constructor(t,e=void 0){this.value=t,this.meta=e}},fx=Gi("__rtkq/focused"),lw=Gi("__rtkq/unfocused"),px=Gi("__rtkq/online"),cw=Gi("__rtkq/offline"),Q0=!1;function Gj(t,e){function n(){const i=()=>t(fx()),r=()=>t(lw()),s=()=>t(px()),a=()=>t(cw()),l=()=>{window.document.visibilityState==="visible"?i():r()};return Q0||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",i,!1),window.addEventListener("online",s,!1),window.addEventListener("offline",a,!1),Q0=!0),()=>{window.removeEventListener("focus",i),window.removeEventListener("visibilitychange",l),window.removeEventListener("online",s),window.removeEventListener("offline",a),Q0=!1}}return n()}function UI(t){return t.type==="query"}function Yj(t){return t.type==="mutation"}function uw(t,e,n,i,r,s){return $j(t)?t(e,n,i,r).map(_1).map(s):Array.isArray(t)?t.map(_1).map(s):[]}function $j(t){return typeof t=="function"}function _1(t){return typeof t=="string"?{type:t}:t}function lT(t){return t!=null}function Zc(t){let e=0;for(const n in t)e++;return e}function Zj(t,e){return t.catch(e)}var kd=Symbol("forceQueryFn"),b1=t=>typeof t[kd]=="function";function Kj({serializeQueryArgs:t,queryThunk:e,mutationThunk:n,api:i,context:r}){const s=new Map,a=new Map,{unsubscribeQueryResult:l,removeMutationResult:u,updateSubscriptionOptions:d}=i.internalActions;return{buildInitiateQuery:C,buildInitiateMutation:k,getRunningQueryThunk:f,getRunningMutationThunk:x,getRunningQueriesThunk:v,getRunningMutationsThunk:y};function f(P,S){return R=>{var W;const L=r.endpointDefinitions[P],D=t({queryArgs:S,endpointDefinition:L,endpointName:P});return(W=s.get(R))==null?void 0:W[D]}}function x(P,S){return R=>{var L;return(L=a.get(R))==null?void 0:L[S]}}function v(){return P=>Object.values(s.get(P)||{}).filter(lT)}function y(){return P=>Object.values(a.get(P)||{}).filter(lT)}function C(P,S){const R=(L,{subscribe:D=!0,forceRefetch:W,subscriptionOptions:z,[kd]:j,...Z}={})=>($,H)=>{var He;const q=t({queryArgs:L,endpointDefinition:S,endpointName:P}),ce=e({...Z,type:"query",subscribe:D,forceRefetch:W,subscriptionOptions:z,endpointName:P,originalArgs:L,queryCacheKey:q,[kd]:j}),le=i.endpoints[P].select(L),me=$(ce),we=le(H()),{requestId:Se,abort:ge}=me,ie=we.requestId!==Se,_e=(He=s.get($))==null?void 0:He[q],Te=()=>le(H()),ee=Object.assign(j?me.then(Te):ie&&!_e?Promise.resolve(we):Promise.all([_e,me]).then(Te),{arg:L,requestId:Se,subscriptionOptions:z,queryCacheKey:q,abort:ge,async unwrap(){const Ue=await ee;if(Ue.isError)throw Ue.error;return Ue.data},refetch:()=>$(R(L,{subscribe:!1,forceRefetch:!0})),unsubscribe(){D&&$(l({queryCacheKey:q,requestId:Se}))},updateSubscriptionOptions(Ue){ee.subscriptionOptions=Ue,$(d({endpointName:P,requestId:Se,queryCacheKey:q,options:Ue}))}});if(!_e&&!ie&&!j){const Ue=s.get($)||{};Ue[q]=ee,s.set($,Ue),ee.then(()=>{delete Ue[q],Zc(Ue)||s.delete($)})}return ee};return R}function k(P){return(S,{track:R=!0,fixedCacheKey:L}={})=>(D,W)=>{const z=n({type:"mutation",endpointName:P,originalArgs:S,track:R,fixedCacheKey:L}),j=D(z),{requestId:Z,abort:$,unwrap:H}=j,q=Zj(j.unwrap().then(we=>({data:we})),we=>({error:we})),ce=()=>{D(u({requestId:Z,fixedCacheKey:L}))},le=Object.assign(q,{arg:j.arg,requestId:Z,abort:$,unwrap:H,reset:ce}),me=a.get(D)||{};return a.set(D,me),me[Z]=le,le.then(()=>{delete me[Z],Zc(me)||a.delete(D)}),L&&(me[L]=le,le.then(()=>{me[L]===le&&(delete me[L],Zc(me)||a.delete(D))})),le}}}function cT(t){return t}function Qj({reducerPath:t,baseQuery:e,context:{endpointDefinitions:n},serializeQueryArgs:i,api:r,assertTagType:s}){const a=(R,L,D,W)=>(z,j)=>{const Z=n[R],$=i({queryArgs:L,endpointDefinition:Z,endpointName:R});if(z(r.internalActions.queryResultPatched({queryCacheKey:$,patches:D})),!W)return;const H=r.endpoints[R].select(L)(j()),q=uw(Z.providesTags,H.data,void 0,L,{},s);z(r.internalActions.updateProvidedBy({queryCacheKey:$,providedTags:q}))},l=(R,L,D,W=!0)=>(z,j)=>{const $=r.endpoints[R].select(L)(j());let H={patches:[],inversePatches:[],undo:()=>z(r.util.patchQueryData(R,L,H.inversePatches,W))};if($.status==="uninitialized")return H;let q;if("data"in $)if(ms($.data)){const[ce,le,me]=BA($.data,D);H.patches.push(...le),H.inversePatches.push(...me),q=ce}else q=D($.data),H.patches.push({op:"replace",path:[],value:q}),H.inversePatches.push({op:"replace",path:[],value:$.data});return H.patches.length===0||z(r.util.patchQueryData(R,L,H.patches,W)),H},u=(R,L,D)=>W=>W(r.endpoints[R].initiate(L,{subscribe:!1,forceRefetch:!0,[kd]:()=>({data:D})})),d=async(R,{signal:L,abort:D,rejectWithValue:W,fulfillWithValue:z,dispatch:j,getState:Z,extra:$})=>{const H=n[R.endpointName];try{let q=cT,ce;const le={signal:L,abort:D,dispatch:j,getState:Z,extra:$,endpoint:R.endpointName,type:R.type,forced:R.type==="query"?f(R,Z()):void 0},me=R.type==="query"?R[kd]:void 0;if(me?ce=me():H.query?(ce=await e(H.query(R.originalArgs),le,H.extraOptions),H.transformResponse&&(q=H.transformResponse)):ce=await H.queryFn(R.originalArgs,le,H.extraOptions,we=>e(we,le,H.extraOptions)),typeof process<"u",ce.error)throw new oT(ce.error,ce.meta);return z(await q(ce.data,ce.meta,R.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:ce.meta,[Ic]:!0})}catch(q){let ce=q;if(ce instanceof oT){let le=cT;H.query&&H.transformErrorResponse&&(le=H.transformErrorResponse);try{return W(await le(ce.value,ce.meta,R.originalArgs),{baseQueryMeta:ce.meta,[Ic]:!0})}catch(me){ce=me}}throw typeof process<"u",console.error(ce),ce}};function f(R,L){var Z,$,H;const D=($=(Z=L[t])==null?void 0:Z.queries)==null?void 0:$[R.queryCacheKey],W=(H=L[t])==null?void 0:H.config.refetchOnMountOrArgChange,z=D==null?void 0:D.fulfilledTimeStamp,j=R.forceRefetch??(R.subscribe&&W);return j?j===!0||(Number(new Date)-Number(z))/1e3>=j:!1}const x=qM(`${t}/executeQuery`,d,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Ic]:!0}},condition(R,{getState:L}){var H,q,ce;const D=L(),W=(q=(H=D[t])==null?void 0:H.queries)==null?void 0:q[R.queryCacheKey],z=W==null?void 0:W.fulfilledTimeStamp,j=R.originalArgs,Z=W==null?void 0:W.originalArgs,$=n[R.endpointName];return b1(R)?!0:(W==null?void 0:W.status)==="pending"?!1:f(R,D)||UI($)&&((ce=$==null?void 0:$.forceRefetch)!=null&&ce.call($,{currentArg:j,previousArg:Z,endpointState:W,state:D}))?!0:!z},dispatchConditionRejection:!0}),v=qM(`${t}/executeMutation`,d,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Ic]:!0}}}),y=R=>"force"in R,C=R=>"ifOlderThan"in R,k=(R,L,D)=>(W,z)=>{const j=y(D)&&D.force,Z=C(D)&&D.ifOlderThan,$=(q=!0)=>{const ce={forceRefetch:q,isPrefetch:!0};return r.endpoints[R].initiate(L,ce)},H=r.endpoints[R].select(L)(z());if(j)W($());else if(Z){const q=H==null?void 0:H.fulfilledTimeStamp;if(!q){W($());return}(Number(new Date)-Number(new Date(q)))/1e3>=Z&&W($())}else W($(!1))};function P(R){return L=>{var D,W;return((W=(D=L==null?void 0:L.meta)==null?void 0:D.arg)==null?void 0:W.endpointName)===R}}function S(R,L){return{matchPending:Nh(Ab(R),P(L)),matchFulfilled:Nh(_o(R),P(L)),matchRejected:Nh(lu(R),P(L))}}return{queryThunk:x,mutationThunk:v,prefetch:k,updateQueryData:l,upsertQueryData:u,patchQueryData:a,buildMatchThunkActions:S}}function zI(t,e,n,i){return uw(n[t.meta.arg.endpointName][e],_o(t)?t.payload:void 0,Xg(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,i)}function hp(t,e,n){const i=t[e];i&&n(i)}function Rd(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function uT(t,e,n){const i=t[Rd(e)];i&&n(i)}var ih={};function qj({reducerPath:t,queryThunk:e,mutationThunk:n,context:{endpointDefinitions:i,apiUid:r,extractRehydrationInfo:s,hasRehydrationInfo:a},assertTagType:l,config:u}){const d=Gi(`${t}/resetApiState`),f=tr({name:`${t}/queries`,initialState:ih,reducers:{removeQueryResult:{reducer(L,{payload:{queryCacheKey:D}}){delete L[D]},prepare:Qu()},queryResultPatched:{reducer(L,{payload:{queryCacheKey:D,patches:W}}){hp(L,D,z=>{z.data=GM(z.data,W.concat())})},prepare:Qu()}},extraReducers(L){L.addCase(e.pending,(D,{meta:W,meta:{arg:z}})=>{var Z;const j=b1(z);D[Z=z.queryCacheKey]??(D[Z]={status:"uninitialized",endpointName:z.endpointName}),hp(D,z.queryCacheKey,$=>{$.status="pending",$.requestId=j&&$.requestId?$.requestId:W.requestId,z.originalArgs!==void 0&&($.originalArgs=z.originalArgs),$.startedTimeStamp=W.startedTimeStamp})}).addCase(e.fulfilled,(D,{meta:W,payload:z})=>{hp(D,W.arg.queryCacheKey,j=>{if(j.requestId!==W.requestId&&!b1(W.arg))return;const{merge:Z}=i[W.arg.endpointName];if(j.status="fulfilled",Z)if(j.data!==void 0){const{fulfilledTimeStamp:$,arg:H,baseQueryMeta:q,requestId:ce}=W;let le=qd(j.data,me=>Z(me,z,{arg:H.originalArgs,baseQueryMeta:q,fulfilledTimeStamp:$,requestId:ce}));j.data=le}else j.data=z;else j.data=i[W.arg.endpointName].structuralSharing??!0?VI(ps(j.data)?V4(j.data):j.data,z):z;delete j.error,j.fulfilledTimeStamp=W.fulfilledTimeStamp})}).addCase(e.rejected,(D,{meta:{condition:W,arg:z,requestId:j},error:Z,payload:$})=>{hp(D,z.queryCacheKey,H=>{if(!W){if(H.requestId!==j)return;H.status="rejected",H.error=$??Z}})}).addMatcher(a,(D,W)=>{const{queries:z}=s(W);for(const[j,Z]of Object.entries(z))((Z==null?void 0:Z.status)==="fulfilled"||(Z==null?void 0:Z.status)==="rejected")&&(D[j]=Z)})}}),x=tr({name:`${t}/mutations`,initialState:ih,reducers:{removeMutationResult:{reducer(L,{payload:D}){const W=Rd(D);W in L&&delete L[W]},prepare:Qu()}},extraReducers(L){L.addCase(n.pending,(D,{meta:W,meta:{requestId:z,arg:j,startedTimeStamp:Z}})=>{j.track&&(D[Rd(W)]={requestId:z,status:"pending",endpointName:j.endpointName,startedTimeStamp:Z})}).addCase(n.fulfilled,(D,{payload:W,meta:z})=>{z.arg.track&&uT(D,z,j=>{j.requestId===z.requestId&&(j.status="fulfilled",j.data=W,j.fulfilledTimeStamp=z.fulfilledTimeStamp)})}).addCase(n.rejected,(D,{payload:W,error:z,meta:j})=>{j.arg.track&&uT(D,j,Z=>{Z.requestId===j.requestId&&(Z.status="rejected",Z.error=W??z)})}).addMatcher(a,(D,W)=>{const{mutations:z}=s(W);for(const[j,Z]of Object.entries(z))((Z==null?void 0:Z.status)==="fulfilled"||(Z==null?void 0:Z.status)==="rejected")&&j!==(Z==null?void 0:Z.requestId)&&(D[j]=Z)})}}),v=tr({name:`${t}/invalidation`,initialState:ih,reducers:{updateProvidedBy:{reducer(L,D){var j,Z;const{queryCacheKey:W,providedTags:z}=D.payload;for(const $ of Object.values(L))for(const H of Object.values($)){const q=H.indexOf(W);q!==-1&&H.splice(q,1)}for(const{type:$,id:H}of z){const q=(j=L[$]??(L[$]={}))[Z=H||"__internal_without_id"]??(j[Z]=[]);q.includes(W)||q.push(W)}},prepare:Qu()}},extraReducers(L){L.addCase(f.actions.removeQueryResult,(D,{payload:{queryCacheKey:W}})=>{for(const z of Object.values(D))for(const j of Object.values(z)){const Z=j.indexOf(W);Z!==-1&&j.splice(Z,1)}}).addMatcher(a,(D,W)=>{var j,Z;const{provided:z}=s(W);for(const[$,H]of Object.entries(z))for(const[q,ce]of Object.entries(H)){const le=(j=D[$]??(D[$]={}))[Z=q||"__internal_without_id"]??(j[Z]=[]);for(const me of ce)le.includes(me)||le.push(me)}}).addMatcher(_a(_o(e),Xg(e)),(D,W)=>{const z=zI(W,"providesTags",i,l),{queryCacheKey:j}=W.meta.arg;v.caseReducers.updateProvidedBy(D,v.actions.updateProvidedBy({queryCacheKey:j,providedTags:z}))})}}),y=tr({name:`${t}/subscriptions`,initialState:ih,reducers:{updateSubscriptionOptions(L,D){},unsubscribeQueryResult(L,D){},internal_getRTKQSubscriptions(){}}}),C=tr({name:`${t}/internalSubscriptions`,initialState:ih,reducers:{subscriptionsUpdated:{reducer(L,D){return GM(L,D.payload)},prepare:Qu()}}}),k=tr({name:`${t}/config`,initialState:{online:zj(),focused:Wj(),middlewareRegistered:!1,...u},reducers:{middlewareRegistered(L,{payload:D}){L.middlewareRegistered=L.middlewareRegistered==="conflict"||r!==D?"conflict":!0}},extraReducers:L=>{L.addCase(px,D=>{D.online=!0}).addCase(cw,D=>{D.online=!1}).addCase(fx,D=>{D.focused=!0}).addCase(lw,D=>{D.focused=!1}).addMatcher(a,D=>({...D}))}}),P=Mb({queries:f.reducer,mutations:x.reducer,provided:v.reducer,subscriptions:C.reducer,config:k.reducer}),S=(L,D)=>P(d.match(D)?void 0:L,D),R={...k.actions,...f.actions,...y.actions,...C.actions,...x.actions,...v.actions,resetApiState:d};return{reducer:S,actions:R}}var dl=Symbol.for("RTKQ/skipToken"),WI={status:"uninitialized"},hT=qd(WI,()=>{}),dT=qd(WI,()=>{});function Jj({serializeQueryArgs:t,reducerPath:e,createSelector:n}){const i=x=>hT,r=x=>dT;return{buildQuerySelector:l,buildMutationSelector:u,selectInvalidatedBy:d,selectCachedArgsForQuery:f};function s(x){return{...x,...Fj(x.status)}}function a(x){return x[e]}function l(x,v){return y=>{const C=t({queryArgs:y,endpointDefinition:v,endpointName:x});return n(y===dl?i:S=>{var R,L;return((L=(R=a(S))==null?void 0:R.queries)==null?void 0:L[C])??hT},s)}}function u(){return x=>{let v;return typeof x=="object"?v=Rd(x)??dl:v=x,n(v===dl?r:k=>{var P,S;return((S=(P=a(k))==null?void 0:P.mutations)==null?void 0:S[v])??dT},s)}}function d(x,v){const y=x[e],C=new Set;for(const k of v.map(_1)){const P=y.provided[k.type];if(!P)continue;let S=(k.id!==void 0?P[k.id]:iT(Object.values(P)))??[];for(const R of S)C.add(R)}return iT(Array.from(C.values()).map(k=>{const P=y.queries[k];return P?[{queryCacheKey:k,endpointName:P.endpointName,originalArgs:P.originalArgs}]:[]}))}function f(x,v){return Object.values(x[e].queries).filter(y=>(y==null?void 0:y.endpointName)===v&&y.status!=="uninitialized").map(y=>y.originalArgs)}}var Jl=WeakMap?new WeakMap:void 0,fT=({endpointName:t,queryArgs:e})=>{let n="";const i=Jl==null?void 0:Jl.get(e);if(typeof i=="string")n=i;else{const r=JSON.stringify(e,(s,a)=>(a=typeof a=="bigint"?{$bigint:a.toString()}:a,a=Os(a)?Object.keys(a).sort().reduce((l,u)=>(l[u]=a[u],l),{}):a,a));Os(e)&&(Jl==null||Jl.set(e,r)),n=r}return`${t}(${n})`};function eH(...t){return function(n){const i=dd(d=>{var f;return(f=n.extractRehydrationInfo)==null?void 0:f.call(n,d,{reducerPath:n.reducerPath??"api"})}),r={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:i,serializeQueryArgs(d){let f=fT;if("serializeQueryArgs"in d.endpointDefinition){const x=d.endpointDefinition.serializeQueryArgs;f=v=>{const y=x(v);return typeof y=="string"?y:fT({...v,queryArgs:y})}}else n.serializeQueryArgs&&(f=n.serializeQueryArgs);return f(d)},tagTypes:[...n.tagTypes||[]]},s={endpointDefinitions:{},batch(d){d()},apiUid:Eb(),extractRehydrationInfo:i,hasRehydrationInfo:dd(d=>i(d)!=null)},a={injectEndpoints:u,enhanceEndpoints({addTagTypes:d,endpoints:f}){if(d)for(const x of d)r.tagTypes.includes(x)||r.tagTypes.push(x);if(f)for(const[x,v]of Object.entries(f))typeof v=="function"?v(s.endpointDefinitions[x]):Object.assign(s.endpointDefinitions[x]||{},v);return a}},l=t.map(d=>d.init(a,r,s));function u(d){const f=d.endpoints({query:x=>({...x,type:"query"}),mutation:x=>({...x,type:"mutation"})});for(const[x,v]of Object.entries(f)){if(d.overrideExisting!==!0&&x in s.endpointDefinitions){if(d.overrideExisting==="throw")throw new Error(Ni(39));typeof process<"u";continue}s.endpointDefinitions[x]=v;for(const y of l)y.injectEndpoint(x,v)}return a}return a.injectEndpoints({endpoints:n.endpoints})}}function tH(t){for(let e in t)return!1;return!0}var nH=2147483647/1e3-1,iH=({reducerPath:t,api:e,queryThunk:n,context:i,internalState:r})=>{const{removeQueryResult:s,unsubscribeQueryResult:a}=e.internalActions,l=_a(a.match,n.fulfilled,n.rejected);function u(v){const y=r.currentSubscriptions[v];return!!y&&!tH(y)}const d={},f=(v,y,C)=>{var k;if(l(v)){const P=y.getState()[t],{queryCacheKey:S}=a.match(v)?v.payload:v.meta.arg;x(S,(k=P.queries[S])==null?void 0:k.endpointName,y,P.config)}if(e.util.resetApiState.match(v))for(const[P,S]of Object.entries(d))S&&clearTimeout(S),delete d[P];if(i.hasRehydrationInfo(v)){const P=y.getState()[t],{queries:S}=i.extractRehydrationInfo(v);for(const[R,L]of Object.entries(S))x(R,L==null?void 0:L.endpointName,y,P.config)}};function x(v,y,C,k){const P=i.endpointDefinitions[y],S=(P==null?void 0:P.keepUnusedDataFor)??k.keepUnusedDataFor;if(S===1/0)return;const R=Math.max(0,Math.min(S,nH));if(!u(v)){const L=d[v];L&&clearTimeout(L),d[v]=setTimeout(()=>{u(v)||C.dispatch(s({queryCacheKey:v})),delete d[v]},R*1e3)}}return f},rH=({reducerPath:t,context:e,context:{endpointDefinitions:n},mutationThunk:i,queryThunk:r,api:s,assertTagType:a,refetchQuery:l,internalState:u})=>{const{removeQueryResult:d}=s.internalActions,f=_a(_o(i),Xg(i)),x=_a(_o(i,r),lu(i,r));let v=[];const y=(P,S)=>{f(P)?k(zI(P,"invalidatesTags",n,a),S):x(P)?k([],S):s.util.invalidateTags.match(P)&&k(uw(P.payload,void 0,void 0,void 0,void 0,a),S)};function C(P){var S,R;for(const L in P.queries)if(((S=P.queries[L])==null?void 0:S.status)==="pending")return!0;for(const L in P.mutations)if(((R=P.mutations[L])==null?void 0:R.status)==="pending")return!0;return!1}function k(P,S){const R=S.getState(),L=R[t];if(v.push(...P),L.config.invalidationBehavior==="delayed"&&C(L))return;const D=v;if(v=[],D.length===0)return;const W=s.util.selectInvalidatedBy(R,D);e.batch(()=>{const z=Array.from(W.values());for(const{queryCacheKey:j}of z){const Z=L.queries[j],$=u.currentSubscriptions[j]??{};Z&&(Zc($)===0?S.dispatch(d({queryCacheKey:j})):Z.status!=="uninitialized"&&S.dispatch(l(Z,j)))}})}return y},sH=({reducerPath:t,queryThunk:e,api:n,refetchQuery:i,internalState:r})=>{const s={},a=(v,y)=>{(n.internalActions.updateSubscriptionOptions.match(v)||n.internalActions.unsubscribeQueryResult.match(v))&&u(v.payload,y),(e.pending.match(v)||e.rejected.match(v)&&v.meta.condition)&&u(v.meta.arg,y),(e.fulfilled.match(v)||e.rejected.match(v)&&!v.meta.condition)&&l(v.meta.arg,y),n.util.resetApiState.match(v)&&f()};function l({queryCacheKey:v},y){const C=y.getState()[t],k=C.queries[v],P=r.currentSubscriptions[v];if(!k||k.status==="uninitialized")return;const{lowestPollingInterval:S,skipPollingIfUnfocused:R}=x(P);if(!Number.isFinite(S))return;const L=s[v];L!=null&&L.timeout&&(clearTimeout(L.timeout),L.timeout=void 0);const D=Date.now()+S;s[v]={nextPollTimestamp:D,pollingInterval:S,timeout:setTimeout(()=>{(C.config.focused||!R)&&y.dispatch(i(k,v)),l({queryCacheKey:v},y)},S)}}function u({queryCacheKey:v},y){const k=y.getState()[t].queries[v],P=r.currentSubscriptions[v];if(!k||k.status==="uninitialized")return;const{lowestPollingInterval:S}=x(P);if(!Number.isFinite(S)){d(v);return}const R=s[v],L=Date.now()+S;(!R||L<R.nextPollTimestamp)&&l({queryCacheKey:v},y)}function d(v){const y=s[v];y!=null&&y.timeout&&clearTimeout(y.timeout),delete s[v]}function f(){for(const v of Object.keys(s))d(v)}function x(v={}){let y=!1,C=Number.POSITIVE_INFINITY;for(let k in v)v[k].pollingInterval&&(C=Math.min(v[k].pollingInterval,C),y=v[k].skipPollingIfUnfocused||y);return{lowestPollingInterval:C,skipPollingIfUnfocused:y}}return a},aH=({reducerPath:t,context:e,api:n,refetchQuery:i,internalState:r})=>{const{removeQueryResult:s}=n.internalActions,a=(u,d)=>{fx.match(u)&&l(d,"refetchOnFocus"),px.match(u)&&l(d,"refetchOnReconnect")};function l(u,d){const f=u.getState()[t],x=f.queries,v=r.currentSubscriptions;e.batch(()=>{for(const y of Object.keys(v)){const C=x[y],k=v[y];if(!k||!C)continue;(Object.values(k).some(S=>S[d]===!0)||Object.values(k).every(S=>S[d]===void 0)&&f.config[d])&&(Zc(k)===0?u.dispatch(s({queryCacheKey:y})):C.status!=="uninitialized"&&u.dispatch(i(C,y)))}})}return a},pT=new Error("Promise never resolved before cacheEntryRemoved."),oH=({api:t,reducerPath:e,context:n,queryThunk:i,mutationThunk:r,internalState:s})=>{const a=Zy(i),l=Zy(r),u=_o(i,r),d={},f=(y,C,k)=>{const P=x(y);if(i.pending.match(y)){const S=k[e].queries[P],R=C.getState()[e].queries[P];!S&&R&&v(y.meta.arg.endpointName,y.meta.arg.originalArgs,P,C,y.meta.requestId)}else if(r.pending.match(y))C.getState()[e].mutations[P]&&v(y.meta.arg.endpointName,y.meta.arg.originalArgs,P,C,y.meta.requestId);else if(u(y)){const S=d[P];S!=null&&S.valueResolved&&(S.valueResolved({data:y.payload,meta:y.meta.baseQueryMeta}),delete S.valueResolved)}else if(t.internalActions.removeQueryResult.match(y)||t.internalActions.removeMutationResult.match(y)){const S=d[P];S&&(delete d[P],S.cacheEntryRemoved())}else if(t.util.resetApiState.match(y))for(const[S,R]of Object.entries(d))delete d[S],R.cacheEntryRemoved()};function x(y){return a(y)?y.meta.arg.queryCacheKey:l(y)?y.meta.arg.fixedCacheKey??y.meta.requestId:t.internalActions.removeQueryResult.match(y)?y.payload.queryCacheKey:t.internalActions.removeMutationResult.match(y)?Rd(y.payload):""}function v(y,C,k,P,S){const R=n.endpointDefinitions[y],L=R==null?void 0:R.onCacheEntryAdded;if(!L)return;let D={};const W=new Promise(q=>{D.cacheEntryRemoved=q}),z=Promise.race([new Promise(q=>{D.valueResolved=q}),W.then(()=>{throw pT})]);z.catch(()=>{}),d[k]=D;const j=t.endpoints[y].select(R.type==="query"?C:k),Z=P.dispatch((q,ce,le)=>le),$={...P,getCacheEntry:()=>j(P.getState()),requestId:S,extra:Z,updateCachedData:R.type==="query"?q=>P.dispatch(t.util.updateQueryData(y,C,q)):void 0,cacheDataLoaded:z,cacheEntryRemoved:W},H=L(C,$);Promise.resolve(H).catch(q=>{if(q!==pT)throw q})}return f},lH=({api:t,context:e,queryThunk:n,mutationThunk:i})=>{const r=Ab(n,i),s=lu(n,i),a=_o(n,i),l={};return(d,f)=>{var x,v;if(r(d)){const{requestId:y,arg:{endpointName:C,originalArgs:k}}=d.meta,P=e.endpointDefinitions[C],S=P==null?void 0:P.onQueryStarted;if(S){const R={},L=new Promise((j,Z)=>{R.resolve=j,R.reject=Z});L.catch(()=>{}),l[y]=R;const D=t.endpoints[C].select(P.type==="query"?k:y),W=f.dispatch((j,Z,$)=>$),z={...f,getCacheEntry:()=>D(f.getState()),requestId:y,extra:W,updateCachedData:P.type==="query"?j=>f.dispatch(t.util.updateQueryData(C,k,j)):void 0,queryFulfilled:L};S(k,z)}}else if(a(d)){const{requestId:y,baseQueryMeta:C}=d.meta;(x=l[y])==null||x.resolve({data:d.payload,meta:C}),delete l[y]}else if(s(d)){const{requestId:y,rejectedWithValue:C,baseQueryMeta:k}=d.meta;(v=l[y])==null||v.reject({error:d.payload??d.error,isUnhandledError:!C,meta:k}),delete l[y]}}},cH=({api:t,context:{apiUid:e},reducerPath:n})=>(i,r)=>{t.util.resetApiState.match(i)&&r.dispatch(t.internalActions.middlewareRegistered(e)),typeof process<"u"},uH=({api:t,queryThunk:e,internalState:n})=>{const i=`${t.reducerPath}/subscriptions`;let r=null,s=null;const{updateSubscriptionOptions:a,unsubscribeQueryResult:l}=t.internalActions,u=(y,C)=>{var P,S,R;if(a.match(C)){const{queryCacheKey:L,requestId:D,options:W}=C.payload;return(P=y==null?void 0:y[L])!=null&&P[D]&&(y[L][D]=W),!0}if(l.match(C)){const{queryCacheKey:L,requestId:D}=C.payload;return y[L]&&delete y[L][D],!0}if(t.internalActions.removeQueryResult.match(C))return delete y[C.payload.queryCacheKey],!0;if(e.pending.match(C)){const{meta:{arg:L,requestId:D}}=C,W=y[S=L.queryCacheKey]??(y[S]={});return W[`${D}_running`]={},L.subscribe&&(W[D]=L.subscriptionOptions??W[D]??{}),!0}let k=!1;if(e.fulfilled.match(C)||e.rejected.match(C)){const L=y[C.meta.arg.queryCacheKey]||{},D=`${C.meta.requestId}_running`;k||(k=!!L[D]),delete L[D]}if(e.rejected.match(C)){const{meta:{condition:L,arg:D,requestId:W}}=C;if(L&&D.subscribe){const z=y[R=D.queryCacheKey]??(y[R]={});z[W]=D.subscriptionOptions??z[W]??{},k=!0}}return k},d=()=>n.currentSubscriptions,v={getSubscriptions:d,getSubscriptionCount:y=>{const k=d()[y]??{};return Zc(k)},isRequestSubscribed:(y,C)=>{var P;const k=d();return!!((P=k==null?void 0:k[y])!=null&&P[C])}};return(y,C)=>{if(r||(r=JSON.parse(JSON.stringify(n.currentSubscriptions))),t.util.resetApiState.match(y))return r=n.currentSubscriptions={},s=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(y))return[!1,v];const k=u(n.currentSubscriptions,y);let P=!0;if(k){s||(s=setTimeout(()=>{const L=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,D]=BA(r,()=>L);C.next(t.internalActions.subscriptionsUpdated(D)),r=L,s=null},500));const S=typeof y.type=="string"&&!!y.type.startsWith(i),R=e.rejected.match(y)&&y.meta.condition&&!!y.meta.arg.subscribe;P=!S&&!R}return[P,!1]}};function hH(t){const{reducerPath:e,queryThunk:n,api:i,context:r}=t,{apiUid:s}=r,a={invalidateTags:Gi(`${e}/invalidateTags`)},l=x=>x.type.startsWith(`${e}/`),u=[cH,iH,rH,sH,oH,lH];return{middleware:x=>{let v=!1;const C={...t,internalState:{currentSubscriptions:{}},refetchQuery:f,isThisApiSliceAction:l},k=u.map(R=>R(C)),P=uH(C),S=aH(C);return R=>L=>{if(!RA(L))return R(L);v||(v=!0,x.dispatch(i.internalActions.middlewareRegistered(s)));const D={...x,next:R},W=x.getState(),[z,j]=P(L,D,W);let Z;if(z?Z=R(L):Z=j,x.getState()[e]&&(S(L,D,W),l(L)||r.hasRehydrationInfo(L)))for(let $ of k)$(L,D,W);return Z}},actions:a};function f(x,v,y={}){return n({type:"query",endpointName:x.endpointName,originalArgs:x.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:v,...y})}}function Fa(t,...e){return Object.assign(t,...e)}var mT=Symbol(),dH=({createSelector:t=jg}={})=>({name:mT,init(e,{baseQuery:n,tagTypes:i,reducerPath:r,serializeQueryArgs:s,keepUnusedDataFor:a,refetchOnMountOrArgChange:l,refetchOnFocus:u,refetchOnReconnect:d,invalidationBehavior:f},x){$4();const v=ie=>(typeof process<"u",ie);Object.assign(e,{reducerPath:r,endpoints:{},internalActions:{onOnline:px,onOffline:cw,onFocus:fx,onFocusLost:lw},util:{}});const{queryThunk:y,mutationThunk:C,patchQueryData:k,updateQueryData:P,upsertQueryData:S,prefetch:R,buildMatchThunkActions:L}=Qj({baseQuery:n,reducerPath:r,context:x,api:e,serializeQueryArgs:s,assertTagType:v}),{reducer:D,actions:W}=qj({context:x,queryThunk:y,mutationThunk:C,reducerPath:r,assertTagType:v,config:{refetchOnFocus:u,refetchOnReconnect:d,refetchOnMountOrArgChange:l,keepUnusedDataFor:a,reducerPath:r,invalidationBehavior:f}});Fa(e.util,{patchQueryData:k,updateQueryData:P,upsertQueryData:S,prefetch:R,resetApiState:W.resetApiState}),Fa(e.internalActions,W);const{middleware:z,actions:j}=hH({reducerPath:r,context:x,queryThunk:y,mutationThunk:C,api:e,assertTagType:v});Fa(e.util,j),Fa(e,{reducer:D,middleware:z});const{buildQuerySelector:Z,buildMutationSelector:$,selectInvalidatedBy:H,selectCachedArgsForQuery:q}=Jj({serializeQueryArgs:s,reducerPath:r,createSelector:t});Fa(e.util,{selectInvalidatedBy:H,selectCachedArgsForQuery:q});const{buildInitiateQuery:ce,buildInitiateMutation:le,getRunningMutationThunk:me,getRunningMutationsThunk:we,getRunningQueriesThunk:Se,getRunningQueryThunk:ge}=Kj({queryThunk:y,mutationThunk:C,api:e,serializeQueryArgs:s,context:x});return Fa(e.util,{getRunningMutationThunk:me,getRunningMutationsThunk:we,getRunningQueryThunk:ge,getRunningQueriesThunk:Se}),{name:mT,injectEndpoint(ie,_e){var ee;const Te=e;(ee=Te.endpoints)[ie]??(ee[ie]={}),UI(_e)?Fa(Te.endpoints[ie],{name:ie,select:Z(ie,_e),initiate:ce(ie,_e)},L(y,ie)):Yj(_e)&&Fa(Te.endpoints[ie],{name:ie,select:$(),initiate:le(ie)},L(C,ie))}}}});function fH(t){return t.type==="query"}function pH(t){return t.type==="mutation"}function dp(t,...e){return Object.assign(t,...e)}function q0(t){return t.replace(t[0],t[0].toUpperCase())}var ec=WeakMap?new WeakMap:void 0,mH=({endpointName:t,queryArgs:e})=>{let n="";const i=ec==null?void 0:ec.get(e);if(typeof i=="string")n=i;else{const r=JSON.stringify(e,(s,a)=>(a=typeof a=="bigint"?{$bigint:a.toString()}:a,a=Os(a)?Object.keys(a).sort().reduce((l,u)=>(l[u]=a[u],l),{}):a,a));Os(e)&&(ec==null||ec.set(e,r)),n=r}return`${t}(${n})`},J0=Symbol();function gT(t,e,n,i){const r=F.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:n,endpointName:i}):t}),[t,e,n,i]),s=F.useRef(r);return F.useEffect(()=>{s.current.serialized!==r.serialized&&(s.current=r)},[r]),s.current.serialized===r.serialized?s.current.queryArgs:t}function ev(t){const e=F.useRef(t);return F.useEffect(()=>{mo(e.current,t)||(e.current=t)},[t]),mo(e.current,t)?e.current:t}var gH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xH=gH(),vH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yH=vH(),_H=()=>xH||yH?F.useLayoutEffect:F.useEffect,bH=_H(),wH=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:BI.pending}:t;function SH({api:t,moduleOptions:{batch:e,hooks:{useDispatch:n,useSelector:i,useStore:r},unstable__sideEffectsInRender:s,createSelector:a},serializeQueryArgs:l,context:u}){const d=s?C=>C():F.useEffect;return{buildQueryHooks:v,buildMutationHook:y,usePrefetch:x};function f(C,k,P){if(k!=null&&k.endpointName&&C.isUninitialized){const{endpointName:z}=k,j=u.endpointDefinitions[z];l({queryArgs:k.originalArgs,endpointDefinition:j,endpointName:z})===l({queryArgs:P,endpointDefinition:j,endpointName:z})&&(k=void 0)}let S=C.isSuccess?C.data:k==null?void 0:k.data;S===void 0&&(S=C.data);const R=S!==void 0,L=C.isLoading,D=(!k||k.isLoading||k.isUninitialized)&&!R&&L,W=C.isSuccess||L&&R;return{...C,data:S,currentData:C.data,isFetching:L,isLoading:D,isSuccess:W}}function x(C,k){const P=n(),S=ev(k);return F.useCallback((R,L)=>P(t.util.prefetch(C,R,{...S,...L})),[C,P,S])}function v(C){const k=(R,{refetchOnReconnect:L,refetchOnFocus:D,refetchOnMountOrArgChange:W,skip:z=!1,pollingInterval:j=0,skipPollingIfUnfocused:Z=!1}={})=>{const{initiate:$}=t.endpoints[C],H=n(),q=F.useRef(void 0);if(!q.current){const Te=H(t.internalActions.internal_getRTKQSubscriptions());q.current=Te}const ce=gT(z?dl:R,mH,u.endpointDefinitions[C],C),le=ev({refetchOnReconnect:L,refetchOnFocus:D,pollingInterval:j,skipPollingIfUnfocused:Z}),me=F.useRef(!1),we=F.useRef(void 0);let{queryCacheKey:Se,requestId:ge}=we.current||{},ie=!1;Se&&ge&&(ie=q.current.isRequestSubscribed(Se,ge));const _e=!ie&&me.current;return d(()=>{me.current=ie}),d(()=>{_e&&(we.current=void 0)},[_e]),d(()=>{var He;const Te=we.current;if(typeof process<"u",ce===dl){Te==null||Te.unsubscribe(),we.current=void 0;return}const ee=(He=we.current)==null?void 0:He.subscriptionOptions;if(!Te||Te.arg!==ce){Te==null||Te.unsubscribe();const Ue=H($(ce,{subscriptionOptions:le,forceRefetch:W}));we.current=Ue}else le!==ee&&Te.updateSubscriptionOptions(le)},[H,$,W,ce,le,_e]),F.useEffect(()=>()=>{var Te;(Te=we.current)==null||Te.unsubscribe(),we.current=void 0},[]),F.useMemo(()=>({refetch:()=>{var Te;if(!we.current)throw new Error(Ni(38));return(Te=we.current)==null?void 0:Te.refetch()}}),[])},P=({refetchOnReconnect:R,refetchOnFocus:L,pollingInterval:D=0,skipPollingIfUnfocused:W=!1}={})=>{const{initiate:z}=t.endpoints[C],j=n(),[Z,$]=F.useState(J0),H=F.useRef(void 0),q=ev({refetchOnReconnect:R,refetchOnFocus:L,pollingInterval:D,skipPollingIfUnfocused:W});d(()=>{var we,Se;const me=(we=H.current)==null?void 0:we.subscriptionOptions;q!==me&&((Se=H.current)==null||Se.updateSubscriptionOptions(q))},[q]);const ce=F.useRef(q);d(()=>{ce.current=q},[q]);const le=F.useCallback(function(me,we=!1){let Se;return e(()=>{var ge;(ge=H.current)==null||ge.unsubscribe(),H.current=Se=j(z(me,{subscriptionOptions:ce.current,forceRefetch:!we})),$(me)}),Se},[j,z]);return F.useEffect(()=>()=>{var me;(me=H==null?void 0:H.current)==null||me.unsubscribe()},[]),F.useEffect(()=>{Z!==J0&&!H.current&&le(Z,!0)},[Z,le]),F.useMemo(()=>[le,Z],[le,Z])},S=(R,{skip:L=!1,selectFromResult:D}={})=>{const{select:W}=t.endpoints[C],z=gT(L?dl:R,l,u.endpointDefinitions[C],C),j=F.useRef(void 0),Z=F.useMemo(()=>a([W(z),(le,me)=>me,le=>z],f,{memoizeOptions:{resultEqualityCheck:mo}}),[W,z]),$=F.useMemo(()=>D?a([Z],D,{devModeChecks:{identityFunctionCheck:"never"}}):Z,[Z,D]),H=i(le=>$(le,j.current),mo),q=r(),ce=Z(q.getState(),j.current);return bH(()=>{j.current=ce},[ce]),H};return{useQueryState:S,useQuerySubscription:k,useLazyQuerySubscription:P,useLazyQuery(R){const[L,D]=P(R),W=S(D,{...R,skip:D===J0}),z=F.useMemo(()=>({lastArg:D}),[D]);return F.useMemo(()=>[L,W,z],[L,W,z])},useQuery(R,L){const D=k(R,L),W=S(R,{selectFromResult:R===dl||L!=null&&L.skip?void 0:wH,...L}),{data:z,status:j,isLoading:Z,isSuccess:$,isError:H,error:q}=W;return F.useDebugValue({data:z,status:j,isLoading:Z,isSuccess:$,isError:H,error:q}),F.useMemo(()=>({...W,...D}),[W,D])}}}function y(C){return({selectFromResult:k,fixedCacheKey:P}={})=>{const{select:S,initiate:R}=t.endpoints[C],L=n(),[D,W]=F.useState();F.useEffect(()=>()=>{D!=null&&D.arg.fixedCacheKey||D==null||D.reset()},[D]);const z=F.useCallback(function(ee){const He=L(R(ee,{fixedCacheKey:P}));return W(He),He},[L,R,P]),{requestId:j}=D||{},Z=F.useMemo(()=>S({fixedCacheKey:P,requestId:D==null?void 0:D.requestId}),[P,D,S]),$=F.useMemo(()=>k?a([Z],k):Z,[k,Z]),H=i($,mo),q=P==null?D==null?void 0:D.arg.originalArgs:void 0,ce=F.useCallback(()=>{e(()=>{D&&W(void 0),P&&L(t.internalActions.removeMutationResult({requestId:j,fixedCacheKey:P}))})},[L,P,D,j]),{endpointName:le,data:me,status:we,isLoading:Se,isSuccess:ge,isError:ie,error:_e}=H;F.useDebugValue({endpointName:le,data:me,status:we,isLoading:Se,isSuccess:ge,isError:ie,error:_e});const Te=F.useMemo(()=>({...H,originalArgs:q,reset:ce}),[H,q,ce]);return F.useMemo(()=>[z,Te],[z,Te])}}}var MH=Symbol(),CH=({batch:t=L4,hooks:e={useDispatch:Ki,useSelector:un,useStore:AA},createSelector:n=jg,unstable__sideEffectsInRender:i=!1,...r}={})=>({name:MH,init(s,{serializeQueryArgs:a},l){const u=s,{buildQueryHooks:d,buildMutationHook:f,usePrefetch:x}=SH({api:s,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:i,createSelector:n},serializeQueryArgs:a,context:l});return dp(u,{usePrefetch:x}),dp(l,{batch:t}),{injectEndpoint(v,y){if(fH(y)){const{useQuery:C,useLazyQuery:k,useLazyQuerySubscription:P,useQueryState:S,useQuerySubscription:R}=d(v);dp(u.endpoints[v],{useQuery:C,useLazyQuery:k,useLazyQuerySubscription:P,useQueryState:S,useQuerySubscription:R}),s[`use${q0(v)}Query`]=C,s[`useLazy${q0(v)}Query`]=k}else if(pH(y)){const C=f(v);dp(u.endpoints[v],{useMutation:C}),s[`use${q0(v)}Mutation`]=C}}}}}),TH=eH(dH(),CH());const Il=TH({reducerPath:"baseApi",baseQuery:Xj({baseUrl:"/api",credentials:"include",prepareHeaders:(t,{getState:e})=>{const n=e().auth.token;return n&&t.set("Authorization",`${n}`),t}}),endpoints:()=>({}),tagTypes:["User","AllNamespace","NamespaceDetail","ErrorDetail","NamespaceErrors","UserProfile"]}),jI=Il.injectEndpoints({endpoints:t=>({createNamespace:t.mutation({query:e=>({url:"/namespace/",method:"POST",body:e}),invalidatesTags:["AllNamespace"]}),getNamespacesByUser:t.query({query:({id:e,offset:n=0,limit:i=10})=>({url:`/namespace/user/${e}`,method:"GET",params:{offset:n,limit:i}}),providesTags:["AllNamespace"]}),getNamespaceById:t.query({query:e=>({url:`/namespace/${e}`,method:"GET"}),providesTags:["NamespaceDetail"],keepUnusedDataFor:3600}),updateNamespaceById:t.mutation({query:e=>({url:`/namespace/${e.id}`,method:"PUT",body:e}),invalidatesTags:["NamespaceDetail","AllNamespace"]}),getNamespaceErrors:t.query({query:({id:e,offset:n=0,limit:i=10,groupBy:r="statusCode"})=>({url:`/namespace/${e}/errors`,method:"GET",params:{offset:n,limit:i,groupBy:r}}),providesTags:["NamespaceErrors"]}),deleteNamespaceById:t.mutation({query:e=>({url:`/namespace/${e}`,method:"DELETE"}),invalidatesTags:["AllNamespace"]})})}),{useCreateNamespaceMutation:PH,useGetNamespacesByUserQuery:EH,useGetNamespaceByIdQuery:HI,useUpdateNamespaceByIdMutation:AH,useGetNamespaceErrorsQuery:kH,useDeleteNamespaceByIdMutation:RH}=jI,IH=t=>jg([jI.endpoints.getNamespaceById.select(t)],e=>e==null?void 0:e.data),LH=t=>Array.isArray(t)&&t.length>0&&t[0].line!==void 0,DH=t=>Array.isArray(t)&&t.length>0&&t[0].message!==void 0,NH=t=>Array.isArray(t)&&t.length>0&&t[0].tag!==void 0,FH=["top","right","bottom","left"],Rs=Math.min,xr=Math.max,cg=Math.round,fp=Math.floor,Po=t=>({x:t,y:t}),OH={left:"right",right:"left",bottom:"top",top:"bottom"},BH={start:"end",end:"start"};function w1(t,e,n){return xr(t,Rs(e,n))}function Ma(t,e){return typeof t=="function"?t(e):t}function Ca(t){return t.split("-")[0]}function Fu(t){return t.split("-")[1]}function hw(t){return t==="x"?"y":"x"}function dw(t){return t==="y"?"height":"width"}function Eo(t){return["top","bottom"].includes(Ca(t))?"y":"x"}function fw(t){return hw(Eo(t))}function VH(t,e,n){n===void 0&&(n=!1);const i=Fu(t),r=fw(t),s=dw(r);let a=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=ug(a)),[a,ug(a)]}function UH(t){const e=ug(t);return[S1(t),e,S1(e)]}function S1(t){return t.replace(/start|end/g,e=>BH[e])}function zH(t,e,n){const i=["left","right"],r=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?s:a;default:return[]}}function WH(t,e,n,i){const r=Fu(t);let s=zH(Ca(t),n==="start",i);return r&&(s=s.map(a=>a+"-"+r),e&&(s=s.concat(s.map(S1)))),s}function ug(t){return t.replace(/left|right|bottom|top/g,e=>OH[e])}function jH(t){return{top:0,right:0,bottom:0,left:0,...t}}function XI(t){return typeof t!="number"?jH(t):{top:t,right:t,bottom:t,left:t}}function hg(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function xT(t,e,n){let{reference:i,floating:r}=t;const s=Eo(e),a=fw(e),l=dw(a),u=Ca(e),d=s==="y",f=i.x+i.width/2-r.width/2,x=i.y+i.height/2-r.height/2,v=i[l]/2-r[l]/2;let y;switch(u){case"top":y={x:f,y:i.y-r.height};break;case"bottom":y={x:f,y:i.y+i.height};break;case"right":y={x:i.x+i.width,y:x};break;case"left":y={x:i.x-r.width,y:x};break;default:y={x:i.x,y:i.y}}switch(Fu(e)){case"start":y[a]-=v*(n&&d?-1:1);break;case"end":y[a]+=v*(n&&d?-1:1);break}return y}const HH=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:f,y:x}=xT(d,i,u),v=i,y={},C=0;for(let k=0;k<l.length;k++){const{name:P,fn:S}=l[k],{x:R,y:L,data:D,reset:W}=await S({x:f,y:x,initialPlacement:i,placement:v,strategy:r,middlewareData:y,rects:d,platform:a,elements:{reference:t,floating:e}});f=R??f,x=L??x,y={...y,[P]:{...y[P],...D}},W&&C<=50&&(C++,typeof W=="object"&&(W.placement&&(v=W.placement),W.rects&&(d=W.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):W.rects),{x:f,y:x}=xT(d,v,u)),k=-1)}return{x:f,y:x,placement:v,strategy:r,middlewareData:y}};async function Id(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:a,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:x="floating",altBoundary:v=!1,padding:y=0}=Ma(e,t),C=XI(y),P=l[v?x==="floating"?"reference":"floating":x],S=hg(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(P)))==null||n?P:P.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),R=x==="floating"?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,L=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),D=await(s.isElement==null?void 0:s.isElement(L))?await(s.getScale==null?void 0:s.getScale(L))||{x:1,y:1}:{x:1,y:1},W=hg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:R,offsetParent:L,strategy:u}):R);return{top:(S.top-W.top+C.top)/D.y,bottom:(W.bottom-S.bottom+C.bottom)/D.y,left:(S.left-W.left+C.left)/D.x,right:(W.right-S.right+C.right)/D.x}}const XH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:a,elements:l,middlewareData:u}=e,{element:d,padding:f=0}=Ma(t,e)||{};if(d==null)return{};const x=XI(f),v={x:n,y:i},y=fw(r),C=dw(y),k=await a.getDimensions(d),P=y==="y",S=P?"top":"left",R=P?"bottom":"right",L=P?"clientHeight":"clientWidth",D=s.reference[C]+s.reference[y]-v[y]-s.floating[C],W=v[y]-s.reference[y],z=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let j=z?z[L]:0;(!j||!await(a.isElement==null?void 0:a.isElement(z)))&&(j=l.floating[L]||s.floating[C]);const Z=D/2-W/2,$=j/2-k[C]/2-1,H=Rs(x[S],$),q=Rs(x[R],$),ce=H,le=j-k[C]-q,me=j/2-k[C]/2+Z,we=w1(ce,me,le),Se=!u.arrow&&Fu(r)!=null&&me!==we&&s.reference[C]/2-(me<ce?H:q)-k[C]/2<0,ge=Se?me<ce?me-ce:me-le:0;return{[y]:v[y]+ge,data:{[y]:we,centerOffset:me-we-ge,...Se&&{alignmentOffset:ge}},reset:Se}}}),GH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:a,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:x=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:k=!0,...P}=Ma(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const S=Ca(r),R=Eo(l),L=Ca(l)===l,D=await(u.isRTL==null?void 0:u.isRTL(d.floating)),W=v||(L||!k?[ug(l)]:UH(l)),z=C!=="none";!v&&z&&W.push(...WH(l,k,C,D));const j=[l,...W],Z=await Id(e,P),$=[];let H=((i=s.flip)==null?void 0:i.overflows)||[];if(f&&$.push(Z[S]),x){const me=VH(r,a,D);$.push(Z[me[0]],Z[me[1]])}if(H=[...H,{placement:r,overflows:$}],!$.every(me=>me<=0)){var q,ce;const me=(((q=s.flip)==null?void 0:q.index)||0)+1,we=j[me];if(we)return{data:{index:me,overflows:H},reset:{placement:we}};let Se=(ce=H.filter(ge=>ge.overflows[0]<=0).sort((ge,ie)=>ge.overflows[1]-ie.overflows[1])[0])==null?void 0:ce.placement;if(!Se)switch(y){case"bestFit":{var le;const ge=(le=H.filter(ie=>{if(z){const _e=Eo(ie.placement);return _e===R||_e==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(_e=>_e>0).reduce((_e,Te)=>_e+Te,0)]).sort((ie,_e)=>ie[1]-_e[1])[0])==null?void 0:le[0];ge&&(Se=ge);break}case"initialPlacement":Se=l;break}if(r!==Se)return{reset:{placement:Se}}}return{}}}};function vT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function yT(t){return FH.some(e=>t[e]>=0)}const YH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=Ma(t,e);switch(i){case"referenceHidden":{const s=await Id(e,{...r,elementContext:"reference"}),a=vT(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:yT(a)}}}case"escaped":{const s=await Id(e,{...r,altBoundary:!0}),a=vT(s,n.floating);return{data:{escapedOffsets:a,escaped:yT(a)}}}default:return{}}}}};async function $H(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),a=Ca(n),l=Fu(n),u=Eo(n)==="y",d=["left","top"].includes(a)?-1:1,f=s&&u?-1:1,x=Ma(e,t);let{mainAxis:v,crossAxis:y,alignmentAxis:C}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...x};return l&&typeof C=="number"&&(y=l==="end"?C*-1:C),u?{x:y*f,y:v*d}:{x:v*d,y:y*f}}const ZH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:a,middlewareData:l}=e,u=await $H(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:r+u.x,y:s+u.y,data:{...u,placement:a}}}}},KH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:P=>{let{x:S,y:R}=P;return{x:S,y:R}}},...u}=Ma(t,e),d={x:n,y:i},f=await Id(e,u),x=Eo(Ca(r)),v=hw(x);let y=d[v],C=d[x];if(s){const P=v==="y"?"top":"left",S=v==="y"?"bottom":"right",R=y+f[P],L=y-f[S];y=w1(R,y,L)}if(a){const P=x==="y"?"top":"left",S=x==="y"?"bottom":"right",R=C+f[P],L=C-f[S];C=w1(R,C,L)}const k=l.fn({...e,[v]:y,[x]:C});return{...k,data:{x:k.x-n,y:k.y-i}}}}},QH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Ma(t,e),f={x:n,y:i},x=Eo(r),v=hw(x);let y=f[v],C=f[x];const k=Ma(l,e),P=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(u){const L=v==="y"?"height":"width",D=s.reference[v]-s.floating[L]+P.mainAxis,W=s.reference[v]+s.reference[L]-P.mainAxis;y<D?y=D:y>W&&(y=W)}if(d){var S,R;const L=v==="y"?"width":"height",D=["top","left"].includes(Ca(r)),W=s.reference[x]-s.floating[L]+(D&&((S=a.offset)==null?void 0:S[x])||0)+(D?0:P.crossAxis),z=s.reference[x]+s.reference[L]+(D?0:((R=a.offset)==null?void 0:R[x])||0)-(D?P.crossAxis:0);C<W?C=W:C>z&&(C=z)}return{[v]:y,[x]:C}}}},qH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:i,platform:r,elements:s}=e,{apply:a=()=>{},...l}=Ma(t,e),u=await Id(e,l),d=Ca(n),f=Fu(n),x=Eo(n)==="y",{width:v,height:y}=i.floating;let C,k;d==="top"||d==="bottom"?(C=d,k=f===(await(r.isRTL==null?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(k=d,C=f==="end"?"top":"bottom");const P=y-u.top-u.bottom,S=v-u.left-u.right,R=Rs(y-u[C],P),L=Rs(v-u[k],S),D=!e.middlewareData.shift;let W=R,z=L;if(x?z=f||D?Rs(L,S):S:W=f||D?Rs(R,P):P,D&&!f){const Z=xr(u.left,0),$=xr(u.right,0),H=xr(u.top,0),q=xr(u.bottom,0);x?z=v-2*(Z!==0||$!==0?Z+$:xr(u.left,u.right)):W=y-2*(H!==0||q!==0?H+q:xr(u.top,u.bottom))}await a({...e,availableWidth:z,availableHeight:W});const j=await r.getDimensions(s.floating);return v!==j.width||y!==j.height?{reset:{rects:!0}}:{}}}};function Ou(t){return GI(t)?(t.nodeName||"").toLowerCase():"#document"}function wr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Aa(t){var e;return(e=(GI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function GI(t){return t instanceof Node||t instanceof wr(t).Node}function zs(t){return t instanceof Element||t instanceof wr(t).Element}function Ws(t){return t instanceof HTMLElement||t instanceof wr(t).HTMLElement}function _T(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wr(t).ShadowRoot}function df(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=vs(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function JH(t){return["table","td","th"].includes(Ou(t))}function mx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function pw(t){const e=mw(),n=vs(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function eX(t){let e=Ao(t);for(;Ws(e)&&!mu(e);){if(mx(e))return null;if(pw(e))return e;e=Ao(e)}return null}function mw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mu(t){return["html","body","#document"].includes(Ou(t))}function vs(t){return wr(t).getComputedStyle(t)}function gx(t){return zs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ao(t){if(Ou(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_T(t)&&t.host||Aa(t);return _T(e)?e.host:e}function YI(t){const e=Ao(t);return mu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ws(e)&&df(e)?e:YI(e)}function Ld(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=YI(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),a=wr(r);return s?e.concat(a,a.visualViewport||[],df(r)?r:[],a.frameElement&&n?Ld(a.frameElement):[]):e.concat(r,Ld(r,[],n))}function $I(t){const e=vs(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Ws(t),s=r?t.offsetWidth:n,a=r?t.offsetHeight:i,l=cg(n)!==s||cg(i)!==a;return l&&(n=s,i=a),{width:n,height:i,$:l}}function gw(t){return zs(t)?t:t.contextElement}function Kc(t){const e=gw(t);if(!Ws(e))return Po(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=$I(e);let a=(s?cg(n.width):n.width)/i,l=(s?cg(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const tX=Po(0);function ZI(t){const e=wr(t);return!mw()||!e.visualViewport?tX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nX(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wr(t)?!1:e}function Ll(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=gw(t);let a=Po(1);e&&(i?zs(i)&&(a=Kc(i)):a=Kc(t));const l=nX(s,n,i)?ZI(s):Po(0);let u=(r.left+l.x)/a.x,d=(r.top+l.y)/a.y,f=r.width/a.x,x=r.height/a.y;if(s){const v=wr(s),y=i&&zs(i)?wr(i):i;let C=v,k=C.frameElement;for(;k&&i&&y!==C;){const P=Kc(k),S=k.getBoundingClientRect(),R=vs(k),L=S.left+(k.clientLeft+parseFloat(R.paddingLeft))*P.x,D=S.top+(k.clientTop+parseFloat(R.paddingTop))*P.y;u*=P.x,d*=P.y,f*=P.x,x*=P.y,u+=L,d+=D,C=wr(k),k=C.frameElement}}return hg({width:f,height:x,x:u,y:d})}function iX(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",a=Aa(i),l=e?mx(e.floating):!1;if(i===a||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=Po(1);const f=Po(0),x=Ws(i);if((x||!x&&!s)&&((Ou(i)!=="body"||df(a))&&(u=gx(i)),Ws(i))){const v=Ll(i);d=Kc(i),f.x=v.x+i.clientLeft,f.y=v.y+i.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x,y:n.y*d.y-u.scrollTop*d.y+f.y}}function rX(t){return Array.from(t.getClientRects())}function KI(t){return Ll(Aa(t)).left+gx(t).scrollLeft}function sX(t){const e=Aa(t),n=gx(t),i=t.ownerDocument.body,r=xr(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=xr(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+KI(t);const l=-n.scrollTop;return vs(i).direction==="rtl"&&(a+=xr(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:a,y:l}}function aX(t,e){const n=wr(t),i=Aa(t),r=n.visualViewport;let s=i.clientWidth,a=i.clientHeight,l=0,u=0;if(r){s=r.width,a=r.height;const d=mw();(!d||d&&e==="fixed")&&(l=r.offsetLeft,u=r.offsetTop)}return{width:s,height:a,x:l,y:u}}function oX(t,e){const n=Ll(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=Ws(t)?Kc(t):Po(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,u=r*s.x,d=i*s.y;return{width:a,height:l,x:u,y:d}}function bT(t,e,n){let i;if(e==="viewport")i=aX(t,n);else if(e==="document")i=sX(Aa(t));else if(zs(e))i=oX(e,n);else{const r=ZI(t);i={...e,x:e.x-r.x,y:e.y-r.y}}return hg(i)}function QI(t,e){const n=Ao(t);return n===e||!zs(n)||mu(n)?!1:vs(n).position==="fixed"||QI(n,e)}function lX(t,e){const n=e.get(t);if(n)return n;let i=Ld(t,[],!1).filter(l=>zs(l)&&Ou(l)!=="body"),r=null;const s=vs(t).position==="fixed";let a=s?Ao(t):t;for(;zs(a)&&!mu(a);){const l=vs(a),u=pw(a);!u&&l.position==="fixed"&&(r=null),(s?!u&&!r:!u&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||df(a)&&!u&&QI(t,a))?i=i.filter(f=>f!==a):r=l,a=Ao(a)}return e.set(t,i),i}function cX(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const a=[...n==="clippingAncestors"?mx(e)?[]:lX(e,this._c):[].concat(n),i],l=a[0],u=a.reduce((d,f)=>{const x=bT(e,f,r);return d.top=xr(x.top,d.top),d.right=Rs(x.right,d.right),d.bottom=Rs(x.bottom,d.bottom),d.left=xr(x.left,d.left),d},bT(e,l,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function uX(t){const{width:e,height:n}=$I(t);return{width:e,height:n}}function hX(t,e,n){const i=Ws(e),r=Aa(e),s=n==="fixed",a=Ll(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=Po(0);if(i||!i&&!s)if((Ou(e)!=="body"||df(r))&&(l=gx(e)),i){const x=Ll(e,!0,s,e);u.x=x.x+e.clientLeft,u.y=x.y+e.clientTop}else r&&(u.x=KI(r));const d=a.left+l.scrollLeft-u.x,f=a.top+l.scrollTop-u.y;return{x:d,y:f,width:a.width,height:a.height}}function tv(t){return vs(t).position==="static"}function wT(t,e){return!Ws(t)||vs(t).position==="fixed"?null:e?e(t):t.offsetParent}function qI(t,e){const n=wr(t);if(mx(t))return n;if(!Ws(t)){let r=Ao(t);for(;r&&!mu(r);){if(zs(r)&&!tv(r))return r;r=Ao(r)}return n}let i=wT(t,e);for(;i&&JH(i)&&tv(i);)i=wT(i,e);return i&&mu(i)&&tv(i)&&!pw(i)?n:i||eX(t)||n}const dX=async function(t){const e=this.getOffsetParent||qI,n=this.getDimensions,i=await n(t.floating);return{reference:hX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function fX(t){return vs(t).direction==="rtl"}const pX={convertOffsetParentRelativeRectToViewportRelativeRect:iX,getDocumentElement:Aa,getClippingRect:cX,getOffsetParent:qI,getElementRects:dX,getClientRects:rX,getDimensions:uX,getScale:Kc,isElement:zs,isRTL:fX};function mX(t,e){let n=null,i;const r=Aa(t);function s(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const{left:d,top:f,width:x,height:v}=t.getBoundingClientRect();if(l||e(),!x||!v)return;const y=fp(f),C=fp(r.clientWidth-(d+x)),k=fp(r.clientHeight-(f+v)),P=fp(d),R={rootMargin:-y+"px "+-C+"px "+-k+"px "+-P+"px",threshold:xr(0,Rs(1,u))||1};let L=!0;function D(W){const z=W[0].intersectionRatio;if(z!==u){if(!L)return a();z?a(!1,z):i=setTimeout(()=>{a(!1,1e-7)},1e3)}L=!1}try{n=new IntersectionObserver(D,{...R,root:r.ownerDocument})}catch{n=new IntersectionObserver(D,R)}n.observe(t)}return a(!0),s}function gX(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,d=gw(t),f=r||s?[...d?Ld(d):[],...Ld(e)]:[];f.forEach(S=>{r&&S.addEventListener("scroll",n,{passive:!0}),s&&S.addEventListener("resize",n)});const x=d&&l?mX(d,n):null;let v=-1,y=null;a&&(y=new ResizeObserver(S=>{let[R]=S;R&&R.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var L;(L=y)==null||L.observe(e)})),n()}),d&&!u&&y.observe(d),y.observe(e));let C,k=u?Ll(t):null;u&&P();function P(){const S=Ll(t);k&&(S.x!==k.x||S.y!==k.y||S.width!==k.width||S.height!==k.height)&&n(),k=S,C=requestAnimationFrame(P)}return n(),()=>{var S;f.forEach(R=>{r&&R.removeEventListener("scroll",n),s&&R.removeEventListener("resize",n)}),x==null||x(),(S=y)==null||S.disconnect(),y=null,u&&cancelAnimationFrame(C)}}const xX=ZH,vX=KH,yX=GH,_X=qH,bX=YH,ST=XH,wX=QH,SX=(t,e,n)=>{const i=new Map,r={platform:pX,...n},s={...r.platform,_c:i};return HH(t,e,{...r,platform:s})};var om=typeof document<"u"?F.useLayoutEffect:F.useEffect;function dg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!dg(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&t.$$typeof)&&!dg(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function JI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function MT(t,e){const n=JI(t);return Math.round(e*n)/n}function CT(t){const e=F.useRef(t);return om(()=>{e.current=t}),e}function MX(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[f,x]=F.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,y]=F.useState(i);dg(v,i)||y(i);const[C,k]=F.useState(null),[P,S]=F.useState(null),R=F.useCallback(ge=>{ge!==z.current&&(z.current=ge,k(ge))},[]),L=F.useCallback(ge=>{ge!==j.current&&(j.current=ge,S(ge))},[]),D=s||C,W=a||P,z=F.useRef(null),j=F.useRef(null),Z=F.useRef(f),$=u!=null,H=CT(u),q=CT(r),ce=F.useCallback(()=>{if(!z.current||!j.current)return;const ge={placement:e,strategy:n,middleware:v};q.current&&(ge.platform=q.current),SX(z.current,j.current,ge).then(ie=>{const _e={...ie,isPositioned:!0};le.current&&!dg(Z.current,_e)&&(Z.current=_e,No.flushSync(()=>{x(_e)}))})},[v,e,n,q]);om(()=>{d===!1&&Z.current.isPositioned&&(Z.current.isPositioned=!1,x(ge=>({...ge,isPositioned:!1})))},[d]);const le=F.useRef(!1);om(()=>(le.current=!0,()=>{le.current=!1}),[]),om(()=>{if(D&&(z.current=D),W&&(j.current=W),D&&W){if(H.current)return H.current(D,W,ce);ce()}},[D,W,ce,H,$]);const me=F.useMemo(()=>({reference:z,floating:j,setReference:R,setFloating:L}),[R,L]),we=F.useMemo(()=>({reference:D,floating:W}),[D,W]),Se=F.useMemo(()=>{const ge={position:n,left:0,top:0};if(!we.floating)return ge;const ie=MT(we.floating,f.x),_e=MT(we.floating,f.y);return l?{...ge,transform:"translate("+ie+"px, "+_e+"px)",...JI(we.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ie,top:_e}},[n,l,we.floating,f.x,f.y]);return F.useMemo(()=>({...f,update:ce,refs:me,elements:we,floatingStyles:Se}),[f,ce,me,we,Se])}const CX=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?ST({element:i.current,padding:r}).fn(n):{}:i?ST({element:i,padding:r}).fn(n):{}}}},TX=(t,e)=>({...xX(t),options:[t,e]}),PX=(t,e)=>({...vX(t),options:[t,e]}),EX=(t,e)=>({...wX(t),options:[t,e]}),AX=(t,e)=>({...yX(t),options:[t,e]}),kX=(t,e)=>({..._X(t),options:[t,e]}),RX=(t,e)=>({...bX(t),options:[t,e]}),IX=(t,e)=>({...CX(t),options:[t,e]});var LX="Arrow",eL=F.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return w.jsx(Dt.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});eL.displayName=LX;var DX=eL;function NX(t){const[e,n]=F.useState(void 0);return Ti(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let a,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var xw="Popper",[tL,Vo]=bs(xw),[FX,nL]=tL(xw),iL=t=>{const{__scopePopper:e,children:n}=t,[i,r]=F.useState(null);return w.jsx(FX,{scope:e,anchor:i,onAnchorChange:r,children:n})};iL.displayName=xw;var rL="PopperAnchor",sL=F.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=nL(rL,n),a=F.useRef(null),l=sn(e,a);return F.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||a.current)}),i?null:w.jsx(Dt.div,{...r,ref:l})});sL.displayName=rL;var vw="PopperContent",[OX,BX]=tL(vw),aL=F.forwardRef((t,e)=>{var ue,Pe,Ee,ze,Ze,ne;const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:x="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:C,...k}=t,P=nL(vw,n),[S,R]=F.useState(null),L=sn(e,Oe=>R(Oe)),[D,W]=F.useState(null),z=NX(D),j=(z==null?void 0:z.width)??0,Z=(z==null?void 0:z.height)??0,$=i+(s!=="center"?"-"+s:""),H=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},q=Array.isArray(d)?d:[d],ce=q.length>0,le={padding:H,boundary:q.filter(UX),altBoundary:ce},{refs:me,floatingStyles:we,placement:Se,isPositioned:ge,middlewareData:ie}=MX({strategy:"fixed",placement:$,whileElementsMounted:(...Oe)=>gX(...Oe,{animationFrame:y==="always"}),elements:{reference:P.anchor},middleware:[TX({mainAxis:r+Z,alignmentAxis:a}),u&&PX({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?EX():void 0,...le}),u&&AX({...le}),kX({...le,apply:({elements:Oe,rects:Ne,availableWidth:De,availableHeight:Ve})=>{const{width:$e,height:rt}=Ne.reference,ht=Oe.floating.style;ht.setProperty("--radix-popper-available-width",`${De}px`),ht.setProperty("--radix-popper-available-height",`${Ve}px`),ht.setProperty("--radix-popper-anchor-width",`${$e}px`),ht.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),D&&IX({element:D,padding:l}),zX({arrowWidth:j,arrowHeight:Z}),v&&RX({strategy:"referenceHidden",...le})]}),[_e,Te]=cL(Se),ee=Wn(C);Ti(()=>{ge&&(ee==null||ee())},[ge,ee]);const He=(ue=ie.arrow)==null?void 0:ue.x,Ue=(Pe=ie.arrow)==null?void 0:Pe.y,K=((Ee=ie.arrow)==null?void 0:Ee.centerOffset)!==0,[oe,be]=F.useState();return Ti(()=>{S&&be(window.getComputedStyle(S).zIndex)},[S]),w.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...we,transform:ge?we.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(ze=ie.transformOrigin)==null?void 0:ze.x,(Ze=ie.transformOrigin)==null?void 0:Ze.y].join(" "),...((ne=ie.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx(OX,{scope:n,placedSide:_e,onArrowChange:W,arrowX:He,arrowY:Ue,shouldHideArrow:K,children:w.jsx(Dt.div,{"data-side":_e,"data-align":Te,...k,ref:L,style:{...k.style,animation:ge?void 0:"none"}})})})});aL.displayName=vw;var oL="PopperArrow",VX={top:"bottom",right:"left",bottom:"top",left:"right"},lL=F.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=BX(oL,i),a=VX[s.placedSide];return w.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:w.jsx(DX,{...r,ref:n,style:{...r.style,display:"block"}})})});lL.displayName=oL;function UX(t){return t!==null}var zX=t=>({name:"transformOrigin",options:t,fn(e){var P,S,R;const{placement:n,rects:i,middlewareData:r}=e,a=((P=r.arrow)==null?void 0:P.centerOffset)!==0,l=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[d,f]=cL(n),x={start:"0%",center:"50%",end:"100%"}[f],v=(((S=r.arrow)==null?void 0:S.x)??0)+l/2,y=(((R=r.arrow)==null?void 0:R.y)??0)+u/2;let C="",k="";return d==="bottom"?(C=a?x:`${v}px`,k=`${-u}px`):d==="top"?(C=a?x:`${v}px`,k=`${i.floating.height+u}px`):d==="right"?(C=`${-u}px`,k=a?x:`${y}px`):d==="left"&&(C=`${i.floating.width+u}px`,k=a?x:`${y}px`),{data:{x:C,y:k}}}});function cL(t){const[e,n="center"]=t.split("-");return[e,n]}var xx=iL,ff=sL,vx=aL,yx=lL,yw="Popover",[uL,Sae]=bs(yw,[Vo]),pf=Vo(),[WX,Uo]=uL(yw),hL=t=>{const{__scopePopover:e,children:n,open:i,defaultOpen:r,onOpenChange:s,modal:a=!1}=t,l=pf(e),u=F.useRef(null),[d,f]=F.useState(!1),[x=!1,v]=wo({prop:i,defaultProp:r,onChange:s});return w.jsx(xx,{...l,children:w.jsx(WX,{scope:e,contentId:Ur(),triggerRef:u,open:x,onOpenChange:v,onOpenToggle:F.useCallback(()=>v(y=>!y),[v]),hasCustomAnchor:d,onCustomAnchorAdd:F.useCallback(()=>f(!0),[]),onCustomAnchorRemove:F.useCallback(()=>f(!1),[]),modal:a,children:n})})};hL.displayName=yw;var dL="PopoverAnchor",jX=F.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=Uo(dL,n),s=pf(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=r;return F.useEffect(()=>(a(),()=>l()),[a,l]),w.jsx(ff,{...s,...i,ref:e})});jX.displayName=dL;var fL="PopoverTrigger",pL=F.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=Uo(fL,n),s=pf(n),a=sn(e,r.triggerRef),l=w.jsx(Dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":yL(r.open),...i,ref:a,onClick:it(t.onClick,r.onOpenToggle)});return r.hasCustomAnchor?l:w.jsx(ff,{asChild:!0,...s,children:l})});pL.displayName=fL;var _w="PopoverPortal",[HX,XX]=uL(_w,{forceMount:void 0}),mL=t=>{const{__scopePopover:e,forceMount:n,children:i,container:r}=t,s=Uo(_w,e);return w.jsx(HX,{scope:e,forceMount:n,children:w.jsx(Vi,{present:n||s.open,children:w.jsx(Ru,{asChild:!0,container:r,children:i})})})};mL.displayName=_w;var gu="PopoverContent",gL=F.forwardRef((t,e)=>{const n=XX(gu,t.__scopePopover),{forceMount:i=n.forceMount,...r}=t,s=Uo(gu,t.__scopePopover);return w.jsx(Vi,{present:i||s.open,children:s.modal?w.jsx(GX,{...r,ref:e}):w.jsx(YX,{...r,ref:e})})});gL.displayName=gu;var GX=F.forwardRef((t,e)=>{const n=Uo(gu,t.__scopePopover),i=F.useRef(null),r=sn(e,i),s=F.useRef(!1);return F.useEffect(()=>{const a=i.current;if(a)return Qg(a)},[]),w.jsx(nf,{as:ba,allowPinchZoom:!0,children:w.jsx(xL,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:it(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),s.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:it(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:it(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),YX=F.forwardRef((t,e)=>{const n=Uo(gu,t.__scopePopover),i=F.useRef(!1),r=F.useRef(!1);return w.jsx(xL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(i.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),xL=F.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,...x}=t,v=Uo(gu,n),y=pf(n);return Zg(),w.jsx(tf,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:w.jsx(zl,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>v.onOpenChange(!1),children:w.jsx(vx,{"data-state":yL(v.open),role:"dialog",id:v.contentId,...y,...x,ref:e,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),vL="PopoverClose",$X=F.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=Uo(vL,n);return w.jsx(Dt.button,{type:"button",...i,ref:e,onClick:it(t.onClick,()=>r.onOpenChange(!1))})});$X.displayName=vL;var ZX="PopoverArrow",KX=F.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=pf(n);return w.jsx(yx,{...r,...i,ref:e})});KX.displayName=ZX;function yL(t){return t?"open":"closed"}var QX=hL,qX=pL,JX=mL,_L=gL;const bL=QX,wL=qX,bw=F.forwardRef(({className:t,align:e="center",sideOffset:n=4,...i},r)=>w.jsx(JX,{children:w.jsx(_L,{ref:r,align:e,sideOffset:n,className:Pt("z-50 w-72 rounded-md border border-slate-200 bg-white p-4 text-slate-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...i})}));bw.displayName=_L.displayName;const eG=({id:t,setGroupKey:e})=>{const n=un(OI),{toast:i}=kr(),{data:r,isLoading:s,refetch:a}=kH({id:t,offset:n.offset,limit:n.limit,groupBy:n.groupBy}),[l,u]=F.useState(r||[]);F.useEffect(()=>{},[s]),F.useEffect(()=>{r&&(u(r),i({title:"Data loaded successfully",description:"Table loaded"}))},[r]);const d=(S,R)=>{S.preventDefault(),e(R[n.groupBy])},f=S=>w.jsx("div",{className:"flex justify-center w-full",children:w.jsxs(bL,{children:[w.jsx(wL,{children:w.jsx(Ez,{})}),w.jsx(bw,{className:"w-44 bg-slate-50 dark:bg-slate-900 dark:text-slate-100",children:w.jsx(Rre,{tags:S})})]})}),x=(S,R)=>{const L=S.getValue();return w.jsx("div",{className:"w-full flex justify-center text-center cursor-pointer dark:text-slate-300 dark:bg-transparent",onClick:D=>d(D,S.row.original),children:w.jsx(h7,{children:w.jsx("div",{className:"p-2 align-center justify-items-center text-center items-center cursor-pointer dark:text-slate-300 dark:bg-transparent",children:String(L)},`${S.row.id}-${R}`)})})},v=S=>[{header:"Message",accessorKey:"message",cell:R=>w.jsx("div",{className:"flex justify-center text-center",children:R.getValue()})},{header:"User Affected Count",accessorKey:"userAffectedCount",cell:R=>w.jsx("div",{className:"flex justify-center text-center",children:R.getValue()})},{header:"Error Count",accessorKey:"errorCount",cell:R=>x(R,"errorCount")},{header:"Tags",accessorKey:"aggregatedTags",cell:R=>f(R.getValue())}],y=S=>[{header:"Line",accessorKey:"line",cell:R=>w.jsx("div",{className:"flex justify-center text-center",children:R.getValue()})},{header:"User Affected Count",accessorKey:"userAffectedCount",cell:R=>w.jsx("div",{className:"flex justify-center text-center",children:R.getValue()})},{header:"Error Count",accessorKey:"errorCount",cell:R=>x(R,"errorCount")},{header:"Tags",accessorKey:"aggregatedTags",cell:R=>f(R.getValue())}],C=()=>[{header:"Tag",accessorKey:"tag",cell:S=>f(S.getValue())},{header:"User Affected Count",accessorKey:"userAffectedCount",cell:S=>w.jsx("div",{className:"flex justify-center text-center",children:S.getValue()})},{header:"Error Count",accessorKey:"errorCount",cell:S=>x(S,"errorCount")}],P=DH(l)?v():LH(l)?y():NH(l)?C():[];return w.jsxs(w.Fragment,{children:[w.jsx(Kt,{variant:"accent",content:s?w.jsx(Bs,{className:"animate-ease-in-out-rotation"}):w.jsx(Bs,{className:"text-slate-100 w-5 h-5"}),overrideStyles:"w-8 h-8 p-1 mb-4",onClick:()=>{a()}}),w.jsx(mk,{data:l,columns:P})]})},tG=({error:t})=>t?w.jsxs(Xs,{className:"flex flex-col h-120",children:[w.jsxs(Ea,{children:[w.jsxs(rf,{children:["Error Id: ",t==null?void 0:t.id]}),w.jsxs(Gb,{children:["Error Message: ",t==null?void 0:t.message]})]}),w.jsxs(Oo,{className:"flex-1 overflow-auto",children:[w.jsxs("p",{children:["Error Stack Trace: ",t==null?void 0:t.stackTrace]}),w.jsxs("p",{children:["Error path: ",t==null?void 0:t.path]}),w.jsxs("p",{children:["Error line: ",t==null?void 0:t.line]}),w.jsx("div",{className:"flex flex-row"}),w.jsxs("p",{children:["Error Resolved: ",t==null?void 0:t.resolved]}),w.jsxs("p",{children:["User Affected: ",t==null?void 0:t.userAffected]}),w.jsxs("p",{children:["Error Created: ",t==null?void 0:t.createdAt.toString()]}),w.jsxs("p",{children:["Error Updated: ",t==null?void 0:t.updatedAt.toString()]}),w.jsx(Ore,{tags:t==null?void 0:t.tags})]})]}):w.jsx("div",{children:"No error found."}),nG=t=>{const[e,n]=F.useState([]),[i,r]=F.useState(null),s=F.useCallback(()=>{n([])},[]);return F.useEffect(()=>{if(!t){r("WebSocket URL is not provided");return}const a=new WebSocket(t);return a.onopen=()=>{r(null)},a.onmessage=l=>{const u=JSON.parse(l.data);n(d=>[...d,u])},a.onclose=()=>{r("WebSocket connection closed")},a.onerror=l=>{r("WebSocket connection error"),console.error("WebSocket error:",l)},()=>{a.close()}},[t]),{messages:e,connectionError:i,resetMessages:s}},iG=({id:t})=>{const e=`/api/namespace/${t}/error/ws`,{messages:n,resetMessages:i}=nG(e),[r,s]=F.useState([]),a=F.useRef([]);return F.useEffect(()=>{n.length>0&&(s(l=>{const u=[...l,...n];return a.current=n,u}),i())},[n,i]),w.jsx(j6,{data:r})},rG=({links:t})=>w.jsx(sf,{isOpen:!0,header:"Error",links:t});var SL={exports:{}};(function(t){(function(){function e(U,V){U.prototype=n(V.prototype),U.prototype.constructor=U,U.base=V.prototype}function n(U){function V(){}return V.prototype=U,new V}function i(U,V,J){return J==="millisecond"?U.setMilliseconds(U.getMilliseconds()+1*V):J==="second"?U.setSeconds(U.getSeconds()+1*V):J==="minute"?U.setMinutes(U.getMinutes()+1*V):J==="hour"?U.setHours(U.getHours()+1*V):J==="day"?U.setDate(U.getDate()+1*V):J==="week"?U.setDate(U.getDate()+7*V):J==="month"?U.setMonth(U.getMonth()+1*V):J==="year"&&U.setFullYear(U.getFullYear()+1*V),U}function r(U,V){var J=!1;for(0>U&&(J=!0,U*=-1),U=""+U,V=V||1;U.length<V;)U="0"+U;return J?"-"+U:U}function s(U){if(!U)return U;U=U.replace(/^\s\s*/,"");for(var V=/\s/,J=U.length;V.test(U.charAt(--J)););return U.slice(0,J+1)}function a(U){U.roundRect=function(V,J,he,Me,Ie,ke,ot,Et){ot&&(this.fillStyle=ot),Et&&(this.strokeStyle=Et),typeof Ie>"u"&&(Ie=5),this.lineWidth=ke,this.beginPath(),this.moveTo(V+Ie,J),this.lineTo(V+he-Ie,J),this.quadraticCurveTo(V+he,J,V+he,J+Ie),this.lineTo(V+he,J+Me-Ie),this.quadraticCurveTo(V+he,J+Me,V+he-Ie,J+Me),this.lineTo(V+Ie,J+Me),this.quadraticCurveTo(V,J+Me,V,J+Me-Ie),this.lineTo(V,J+Ie),this.quadraticCurveTo(V,J,V+Ie,J),this.closePath(),ot&&this.fill(),Et&&0<ke&&this.stroke()}}function l(U,V){return U-V}function u(U){var V=((U&16711680)>>16).toString(16),J=((U&65280)>>8).toString(16);return U=((U&255)>>0).toString(16),V=2>V.length?"0"+V:V,J=2>J.length?"0"+J:J,U=2>U.length?"0"+U:U,"#"+V+J+U}function d(U,V){var J=this.length>>>0,he=Number(V)||0,he=0>he?Math.ceil(he):Math.floor(he);for(0>he&&(he+=J);he<J;he++)if(he in this&&this[he]===U)return he;return-1}function f(U){return U===null||typeof U>"u"}function x(U){return U.indexOf||(U.indexOf=d),U}function v(U){Te.fSDec&&U[Tt("`eeDwdouMhrudods")](Tt("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){Te._fTWm&&Te._fTWm(U)})}function y(U,V,J){J=J||"normal";var he=U+"_"+V+"_"+J,Me=ht[he];if(isNaN(Me)){try{if(!fe){var Ie=document.body;fe=document.createElement("span"),fe.innerHTML="";var ke=document.createTextNode("Mpgyi");fe.appendChild(ke),Ie.appendChild(fe)}fe.style.display="",z(fe,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:U,fontSize:V+"px",fontWeight:J}),Me=Math.round(fe.offsetHeight),fe.style.display="none"}catch{Me=Math.ceil(1.1*V)}Me=Math.max(Me,V),ht[he]=Me}return Me}function C(U,V){var J=[];if(J={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[U||"solid"])for(var he=0;he<J.length;he++)J[he]*=V;else J=[];return J}function k(U,V,J,he,Me){return he=he||[],Me=f(Me)?rt?{passive:!1,capture:!1}:!1:Me,he.push([U,V,J,Me]),U.addEventListener?(U.addEventListener(V,J,Me),J):U.attachEvent?(he=function(Ie){Ie=Ie||window.event,Ie.preventDefault=Ie.preventDefault||function(){Ie.returnValue=!1},Ie.stopPropagation=Ie.stopPropagation||function(){Ie.cancelBubble=!0},J.call(U,Ie)},U.attachEvent("on"+V,he),he):!1}function P(U){if(U._menuButton)U.exportEnabled?(z(U._menuButton,{backgroundColor:U.toolbar.itemBackgroundColor,color:U.toolbar.fontColor}),Z(U._menuButton),j(U,U._menuButton,"menu"),0>=navigator.userAgent.search("MSIE")&&U._menuButton.childNodes[0]&&z(U._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"})):$(U._menuButton);else if(U.exportEnabled&&ee){var V=!1;U._menuButton=document.createElement("button"),j(U,U._menuButton,"menu"),U._toolBar.appendChild(U._menuButton),k(U._menuButton,"touchstart",function(Ie){V=!0},U.allDOMEventHandlers),k(U._menuButton,"click",function(){U._dropdownMenu.style.display!=="none"||U._dropDownCloseTime&&500>=new Date().getTime()-U._dropDownCloseTime.getTime()||(U._dropdownMenu.style.display="block",U._menuButton.blur(),U._dropdownMenu.focus())},U.allDOMEventHandlers,!0),k(U._menuButton,"mousemove",function(){V||(z(U._menuButton,{backgroundColor:U.toolbar.itemBackgroundColorOnHover,color:U.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&z(U._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},U.allDOMEventHandlers,!0),k(U._menuButton,"mouseout",function(){V||(z(U._menuButton,{backgroundColor:U.toolbar.itemBackgroundColor,color:U.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&z(U._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},U.allDOMEventHandlers,!0)}if(U.exportEnabled&&U._dropdownMenu){var J=U.theme&&U.theme.indexOf("dark")!==-1?"black":"#888888";z(U._dropdownMenu,{backgroundColor:U.toolbar.itemBackgroundColor,color:U.toolbar.fontColor,boxShadow:"2px 2px 10px "+J});for(var J=U._dropdownMenu.childNodes,he=[U._cultureInfo.printText,U._cultureInfo.saveJPGText,U._cultureInfo.savePNGText],Me=0;Me<he.length;Me++)z(J[Me],{backgroundColor:U.toolbar.itemBackgroundColor,color:U.toolbar.fontColor}),J[Me].innerHTML=he[Me]}else!U._dropdownMenu&&U.exportEnabled&&ee&&(V=!1,U._dropdownMenu=document.createElement("div"),U._dropdownMenu.setAttribute("tabindex",-1),J=U.theme&&U.theme.indexOf("dark")!==-1?"black":"#888888",z(U._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:U.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px "+J}),U._dropdownMenu.style.display="none",U._toolBar.appendChild(U._dropdownMenu),k(U._dropdownMenu,"blur",function(){$(U._dropdownMenu),U._dropDownCloseTime=new Date},U.allDOMEventHandlers,!0),J=document.createElement("div"),z(J,{padding:"12px 8px 12px 8px"}),J.innerHTML=U._cultureInfo.printText,J.style.backgroundColor=U.toolbar.itemBackgroundColor,J.style.color=U.toolbar.fontColor,U._dropdownMenu.appendChild(J),k(J,"touchstart",function(Ie){V=!0},U.allDOMEventHandlers),k(J,"mousemove",function(){V||(this.style.backgroundColor=U.toolbar.itemBackgroundColorOnHover,this.style.color=U.toolbar.fontColorOnHover)},U.allDOMEventHandlers,!0),k(J,"mouseout",function(){V||(this.style.backgroundColor=U.toolbar.itemBackgroundColor,this.style.color=U.toolbar.fontColor)},U.allDOMEventHandlers,!0),k(J,"click",function(){U.print(),$(U._dropdownMenu)},U.allDOMEventHandlers,!0),J=document.createElement("div"),z(J,{padding:"12px 8px 12px 8px"}),J.innerHTML=U._cultureInfo.saveJPGText,J.style.backgroundColor=U.toolbar.itemBackgroundColor,J.style.color=U.toolbar.fontColor,U._dropdownMenu.appendChild(J),k(J,"touchstart",function(Ie){V=!0},U.allDOMEventHandlers),k(J,"mousemove",function(){V||(this.style.backgroundColor=U.toolbar.itemBackgroundColorOnHover,this.style.color=U.toolbar.fontColorOnHover)},U.allDOMEventHandlers,!0),k(J,"mouseout",function(){V||(this.style.backgroundColor=U.toolbar.itemBackgroundColor,this.style.color=U.toolbar.fontColor)},U.allDOMEventHandlers,!0),k(J,"click",function(){U.exportChart({format:"jpeg",fileName:U.exportFileName}),$(U._dropdownMenu)},U.allDOMEventHandlers,!0),J=document.createElement("div"),z(J,{padding:"12px 8px 12px 8px"}),J.innerHTML=U._cultureInfo.savePNGText,J.style.backgroundColor=U.toolbar.itemBackgroundColor,J.style.color=U.toolbar.fontColor,U._dropdownMenu.appendChild(J),k(J,"touchstart",function(Ie){V=!0},U.allDOMEventHandlers),k(J,"mousemove",function(){V||(this.style.backgroundColor=U.toolbar.itemBackgroundColorOnHover,this.style.color=U.toolbar.fontColorOnHover)},U.allDOMEventHandlers,!0),k(J,"mouseout",function(){V||(this.style.backgroundColor=U.toolbar.itemBackgroundColor,this.style.color=U.toolbar.fontColor)},U.allDOMEventHandlers,!0),k(J,"click",function(){U.exportChart({format:"png",fileName:U.exportFileName}),$(U._dropdownMenu)},U.allDOMEventHandlers,!0))}function S(U,V,J){for(U*=nt,V*=nt,U=J.getImageData(U,V,2,2).data,V=!0,J=0;4>J;J++)if(U[J]!==U[J+4]|U[J]!==U[J+8]|U[J]!==U[J+12]){V=!1;break}return V?U[0]<<16|U[1]<<8|U[2]:0}function R(U,V,J){return U in V?V[U]:J[U]}function L(U,V,J,he){ee&&bt?(he=!f(he)&&he?U.getContext("2d",{willReadFrequently:!0}):U.getContext("2d"),Je=he.webkitBackingStorePixelRatio||he.mozBackingStorePixelRatio||he.msBackingStorePixelRatio||he.oBackingStorePixelRatio||he.backingStorePixelRatio||1,nt=jt/Je,U.width=V*nt,U.height=J*nt,jt!==Je&&(U.style.width=V+"px",U.style.height=J+"px",he.scale(nt,nt))):(U.width=V,U.height=J)}function D(U){if(!St){var V=!1,J=!1;typeof He.Chart.creditHref>"u"?(U.creditHref=Tt("iuuqr;..b`ow`rkr/bnl."),U.creditText=Tt("B`ow`rKR/bnl")):(V=U.updateOption("creditText"),J=U.updateOption("creditHref")),U.creditHref&&U.creditText&&(U._creditLink||(U._creditLink=document.createElement("a"),U._creditLink.setAttribute("class","canvasjs-chart-credit"),U._creditLink.setAttribute("title","JavaScript Charts"),z(U._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:U.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),U._creditLink.setAttribute("tabIndex",-1),U._creditLink.setAttribute("target","_blank")),(U.renderCount===0||V||J)&&(U._creditLink.setAttribute("href",U.creditHref),U._creditLink.innerHTML=U.creditText),U._creditLink&&U.creditHref&&U.creditText?(U._creditLink.parentElement||U._canvasJSContainer.appendChild(U._creditLink),U._creditLink.style.top=U.height-14+"px"):U._creditLink.parentElement&&U._canvasJSContainer.removeChild(U._creditLink))}}function W(U,V,J){var he=document.createElement("canvas");return he.setAttribute("class","canvasjs-chart-canvas"),L(he,U,V,J),ee||typeof G_vmlCanvasManager>"u"||G_vmlCanvasManager.initElement(he),he}function z(U,V){for(var J in V)U.style[J]=V[J]}function j(U,V,J){V.getAttribute("state")||(V.style.backgroundColor=U.toolbar.itemBackgroundColor,V.style.color=U.toolbar.fontColor,V.style.border="none",z(V,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),V.getAttribute("state")!==J&&(V.setAttribute("state",J),V.setAttribute("type","button"),z(V,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),V.innerHTML="<img src='"+Ht[J].image+"' alt='"+U._cultureInfo[J+"Text"]+"' />",z(V.childNodes[0],{height:"95%",pointerEvents:"none"})),V.setAttribute("title",U._cultureInfo[J+"Text"])}function Z(){for(var U=null,V=0;V<arguments.length;V++)U=arguments[V],U.style&&(U.style.display="inline")}function $(){for(var U=null,V=0;V<arguments.length;V++)(U=arguments[V])&&U.style&&(U.style.display="none")}function H(U,V,J,he,Me){return U===null||typeof U>"u"?typeof J>"u"?V:J:(U=parseFloat(U.toString())*(0<=U.toString().indexOf("%")?V/100:1),typeof he<"u"&&(U=Math.min(he,U),typeof Me<"u"&&(U=Math.max(Me,U))),!isNaN(U)&&U<=V&&0<=U?U:typeof J>"u"?V:J)}function q(U,V,J,he,Me){this._defaultsKey=U,this._themeOptionsKey=V,this._index=he,this.parent=Me,this._eventListeners=[],U={},this.theme&&f(this.parent)&&f(V)&&f(he)?U=f(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[V]&&(he===null?U=this.parent.themeOptions[V]:0<this.parent.themeOptions[V].length&&(he=Math.min(this.parent.themeOptions[V].length-1,he),U=this.parent.themeOptions[V][he])),this.themeOptions=U,this.options=J||{_isPlaceholder:!0},this.setOptions(this.options,U)}function ce(U,V,J,he,Me){typeof Me>"u"&&(Me=0),this._padding=Me,this._x1=U,this._y1=V,this._x2=J,this._y2=he,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function le(U,V){le.base.constructor.call(this,"TextBlock",null,V,null,null),this.ctx=U,this._isDirty=!0,this._wrappedText=null,this._initialize()}function me(U,V){me.base.constructor.call(this,"Toolbar","toolbar",V,null,U),this.chart=U,this.canvas=U.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function we(U,V){if(we.base.constructor.call(this,"Title","title",V,null,U),this.chart=U,this.canvas=U.canvas,this.ctx=this.chart.ctx,this.optionsName="title",f(this.options.margin)&&U.options.subtitles){for(var J=U.options.subtitles,he=0;he<J.length;he++)if((f(J[he].horizontalAlign)&&this.horizontalAlign==="center"||J[he].horizontalAlign===this.horizontalAlign)&&(f(J[he].verticalAlign)&&this.verticalAlign==="top"||J[he].verticalAlign===this.verticalAlign)&&!J[he].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}}typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Se(U,V,J){Se.base.constructor.call(this,"Subtitle","subtitles",V,J,U),this.chart=U,this.canvas=U.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function ge(){this.pool=[]}function ie(U){var V;U&&Ue[U]&&(V=Ue[U]),ie.base.constructor.call(this,"CultureInfo",null,V,null,null)}var _e=!1,Te={},ee=!!document.createElement("canvas").getContext,He={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:ee?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:ee?"transparent":null,borderColor:ee?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:ee?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:ee?"transparent":null,titleBorderColor:ee?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:ee?"transparent":null,labelBorderColor:ee?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:ee?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:ee?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:ee?"grey":null,labelBorderColor:ee?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:ee?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,explodeOnClick:!0,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:!1,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:ee?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:ee?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},Ue={en:{}},K=ee?"Trebuchet MS, Helvetica, sans-serif":"Arial",oe=ee?"Impact, Charcoal, sans-serif":"Arial",be={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},ue,Pe,Ee,ze,Ze;Pe="#333333",Ee="#000000",ue="#666666",Ze=ze="#000000";var Ne=20,De=14,ne={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:oe,fontSize:32,fontColor:Pe,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:oe,fontSize:De,fontColor:Pe,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:K,indexLabelFontSize:De,indexLabelFontColor:Pe,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:Pe,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:Ee,labelFontWeight:"normal",lineThickness:1,lineColor:ue,tickThickness:1,tickColor:ue,gridThickness:0,gridColor:ue,stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Ze,color:ze,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:Pe,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:Ee,labelFontWeight:"normal",lineThickness:1,lineColor:ue,tickThickness:1,tickColor:ue,gridThickness:0,gridColor:ue,stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Ze,color:ze,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:Pe,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:Ee,labelFontWeight:"normal",lineThickness:1,lineColor:ue,tickThickness:1,tickColor:ue,gridThickness:1,gridColor:ue,stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Ze,color:ze,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:Pe,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:Ee,labelFontWeight:"normal",lineThickness:1,lineColor:ue,tickThickness:1,tickColor:ue,gridThickness:1,gridColor:ue,stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Ze,color:ze,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:K,fontSize:14,fontColor:Pe,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:K,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};Ee=Pe="#F5F5F5",ue="#FFFFFF",ze="#40BAF1",Ze="#F5F5F5";var Ne=20,De=14,Oe={colorSet:"colorSet2",title:{fontFamily:K,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:K,fontSize:De,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:K,indexLabelFontSize:De,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:K,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:K,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};Ee=Pe="#F5F5F5",ue="#FFFFFF",ze="#40BAF1",Ze="#F5F5F5",Ne=20,De=14,oe={colorSet:"colorSet1",backgroundColor:"#2A2A2A",title:{fontFamily:oe,fontSize:32,fontColor:Pe,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:oe,fontSize:De,fontColor:Pe,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:K,indexLabelFontSize:De,indexLabelFontColor:Ee,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:Ee,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:Ee,labelFontWeight:"normal",lineThickness:1,lineColor:ue,tickThickness:1,tickColor:ue,gridThickness:0,gridColor:ue,stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ze,color:ze,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:Ee,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:Ee,labelFontWeight:"normal",lineThickness:1,lineColor:ue,tickThickness:1,tickColor:ue,gridThickness:0,gridColor:ue,stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ze,color:ze,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:Ee,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:Ee,labelFontWeight:"normal",lineThickness:1,lineColor:ue,tickThickness:1,tickColor:ue,gridThickness:1,gridColor:ue,stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ze,color:ze,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:Ee,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:Ee,labelFontWeight:"normal",lineThickness:1,lineColor:ue,tickThickness:1,tickColor:ue,gridThickness:1,gridColor:ue,stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ze,color:ze,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:K,fontSize:14,fontColor:Pe,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:K,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:Ee,backgroundColor:"rgba(0, 0, 0, .7)"}},ue="#FFFFFF",Ee=Pe="#FAFAFA",ze="#40BAF1",Ze="#F5F5F5";var Ne=20,De=14,Ve={light1:ne,light2:Oe,dark1:oe,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:K,fontSize:32,fontColor:Pe,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:K,fontSize:De,fontColor:Pe,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:K,indexLabelFontSize:De,indexLabelFontColor:Ee,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:Ee,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:Ee,labelFontWeight:"normal",lineThickness:1,lineColor:ue,tickThickness:1,tickColor:ue,gridThickness:0,gridColor:ue,stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ze,color:ze,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:Ee,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:Ee,labelFontWeight:"normal",lineThickness:1,lineColor:ue,tickThickness:1,tickColor:ue,gridThickness:0,gridColor:ue,stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ze,color:ze,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:Ee,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:Ee,labelFontWeight:"normal",lineThickness:0,lineColor:ue,tickThickness:1,tickColor:ue,gridThickness:1,gridColor:ue,stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ze,color:ze,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:K,titleFontSize:Ne,titleFontColor:Ee,titleFontWeight:"normal",labelFontFamily:K,labelFontSize:De,labelFontColor:Ee,labelFontWeight:"normal",lineThickness:0,lineColor:ue,tickThickness:1,tickColor:ue,gridThickness:1,gridColor:ue,stripLines:[{labelFontFamily:K,labelFontSize:De,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:K,labelFontSize:De,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ze,color:ze,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:K,fontSize:14,fontColor:Pe,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:K,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:Ee,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:ne,theme2:Oe,theme3:ne},$e={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};(function(){Te.fSDec=function(U){for(var V="",J=0;J<U.length;J++)V+=String.fromCharCode(Math.ceil(U.length/57/5)^U.charCodeAt(J));return V},delete He[Te.fSDec("Bi`su")][Te.fSDec("bsdehuIsdg")],Te.pro={sCH:He[Te.fSDec("Bi`su")][Te.fSDec("bsdehuIsdg")]}})();var rt=function(){var U=!1;try{var V=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return U=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,V),window.removeEventListener("test",null,V))}catch{U=!1}return U}(),ht={},fe=null,te=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},Fe=function(U){U.width=1,U.height=1,U.getContext("2d")&&U.getContext("2d").clearRect(0,0,1,1)},Qe=function(U,V,J){return V=Math.min(this.width,this.height),Math.max(this.theme==="theme4"?0:300<=V?12:11,Math.round(V*(U/400)))},Ye=function(){var U=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,V="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),J="Sun Mon Tue Wed Thu Fri Sat".split(" "),he="January February March April May June July August September October November December".split(" "),Me="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ie=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,ke=/[^-+\dA-Z]/g;return function(ot,Et,yt){var Wt=yt?yt.days:V,on=yt?yt.months:he,yn=yt?yt.shortDays:J,bn=yt?yt.shortMonths:Me;yt="";var Bn=!1;if(ot=ot&&ot.getTime?ot:ot?new Date(ot):new Date,isNaN(ot))throw SyntaxError("invalid date");Et.slice(0,4)==="UTC:"&&(Et=Et.slice(4),Bn=!0),yt=Bn?"getUTC":"get";var Kn=ot[yt+"Date"](),xt=ot[yt+"Day"](),hn=ot[yt+"Month"](),o=ot[yt+"FullYear"](),g=ot[yt+"Hours"](),h=ot[yt+"Minutes"](),c=ot[yt+"Seconds"](),p=ot[yt+"Milliseconds"](),_=Bn?0:ot.getTimezoneOffset();return yt=Et.replace(U,function(E){switch(E){case"D":return Kn;case"DD":return r(Kn,2);case"DDD":return yn[xt];case"DDDD":return Wt[xt];case"M":return hn+1;case"MM":return r(hn+1,2);case"MMM":return bn[hn];case"MMMM":return on[hn];case"Y":return parseInt(String(o).slice(-2));case"YY":return r(String(o).slice(-2),2);case"YYY":return r(String(o).slice(-3),3);case"YYYY":return r(o,4);case"h":return g%12||12;case"hh":return r(g%12||12,2);case"H":return g;case"HH":return r(g,2);case"m":return h;case"mm":return r(h,2);case"s":return c;case"ss":return r(c,2);case"f":return r(String(p),3).slice(0,1);case"ff":return r(String(p),3).slice(0,2);case"fff":return r(String(p),3).slice(0,3);case"t":return 12>g?"a":"p";case"tt":return 12>g?"am":"pm";case"T":return 12>g?"A":"P";case"TT":return 12>g?"AM":"PM";case"K":return Bn?"UTC":(String(ot).match(Ie)||[""]).pop().replace(ke,"");case"z":return(0<_?"-":"+")+Math.floor(Math.abs(_)/60);case"zz":return(0<_?"-":"+")+r(Math.floor(Math.abs(_)/60),2);case"zzz":return(0<_?"-":"+")+r(Math.floor(Math.abs(_)/60),2)+r(Math.abs(_)%60,2);default:return E.slice(1,E.length-1)}})}}(),Ke=function(U){var V=0>U;if(1>Math.abs(U)){var J=parseInt(U.toString().split("e-")[1]);J&&(U=(V?-1*U:U)*Math.pow(10,J-1),U="0."+Array(J).join("0")+U.toString().substring(2),U=V?"-"+U:U)}else J=parseInt(U.toString().split("+")[1]),20<J&&(J-=20,U/=Math.pow(10,J),U=U.toString()+Array(J+1).join("0"));return String(U)},ct=function(U,V,J){if(U===null)return"";if(!isFinite(U))return U;U=Number(U);var he=0>U;he&&(U*=-1);var Me=J?J.decimalSeparator:".",Ie=J?J.digitGroupSeparator:",",ke="";V=String(V);var ke=1,Kn=J="",ot=-1,Et=[],yt=[],Wt=0,on=0,yn=0,bn=!1,Bn=0,Kn=V.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);V=null;for(var xt=0;Kn&&xt<Kn.length;xt++)if(V=Kn[xt],V==="."&&0>ot)ot=xt;else{if(V==="%")ke*=100;else if(V===""){ke*=1e3;continue}else if(V[0]===","&&V[V.length-1]==="."){ke/=Math.pow(1e3,V.length-1),ot=xt+V.length-1;continue}else V[0]!=="E"&&V[0]!=="e"||V[V.length-1]!=="0"||(bn=!0);0>ot?(Et.push(V),V==="#"||V==="0"?Wt++:V===","&&yn++):(yt.push(V),V!=="#"&&V!=="0"||on++)}for(bn&&(V=Math.floor(U),Kn=-Math.floor(Math.log(U)/Math.LN10+1),Bn=U===0?0:V===0?-(Wt+Kn):Ke(V).length-Wt,ke/=Math.pow(10,Bn)),0>ot&&(ot=xt),ke=(U*ke).toFixed(on),V=ke.split("."),ke=(V[0]+"").split(""),U=(V[1]+"").split(""),ke&&ke[0]==="0"&&ke.shift(),bn=Kn=xt=on=ot=0;0<Et.length;)if(V=Et.pop(),V==="#"||V==="0")if(ot++,ot===Wt){var hn=ke,ke=[];if(V==="0")for(V=Wt-on-(hn?hn.length:0);0<V;)hn.unshift("0"),V--;for(;0<hn.length;)J=hn.pop()+J,bn++,bn%Kn===0&&xt===yn&&0<hn.length&&(J=Ie+J)}else 0<ke.length?(J=ke.pop()+J,on++,bn++):V==="0"&&(J="0"+J,on++,bn++),bn%Kn===0&&xt===yn&&0<ke.length&&(J=Ie+J);else V[0]!=="E"&&V[0]!=="e"||V[V.length-1]!=="0"||!/[eE][+-]*[0]+/.test(V)?V===","?(xt++,Kn=bn,bn=0,0<ke.length&&(J=Ie+J)):J=1<V.length&&(V[0]==='"'&&V[V.length-1]==='"'||V[0]==="'"&&V[V.length-1]==="'")?V.slice(1,V.length-1)+J:V+J:(V=0>Bn?V.replace("+","").replace("-",""):V.replace("-",""),J+=V.replace(/[0]+/,function(o){return r(Bn,o.length)}));for(Ie="",Et=!1;0<yt.length;)V=yt.shift(),V==="#"||V==="0"?0<U.length&&Number(U.join(""))!==0?(Ie+=U.shift(),Et=!0):V==="0"&&(Ie+="0",Et=!0):1<V.length&&(V[0]==='"'&&V[V.length-1]==='"'||V[0]==="'"&&V[V.length-1]==="'")?Ie+=V.slice(1,V.length-1):V[0]!=="E"&&V[0]!=="e"||V[V.length-1]!=="0"||!/[eE][+-]*[0]+/.test(V)?Ie+=V:(V=0>Bn?V.replace("+","").replace("-",""):V.replace("-",""),Ie+=V.replace(/[0]+/,function(o){return r(Bn,o.length)}));return J+=(Et?Me:"")+Ie,he?"-"+J:J},at=function(U){var V=0,J=0;return U=U||window.event,U.offsetX||U.offsetX===0?(V=U.offsetX,J=U.offsetY):U.layerX||U.layerX==0?(V=U.layerX,J=U.layerY):(V=U.pageX-U.target.offsetLeft,J=U.pageY-U.target.offsetTop),{x:V,y:J}},bt=!0,jt=window.devicePixelRatio||1,Je=1,nt=jt/Je,Ct=function(U,V,J,he,Me,Ie,ke,ot,Et,yt,Wt,on,yn){typeof yn>"u"&&(yn=1),ke=ke||0,ot=ot||"black";var bn=15<he-V&&15<Me-J?8:.35*Math.min(he-V,Me-J);U.beginPath(),U.moveTo(V,J),U.save(),U.fillStyle=Ie,U.globalAlpha=yn,U.fillRect(V,J,he-V,Me-J),U.globalAlpha=1,0<ke&&(yn=ke%2===0?0:.5,U.beginPath(),U.lineWidth=ke,U.strokeStyle=ot,U.moveTo(V,J),U.rect(V-yn,J-yn,he-V+2*yn,Me-J+2*yn),U.stroke()),U.restore(),Et===!0&&(U.save(),U.beginPath(),U.moveTo(V,J),U.lineTo(V+bn,J+bn),U.lineTo(he-bn,J+bn),U.lineTo(he,J),U.closePath(),ke=U.createLinearGradient((he+V)/2,J+bn,(he+V)/2,J),ke.addColorStop(0,Ie),ke.addColorStop(1,"rgba(255, 255, 255, .4)"),U.fillStyle=ke,U.fill(),U.restore()),yt===!0&&(U.save(),U.beginPath(),U.moveTo(V,Me),U.lineTo(V+bn,Me-bn),U.lineTo(he-bn,Me-bn),U.lineTo(he,Me),U.closePath(),ke=U.createLinearGradient((he+V)/2,Me-bn,(he+V)/2,Me),ke.addColorStop(0,Ie),ke.addColorStop(1,"rgba(255, 255, 255, .4)"),U.fillStyle=ke,U.fill(),U.restore())},Tt=function(U){for(var V="",J=0;J<U.length;J++)V+=String.fromCharCode(Math.ceil(U.length/57/5)^U.charCodeAt(J));return V},St=window&&window[Tt("mnb`uhno")]&&window[Tt("mnb`uhno")].href&&window[Tt("mnb`uhno")].href.indexOf&&(window[Tt("mnb`uhno")].href.indexOf(Tt("b`ow`rkr/bnl"))!==-1||window[Tt("mnb`uhno")].href.indexOf(Tt("gdonqhy/bnl"))!==-1||window[Tt("mnb`uhno")].href.indexOf(Tt("gheemd"))!==-1)&&window[Tt("mnb`uhno")].href.indexOf(Tt("gheemd"))===-1,Ht={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};q.prototype.setOptions=function(U,V){if(He[this._defaultsKey]){var J=He[this._defaultsKey],he;for(he in J)he!=="publicProperties"&&J.hasOwnProperty(he)&&(this[he]=U&&he in U?U[he]:V&&he in V?V[he]:J[he])}},q.prototype.get=function(U){var V=He[this._defaultsKey];if(U==="options")return this.options&&this.options._isPlaceholder?null:this.options;if(V.hasOwnProperty(U)||V.publicProperties&&V.publicProperties.hasOwnProperty(U))return this[U];window.console&&window.console.log('Property "'+U+`" doesn't exist. Please check for typo.`)},q.prototype.set=function(U,V,J){J=typeof J>"u"?!0:J;var he=He[this._defaultsKey];if(U==="options")this.createUserOptions(V);else if(he.hasOwnProperty(U)||he.publicProperties&&he.publicProperties.hasOwnProperty(U)&&he.publicProperties[U]==="readWrite")this.options._isPlaceholder&&this.createUserOptions(),this.options[U]=V;else{window.console&&(he.publicProperties&&he.publicProperties.hasOwnProperty(U)&&he.publicProperties[U]==="readOnly"?window.console.log('Property "'+U+'" is read-only.'):window.console.log('Property "'+U+`" doesn't exist. Please check for typo.`));return}J&&(this.stockChart||this.chart||this).render()},q.prototype.addTo=function(U,V,J,he){he=typeof he>"u"?!0:he;var Me=He[this._defaultsKey];Me.hasOwnProperty(U)||Me.publicProperties&&Me.publicProperties.hasOwnProperty(U)&&Me.publicProperties[U]==="readWrite"?(this.options._isPlaceholder&&this.createUserOptions(),typeof this.options[U]>"u"&&(this.options[U]=[]),U=this.options[U],J=typeof J>"u"||J===null?U.length:J,U.splice(J,0,V),he&&(this.stockChart||this.chart||this).render()):window.console&&(Me.publicProperties&&Me.publicProperties.hasOwnProperty(U)&&Me.publicProperties[U]==="readOnly"?window.console.log('Property "'+U+'" is read-only.'):window.console.log('Property "'+U+`" doesn't exist. Please check for typo.`))},q.prototype.createUserOptions=function(U){if(typeof U<"u"||this.options._isPlaceholder)if(this.parent&&this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var V=this.parent.options[this.optionsName],J=V.length;this.options._isPlaceholder||(x(V),J=V.indexOf(this.options)),this.options=typeof U>"u"?{}:U,V[J]=this.options}else this.options=typeof U>"u"?{}:U,this.parent&&(U=this.parent.options,this.optionsName?V=this.optionsName:(V=this._defaultsKey)&&V.length!==0?(J=V.charAt(0).toLowerCase(),1<V.length&&(J=J.concat(V.slice(1))),V=J):V=void 0,U[V]=this.options)},q.prototype.remove=function(U){if(U=typeof U>"u"?!0:U,this.isOptionsInArray){var V=this.parent.options[this.optionsName];x(V);var J=V.indexOf(this.options);0<=J&&V.splice(J,1)}else delete this.parent.options[this.optionsName];U&&(this.stockChart||this.chart||this).render()},q.prototype.updateOption=function(U){!He[this._defaultsKey]&&_e&&console.log("defaults not set");var V=He[this._defaultsKey],J={},he=this[U],Me=this._themeOptionsKey,Ie=this._index;return this.theme&&f(this.parent)&&f(Me)&&f(Ie)?J=f(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&(this.options.theme&&Ve[this.options.theme]?J=Ve[this.options.theme]:this.parent.themeOptions[Me]&&(Ie===null?J=this.parent.themeOptions[Me]:0<this.parent.themeOptions[Me].length&&(J=Math.min(this.parent.themeOptions[Me].length-1,Ie),J=this.parent.themeOptions[Me][J]))),this.themeOptions=J,U in V&&(he=U in this.options?this.options[U]:J&&U in J?J[U]:V[U]),he===this[U]?!1:(this[U]=he,!0)},q.prototype.trackChanges=function(U){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[U]=this.options[U]},q.prototype.isBeingTracked=function(U){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[U]},q.prototype.hasOptionChanged=function(U){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[U]!==this.options[U]},q.prototype.addEventListener=function(U,V,J){U&&V&&(this._eventListeners[U]=this._eventListeners[U]||[],this._eventListeners[U].push({context:J||this,eventHandler:V}))},q.prototype.removeEventListener=function(U,V){if(U&&V&&this._eventListeners[U]){for(var J=this._eventListeners[U],he=0;he<J.length;he++)if(J[he].eventHandler===V){J[he].splice(he,1);break}}},q.prototype.removeAllEventListeners=function(){this._eventListeners=[]},q.prototype.dispatchEvent=function(U,V,J){if(U&&this._eventListeners[U]){V=V||{};for(var he=this._eventListeners[U],Me=0;Me<he.length;Me++)he[Me].eventHandler.call(he[Me].context,V)}typeof this[U]=="function"&&this[U].call(J||this.chart,V)},ce.prototype.registerSpace=function(U,V){U==="top"?this._topOccupied+=V.height:U==="bottom"?this._bottomOccupied+=V.height:U==="left"?this._leftOccupied+=V.width:U==="right"&&(this._rightOccupied+=V.width)},ce.prototype.unRegisterSpace=function(U,V){U==="top"?this._topOccupied-=V.height:U==="bottom"?this._bottomOccupied-=V.height:U==="left"?this._leftOccupied-=V.width:U==="right"&&(this._rightOccupied-=V.width)},ce.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},ce.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},e(le,q),le.prototype._initialize=function(){f(this.padding)||typeof this.padding!="object"?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=Number(this.padding)|0:(this.topPadding=f(this.padding.top)?0:Number(this.padding.top)|0,this.rightPadding=f(this.padding.right)?0:Number(this.padding.right)|0,this.bottomPadding=f(this.padding.bottom)?0:Number(this.padding.bottom)|0,this.leftPadding=f(this.padding.left)?0:Number(this.padding.left)|0)},le.prototype.render=function(U){if(this.fontSize!==0){U&&this.ctx.save();var V=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var J=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+J),this.textBaseline==="middle"&&(J=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var he=0,Me=this.topPadding,Ie=null;for(this.ctx.roundRect||a(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,J,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,J=0;J<this._wrappedText.lines.length;J++)Ie=this._wrappedText.lines[J],this.horizontalAlign==="right"||this.textAlign==="right"?he=this.width-Ie.width-this.rightPadding:this.horizontalAlign==="left"||this.textAlign==="left"?he=this.leftPadding:(this.horizontalAlign==="center"||this.textAlign==="center")&&(he=(this.width-(this.leftPadding+this.rightPadding))/2-Ie.width/2+this.leftPadding),this.ctx.fillText(Ie.text,he,Me),Me+=Ie.height;this.ctx.font=V,U&&this.ctx.restore()}},le.prototype.setText=function(U){this.text=U,this._isDirty=!0,this._wrappedText=null},le.prototype.measureText=function(){if(this._lineHeight=y(this.fontFamily,this.fontSize,this.fontWeight),this.maxWidth===null)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},le.prototype._getLineWithWidth=function(U,V,J){if(U=String(U),!U)return{text:"",width:0};var he=J=0,Me=U.length-1,Ie=1/0;for(this.ctx.font=this._getFontString();he<=Me;){var Ie=Math.floor((he+Me)/2),ke=U.substr(0,Ie+1);if(J=this.ctx.measureText(ke).width,J<V)he=Ie+1;else if(J>V)Me=Ie-1;else break}return J>V&&1<ke.length&&(ke=ke.substr(0,ke.length-1),J=this.ctx.measureText(ke).width),V=!0,(ke.length===U.length||U[ke.length]===" ")&&(V=!1),V&&(U=ke.split(" "),1<U.length&&U.pop(),ke=U.join(" "),J=this.ctx.measureText(ke).width),{text:ke,width:J}},le.prototype._wrapText=function(){var U=new String(s(String(this.text))),V=[],J=this.ctx.font,he=0,Me=0;if(this.ctx.font=this._getFontString(),this.frontSize===0)Me=he=0;else for(;0<U.length;){var Ie=this.maxHeight-(this.topPadding+this.bottomPadding),ke=this._getLineWithWidth(U,this.maxWidth-(this.leftPadding+this.rightPadding),!1);ke.height=this._lineHeight,V.push(ke);var ot=Me,Me=Math.max(Me,ke.width),he=he+ke.height,U=s(U.slice(ke.text.length,U.length));Ie&&he>Ie&&(ke=V.pop(),he-=ke.height,Me=ot)}this._wrappedText={lines:V,width:Me,height:he},this.width=Me+(this.leftPadding+this.rightPadding),this.height=he+(this.topPadding+this.bottomPadding),this.ctx.font=J},le.prototype._getFontString=function(){var U;U=this.fontStyle?this.fontStyle+" ":"",U+=this.fontWeight?this.fontWeight+" ":"",U+=this.fontSize?this.fontSize+"px ":"";var V=this.fontFamily?this.fontFamily+"":"";return!ee&&V&&(V=V.split(",")[0],V[0]!=="'"&&V[0]!=='"'&&(V="'"+V+"'")),U+=V},e(me,q),e(we,q),we.prototype.setLayout=function(){if(this.text){var U=this.dockInsidePlotArea?this.chart.plotArea:this.chart,V=U.layoutManager.getFreeSpace(),J=V.x1,he=V.y1,Me=0,Ie=0,ke=this.chart._menuButton&&this.chart.exportEnabled&&this.verticalAlign==="top"?40:0,ot,Et;this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.maxWidth===null&&(this.maxWidth=V.width-4-ke*(this.horizontalAlign==="center"?2:1)),Ie=.5*V.height-this.margin-2,Me=0):this.verticalAlign==="center"&&(this.horizontalAlign==="left"||this.horizontalAlign==="right"?(this.maxWidth===null&&(this.maxWidth=V.height-4),Ie=.5*V.width-this.margin-2):this.horizontalAlign==="center"&&(this.maxWidth===null&&(this.maxWidth=V.width-4),Ie=.5*V.height-4));var yt;f(this.padding)||typeof this.padding!="number"?f(this.padding)||typeof this.padding!="object"||(yt=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,yt+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):yt=2*this.padding,this.wrap||(Ie=Math.min(Ie,1.5*this.fontSize+yt)),Ie=new le(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,textAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:Ie,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"middle"}),yt=Ie.measureText(),this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.verticalAlign==="top"?(he=V.y1+2+this.fontSize/2+4,Et="top"):this.verticalAlign==="bottom"&&(he=V.y2-2-yt.height+this.fontSize/2+4,Et="bottom"),this.horizontalAlign==="left"?J=V.x1+2:this.horizontalAlign==="center"?J=V.x1+V.width/2-yt.width/2:this.horizontalAlign==="right"&&(J=V.x2-2-yt.width-ke),ot=this.horizontalAlign,this.width=yt.width,this.height=yt.height):this.verticalAlign==="center"&&(this.horizontalAlign==="left"?(J=V.x1+2+(this.fontSize/2+4),he=V.y2-2-(this.maxWidth/2-yt.width/2),Me=-90,Et="left",this.width=yt.height,this.height=yt.width):this.horizontalAlign==="right"?(J=V.x2-2-(this.fontSize/2+4),he=V.y1+2+(this.maxWidth/2-yt.width/2),Me=90,Et="right",this.width=yt.height,this.height=yt.width):this.horizontalAlign==="center"&&(he=U.y1+(U.height/2-yt.height/2)+this.fontSize/2+4,J=U.x1+(U.width/2-yt.width/2),Et="center",this.width=yt.width,this.height=yt.height),ot="center"),Ie.x=J,Ie.y=he,Ie.angle=Me,Ie.horizontalAlign=ot,this._textBlock=Ie,U.layoutManager.registerSpace(Et,{width:this.width+(Et==="left"||Et==="right"?this.margin+2:0),height:this.height+(Et==="top"||Et==="bottom"?this.margin+2:0)}),this.bounds={x1:J,y1:he,x2:J+this.width,y2:he+this.height},this.ctx.textBaseline="top"}},we.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},e(Se,q),Se.prototype.setLayout=we.prototype.setLayout,Se.prototype.render=we.prototype.render,ge.prototype.get=function(U,V){var J=null;return 0<this.pool.length?(J=this.pool.pop(),L(J,U,V)):J=W(U,V),J},ge.prototype.release=function(U){this.pool.push(U)},e(ie,q);var Jt={addTheme:function(U,V){Ve[U]=V},addColorSet:function(U,V){be[U]=V},addCultureInfo:function(U,V){Ue[U]=V},formatNumber:function(U,V,J){if(J=J||"en",Ue[J])return ct(U,V||"#,##0.##",new ie(J));throw"Unknown Culture Name"},formatDate:function(U,V,J){if(J=J||"en",Ue[J])return Ye(U,V||"DD MMM YYYY",new ie(J));throw"Unknown Culture Name"}};t.exports=Jt,K=Jt.Chart=function(){function U(o,g){return o.x-g.x}function V(o,g,h){g=g||{},f(h)?(this.predefinedThemes=Ve,this.optionsName=this.parent=this.index=null):(this.parent=h.parent,this.index=h.index,this.predefinedThemes=h.predefinedThemes,this.optionsName=h.optionsName,this.stockChart=h.stockChart,this.panel=o,this.isOptionsInArray=h.isOptionsInArray),this.theme=f(g.theme)||f(this.predefinedThemes[g.theme])?"light1":g.theme,V.base.constructor.call(this,"Chart",this.optionsName,g,this.index,this.parent);var c=this;this._containerId=o,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new ge,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container=typeof this._containerId=="string"?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",g=o=0,o=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,g=h&&h.height?h.height:this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=o,this.height=g,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=typeof be[this.colorSet]<"u"?be[this.colorSet]:be.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",ee||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=W(o,g),this._preRenderCanvas=W(o,g),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",a(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",a(this._preRenderCtx),ee?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=W(o,g),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=W(o,g),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",a(this.overlaidCanvasCtx)),this._eventManager=new yn(this),this.windowResizeHandler=k(window,"resize",function(){c._updateSize()&&c.render()},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),z(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},k(this.overlaidCanvas,"click",function(p){c._mouseEventHandler(p)},this.allDOMEventHandlers),k(this.overlaidCanvas,"mousemove",function(p){c._mouseEventHandler(p)},this.allDOMEventHandlers),k(this.overlaidCanvas,"mouseup",function(p){c._mouseEventHandler(p)},this.allDOMEventHandlers),k(this.overlaidCanvas,"mousedown",function(p){c._mouseEventHandler(p),$(c._dropdownMenu)},this.allDOMEventHandlers),k(this.overlaidCanvas,"mouseout",function(p){c._mouseEventHandler(p)},this.allDOMEventHandlers),k(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(p){c._touchEventHandler(p)},this.allDOMEventHandlers),k(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(p){c._touchEventHandler(p)},this.allDOMEventHandlers),k(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(p){c._touchEventHandler(p)},this.allDOMEventHandlers),k(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(p){c._touchEventHandler(p)},this.allDOMEventHandlers),this.toolTip=new on(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function J(o,g){for(var h=[],c,p=0;p<o.length;p++)if(p==0)h.push(o[0]);else{var _,E,N;N=p-1,_=N===0?0:N-1,E=N===o.length-1?N:N+1,c=Math.abs((o[E].x-o[_].x)/(o[E].x-o[N].x===0?.01:o[E].x-o[N].x))*(g-1)/2+1;var I=(o[E].x-o[_].x)/c;c=(o[E].y-o[_].y)/c,h[h.length]=o[N].x>o[_].x&&0<I||o[N].x<o[_].x&&0>I?{x:o[N].x+I/3,y:o[N].y+c/3}:{x:o[N].x,y:o[N].y+(h.length===1?0:c/9)},N=p,_=N===0?0:N-1,E=N===o.length-1?N:N+1,c=Math.abs((o[E].x-o[_].x)/(o[N].x-o[_].x===0?.01:o[N].x-o[_].x))*(g-1)/2+1,I=(o[E].x-o[_].x)/c,c=(o[E].y-o[_].y)/c,h[h.length]=o[N].x>o[_].x&&0<I||o[N].x<o[_].x&&0>I?{x:o[N].x-I/3,y:o[N].y-c/3}:{x:o[N].x,y:o[N].y-c/9},h[h.length]=o[p]}return h}function he(o,g,h,c,p,_,E,N,I,M){var b=0;M?(E.color=_,N.color=_):M=1,b=Math.abs(I?p-h:c-g),b=0<E.trimLength?Math.abs(b*E.trimLength/100):Math.abs(b-E.length),I?(h+=b/2,p-=b/2):(g+=b/2,c-=b/2);var b=Math.round(E.thickness)%2===1?.5:0,T=Math.round(N.thickness)%2===1?.5:0;o.save(),o.globalAlpha=M,o.strokeStyle=N.color||_,o.lineWidth=N.thickness||2,o.setLineDash&&o.setLineDash(C(N.dashType,N.thickness)),o.beginPath(),I&&0<N.thickness?(o.moveTo(c-E.thickness/2,Math.round((h+p)/2)-T),o.lineTo(g+E.thickness/2,Math.round((h+p)/2)-T)):0<N.thickness&&(o.moveTo(Math.round((g+c)/2)-T,h+E.thickness/2),o.lineTo(Math.round((g+c)/2)-T,p-E.thickness/2)),o.stroke(),o.strokeStyle=E.color||_,o.lineWidth=E.thickness||2,o.setLineDash&&o.setLineDash(C(E.dashType,E.thickness)),o.beginPath(),I&&0<E.thickness?(o.moveTo(c-b,h),o.lineTo(c-b,p),o.moveTo(g+b,h),o.lineTo(g+b,p)):0<E.thickness&&(o.moveTo(g,h+b),o.lineTo(c,h+b),o.moveTo(g,p-b),o.lineTo(c,p-b)),o.stroke(),o.restore()}function Me(o,g){Me.base.constructor.call(this,"Legend","legend",g,null,o),this.chart=o,this.canvas=o.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=y(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function Ie(o,g,h,c){for(Ie.base.constructor.call(this,"DataSeries","data",g,h,o),this.chart=o,this.canvas=o.canvas,this._ctx=o.canvas.ctx,this.index=h,this.noDataPointsInPlotArea=0,this.id=c,this.chart._eventManager.objectMap[c]={id:c,objectType:"dataSeries",dataSeriesIndex:h},o=g.dataPoints?g.dataPoints.length:0,this.dataPointEOs=[],g=0;g<o;g++)this.dataPointEOs[g]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,this.fillOpacity===null&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),typeof this.options.indexLabelFontSize>"u"&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function ke(o,g,h,c,p,_){if(ke.base.constructor.call(this,"Axis",g,h,c,o),this.chart=o,this.canvas=o.canvas,this.ctx=o.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,p==="axisX"?(_==="left"||_==="bottom"?(this.optionsName="axisX",f(this.chart.sessionVariables.axisX[c])&&(this.chart.sessionVariables.axisX[c]={}),this.sessionVariables=this.chart.sessionVariables.axisX[c]):(this.optionsName="axisX2",f(this.chart.sessionVariables.axisX2[c])&&(this.chart.sessionVariables.axisX2[c]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[c]),this.options.interval||(this.intervalType=null)):_==="left"||_==="bottom"?(this.optionsName="axisY",f(this.chart.sessionVariables.axisY[c])&&(this.chart.sessionVariables.axisY[c]={}),this.sessionVariables=this.chart.sessionVariables.axisY[c]):(this.optionsName="axisY2",f(this.chart.sessionVariables.axisY2[c])&&(this.chart.sessionVariables.axisY2[c]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[c]),typeof this.options.titleFontSize>"u"&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),typeof this.options.labelFontSize>"u"&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=p,p!=="axisX"||h&&typeof h.gridThickness<"u"||(this.gridThickness=0),this._position=_,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new ot(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(o=0;o<this.options.stripLines.length;o++)this.stripLines.push(new yt(this.chart,this.options.stripLines[o],o,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new Wt(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&this.viewportMinimum===null&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||this.sessionVariables.newViewportMinimum===null?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&this.viewportMaximum===null&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||this.sessionVariables.newViewportMaximum===null?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.minimum!==null&&this.viewportMinimum!==null&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),this.maximum!==null&&this.viewportMaximum!==null&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function ot(o,g,h,c){if(ot.base.constructor.call(this,"ScaleBreaks","scaleBreaks",g,null,c),this.id=h,this.chart=o,this.ctx=this.chart.ctx,this.axis=c,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],typeof this.spacing=="string"?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):typeof this.spacing!="number"&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(o=0;o<this.options.customBreaks.length;o++)this.customBreaks.push(new Et(this.chart,"customBreaks",this.options.customBreaks[o],o,++this.chart._eventManager.lastObjectId,this)),typeof this.customBreaks[o].startValue=="number"&&typeof this.customBreaks[o].endValue=="number"&&this.customBreaks[o].endValue!==this.customBreaks[o].startValue&&this._appliedBreaks.push(this.customBreaks[o]);for(this._appliedBreaks.sort(function(p,_){return p.startValue-_.startValue}),o=0;o<this._appliedBreaks.length-1;o++)this._appliedBreaks[o].endValue>=this._appliedBreaks[o+1].startValue&&(this._appliedBreaks[o].endValue=Math.max(this._appliedBreaks[o].endValue,this._appliedBreaks[o+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+o+" and "+(o+1)+" are overlapping."),this._appliedBreaks.splice(o,2),o--)}}function Et(o,g,h,c,p,_){Et.base.constructor.call(this,"Break",g,h,c,_),this.id=p,this.chart=o,this.ctx=this.chart.ctx,this.scaleBreaks=_,this.optionsName=g,this.isOptionsInArray=!0,this.type=h.type?this.type:_.type,this.fillOpacity=f(h.fillOpacity)?_.fillOpacity:this.fillOpacity,this.lineThickness=f(h.lineThickness)?_.lineThickness:this.lineThickness,this.color=h.color?this.color:_.color,this.lineColor=h.lineColor?this.lineColor:_.lineColor,this.lineDashType=h.lineDashType?this.lineDashType:_.lineDashType,!f(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!f(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),typeof this.startValue=="number"&&typeof this.endValue=="number"&&this.endValue<this.startValue&&(o=this.startValue,this.startValue=this.endValue,this.endValue=o),this.spacing=typeof h.spacing>"u"?_.spacing:h.spacing,typeof this.options.spacing=="string"?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):typeof this.options.spacing!="number"&&(this.spacing=_.spacing),this.size=_.parent.logarithmic?1:0}function yt(o,g,h,c,p){yt.base.constructor.call(this,"StripLine","stripLines",g,h,p),this.id=c,this.chart=o,this.ctx=this.chart.ctx,this.label=this.label,this.axis=p,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",this.startValue!==null&&this.endValue!==null&&(this.value=p.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function Wt(o,g,h){Wt.base.constructor.call(this,"Crosshair","crosshair",g,null,h),this.chart=o,this.ctx=this.chart.ctx,this.axis=h,this.optionsName="crosshair",this._thicknessType="pixel"}function on(o,g){on.base.constructor.call(this,"ToolTip","toolTip",g,null,o),this.chart=o,this.canvas=o.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function yn(o){this.chart=o,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=W(this.chart.width,this.chart.height,!0),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function bn(o){this.chart=o,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}e(V,q),V.prototype.destroy=function(){var o=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var g=0;g<o.length;g++){var h=o[g][0],c=o[g][1],p=o[g][2],_=o[g][3],_=_||!1;h.removeEventListener?h.removeEventListener(c,p,_):h.detachEvent&&h.detachEvent("on"+c,p)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&Fe(this.canvas),this.overlaidCanvas&&Fe(this.overlaidCanvas),this._preRenderCanvas&&Fe(this._preRenderCanvas),this._breaksCanvas&&Fe(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&Fe(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},V.prototype._updateOptions=function(){var o=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.theme<"u"&&f(this.options.theme)&&(this.theme=this.stockChart.theme),this.updateOption("colorSet")&&(this.selectedColorSet=typeof be[this.colorSet]<"u"?be[this.colorSet]:be.colorSet1),this.updateOption("backgroundColor"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.backgroundColor<"u"&&f(this.options.backgroundColor)&&(this.backgroundColor=this.stockChart.backgroundColor),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this.stockChart&&f(this.options.culture)&&(this.culture=this.stockChart.culture),this._cultureInfo=new ie(this.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&ee,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new me(this,this.options.toolbar),this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)z(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:o.toolbar.itemBackgroundColor,color:o.toolbar.fontColor}),j(this,this._zoomButton,"zoom"),0>=navigator.userAgent.search("MSIE")&&this._zoomButton.childNodes[0]&&z(this._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"});else{var g=!1;$(this._zoomButton=document.createElement("button")),j(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,k(this._zoomButton,"touchstart",function(c){g=!0},this.allDOMEventHandlers),k(this._zoomButton,"click",function(){o.zoomEnabled?(o.zoomEnabled=!1,o.panEnabled=!0,j(o,o._zoomButton,"zoom")):(o.zoomEnabled=!0,o.panEnabled=!1,j(o,o._zoomButton,"pan")),o.render()},this.allDOMEventHandlers),k(this._zoomButton,"mousemove",function(){g?g=!1:(z(o._zoomButton,{backgroundColor:o.toolbar.itemBackgroundColorOnHover,color:o.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&z(o._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),k(this._zoomButton,"mouseout",function(){g||(z(o._zoomButton,{backgroundColor:o.toolbar.itemBackgroundColor,color:o.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&z(o._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(z(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:o.toolbar.itemBackgroundColor,color:o.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&this._resetButton.childNodes[0]&&z(this._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),this._resetButton.title=this._cultureInfo.resetText):(g=!1,$(this._resetButton=document.createElement("button")),j(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),k(this._resetButton,"touchstart",function(c){g=!0},this.allDOMEventHandlers),k(this._resetButton,"click",function(){if(o.toolTip.hide(),o.toolTip&&o.toolTip.enabled&&o.toolTip.dispatchEvent("hidden",{chart:o,toolTip:o.toolTip},o.toolTip),o.zoomEnabled||o.panEnabled?(o.zoomEnabled=!0,o.panEnabled=!1,j(o,o._zoomButton,"pan"),o._defaultCursor="default",o.overlaidCanvas.style.cursor=o._defaultCursor):(o.zoomEnabled=!1,o.panEnabled=!1),o.sessionVariables.axisX)for(var c=0;c<o.sessionVariables.axisX.length;c++)o.sessionVariables.axisX[c].newViewportMinimum=null,o.sessionVariables.axisX[c].newViewportMaximum=null;if(o.sessionVariables.axisX2)for(c=0;c<o.sessionVariables.axisX2.length;c++)o.sessionVariables.axisX2[c].newViewportMinimum=null,o.sessionVariables.axisX2[c].newViewportMaximum=null;if(o.sessionVariables.axisY)for(c=0;c<o.sessionVariables.axisY.length;c++)o.sessionVariables.axisY[c].newViewportMinimum=null,o.sessionVariables.axisY[c].newViewportMaximum=null;if(o.sessionVariables.axisY2)for(c=0;c<o.sessionVariables.axisY2.length;c++)o.sessionVariables.axisY2[c].newViewportMinimum=null,o.sessionVariables.axisY2[c].newViewportMaximum=null;o.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&z(o._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),$(o._zoomButton,o._resetButton),o.stockChart&&(o.stockChart._rangeEventParameter={stockChart:o.stockChart,source:"chart",index:o.stockChart.charts.indexOf(o),minimum:null,maximum:null}),o._dispatchRangeEvent("rangeChanging","reset"),o.stockChart&&(o.stockChart._rangeEventParameter.type="rangeChanging",o.stockChart.dispatchEvent("rangeChanging",o.stockChart._rangeEventParameter,o.stockChart)),o.render(),o.syncCharts&&o.stockChart&&(o.stockChart.rangeUpdatedBy=!o.stockChart.navigator.slider||f(o.stockChart.navigator.slider.options.minimum)&&f(o.stockChart.navigator.slider.options.maximum)?!o.stockChart.rangeSelector.enabled||!o.stockChart.rangeSelector.inputFields.enabled||f(o.stockChart.rangeSelector.inputFields.options.startValue)&&f(o.stockChart.rangeSelector.inputFields.options.endValue)?null:"inputFields":"navigator",f(o.stockChart._selectedRangeButtonIndex)||(o.stockChart.rangeUpdatedBy="rangeButton"),o.syncCharts(null,null),o.stockChart.rangeUpdatedBy==="rangeButton"&&o.stockChart.rangeSelector.selectedRangeButtonIndex<o.stockChart.rangeSelector.buttons.length&&(c=o.stockChart.rangeSelector.buttons[o.stockChart.rangeSelector.selectedRangeButtonIndex],c.state="on",c.textBlock.fontWeight="bold",c.textBlock.fontColor=o.stockChart.rangeSelector.buttonStyle.labelFontColorOnHover,c.textBlock.backgroundColor=o.stockChart.rangeSelector.buttonStyle.backgroundColorOnSelect,c.render())),o._dispatchRangeEvent("rangeChanged","reset"),o.stockChart&&(o.stockChart._rangeEventParameter.type="rangeChanged",o.stockChart.dispatchEvent("rangeChanged",o.stockChart._rangeEventParameter,o.stockChart))},this.allDOMEventHandlers),k(this._resetButton,"mousemove",function(){g||(z(o._resetButton,{backgroundColor:o.toolbar.itemBackgroundColorOnHover,color:o.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&z(o._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),k(this._resetButton,"mouseout",function(){g||(z(o._resetButton,{backgroundColor:o.toolbar.itemBackgroundColor,color:o.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&z(o._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=o._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(o._zoomButton.getAttribute("state")===o._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),Z(o._zoomButton,o._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;P(this),this._toolBar.style.display!=="none"&&this._zoomButton&&(this.panEnabled?j(o,o._zoomButton,"zoom"):j(o,o._zoomButton,"pan"),o._resetButton.getAttribute("state")!==o._cultureInfo.resetText&&j(o,o._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip);for(var h in this.toolTip.options)this.toolTip.options.hasOwnProperty(h)&&this.toolTip.updateOption(h)},V.prototype._updateSize=function(){var o;o=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var g=0,h=0;if(this.options.width?g=this.width:this.width=g=0<this.container.clientWidth?this.container.clientWidth:this.width,f(this.stockChart)||f(this.index)?this.options.height?h=this.height:this.height=h=0<this.container.clientHeight?this.container.clientHeight:this.height:h=this.height=this.stockChart._chartsHeight[this.index],this.canvas.width!==g*nt||this.canvas.height!==h*nt){for(var c=0;c<o.length;c++)L(o[c],g,h);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},o=!0}else o=!1;return o},V.prototype._initialize=function(){this.isNavigator=!(f(this.parent)||f(this.parent._defaultsKey)||this.parent._defaultsKey!=="Navigator"),this._animator?this._animator.cancelAllAnimations():this._animator=new bn(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=ee&&this.animationEnabled&&this.renderCount===0,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new ce(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var o=0,g=null;if(this.options.data){for(var h=0;h<this.options.data.length;h++)if(o++,!this.options.data[h].type||0<=V._supportedChartTypes.indexOf(this.options.data[h].type)){var c=new Ie(this,this.options.data[h],o-1,++this._eventManager.lastObjectId);if(!f(c)&&c.dataPoints){for(var p=0;p<c.dataPoints.length;p++)if(c.dataPoints[p].x&&c.dataPoints[p].x.getTime){c.xValueType="dateTime";break}}c.type==="error"&&(c.linkedDataSeriesIndex=f(this.options.data[h].linkedDataSeriesIndex)?h-1:this.options.data[h].linkedDataSeriesIndex,0>c.linkedDataSeriesIndex||c.linkedDataSeriesIndex>=this.options.data.length||typeof c.linkedDataSeriesIndex!="number"||this.options.data[c.linkedDataSeriesIndex].type==="error")&&(c.linkedDataSeriesIndex=null),c.name===null&&(c.name="DataSeries "+o),c.color===null?1<this.options.data.length?(c._colorSet=[this.selectedColorSet[c.index%this.selectedColorSet.length]],c.color=this.selectedColorSet[c.index%this.selectedColorSet.length]):c._colorSet=c.type==="line"||c.type==="stepLine"||c.type==="spline"||c.type==="area"||c.type==="stepArea"||c.type==="splineArea"||c.type==="stackedArea"||c.type==="stackedArea100"||c.type==="rangeArea"||c.type==="rangeSplineArea"||c.type==="candlestick"||c.type==="ohlc"||c.type==="waterfall"||c.type==="boxAndWhisker"?[this.selectedColorSet[0]]:this.selectedColorSet:c._colorSet=[c.color],c.markerSize===null&&((c.type==="line"||c.type==="stepLine"||c.type==="spline"||0<=c.type.toLowerCase().indexOf("area"))&&c.dataPoints&&c.dataPoints.length<this.width/16||c.type==="scatter")&&(c.markerSize=8),c.type!=="bubble"&&c.type!=="scatter"||!c.dataPoints||(c.dataPoints.some?c.dataPoints.some(function(N){return N.x})&&c.dataPoints.sort(U):c.dataPoints.sort(U)),this.data.push(c);var p=c.axisPlacement,g=g||p,_;if(p==="normal"?this.plotInfo.axisPlacement==="xySwapped"?_='You cannot combine "'+c.type+'" with bar chart':this.plotInfo.axisPlacement==="none"?_='You cannot combine "'+c.type+'" with pie chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="normal"):p==="xySwapped"?this.plotInfo.axisPlacement==="normal"?_='You cannot combine "'+c.type+'" with line, area, column or pie chart':this.plotInfo.axisPlacement==="none"?_='You cannot combine "'+c.type+'" with pie chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="xySwapped"):p==="none"?this.plotInfo.axisPlacement==="normal"?_='You cannot combine "'+c.type+'" with line, area, column or bar chart':this.plotInfo.axisPlacement==="xySwapped"?_='You cannot combine "'+c.type+'" with bar chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="none"):p===null&&this.plotInfo.axisPlacement==="none"&&(_='You cannot combine "'+c.type+'" with pie chart'),_&&window.console){window.console.log(_);return}}for(h=0;h<this.data.length;h++){if(g=="none"&&this.data[h].type==="error"&&window.console){window.console.log('You cannot combine "'+c.type+'" with error chart');return}this.data[h].type==="error"&&(this.data[h].axisPlacement=this.plotInfo.axisPlacement=g||"normal",this.data[h]._linkedSeries=this.data[h].linkedDataSeriesIndex===null?null:this.data[this.data[h].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},V._supportedChartTypes=x("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),V.prototype.setLayout=function(){for(var o=this._plotAreaElements,g=0;g<this.data.length;g++)if(this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped"){if(!this.data[g].axisYType||this.data[g].axisYType==="primary")if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var h=0;h<this.options.axisY.length;h++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY[h]=new ke(this,"axisY",this.options.axisY[h],h,"axisY","left")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY[h]=new ke(this,"axisY",this.options.axisY[h],h,"axisY","bottom"));this.data[g].axisY=this.axisY[0<=this.data[g].axisYIndex&&this.data[g].axisYIndex<this.axisY.length?this.data[g].axisYIndex:0],this.axisY[0<=this.data[g].axisYIndex&&this.data[g].axisYIndex<this.axisY.length?this.data[g].axisYIndex:0].dataSeries.push(this.data[g])}else this.axisY.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY[0]=new ke(this,"axisY",this.options.axisY,0,"axisY","left")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY[0]=new ke(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[g].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[g]);if(this.data[g].axisYType==="secondary")if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(h=0;h<this.options.axisY2.length;h++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY2[h]=new ke(this,"axisY2",this.options.axisY2[h],h,"axisY","right")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY2[h]=new ke(this,"axisY2",this.options.axisY2[h],h,"axisY","top"));this.data[g].axisY=this.axisY2[0<=this.data[g].axisYIndex&&this.data[g].axisYIndex<this.axisY2.length?this.data[g].axisYIndex:0],this.axisY2[0<=this.data[g].axisYIndex&&this.data[g].axisYIndex<this.axisY2.length?this.data[g].axisYIndex:0].dataSeries.push(this.data[g])}else this.axisY2.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY2[0]=new ke(this,"axisY2",this.options.axisY2,0,"axisY","right")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY2[0]=new ke(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[g].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[g]);if(!this.data[g].axisXType||this.data[g].axisXType==="primary")if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(h=0;h<this.options.axisX.length;h++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX[h]=new ke(this,"axisX",this.options.axisX[h],h,"axisX","bottom")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX[h]=new ke(this,"axisX",this.options.axisX[h],h,"axisX","left"));this.data[g].axisX=this.axisX[0<=this.data[g].axisXIndex&&this.data[g].axisXIndex<this.axisX.length?this.data[g].axisXIndex:0],this.axisX[0<=this.data[g].axisXIndex&&this.data[g].axisXIndex<this.axisX.length?this.data[g].axisXIndex:0].dataSeries.push(this.data[g])}else this.axisX.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX[0]=new ke(this,"axisX",this.options.axisX,0,"axisX","bottom")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX[0]=new ke(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[g].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[g]);if(this.data[g].axisXType==="secondary")if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(h=0;h<this.options.axisX2.length;h++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX2[h]=new ke(this,"axisX2",this.options.axisX2[h],h,"axisX","top")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX2[h]=new ke(this,"axisX2",this.options.axisX2[h],h,"axisX","right"));this.data[g].axisX=this.axisX2[0<=this.data[g].axisXIndex&&this.data[g].axisXIndex<this.axisX2.length?this.data[g].axisXIndex:0],this.axisX2[0<=this.data[g].axisXIndex&&this.data[g].axisXIndex<this.axisX2.length?this.data[g].axisXIndex:0].dataSeries.push(this.data[g])}else this.axisX2.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX2[0]=new ke(this,"axisX2",this.options.axisX2,0,"axisX","top")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX2[0]=new ke(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[g].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[g])}if(this.axisY){for(h=1;h<this.axisY.length;h++)typeof this.axisY[h].options.gridThickness>"u"&&(this.axisY[h].gridThickness=0);for(h=0;h<this.axisY.length-1;h++)typeof this.axisY[h].options.margin>"u"&&(this.axisY[h].margin=10)}if(this.axisY2){for(h=1;h<this.axisY2.length;h++)typeof this.axisY2[h].options.gridThickness>"u"&&(this.axisY2[h].gridThickness=0);for(h=0;h<this.axisY2.length-1;h++)typeof this.axisY2[h].options.margin>"u"&&(this.axisY2[h].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&typeof this.axisY2[0].options.gridThickness>"u"?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&typeof this.axisY[0].options.gridThickness>"u"&&(this.axisY[0].gridThickness=0)),this.axisX)for(h=0;h<this.axisX.length;h++)typeof this.axisX[h].options.gridThickness>"u"&&(this.axisX[h].gridThickness=0);if(this.axisX2)for(h=0;h<this.axisX2.length;h++)typeof this.axisX2[h].options.gridThickness>"u"&&(this.axisX2[h].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&typeof this.axisX2[0].options.gridThickness>"u"?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&typeof this.axisX[0].options.gridThickness>"u"&&(this.axisX[0].gridThickness=0)),h=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled)){for(g=0;g<this._axes.length;g++)if(!f(this._axes[g].viewportMinimum)||!f(this._axes[g].viewportMaximum)){h=!0;break}}if(h?(Z(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):($(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),v(this),this._processData(),this.options.title&&(this.title=new we(this,this.options.title),this.title.dockInsidePlotArea?o.push(this.title):this.title.setLayout()),this.options.subtitles)for(g=0;g<this.options.subtitles.length;g++)h=new Se(this,this.options.subtitles[g],g),this.subtitles.push(h),h.dockInsidePlotArea?o.push(h):h.setLayout();for(this.legend=new Me(this,this.options.legend),g=0;g<this.data.length;g++)(this.data[g].showInLegend||this.data[g].type==="pie"||this.data[g].type==="doughnut"||this.data[g].type==="funnel"||this.data[g].type==="pyramid")&&this.legend.dataSeries.push(this.data[g]);for(this.legend.dockInsidePlotArea?o.push(this.legend):this.legend.setLayout(),g=0;g<this._axes.length;g++)if(this._axes[g].scaleBreaks&&this._axes[g].scaleBreaks._appliedBreaks.length){ee?(this._breaksCanvas=W(this.width,this.height,!0),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=W(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this.plotInfo.axisPlacement!=="normal"&&this.plotInfo.axisPlacement!=="xySwapped"||ke.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},V.prototype.renderElements=function(){if(this.height){var c=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var o=0;o<this.subtitles.length;o++)this.subtitles[o].dockInsidePlotArea||this.subtitles[o].render();if(this.legend.dockInsidePlotArea||this.legend.render(),this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped")ke.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else if(this.plotInfo.axisPlacement==="none")this.preparePlotArea();else return;for(o=0;o<c.length;o++)c[o].setLayout(),c[o].render();var g=[];if(this.animatedRender){var h=W(this.width,this.height);h.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}D(this);var c=this.ctx.miterLimit,p;for(this.ctx.miterLimit=3,ee&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),o=0;o<this.plotInfo.plotTypes.length;o++)for(var _=this.plotInfo.plotTypes[o],E=0;E<_.plotUnits.length;E++){var N=_.plotUnits[E],I=null;N.targetCanvas&&Fe(N.targetCanvas),N.targetCanvas=null,this.animatedRender&&(N.targetCanvas=W(this.width,this.height),N.targetCanvasCtx=N.targetCanvas.getContext("2d"),p=N.targetCanvasCtx.miterLimit,N.targetCanvasCtx.miterLimit=3),N.type==="line"?I=this.renderLine(N):N.type==="stepLine"?I=this.renderStepLine(N):N.type==="spline"?I=this.renderSpline(N):N.type==="column"?I=this.renderColumn(N):N.type==="bar"?I=this.renderBar(N):N.type==="area"?I=this.renderArea(N):N.type==="stepArea"?I=this.renderStepArea(N):N.type==="splineArea"?I=this.renderSplineArea(N):N.type==="stackedColumn"?I=this.renderStackedColumn(N):N.type==="stackedColumn100"?I=this.renderStackedColumn100(N):N.type==="stackedBar"?I=this.renderStackedBar(N):N.type==="stackedBar100"?I=this.renderStackedBar100(N):N.type==="stackedArea"?I=this.renderStackedArea(N):N.type==="stackedArea100"?I=this.renderStackedArea100(N):N.type==="bubble"?I=I=this.renderBubble(N):N.type==="scatter"?I=this.renderScatter(N):N.type==="pie"?this.renderPie(N):N.type==="doughnut"?this.renderPie(N):N.type==="funnel"?I=this.renderFunnel(N):N.type==="pyramid"?I=this.renderFunnel(N):N.type==="candlestick"?I=this.renderCandlestick(N):N.type==="ohlc"?I=this.renderCandlestick(N):N.type==="rangeColumn"?I=this.renderRangeColumn(N):N.type==="error"?I=this.renderError(N):N.type==="rangeBar"?I=this.renderRangeBar(N):N.type==="rangeArea"?I=this.renderRangeArea(N):N.type==="rangeSplineArea"?I=this.renderRangeSplineArea(N):N.type==="waterfall"?I=this.renderWaterfall(N):N.type==="boxAndWhisker"&&(I=this.renderBoxAndWhisker(N));for(var M=0;M<N.dataSeriesIndexes.length;M++)this._dataInRenderedOrder.push(this.data[N.dataSeriesIndexes[M]]);this.animatedRender&&(N.targetCanvasCtx.miterLimit=p,I&&g.push(I))}this.ctx.miterLimit=c,this.animatedRender&&this._breaksCanvasCtx&&g.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:xt.fadeInAnimation,easingFunction:xt.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(p=W(this.width,this.height).getContext("2d"),a(p),g.push(this.renderIndexLabels(p)));var b=this;if(0<g.length)b.disableToolTip=!0,b._animator.animate(200,b.animationDuration,function(T){b.ctx.clearRect(0,0,b.width,b.height),b.ctx.drawImage(h,0,0,Math.floor(b.width*nt),Math.floor(b.height*nt),0,0,b.width,b.height);for(var A=0;A<g.length;A++)I=g[A],1>T&&typeof I.startTimePercent<"u"?T>=I.startTimePercent&&I.animationCallback(I.easingFunction(T-I.startTimePercent,0,1,1-I.startTimePercent),I):I.animationCallback(I.easingFunction(T,0,1,1),I);b.dispatchEvent("dataAnimationIterationEnd",{chart:b})},function(){g=[];for(var T=0;T<b.plotInfo.plotTypes.length;T++)for(var A=b.plotInfo.plotTypes[T],m=0;m<A.plotUnits.length;m++){var B=A.plotUnits[m];B.targetCanvas&&Fe(B.targetCanvas),B.targetCanvas=null}h=null,b.disableToolTip=!1,b.dispatchEvent("dataAnimationEnd",{chart:b})});else{if(b._breaksCanvas)if(ee)b.plotArea.ctx.drawImage(b._breaksCanvas,0,0,this.width,this.height);else for(M=0;M<b._axes.length;M++)b._axes[M].createMask();0<b._indexLabels.length&&b.renderIndexLabels(),b.dispatchEvent("dataAnimationIterationEnd",{chart:b}),b.dispatchEvent("dataAnimationEnd",{chart:b})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||this._zoomButton.style.display==="none"||$(this._zoomButton,this._resetButton),f(this.toolTip._xValue)||f(this.toolTip._dataSeriesIndex)||this.toolTip.showAtX(this.toolTip._xValue,this.toolTip._dataSeriesIndex),this.toolTip._updateToolTip(),this.renderCount++,this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),M=0;M<this._axes.length;M++)this._axes[M].maskCanvas&&(delete this._axes[M].maskCanvas,delete this._axes[M].maskCtx)}},V.prototype.render=function(o){o&&(this.options=o),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&Fe(this._preRenderCanvas)},V.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},V.prototype.categoriseDataSeries=function(){for(var o="",g=0;g<this.data.length;g++)if(o=this.data[g],o.dataPoints&&o.dataPoints.length!==0&&o.visible&&0<=V._supportedChartTypes.indexOf(o.type)){for(var h=null,c=!1,p=null,_=!1,E=0;E<this.plotInfo.plotTypes.length;E++)if(this.plotInfo.plotTypes[E].type===o.type){c=!0,h=this.plotInfo.plotTypes[E];break}for(c||(h={type:o.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(h)),E=0;E<h.plotUnits.length;E++)if(h.plotUnits[E].axisYType===o.axisYType&&h.plotUnits[E].axisXType===o.axisXType&&h.plotUnits[E].axisYIndex===o.axisYIndex&&h.plotUnits[E].axisXIndex===o.axisXIndex){_=!0,p=h.plotUnits[E];break}_||(p={type:o.type,previousDataSeriesCount:0,index:h.plotUnits.length,plotType:h,axisXType:o.axisXType,axisYType:o.axisYType,axisYIndex:o.axisYIndex,axisXIndex:o.axisXIndex,axisY:o.axisYType==="primary"?this.axisY[0<=o.axisYIndex&&o.axisYIndex<this.axisY.length?o.axisYIndex:0]:this.axisY2[0<=o.axisYIndex&&o.axisYIndex<this.axisY2.length?o.axisYIndex:0],axisX:o.axisXType==="primary"?this.axisX[0<=o.axisXIndex&&o.axisXIndex<this.axisX.length?o.axisXIndex:0]:this.axisX2[0<=o.axisXIndex&&o.axisXIndex<this.axisX2.length?o.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]},h.plotUnits.push(p)),h.totalDataSeries++,p.dataSeriesIndexes.push(g),o.plotUnit=p}for(g=0;g<this.plotInfo.plotTypes.length;g++)for(h=this.plotInfo.plotTypes[g],E=o=0;E<h.plotUnits.length;E++)h.plotUnits[E].previousDataSeriesCount=o,o+=h.plotUnits[E].dataSeriesIndexes.length},V.prototype.assignIdToDataPoints=function(){for(var o=0;o<this.data.length;o++){var g=this.data[o];if(g.dataPoints)for(var h=g.dataPoints.length,c=0;c<h;c++)g.dataPointIds[c]=++this._eventManager.lastObjectId}},V.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var o=0;o<this.plotInfo.plotTypes.length;o++)for(var g=this.plotInfo.plotTypes[o],h=0;h<g.plotUnits.length;h++){var c=g.plotUnits[h];c.type==="line"||c.type==="stepLine"||c.type==="spline"||c.type==="column"||c.type==="area"||c.type==="stepArea"||c.type==="splineArea"||c.type==="bar"||c.type==="bubble"||c.type==="scatter"?this._processMultiseriesPlotUnit(c):c.type==="stackedColumn"||c.type==="stackedBar"||c.type==="stackedArea"?this._processStackedPlotUnit(c):c.type==="stackedColumn100"||c.type==="stackedBar100"||c.type==="stackedArea100"?this._processStacked100PlotUnit(c):c.type==="candlestick"||c.type==="ohlc"||c.type==="rangeColumn"||c.type==="rangeBar"||c.type==="rangeArea"||c.type==="rangeSplineArea"||c.type==="error"||c.type==="boxAndWhisker"?this._processMultiYPlotUnit(c):c.type==="waterfall"&&this._processSpecificPlotUnit(c)}this.calculateAutoBreaks()},V.prototype._processMultiseriesPlotUnit=function(o){if(o.dataSeriesIndexes&&!(1>o.dataSeriesIndexes.length))for(var g=o.axisY.dataInfo,h=o.axisX.dataInfo,c,p,_=!1,E=0;E<o.dataSeriesIndexes.length;E++){var N=this.data[o.dataSeriesIndexes[E]],I=0,M=!1,b=!1,T;if(N.axisPlacement==="normal"||N.axisPlacement==="xySwapped")var A=o.axisX.sessionVariables.newViewportMinimum?o.axisX.sessionVariables.newViewportMinimum:o.axisX.options&&o.axisX.options.viewportMinimum?o.axisX.options.viewportMinimum:o.axisX.options&&o.axisX.options.minimum?o.axisX.options.minimum:o.axisX.logarithmic?0:-1/0,m=o.axisX.sessionVariables.newViewportMaximum?o.axisX.sessionVariables.newViewportMaximum:o.axisX.options&&o.axisX.options.viewportMaximum?o.axisX.options.viewportMaximum:o.axisX.options&&o.axisX.options.maximum?o.axisX.options.maximum:1/0;for((N.dataPoints[I].x&&N.dataPoints[I].x.getTime||N.xValueType==="dateTime")&&(_=!0),I=0;I<N.dataPoints.length;I++){if(typeof N.dataPoints[I].x>"u"&&(N.dataPoints[I].x=I+(o.axisX.logarithmic?1:0)),N.dataPoints[I].x.getTime?(_=!0,c=N.dataPoints[I].x.getTime()):c=N.dataPoints[I].x,p=N.dataPoints[I].y,c<h.min&&(h.min=c),c>h.max&&(h.max=c),p<g.min&&typeof p=="number"&&(g.min=p),p>g.max&&typeof p=="number"&&(g.max=p),0<I){if(o.axisX.logarithmic){var B=c/N.dataPoints[I-1].x;1>B&&(B=1/B),h.minDiff>B&&B!==1&&(h.minDiff=B)}else B=c-N.dataPoints[I-1].x,0>B&&(B*=-1),h.minDiff>B&&B!==0&&(h.minDiff=B);p!==null&&N.dataPoints[I-1].y!==null&&(o.axisY.logarithmic?(B=p/N.dataPoints[I-1].y,1>B&&(B=1/B),g.minDiff>B&&B!==1&&(g.minDiff=B)):(B=p-N.dataPoints[I-1].y,0>B&&(B*=-1),g.minDiff>B&&B!==0&&(g.minDiff=B)))}if(c<A&&!M)p!==null&&(T=c);else{if(!M&&(M=!0,0<I)){I-=2;continue}if(c>m&&!b)b=!0;else if(c>m&&b)continue;N.dataPoints[I].label&&(o.axisX.labels[c]=N.dataPoints[I].label),c<h.viewPortMin&&(h.viewPortMin=c),c>h.viewPortMax&&(h.viewPortMax=c),p===null?h.viewPortMin===c&&T<c&&(h.viewPortMin=T):(p<g.viewPortMin&&typeof p=="number"&&(g.viewPortMin=p),p>g.viewPortMax&&typeof p=="number"&&(g.viewPortMax=p))}}N.axisX.valueType=N.xValueType=_?"dateTime":"number"}},V.prototype._processStackedPlotUnit=function(o){if(o.dataSeriesIndexes&&!(1>o.dataSeriesIndexes.length)){for(var g=o.axisY.dataInfo,h=o.axisX.dataInfo,c,p,_=!1,E=[],N=[],I=1/0,M=-1/0,b={},T=0;T<o.dataSeriesIndexes.length;T++){var A=this.data[o.dataSeriesIndexes[T]],m=0,B=!1,X=!1,Y;if(A.axisPlacement==="normal"||A.axisPlacement==="xySwapped")var O=o.axisX.sessionVariables.newViewportMinimum?o.axisX.sessionVariables.newViewportMinimum:o.axisX.options&&o.axisX.options.viewportMinimum?o.axisX.options.viewportMinimum:o.axisX.options&&o.axisX.options.minimum?o.axisX.options.minimum:-1/0,Q=o.axisX.sessionVariables.newViewportMaximum?o.axisX.sessionVariables.newViewportMaximum:o.axisX.options&&o.axisX.options.viewportMaximum?o.axisX.options.viewportMaximum:o.axisX.options&&o.axisX.options.maximum?o.axisX.options.maximum:1/0;for((A.dataPoints[m].x&&A.dataPoints[m].x.getTime||A.xValueType==="dateTime")&&(_=!0),m=0;m<A.dataPoints.length;m++){if(typeof A.dataPoints[m].x>"u"&&(A.dataPoints[m].x=m+(o.axisX.logarithmic?1:0)),A.dataPoints[m].x.getTime?(_=!0,c=A.dataPoints[m].x.getTime()):c=A.dataPoints[m].x,p=f(A.dataPoints[m].y)?0:A.dataPoints[m].y,c<h.min&&(h.min=c),c>h.max&&(h.max=c),0<m){if(o.axisX.logarithmic){var G=c/A.dataPoints[m-1].x;1>G&&(G=1/G),h.minDiff>G&&G!==1&&(h.minDiff=G)}else G=c-A.dataPoints[m-1].x,0>G&&(G*=-1),h.minDiff>G&&G!==0&&(h.minDiff=G);p!==null&&A.dataPoints[m-1].y!==null&&(o.axisY.logarithmic?0<p&&(G=p/A.dataPoints[m-1].y,1>G&&(G=1/G),g.minDiff>G&&G!==1&&(g.minDiff=G)):(G=p-A.dataPoints[m-1].y,0>G&&(G*=-1),g.minDiff>G&&G!==0&&(g.minDiff=G)))}if(c<O&&!B)A.dataPoints[m].y!==null&&(Y=c);else{if(!B&&(B=!0,0<m)){m-=2;continue}if(c>Q&&!X)X=!0;else if(c>Q&&X)continue;A.dataPoints[m].label&&(o.axisX.labels[c]=A.dataPoints[m].label),c<h.viewPortMin&&(h.viewPortMin=c),c>h.viewPortMax&&(h.viewPortMax=c),A.dataPoints[m].y===null?h.viewPortMin===c&&Y<c&&(h.viewPortMin=Y):(b[c]=(b[c]||0)+A.dataPoints[m].y,A.dataPointEOs[m].cumulativeY=b[c],o.yTotals[c]=(o.yTotals[c]?o.yTotals[c]:0)+p,o.yAbsTotals[c]=(o.yAbsTotals[c]?o.yAbsTotals[c]:0)+Math.abs(p),0<=p?E[c]?E[c]+=p:(E[c]=p,I=Math.min(p,I)):N[c]?N[c]+=p:(N[c]=p,M=Math.max(p,M)))}}o.axisY.scaleBreaks&&o.axisY.scaleBreaks.autoCalculate&&1<=o.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(g.dataPointYPositiveSums?(g.dataPointYPositiveSums.push.apply(g.dataPointYPositiveSums,E),g.dataPointYNegativeSums.push.apply(g.dataPointYPositiveSums,N)):(g.dataPointYPositiveSums=E,g.dataPointYNegativeSums=N)),A.axisX.valueType=A.xValueType=_?"dateTime":"number"}for(m in E)E.hasOwnProperty(m)&&!isNaN(m)&&(o=E[m],o<g.min&&(g.min=Math.min(o,I)),o>g.max&&(g.max=o),m<h.viewPortMin||m>h.viewPortMax||(o<g.viewPortMin&&(g.viewPortMin=Math.min(o,I)),o>g.viewPortMax&&(g.viewPortMax=o)));for(m in N)N.hasOwnProperty(m)&&!isNaN(m)&&(o=N[m],o<g.min&&(g.min=o),o>g.max&&(g.max=Math.max(o,M)),m<h.viewPortMin||m>h.viewPortMax||(o<g.viewPortMin&&(g.viewPortMin=o),o>g.viewPortMax&&(g.viewPortMax=Math.max(o,M))))}},V.prototype._processStacked100PlotUnit=function(o){if(o.dataSeriesIndexes&&!(1>o.dataSeriesIndexes.length)){for(var g=o.axisY.dataInfo,h=o.axisX.dataInfo,c,p,_=!1,E=!1,N=!1,I={},M=[],b=0;b<o.dataSeriesIndexes.length;b++){var T=this.data[o.dataSeriesIndexes[b]],A=0,m=!1,B=!1,X;if(T.axisPlacement==="normal"||T.axisPlacement==="xySwapped")var Y=o.axisX.sessionVariables.newViewportMinimum?o.axisX.sessionVariables.newViewportMinimum:o.axisX.options&&o.axisX.options.viewportMinimum?o.axisX.options.viewportMinimum:o.axisX.options&&o.axisX.options.minimum?o.axisX.options.minimum:-1/0,O=o.axisX.sessionVariables.newViewportMaximum?o.axisX.sessionVariables.newViewportMaximum:o.axisX.options&&o.axisX.options.viewportMaximum?o.axisX.options.viewportMaximum:o.axisX.options&&o.axisX.options.maximum?o.axisX.options.maximum:1/0;for((T.dataPoints[A].x&&T.dataPoints[A].x.getTime||T.xValueType==="dateTime")&&(_=!0),A=0;A<T.dataPoints.length;A++){if(typeof T.dataPoints[A].x>"u"&&(T.dataPoints[A].x=A+(o.axisX.logarithmic?1:0)),T.dataPoints[A].x.getTime?(_=!0,c=T.dataPoints[A].x.getTime()):c=T.dataPoints[A].x,p=f(T.dataPoints[A].y)?null:T.dataPoints[A].y,c<h.min&&(h.min=c),c>h.max&&(h.max=c),0<A){if(o.axisX.logarithmic){var Q=c/T.dataPoints[A-1].x;1>Q&&(Q=1/Q),h.minDiff>Q&&Q!==1&&(h.minDiff=Q)}else Q=c-T.dataPoints[A-1].x,0>Q&&(Q*=-1),h.minDiff>Q&&Q!==0&&(h.minDiff=Q);f(p)||T.dataPoints[A-1].y===null||(o.axisY.logarithmic?0<p&&(Q=p/T.dataPoints[A-1].y,1>Q&&(Q=1/Q),g.minDiff>Q&&Q!==1&&(g.minDiff=Q)):(Q=p-T.dataPoints[A-1].y,0>Q&&(Q*=-1),g.minDiff>Q&&Q!==0&&(g.minDiff=Q)))}if(c<Y&&!m)p!==null&&(X=c);else{if(!m&&(m=!0,0<A)){A-=2;continue}if(c>O&&!B)B=!0;else if(c>O&&B)continue;T.dataPoints[A].label&&(o.axisX.labels[c]=T.dataPoints[A].label),c<h.viewPortMin&&(h.viewPortMin=c),c>h.viewPortMax&&(h.viewPortMax=c),p===null?h.viewPortMin===c&&X<c&&(h.viewPortMin=X):(I[c]=(I[c]||0)+T.dataPoints[A].y,T.dataPointEOs[A].cumulativeY=I[c],o.yTotals[c]=(o.yTotals[c]?o.yTotals[c]:0)+p,o.yAbsTotals[c]=(o.yAbsTotals[c]?o.yAbsTotals[c]:0)+Math.abs(p),0<=p?E=!0:0>p&&(N=!0),M[c]=M[c]?M[c]+Math.abs(p):Math.abs(p))}}T.axisX.valueType=T.xValueType=_?"dateTime":"number"}o.axisY.logarithmic?(g.max=f(g.viewPortMax)?99*Math.pow(o.axisY.logarithmBase,-.05):Math.max(g.viewPortMax,99*Math.pow(o.axisY.logarithmBase,-.05)),g.min=f(g.viewPortMin)?1:Math.min(g.viewPortMin,1)):E&&!N?(g.max=f(g.viewPortMax)?99:Math.max(g.viewPortMax,99),g.min=f(g.viewPortMin)?1:Math.min(g.viewPortMin,1)):E&&N?(g.max=f(g.viewPortMax)?99:Math.max(g.viewPortMax,99),g.min=f(g.viewPortMin)?-99:Math.min(g.viewPortMin,-99)):!E&&N&&(g.max=f(g.viewPortMax)?-1:Math.max(g.viewPortMax,-1),g.min=f(g.viewPortMin)?-99:Math.min(g.viewPortMin,-99)),g.viewPortMin=g.min,g.viewPortMax=g.max,o.dataPointYSums=M}},V.prototype._processMultiYPlotUnit=function(o){if(o.dataSeriesIndexes&&!(1>o.dataSeriesIndexes.length))for(var g=o.axisY.dataInfo,h=o.axisX.dataInfo,c,p,_,E,N=!1,I=0;I<o.dataSeriesIndexes.length;I++){var M=this.data[o.dataSeriesIndexes[I]],b=0,T=!1,A=!1,m,B,X;if(M.axisPlacement==="normal"||M.axisPlacement==="xySwapped")var Y=o.axisX.sessionVariables.newViewportMinimum?o.axisX.sessionVariables.newViewportMinimum:o.axisX.options&&o.axisX.options.viewportMinimum?o.axisX.options.viewportMinimum:o.axisX.options&&o.axisX.options.minimum?o.axisX.options.minimum:o.axisX.logarithmic?0:-1/0,O=o.axisX.sessionVariables.newViewportMaximum?o.axisX.sessionVariables.newViewportMaximum:o.axisX.options&&o.axisX.options.viewportMaximum?o.axisX.options.viewportMaximum:o.axisX.options&&o.axisX.options.maximum?o.axisX.options.maximum:1/0;for((M.dataPoints[b].x&&M.dataPoints[b].x.getTime||M.xValueType==="dateTime")&&(N=!0),b=0;b<M.dataPoints.length;b++){if(typeof M.dataPoints[b].x>"u"&&(M.dataPoints[b].x=b+(o.axisX.logarithmic?1:0)),M.dataPoints[b].x.getTime?(N=!0,c=M.dataPoints[b].x.getTime()):c=M.dataPoints[b].x,(p=M.dataPoints[b].y)&&p.length){_=Math.min.apply(null,p),E=Math.max.apply(null,p),B=!0;for(var Q=0;Q<p.length;Q++)p.k===null&&(B=!1);B&&(T||(X=m),m=c)}if(c<h.min&&(h.min=c),c>h.max&&(h.max=c),_<g.min&&(g.min=_),E>g.max&&(g.max=E),0<b&&(o.axisX.logarithmic?(B=c/M.dataPoints[b-1].x,1>B&&(B=1/B),h.minDiff>B&&B!==1&&(h.minDiff=B)):(B=c-M.dataPoints[b-1].x,0>B&&(B*=-1),h.minDiff>B&&B!==0&&(h.minDiff=B)),p&&p[0]!==null&&M.dataPoints[b-1].y&&M.dataPoints[b-1].y[0]!==null&&(o.axisY.logarithmic?(B=p[0]/M.dataPoints[b-1].y[0],1>B&&(B=1/B),g.minDiff>B&&B!==1&&(g.minDiff=B)):(B=p[0]-M.dataPoints[b-1].y[0],0>B&&(B*=-1),g.minDiff>B&&B!==0&&(g.minDiff=B)))),!(c<Y)||T){if(!T&&(T=!0,0<b)){b-=2,m=X;continue}if(c>O&&!A)A=!0;else if(c>O&&A)continue;if(M.dataPoints[b].label&&(o.axisX.labels[c]=M.dataPoints[b].label),c<h.viewPortMin&&(h.viewPortMin=c),c>h.viewPortMax&&(h.viewPortMax=c),h.viewPortMin===c&&p){for(Q=0;Q<p.length;Q++)if(p[Q]===null&&m<c){h.viewPortMin=m;break}}p===null?h.viewPortMin===c&&m<c&&(h.viewPortMin=m):(_<g.viewPortMin&&(g.viewPortMin=_),E>g.viewPortMax&&(g.viewPortMax=E))}}M.axisX.valueType=M.xValueType=N?"dateTime":"number"}},V.prototype._processSpecificPlotUnit=function(o){if(o.type==="waterfall"&&o.dataSeriesIndexes&&!(1>o.dataSeriesIndexes.length))for(var g=o.axisY.dataInfo,h=o.axisX.dataInfo,c,p,_=!1,E=0;E<o.dataSeriesIndexes.length;E++){var N=this.data[o.dataSeriesIndexes[E]],I=0,M=!1,b=!1,T=c=0;if(N.axisPlacement==="normal"||N.axisPlacement==="xySwapped")var A=o.axisX.sessionVariables.newViewportMinimum?o.axisX.sessionVariables.newViewportMinimum:o.axisX.options&&o.axisX.options.viewportMinimum?o.axisX.options.viewportMinimum:o.axisX.options&&o.axisX.options.minimum?o.axisX.options.minimum:o.axisX.logarithmic?0:-1/0,m=o.axisX.sessionVariables.newViewportMaximum?o.axisX.sessionVariables.newViewportMaximum:o.axisX.options&&o.axisX.options.viewportMaximum?o.axisX.options.viewportMaximum:o.axisX.options&&o.axisX.options.maximum?o.axisX.options.maximum:1/0;for((N.dataPoints[I].x&&N.dataPoints[I].x.getTime||N.xValueType==="dateTime")&&(_=!0),I=0;I<N.dataPoints.length;I++)typeof N.dataPoints[I].isCumulativeSum<"u"&&N.dataPoints[I].isCumulativeSum===!0?(N.dataPointEOs[I].cumulativeSumYStartValue=0,N.dataPointEOs[I].cumulativeSum=I===0?0:N.dataPointEOs[I-1].cumulativeSum,N.dataPoints[I].y=I===0?0:N.dataPointEOs[I-1].cumulativeSum):typeof N.dataPoints[I].isIntermediateSum<"u"&&N.dataPoints[I].isIntermediateSum===!0?(N.dataPointEOs[I].cumulativeSumYStartValue=T,N.dataPointEOs[I].cumulativeSum=I===0?0:N.dataPointEOs[I-1].cumulativeSum,N.dataPoints[I].y=I===0?0:c,T=I===0?0:N.dataPointEOs[I-1].cumulativeSum,c=0):(p=typeof N.dataPoints[I].y!="number"?0:N.dataPoints[I].y,N.dataPointEOs[I].cumulativeSumYStartValue=I===0?0:N.dataPointEOs[I-1].cumulativeSum,N.dataPointEOs[I].cumulativeSum=I===0?p:N.dataPointEOs[I-1].cumulativeSum+p,c+=p);for(I=0;I<N.dataPoints.length;I++)if(typeof N.dataPoints[I].x>"u"&&(N.dataPoints[I].x=I+(o.axisX.logarithmic?1:0)),N.dataPoints[I].x.getTime?(_=!0,c=N.dataPoints[I].x.getTime()):c=N.dataPoints[I].x,p=N.dataPoints[I].y,c<h.min&&(h.min=c),c>h.max&&(h.max=c),N.dataPointEOs[I].cumulativeSum<g.min&&(g.min=N.dataPointEOs[I].cumulativeSum),N.dataPointEOs[I].cumulativeSum>g.max&&(g.max=N.dataPointEOs[I].cumulativeSum),0<I&&(o.axisX.logarithmic?(T=c/N.dataPoints[I-1].x,1>T&&(T=1/T),h.minDiff>T&&T!==1&&(h.minDiff=T)):(T=c-N.dataPoints[I-1].x,0>T&&(T*=-1),h.minDiff>T&&T!==0&&(h.minDiff=T)),p!==null&&N.dataPoints[I-1].y!==null&&(o.axisY.logarithmic?(p=N.dataPointEOs[I].cumulativeSum/N.dataPointEOs[I-1].cumulativeSum,1>p&&(p=1/p),g.minDiff>p&&p!==1&&(g.minDiff=p)):(p=N.dataPointEOs[I].cumulativeSum-N.dataPointEOs[I-1].cumulativeSum,0>p&&(p*=-1),g.minDiff>p&&p!==0&&(g.minDiff=p)))),!(c<A)||M){if(!M&&(M=!0,0<I)){I-=2;continue}if(c>m&&!b)b=!0;else if(c>m&&b)continue;N.dataPoints[I].label&&(o.axisX.labels[c]=N.dataPoints[I].label),c<h.viewPortMin&&(h.viewPortMin=c),c>h.viewPortMax&&(h.viewPortMax=c),0<I&&(N.dataPointEOs[I-1].cumulativeSum<g.viewPortMin&&(g.viewPortMin=N.dataPointEOs[I-1].cumulativeSum),N.dataPointEOs[I-1].cumulativeSum>g.viewPortMax&&(g.viewPortMax=N.dataPointEOs[I-1].cumulativeSum)),N.dataPointEOs[I].cumulativeSum<g.viewPortMin&&(g.viewPortMin=N.dataPointEOs[I].cumulativeSum),N.dataPointEOs[I].cumulativeSum>g.viewPortMax&&(g.viewPortMax=N.dataPointEOs[I].cumulativeSum)}N.axisX.valueType=N.xValueType=_?"dateTime":"number"}},V.prototype.calculateAutoBreaks=function(){function o(B,X,Y,O){return O?(Y=Math.pow(Math.min(Y*B/X,X/B),.2),1>=Y&&(Y=Math.pow(1>B?1/B:Math.min(X/B,B),.25)),{startValue:B*Y,endValue:X/Y}):(Y=.2*Math.min(Y-X+B,X-B),0>=Y&&(Y=.25*Math.min(X-B,Math.abs(B))),{startValue:B+Y,endValue:X-Y})}function g(B){if(B.dataSeriesIndexes&&!(1>B.dataSeriesIndexes.length)){var X=B.axisX.scaleBreaks&&B.axisX.scaleBreaks.autoCalculate&&1<=B.axisX.scaleBreaks.maxNumberOfAutoBreaks,Y=B.axisY.scaleBreaks&&B.axisY.scaleBreaks.autoCalculate&&1<=B.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(X||Y)for(var Le=B.axisY.dataInfo,se=B.axisX.dataInfo,O,Q=se.min,G=se.max,re=Le.min,pe=Le.max,se=se._dataRanges,Le=Le._dataRanges,Be,xe=0,Ce=0;Ce<B.dataSeriesIndexes.length;Ce++){var ye=p.data[B.dataSeriesIndexes[Ce]];if(!(4>ye.dataPoints.length)){for(xe=0;xe<ye.dataPoints.length;xe++)if(X&&(Be=(G+1-Q)*Math.max(parseFloat(B.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,O=ye.dataPoints[xe].x.getTime?ye.dataPoints[xe].x.getTime():ye.dataPoints[xe].x,Be=Math.floor((O-Q)/Be),O<se[Be].min&&(se[Be].min=O),O>se[Be].max&&(se[Be].max=O)),Y){var ve=(pe+1-re)*Math.max(parseFloat(B.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((O=B.type==="waterfall"?ye.dataPointEOs[xe].cumulativeSum:ye.dataPoints[xe].y)&&O.length)for(var ae=0;ae<O.length;ae++)Be=Math.floor((O[ae]-re)/ve),O[ae]<Le[Be].min&&(Le[Be].min=O[ae]),O[ae]>Le[Be].max&&(Le[Be].max=O[ae]);else f(O)||(Be=Math.floor((O-re)/ve),O<Le[Be].min&&(Le[Be].min=O),O>Le[Be].max&&(Le[Be].max=O))}}}}}function h(B){if(B.dataSeriesIndexes&&!(1>B.dataSeriesIndexes.length)&&B.axisX.scaleBreaks&&B.axisX.scaleBreaks.autoCalculate&&1<=B.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var X=B.axisX.dataInfo,Y=X.min,O=X.max,Q=X._dataRanges,G,re=0,pe=0;pe<B.dataSeriesIndexes.length;pe++){var se=p.data[B.dataSeriesIndexes[pe]];if(!(4>se.dataPoints.length))for(re=0;re<se.dataPoints.length;re++)G=(O+1-Y)*Math.max(parseFloat(B.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,X=se.dataPoints[re].x.getTime?se.dataPoints[re].x.getTime():se.dataPoints[re].x,G=Math.floor((X-Y)/G),X<Q[G].min&&(Q[G].min=X),X>Q[G].max&&(Q[G].max=X)}}for(var c,p=this,_=!1,E=0;E<this._axes.length;E++)if(this._axes[E].scaleBreaks&&this._axes[E].scaleBreaks.autoCalculate&&1<=this._axes[E].scaleBreaks.maxNumberOfAutoBreaks){_=!0,this._axes[E].dataInfo._dataRanges=[];for(var N=0;N<100/Math.max(parseFloat(this._axes[E].scaleBreaks.collapsibleThreshold)||10,10);N++)this._axes[E].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(_){for(E=0;E<this.plotInfo.plotTypes.length;E++)for(_=this.plotInfo.plotTypes[E],N=0;N<_.plotUnits.length;N++)c=_.plotUnits[N],c.type==="line"||c.type==="stepLine"||c.type==="spline"||c.type==="column"||c.type==="area"||c.type==="stepArea"||c.type==="splineArea"||c.type==="bar"||c.type==="bubble"||c.type==="scatter"||c.type==="candlestick"||c.type==="ohlc"||c.type==="rangeColumn"||c.type==="rangeBar"||c.type==="rangeArea"||c.type==="rangeSplineArea"||c.type==="waterfall"||c.type==="error"||c.type==="boxAndWhisker"?g(c):0<=c.type.indexOf("stacked")&&h(c);for(E=0;E<this._axes.length;E++)if(this._axes[E].dataInfo._dataRanges){var I=this._axes[E].dataInfo.min;c=(this._axes[E].dataInfo.max+1-I)*Math.max(parseFloat(this._axes[E].scaleBreaks.collapsibleThreshold)||10,10)/100;var M=this._axes[E].dataInfo._dataRanges,b,T,_=[];if(this._axes[E].dataInfo.dataPointYPositiveSums){var A=this._axes[E].dataInfo.dataPointYPositiveSums;b=M;for(N in A)if(A.hasOwnProperty(N)&&!isNaN(N)&&(T=A[N],!f(T))){var m=Math.floor((T-I)/c);T<b[m].min&&(b[m].min=T),T>b[m].max&&(b[m].max=T)}delete this._axes[E].dataInfo.dataPointYPositiveSums}if(this._axes[E].dataInfo.dataPointYNegativeSums){A=this._axes[E].dataInfo.dataPointYNegativeSums,b=M;for(N in A)A.hasOwnProperty(N)&&!isNaN(N)&&(T=-1*A[N],f(T)||(m=Math.floor((T-I)/c),T<b[m].min&&(b[m].min=T),T>b[m].max&&(b[m].max=T)));delete this._axes[E].dataInfo.dataPointYNegativeSums}for(N=0;N<M.length-1;N++)if(b=M[N].max,isFinite(b))for(;N<M.length-1;)if(I=M[N+1].min,isFinite(I)){T=I-b,T>c&&_.push({diff:T,start:b,end:I});break}else N++;if(this._axes[E].scaleBreaks.customBreaks)for(N=0;N<this._axes[E].scaleBreaks.customBreaks.length;N++)for(c=0;c<_.length;c++)(this._axes[E].scaleBreaks.customBreaks[N].startValue<=_[c].start&&_[c].start<=this._axes[E].scaleBreaks.customBreaks[N].endValue||this._axes[E].scaleBreaks.customBreaks[N].startValue<=_[c].start&&_[c].start<=this._axes[E].scaleBreaks.customBreaks[N].endValue||_[c].start<=this._axes[E].scaleBreaks.customBreaks[N].startValue&&this._axes[E].scaleBreaks.customBreaks[N].startValue<=_[c].end||_[c].start<=this._axes[E].scaleBreaks.customBreaks[N].endValue&&this._axes[E].scaleBreaks.customBreaks[N].endValue<=_[c].end)&&(_.splice(c,1),c--);for(_.sort(function(X,Y){return Y.diff-X.diff}),N=0;N<Math.min(_.length,this._axes[E].scaleBreaks.maxNumberOfAutoBreaks);N++)c=o(_[N].start,_[N].end,this._axes[E].logarithmic?this._axes[E].dataInfo.max/this._axes[E].dataInfo.min:this._axes[E].dataInfo.max-this._axes[E].dataInfo.min,this._axes[E].logarithmic),this._axes[E].scaleBreaks.autoBreaks.push(new Et(this,"autoBreaks",c,N,++this._eventManager.lastObjectId,this._axes[E].scaleBreaks)),this._axes[E].scaleBreaks._appliedBreaks.push(this._axes[E].scaleBreaks.autoBreaks[this._axes[E].scaleBreaks.autoBreaks.length-1]);this._axes[E].scaleBreaks._appliedBreaks.sort(function(X,Y){return X.startValue-Y.startValue})}}},V.prototype.renderCrosshairs=function(o){for(var g=0;g<this.axisX.length;g++)this.axisX[g]!=o&&this.axisX[g].crosshair&&this.axisX[g].crosshair.enabled&&!this.axisX[g].crosshair._hidden&&this.axisX[g].showCrosshair(this.axisX[g].crosshair._updatedValue);for(g=0;g<this.axisX2.length;g++)this.axisX2[g]!=o&&this.axisX2[g].crosshair&&this.axisX2[g].crosshair.enabled&&!this.axisX2[g].crosshair._hidden&&this.axisX2[g].showCrosshair(this.axisX2[g].crosshair._updatedValue);for(g=0;g<this.axisY.length;g++)this.axisY[g]!=o&&this.axisY[g].crosshair&&this.axisY[g].crosshair.enabled&&!this.axisY[g].crosshair._hidden&&this.axisY[g].showCrosshair(this.axisY[g].crosshair._updatedValue);for(g=0;g<this.axisY2.length;g++)this.axisY2[g]!=o&&this.axisY2[g].crosshair&&this.axisY2[g].crosshair.enabled&&!this.axisY2[g].crosshair._hidden&&this.axisY2[g].showCrosshair(this.axisY2[g].crosshair._updatedValue)},V.prototype.getDataPointAtXY=function(o,g,h){h=h||!1;for(var c=[],p=this._dataInRenderedOrder.length-1;0<=p;p--){var _=null;(_=this._dataInRenderedOrder[p].getDataPointAtXY(o,g,h))&&c.push(_)}for(o=null,g=!1,h=0;h<c.length;h++)if((c[h].dataSeries.type==="line"||c[h].dataSeries.type==="stepLine"||c[h].dataSeries.type==="area"||c[h].dataSeries.type==="stepArea")&&(p=R("markerSize",c[h].dataPoint,c[h].dataSeries)||8,c[h].distance<=p/2)){g=!0;break}for(h=0;h<c.length;h++)g&&c[h].dataSeries.type!=="line"&&c[h].dataSeries.type!=="stepLine"&&c[h].dataSeries.type!=="area"&&c[h].dataSeries.type!=="stepArea"||(o?c[h].distance<=o.distance&&(o=c[h]):o=c[h]);return o},V.prototype.getObjectAtXY=function(o,g,h){var c=null;if(h=this.getDataPointAtXY(o,g,h||!1))c=h.dataSeries.dataPointIds[h.dataPointIndex];else if(ee)c=S(o,g,this._eventManager.ghostCtx);else for(h=0;h<this.legend.items.length;h++){var p=this.legend.items[h];o>=p.x1&&o<=p.x2&&g>=p.y1&&g<=p.y2&&(c=p.id)}return c},V.prototype.getAutoFontSize=Qe,V.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},V.prototype.clearCanvas=te,V.prototype.attachEvent=function(o){this._events.push(o)},V.prototype._touchEventHandler=function(o){if(o.changedTouches&&this.interactivityEnabled){var g=[],h=o.changedTouches,c=h?h[0]:o,p=null;switch(o.type){case"touchstart":case"MSPointerDown":g=["mousemove","mousedown"],this._lastTouchData=at(c),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":g=["mousemove"];break;case"touchend":case"MSPointerUp":var _=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0,g=this._lastTouchEventType==="touchstart"||this._lastTouchEventType==="MSPointerDown"||300>_?["mouseup","click"]:["mouseup"];break;default:return}if(!(h&&1<h.length)){p=at(c),p.time=new Date;try{var E=p.y-this._lastTouchData.y,_=p.time-this._lastTouchData.time;(1<Math.abs(E)&&this._lastTouchData.scroll||5<Math.abs(E)&&250>_)&&(this._lastTouchData.scroll=!0)}catch{}if(this._lastTouchEventType=o.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(h=0;h<g.length;h++)p=g[h],E=document.createEvent("MouseEvent"),E.initMouseEvent(p,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),c.target.dispatchEvent(E),(!f(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<_||p==="click")&&(o.preventManipulation&&o.preventManipulation(),o.preventDefault&&o.cancelable&&o.preventDefault())}}},V.prototype._dispatchRangeEvent=function(o,g){var h={chart:this};h.type=o,h.trigger=g;var c=[];this.axisX&&0<this.axisX.length&&c.push("axisX"),this.axisX2&&0<this.axisX2.length&&c.push("axisX2"),this.axisY&&0<this.axisY.length&&c.push("axisY"),this.axisY2&&0<this.axisY2.length&&c.push("axisY2");for(var p=0;p<c.length;p++)if(f(h[c[p]])&&(h[c[p]]=[]),c[p]==="axisY")for(var _=0;_<this.axisY.length;_++)h[c[p]].push({viewportMinimum:this[c[p]][_].sessionVariables.newViewportMinimum,viewportMaximum:this[c[p]][_].sessionVariables.newViewportMaximum});else if(c[p]==="axisY2")for(_=0;_<this.axisY2.length;_++)h[c[p]].push({viewportMinimum:this[c[p]][_].sessionVariables.newViewportMinimum,viewportMaximum:this[c[p]][_].sessionVariables.newViewportMaximum});else if(c[p]==="axisX")for(_=0;_<this.axisX.length;_++)h[c[p]].push({viewportMinimum:this[c[p]][_].sessionVariables.newViewportMinimum,viewportMaximum:this[c[p]][_].sessionVariables.newViewportMaximum});else if(c[p]==="axisX2")for(_=0;_<this.axisX2.length;_++)h[c[p]].push({viewportMinimum:this[c[p]][_].sessionVariables.newViewportMinimum,viewportMaximum:this[c[p]][_].sessionVariables.newViewportMaximum});this.dispatchEvent(o,h,this)},V.prototype._mouseEventHandler=function(o){function g(){V.capturedEventParam&&(p=V.capturedEventParam,E=p.bounds,c==="mouseup"&&(V.capturedEventParam=null,p.chart.overlaidCanvas.releaseCapture?p.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",p.chart._mouseEventHandler,!1)),p.hasOwnProperty(c)&&(c!=="mouseup"||p.chart.overlaidCanvas.releaseCapture?o.target!==p.chart.overlaidCanvas&&ee||p[c].call(p.context,h.x,h.y):o.target!==p.chart.overlaidCanvas&&(p.chart.isDrag=!1)))}typeof o.target>"u"&&o.srcElement&&(o.target=o.srcElement);var h=at(o),c=o.type,p,_;if(o.which?_=o.which==3:o.button&&(_=o.button==2),this._ignoreNextEvent)g(),this._ignoreNextEvent=!1;else if(g(),this.interactivityEnabled){o.preventManipulation&&o.preventManipulation(),o.preventDefault&&o.preventDefault();var E;if(!_){if(!V.capturedEventParam&&this._events){for(_=0;_<this._events.length;_++)if(this._events[_].hasOwnProperty(c))if(p=this._events[_],E=p.bounds,h.x>=E.x1&&h.x<=E.x2&&h.y>=E.y1&&h.y<=E.y2){p[c].call(p.context,h.x,h.y),c==="mousedown"&&p.capture===!0?(V.capturedEventParam=p,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):c==="mouseup"&&(p.chart.overlaidCanvas.releaseCapture?p.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}else p=null;o.target.style.cursor=p&&p.cursor?p.cursor:this._defaultCursor}if(_=this.plotArea,h.x<_.x1||h.x>_.x2||h.y<_.y1||h.y>_.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),_=0;_<this.axisX.length;_++)this.axisX[_].crosshair&&this.axisX[_].crosshair.enabled&&(this.axisX[_].crosshair.hide(),this.axisX[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[_].options},this.axisX[_].crosshair));for(_=0;_<this.axisX2.length;_++)this.axisX2[_].crosshair&&this.axisX2[_].crosshair.enabled&&(this.axisX2[_].crosshair.hide(),this.axisX2[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[_].options},this.axisX2[_].crosshair));for(_=0;_<this.axisY.length;_++)this.axisY[_].crosshair&&this.axisY[_].crosshair.enabled&&(this.axisY[_].crosshair.hide(),this.axisY[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[_].options},this.axisY[_].crosshair));for(_=0;_<this.axisY2.length;_++)this.axisY2[_].crosshair&&this.axisY2[_].crosshair.enabled&&(this.axisY2[_].crosshair.hide(),this.axisY2[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[_].options},this.axisY2[_].crosshair))}this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(o)}}},V.prototype._plotAreaMouseDown=function(o,g){this.isDrag=!0,this.dragStartPoint={x:o,y:g}},V.prototype._plotAreaMouseUp=function(o,g){if((this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped")&&this.isDrag){var h=g-this.dragStartPoint.y,c=o-this.dragStartPoint.x,N=0<=this.zoomType.indexOf("x"),E=0<=this.zoomType.indexOf("y"),p=!1;if(this.resetOverlayedCanvas(),this.plotInfo.axisPlacement==="xySwapped")var _=E,E=N,N=_;if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(N=E=0;N<this._axes.length;N++)h=this._axes[N],h.logarithmic?h.viewportMinimum<h.minimum?(E=h.minimum/h.viewportMinimum,h.sessionVariables.newViewportMinimum=h.viewportMinimum*E,h.sessionVariables.newViewportMaximum=h.viewportMaximum*E,p=!0):h.viewportMaximum>h.maximum&&(E=h.viewportMaximum/h.maximum,h.sessionVariables.newViewportMinimum=h.viewportMinimum/E,h.sessionVariables.newViewportMaximum=h.viewportMaximum/E,p=!0):h.viewportMinimum<h.minimum?(E=h.minimum-h.viewportMinimum,h.sessionVariables.newViewportMinimum=h.viewportMinimum+E,h.sessionVariables.newViewportMaximum=h.viewportMaximum+E,p=!0):h.viewportMaximum>h.maximum&&(E=h.viewportMaximum-h.maximum,h.sessionVariables.newViewportMinimum=h.viewportMinimum-E,h.sessionVariables.newViewportMaximum=h.viewportMaximum-E,p=!0);else if((!N||2<Math.abs(c))&&(!E||2<Math.abs(h))&&this.zoomEnabled){if(!this.dragStartPoint)return;h=N?this.dragStartPoint.x:this.plotArea.x1,c=E?this.dragStartPoint.y:this.plotArea.y1,N=N?o:this.plotArea.x2,E=E?g:this.plotArea.y2,2<Math.abs(h-N)&&2<Math.abs(c-E)&&this._zoomPanToSelectedRegion(h,c,N,E)&&(p=!0)}p&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&(this.stockChart.rangeUpdatedBy="chart",this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart))),p&&this.zoomEnabled&&this._zoomButton.style.display==="none"&&(Z(this._zoomButton,this._resetButton),j(this,this._zoomButton,"pan"),j(this,this._resetButton,"reset")))}}if(this.isDrag=!1,this.plotInfo.axisPlacement!=="none"){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(p=0;p<this.axisX.length;p++)this.axisX[p].crosshair&&this.axisX[p].crosshair.enabled&&this.axisX[p].renderCrosshair(o,g);if(this.axisX2&&0<this.axisX2.length)for(p=0;p<this.axisX2.length;p++)this.axisX2[p].crosshair&&this.axisX2[p].crosshair.enabled&&this.axisX2[p].renderCrosshair(o,g);if(this.axisY&&0<this.axisY.length)for(p=0;p<this.axisY.length;p++)this.axisY[p].crosshair&&this.axisY[p].crosshair.enabled&&this.axisY[p].renderCrosshair(o,g);if(this.axisY2&&0<this.axisY2.length)for(p=0;p<this.axisY2.length;p++)this.axisY2[p].crosshair&&this.axisY2[p].crosshair.enabled&&this.axisY2[p].renderCrosshair(o,g);if(this.axisX&&0<this.axisX.length)for(p=0;p<this.axisX.length;p++)this.axisX[p].crosshair&&this.axisX[p].crosshair.enabled&&this.axisX[p].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(p=0;p<this.axisX2.length;p++)this.axisX2[p].crosshair&&this.axisX2[p].crosshair.enabled&&this.axisX2[p].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(p=0;p<this.axisY.length;p++)this.axisY[p].crosshair&&this.axisY[p].crosshair.enabled&&this.axisY[p].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(p=0;p<this.axisY2.length;p++)this.axisY2[p].crosshair&&this.axisY2[p].crosshair.enabled&&this.axisY2[p].crosshair.renderLabel()}},V.prototype._plotAreaMouseMove=function(o,g){if(this.isDrag&&this.plotInfo.axisPlacement!=="none"){var h=0,c=0,p=h=null,p=0<=this.zoomType.indexOf("x"),_=0<=this.zoomType.indexOf("y"),E=this;if(this.plotInfo.axisPlacement==="xySwapped"&&(h=_,_=p,p=h),h=this.dragStartPoint.x-o,c=this.dragStartPoint.y-g,2<Math.abs(h)&&8>Math.abs(h)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var N=0;N<this.axisX.length;N++)this.axisX[N].crosshair&&this.axisX[N].crosshair.enabled&&(this.axisX[N].crosshair.hide(),this.axisX[N].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[N].options},this.axisX[N].crosshair));for(N=0;N<this.axisX2.length;N++)this.axisX2[N].crosshair&&this.axisX2[N].crosshair.enabled&&(this.axisX2[N].crosshair.hide(),this.axisX2[N].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[N].options},this.axisX2[N].crosshair));for(N=0;N<this.axisY.length;N++)this.axisY[N].crosshair&&this.axisY[N].crosshair.enabled&&(this.axisY[N].crosshair.hide(),this.axisY[N].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[N].options},this.axisY[N].crosshair));for(N=0;N<this.axisY2.length;N++)this.axisY2[N].crosshair&&this.axisY2[N].crosshair.enabled&&(this.axisY2[N].crosshair.hide(),this.axisY2[N].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[N].options},this.axisY2[N].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(o,g);if((!p||2<Math.abs(h)||!_||2<Math.abs(c))&&(this.panEnabled||this.zoomEnabled)){if(this.panEnabled)p={x1:p?this.plotArea.x1+h:this.plotArea.x1,y1:_?this.plotArea.y1+c:this.plotArea.y1,x2:p?this.plotArea.x2+h:this.plotArea.x2,y2:_?this.plotArea.y2+c:this.plotArea.y2},clearTimeout(E._panTimerId),E._panTimerId=setTimeout(function(b,T,A,m){return function(){E._zoomPanToSelectedRegion(b,T,A,m,!0)&&(E._dispatchRangeEvent("rangeChanging","pan"),E.stockChart&&E.stockChart.navigator&&E.stockChart.navigator.enabled&&(E.stockChart._rangeEventParameter.type="rangeChanging",E.stockChart.dispatchEvent("rangeChanging",E.stockChart._rangeEventParameter,E.stockChart)),E.render(),E._dispatchRangeEvent("rangeChanged","pan"),E.stockChart&&E.stockChart.navigator&&E.stockChart.navigator.enabled&&(E.stockChart._rangeEventParameter.type="rangeChanged",E.stockChart.dispatchEvent("rangeChanged",E.stockChart._rangeEventParameter,E.stockChart)),E.dragStartPoint.x=o,E.dragStartPoint.y=g)}}(p.x1,p.y1,p.x2,p.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),h=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var c=p?this.dragStartPoint.x:this.plotArea.x1,N=_?this.dragStartPoint.y:this.plotArea.y1,I=p?o-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,M=_?g-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(c,N,p?o:this.plotArea.x2-this.plotArea.x1,_?g:this.plotArea.y2-this.plotArea.y1,this.zoomType!=="xy").isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(c,N,I,M),this.overlaidCanvasCtx.globalAlpha=h}}}else if(this.toolTip.mouseMoveHandler(o,g),this.plotInfo.axisPlacement!=="none"){if(this.axisX&&0<this.axisX.length)for(p=0;p<this.axisX.length;p++)this.axisX[p].crosshair&&this.axisX[p].crosshair.enabled&&this.axisX[p].renderCrosshair(o,g);if(this.axisX2&&0<this.axisX2.length)for(p=0;p<this.axisX2.length;p++)this.axisX2[p].crosshair&&this.axisX2[p].crosshair.enabled&&this.axisX2[p].renderCrosshair(o,g);if(this.axisY&&0<this.axisY.length)for(p=0;p<this.axisY.length;p++)this.axisY[p].crosshair&&this.axisY[p].crosshair.enabled&&this.axisY[p].renderCrosshair(o,g);if(this.axisY2&&0<this.axisY2.length)for(p=0;p<this.axisY2.length;p++)this.axisY2[p].crosshair&&this.axisY2[p].crosshair.enabled&&this.axisY2[p].renderCrosshair(o,g);if(this.axisX&&0<this.axisX.length)for(p=0;p<this.axisX.length;p++)this.axisX[p].crosshair&&this.axisX[p].crosshair.enabled&&this.axisX[p].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(p=0;p<this.axisX2.length;p++)this.axisX2[p].crosshair&&this.axisX2[p].crosshair.enabled&&this.axisX2[p].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(p=0;p<this.axisY.length;p++)this.axisY[p].crosshair&&this.axisY[p].crosshair.enabled&&this.axisY[p].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(p=0;p<this.axisY2.length;p++)this.axisY2[p].crosshair&&this.axisY2[p].crosshair.enabled&&this.axisY2[p].crosshair.renderLabel()}},V.prototype._zoomPanToSelectedRegion=function(o,g,h,c,p){if(o=this.validateRegion(o,g,h,c,p),g=o.axesWithValidRange,h=o.axesRanges,o.isValid)for(c=0;c<g.length;c++)p=h[c],g[c].setViewPortRange(p.val1,p.val2),this.syncCharts&&this.zoomType!="y"&&this.syncCharts(p.val1,p.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:p.val1,maximum:p.val2});return o.isValid},V.prototype.validateRegion=function(o,g,h,c,p){p=p||!1;for(var _=0<=this.zoomType.indexOf("x"),E=0<=this.zoomType.indexOf("y"),N=!1,I=[],M=[],b=[],T=0;T<this._axes.length;T++)(this._axes[T].type==="axisX"&&_||this._axes[T].type==="axisY"&&E)&&M.push(this._axes[T]);for(E=0;E<M.length;E++){var T=M[E],_=!1,B=T.convertPixelToValue({x:o,y:g}),m=T.convertPixelToValue({x:h,y:c});if(B>m)var A=m,m=B,B=A;if(T.scaleBreaks)for(A=0;!_&&A<T.scaleBreaks._appliedBreaks.length;A++)_=T.scaleBreaks._appliedBreaks[A].startValue<=B&&T.scaleBreaks._appliedBreaks[A].endValue>=m;if(isFinite(T.dataInfo.minDiff)){if(A=T.getApparentDifference(B,m,null,!0),!(_||!(this.panEnabled&&T.scaleBreaks&&T.scaleBreaks._appliedBreaks.length)&&(T.logarithmic&&A<Math.pow(T.dataInfo.minDiff,3)||!T.logarithmic&&A<3*Math.abs(T.dataInfo.minDiff))||B<T.minimum||m>T.maximum))I.push(T),b.push({val1:B,val2:m}),N=!0;else if(!p){N=!1;break}}}return{isValid:N,axesWithValidRange:I,axesRanges:b}},V.prototype.preparePlotArea=function(){var o=this.plotArea;if(!ee&&(0<o.x1||0<o.y1)&&o.ctx.translate(o.x1,o.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var g=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var h=this.axisY[0];o.x1=g.x1<g.x2?g.x1:h.lineCoordinates.x1,o.y1=g.y1<h.lineCoordinates.y1?g.y1:h.lineCoordinates.y1,o.x2=g.x2>h.lineCoordinates.x2?g.x2:h.lineCoordinates.x2,o.y2=g.y1>h.lineCoordinates.y2?g.y1:h.lineCoordinates.y2,o.width=o.x2-o.x1,o.height=o.y2-o.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(h=this.axisY2[0],o.x1=g.x1<g.x2?g.x1:h.lineCoordinates.x1,o.y1=g.y1<h.lineCoordinates.y1?g.y1:h.lineCoordinates.y1,o.x2=g.x2>h.lineCoordinates.x2?g.x2:h.lineCoordinates.x2,o.y2=g.y2>h.lineCoordinates.y2?g.y2:h.lineCoordinates.y2,o.width=o.x2-o.x1,o.height=o.y2-o.y1)}else g=this.layoutManager.getFreeSpace(),o.x1=g.x1,o.x2=g.x2,o.y1=g.y1,o.y2=g.y2,o.width=g.width,o.height=g.height;ee||(o.canvas.width=o.width,o.canvas.height=o.height,o.canvas.style.left=o.x1+"px",o.canvas.style.top=o.y1+"px",(0<o.x1||0<o.y1)&&o.ctx.translate(-o.x1,-o.y1)),o.layoutManager=new ce(o.x1,o.y1,o.x2,o.y2,2)},V.prototype.renderIndexLabels=function(o){var g=o||this.plotArea.ctx,h=this.plotArea,c=0,p=0,_=0,E=p=_=0,N=0,I=c=0,M=0;for(o=0;o<this._indexLabels.length;o++){var b=this._indexLabels[o],T=b.chartType.toLowerCase(),A,m,N=R("indexLabelFontColor",b.dataPoint,b.dataSeries),B=R("indexLabelFontSize",b.dataPoint,b.dataSeries),I=R("indexLabelFontFamily",b.dataPoint,b.dataSeries),M=R("indexLabelFontStyle",b.dataPoint,b.dataSeries);A=R("indexLabelFontWeight",b.dataPoint,b.dataSeries);var X=R("indexLabelBackgroundColor",b.dataPoint,b.dataSeries);m=R("indexLabelMaxWidth",b.dataPoint,b.dataSeries);var _=R("indexLabelWrap",b.dataPoint,b.dataSeries),Y=R("indexLabelLineDashType",b.dataPoint,b.dataSeries),O=R("indexLabelLineColor",b.dataPoint,b.dataSeries),Q=f(b.dataPoint.indexLabelLineThickness)?f(b.dataSeries.options.indexLabelLineThickness)?0:b.dataSeries.options.indexLabelLineThickness:b.dataPoint.indexLabelLineThickness,c=0<Q?Math.min(10,(this.plotInfo.axisPlacement==="normal"?this.plotArea.height:this.plotArea.width)<<0):0,G={percent:null,total:null},re=null;(0<=b.dataSeries.type.indexOf("stacked")||b.dataSeries.type==="pie"||b.dataSeries.type==="doughnut")&&(G=this.getPercentAndTotal(b.dataSeries,b.dataPoint)),(b.dataSeries.indexLabelFormatter||b.dataPoint.indexLabelFormatter)&&(re={chart:this,dataSeries:b.dataSeries,dataPoint:b.dataPoint,index:b.indexKeyword,total:G.total,percent:G.percent});var pe=b.dataPoint.indexLabelFormatter?b.dataPoint.indexLabelFormatter(re):b.dataPoint.indexLabel?this.replaceKeywordsWithValue(b.dataPoint.indexLabel,b.dataPoint,b.dataSeries,null,b.indexKeyword):b.dataSeries.indexLabelFormatter?b.dataSeries.indexLabelFormatter(re):b.dataSeries.indexLabel?this.replaceKeywordsWithValue(b.dataSeries.indexLabel,b.dataPoint,b.dataSeries,null,b.indexKeyword):null;if(pe!==null&&pe!==""){var G=R("indexLabelPlacement",b.dataPoint,b.dataSeries),re=R("indexLabelOrientation",b.dataPoint,b.dataSeries),se=R("indexLabelTextAlign",b.dataPoint,b.dataSeries),Le=b.direction,p=b.dataSeries.axisX,E=b.dataSeries.axisY,Be=!1,X=new le(g,{x:0,y:0,maxWidth:m||.5*this.width,maxHeight:_?5*B:1.5*B,angle:re==="horizontal"?0:-90,text:pe,padding:0,backgroundColor:X,textAlign:se,fontSize:B,fontFamily:I,fontWeight:A,fontColor:N,fontStyle:M,textBaseline:"middle"});if(X.measureText(),b.dataSeries.indexLabelMaxWidth=X.maxWidth,T==="stackedarea100"){if(b.point.x<h.x1||b.point.x>h.x2||b.point.y<h.y1-1||b.point.y>h.y2+1)continue}else if(T==="rangearea"||T==="rangesplinearea"){if(b.dataPoint.x<p.viewportMinimum||b.dataPoint.x>p.viewportMaximum||Math.max.apply(null,b.dataPoint.y)<E.viewportMinimum||Math.min.apply(null,b.dataPoint.y)>E.viewportMaximum)continue}else if(0<=T.indexOf("line")||0<=T.indexOf("area")||0<=T.indexOf("bubble")||0<=T.indexOf("scatter")){if(b.dataPoint.x<p.viewportMinimum||b.dataPoint.x>p.viewportMaximum||b.dataPoint.y<E.viewportMinimum||b.dataPoint.y>E.viewportMaximum)continue}else if(0<=T.indexOf("column")||T==="waterfall"||T==="error"&&!b.axisSwapped){if(b.dataPoint.x<p.viewportMinimum||b.dataPoint.x>p.viewportMaximum||b.bounds.y1>h.y2||b.bounds.y2<h.y1)continue}else if(0<=T.indexOf("bar")||T==="error"){if(b.dataPoint.x<p.viewportMinimum||b.dataPoint.x>p.viewportMaximum||b.bounds.x1>h.x2||b.bounds.x2<h.x1)continue}else if(T==="candlestick"||T==="ohlc"){if(b.dataPoint.x<p.viewportMinimum||b.dataPoint.x>p.viewportMaximum||Math.max.apply(null,b.dataPoint.y)<E.viewportMinimum||Math.min.apply(null,b.dataPoint.y)>E.viewportMaximum)continue}else if(b.dataPoint.x<p.viewportMinimum||b.dataPoint.x>p.viewportMaximum)continue;E=N=2,re==="horizontal"?(I=X.width,M=X.height):(M=X.width,I=X.height),this.plotInfo.axisPlacement==="normal"?(0<=T.indexOf("line")||0<=T.indexOf("area")?(G="auto",N=4):0<=T.indexOf("stacked")?G==="auto"&&(G="inside"):(T==="bubble"||T==="scatter")&&(G="inside"),A=b.point.x-I/2+(re==="horizontal"?0:X._lineHeight/2),G!=="inside"?(p=h.y1,_=h.y2,0<Le?(m=b.point.y+X._lineHeight/2-M-N-c,m<p&&(m=G==="auto"?Math.max(b.point.y,p)+X._lineHeight/2+N+c:p+X._lineHeight/2+N+c,Be=m+(re==="horizontal"?M-X._lineHeight/2:0)>b.point.y,!Be||0<=T.indexOf("line")||0<=T.indexOf("area")||(m-=c))):(m=b.point.y+X._lineHeight/2+N+c,m>_-M+X._lineHeight/2-N&&(m=G==="auto"?Math.min(b.point.y,_)+X._lineHeight/2-M-N-c:_+X._lineHeight/2-M-N-c,Be=m-(re==="horizontal"?X._lineHeight/2:M)<b.point.y,!Be||0<=T.indexOf("line")||0<=T.indexOf("area")||(m+=c)))):(Math.max(b.bounds.y1,h.y1),_=Math.min(b.bounds.y2,h.y2)-M+X._lineHeight/2,c=0<=T.indexOf("range")||T==="error"?0<Le?Math.max(b.bounds.y1,h.y1)+X._lineHeight/2+N:Math.min(b.bounds.y2,h.y2)+X._lineHeight/2-M-N:(Math.max(b.bounds.y1,h.y1)+Math.min(b.bounds.y2,h.y2))/2-M/2+X._lineHeight/2,0<Le?(m=c,(T==="bubble"||T==="scatter")&&(m=b.point.y-M/2+X._lineHeight/2,M>b.bounds.y2-b.bounds.y1&&(m-=M/2+N),0>m-X._lineHeight/2&&(m+=Math.abs(m-X._lineHeight/2)<=(b.bounds.y2-b.bounds.y1)/2+N?Math.abs(m-X._lineHeight/2):(b.bounds.y2-b.bounds.y1)/2+N))):(m=Math.min(b.point.y,c),m>_-M-N&&(T==="bubble"||T==="scatter")&&(m=Math.min(b.point.y+N,h.y2-M-N))),m=Math.min(m,_))):(0<=T.indexOf("line")||0<=T.indexOf("area")||0<=T.indexOf("scatter")?(G="auto",E=4):0<=T.indexOf("stacked")?G==="auto"&&(G="inside"):T==="bubble"&&(G="inside"),m=b.point.y+X._lineHeight/2-M/2,G!=="inside"?(_=h.x1,p=h.x2,0>Le?(A=b.point.x-I+(re==="horizontal"?0:X._lineHeight/2)-E-c,(re==="horizontal"?A:A-X._lineHeight/2)<_&&(A=G==="auto"?Math.max(b.point.x,_)+(re==="horizontal"?0:X._lineHeight/2)+N+c:_+(re==="horizontal"?0:X._lineHeight/2)+E,(Be=A+I-(re==="horizontal"?0:X._lineHeight/2)>b.point.x)&&(A-=c))):(A=b.point.x+(re==="horizontal"?0:X._lineHeight/2)+E+c,(re==="horizontal"?A:A-X._lineHeight/2)>p-I-E-c&&(A=G==="auto"?Math.min(b.point.x,p)-(re==="horizontal"?I:I-X._lineHeight/2)-E-c:p-I-E+(re==="horizontal"?0:X._lineHeight/2),(Be=A-(re==="horizontal"?0:X._lineHeight/2)<b.point.x)&&(A+=c)))):(_=Math.max(b.bounds.x1,h.x1),Math.min(b.bounds.x2,h.x2),c=0<=T.indexOf("range")||T==="error"?0>Le?Math.max(b.bounds.x1,h.x1):Math.min(b.bounds.x2,h.x2)-I-E+(re==="horizontal"?0:X._lineHeight/2):(Math.max(b.bounds.x1,h.x1)+Math.min(b.bounds.x2,h.x2))/2-I/2+(re==="horizontal"?0:X._lineHeight/2),A=0>Le?c:Math.min(b.point.x,c),A=Math.max(A,_+(re==="horizontal"?0:X._lineHeight/2+N)))),re==="vertical"&&(m+=M-X._lineHeight/2,0<="ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(T)&&(Be=0<Le?m+(re==="horizontal"?M-X._lineHeight/2:0)>b.point.y:m-(re==="horizontal"?X._lineHeight/2:M)<b.point.y),T==="bubble"||T==="scatter")&&(A+=X._lineHeight/2-B/2),X.x=A,X.y=m,X.render(!0),Q&&G!=="inside"&&(0>T.indexOf("bar")&&(T!=="error"||!b.axisSwapped)&&b.point.x>h.x1&&b.point.x<h.x2||!Be)&&("ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(T)===-1&&(T!=="error"||b.axisSwapped)&&b.point.y>h.y1&&b.point.y<h.y2||!Be)&&(g.lineWidth=Q,g.strokeStyle=O||"gray",g.setLineDash&&g.setLineDash(C(Y,Q)),g.beginPath(),g.moveTo(b.point.x,b.point.y),0<=T.indexOf("bar")||T==="error"&&b.axisSwapped?g.lineTo(A+(0<b.direction?0:I)+(re==="vertical"?-X._lineHeight/2:0),m+(re==="vertical"?-M/2:M/2-X._lineHeight/2)):0<=T.indexOf("column")||T==="error"&&!b.axisSwapped?g.lineTo(A+I/2-(re==="horizontal"?0:X._lineHeight/2),m+(re==="vertical"?m-M<b.point.y?0:-M:(m-X._lineHeight/2<b.point.y?M:0)-X._lineHeight/2)):0<=T.indexOf("waterfall")?g.lineTo(A+I/2-(re==="horizontal"?0:X._lineHeight/2),re==="vertical"?0<Le&&m<b.point.y?m:0>Le&&m-M>b.point.y?m-M:b.point.y:0<Le&&m+M-X._lineHeight/2<b.point.y?m+M-X._lineHeight/2:0>Le&&m-X._lineHeight/2>b.point.y?m-X._lineHeight/2:b.point.y):g.lineTo(A+I/2-(re==="horizontal"?0:X._lineHeight/2),m+(re==="vertical"?m-M<b.point.y?0:-M:(m+M-X._lineHeight/2<b.point.y?M:0)-X._lineHeight/2)),g.stroke())}}for(g={source:g,dest:this.plotArea.ctx,animationCallback:xt.fadeInAnimation,easingFunction:xt.easing.easeInQuad,animationBase:0,startTimePercent:.7},o=0;o<this._indexLabels.length;o++)b=this._indexLabels[o],X=R("indexLabelBackgroundColor",b.dataPoint,b.dataSeries),b.dataSeries.indexLabelBackgroundColor=f(X)?ee?"transparent":null:X;return g},V.prototype.renderLine=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g;if(!(0>=o.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx;h.save();var p=this.plotArea;h.beginPath(),h.rect(p.x1,p.y1,p.width,p.height),h.clip();for(var _=[],E,N=0;N<o.dataSeriesIndexes.length;N++){var I=o.dataSeriesIndexes[N],M=this.data[I];h.lineWidth=M.lineThickness;var b=M.dataPoints,T="solid";if(h.setLineDash){var A=C(M.nullDataLineDashType,M.lineThickness),T=M.lineDashType,m=C(T,M.lineThickness);h.setLineDash(m)}var B=M.id;this._eventManager.objectMap[B]={objectType:"dataSeries",dataSeriesIndex:I},B=u(B),c.strokeStyle=B,c.lineWidth=0<M.lineThickness?Math.max(M.lineThickness,4):0;var B=M._colorSet,X=B=M.lineColor=M.options.lineColor?M.options.lineColor:B[0];h.strokeStyle=B;var Y=!0,O=0,Q,G;if(h.beginPath(),0<b.length){for(var re=!1,O=0;O<b.length;O++)if(Q=b[O].x.getTime?b[O].x.getTime():b[O].x,!(Q<o.axisX.dataInfo.viewPortMin||Q>o.axisX.dataInfo.viewPortMax&&(!M.connectNullData||!re)))if(typeof b[O].y!="number")0<O&&!(M.connectNullData||re||Y)&&(h.stroke(),ee&&c.stroke()),re=!0;else{Q=o.axisX.convertValueToPixel(Q),G=o.axisY.convertValueToPixel(b[O].y);var pe=M.dataPointIds[O];if(this._eventManager.objectMap[pe]={id:pe,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:O,x1:Q,y1:G},Y||re?(!Y&&M.connectNullData?(h.setLineDash&&(M.options.nullDataLineDashType||T===M.lineDashType&&M.lineDashType!==M.nullDataLineDashType)&&(h.stroke(),h.beginPath(),h.moveTo(E.x,E.y),T=M.nullDataLineDashType,h.setLineDash(A)),h.lineTo(Q,G),ee&&c.lineTo(Q,G)):(h.beginPath(),h.moveTo(Q,G),ee&&(c.beginPath(),c.moveTo(Q,G))),re=Y=!1):(h.lineTo(Q,G),ee&&c.lineTo(Q,G),O%500==0&&(h.stroke(),h.beginPath(),h.moveTo(Q,G),ee&&(c.stroke(),c.beginPath(),c.moveTo(Q,G)))),E={x:Q,y:G},O<b.length-1&&(X!==(b[O].lineColor||B)||T!==(b[O].lineDashType||M.lineDashType))&&(h.stroke(),h.beginPath(),h.moveTo(Q,G),X=b[O].lineColor||B,h.strokeStyle=X,h.setLineDash&&(b[O].lineDashType?(T=b[O].lineDashType,h.setLineDash(C(T,M.lineThickness))):(T=M.lineDashType,h.setLineDash(m)))),b[O].markerSize!==0&&(0<b[O].markerSize||0<M.markerSize)){var se=M.getMarkerProperties(O,Q,G,h);_.push(se),pe=u(pe),ee&&_.push({x:Q,y:G,ctx:c,type:se.type,size:se.size,color:pe,borderColor:pe,borderThickness:se.borderThickness})}(b[O].indexLabel||M.indexLabel||b[O].indexLabelFormatter||M.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:b[O],dataSeries:M,point:{x:Q,y:G},direction:0>b[O].y===o.axisY.reversed?1:-1,color:B})}h.stroke(),ee&&c.stroke()}}return hn.drawMarkers(_),ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(p.x1,p.y1,p.width,p.height),c.beginPath()),h.restore(),h.beginPath(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.xClipAnimation,easingFunction:xt.easing.linear,animationBase:0}}},V.prototype.renderStepLine=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g;if(!(0>=o.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx;h.save();var p=this.plotArea;h.beginPath(),h.rect(p.x1,p.y1,p.width,p.height),h.clip();for(var _=[],E,N=0;N<o.dataSeriesIndexes.length;N++){var I=o.dataSeriesIndexes[N],M=this.data[I];h.lineWidth=M.lineThickness;var b=M.dataPoints,T="solid";if(h.setLineDash){var A=C(M.nullDataLineDashType,M.lineThickness),T=M.lineDashType,m=C(T,M.lineThickness);h.setLineDash(m)}var B=M.id;this._eventManager.objectMap[B]={objectType:"dataSeries",dataSeriesIndex:I},B=u(B),c.strokeStyle=B,c.lineWidth=0<M.lineThickness?Math.max(M.lineThickness,4):0;var B=M._colorSet,X=B=M.lineColor=M.options.lineColor?M.options.lineColor:B[0];h.strokeStyle=B;var Y=!0,O=0,Q,G;if(h.beginPath(),0<b.length){for(var re=!1,O=0;O<b.length;O++)if(Q=b[O].getTime?b[O].x.getTime():b[O].x,!(Q<o.axisX.dataInfo.viewPortMin||Q>o.axisX.dataInfo.viewPortMax&&(!M.connectNullData||!re)))if(typeof b[O].y!="number")0<O&&!(M.connectNullData||re||Y)&&(h.stroke(),ee&&c.stroke()),re=!0;else{var pe=G;Q=o.axisX.convertValueToPixel(Q),G=o.axisY.convertValueToPixel(b[O].y);var se=M.dataPointIds[O];this._eventManager.objectMap[se]={id:se,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:O,x1:Q,y1:G},Y||re?(!Y&&M.connectNullData?(h.setLineDash&&(M.options.nullDataLineDashType||T===M.lineDashType&&M.lineDashType!==M.nullDataLineDashType)&&(h.stroke(),h.beginPath(),h.moveTo(E.x,E.y),T=M.nullDataLineDashType,h.setLineDash(A)),h.lineTo(Q,pe),h.lineTo(Q,G),ee&&(c.lineTo(Q,pe),c.lineTo(Q,G))):(h.beginPath(),h.moveTo(Q,G),ee&&(c.beginPath(),c.moveTo(Q,G))),re=Y=!1):(h.lineTo(Q,pe),ee&&c.lineTo(Q,pe),h.lineTo(Q,G),ee&&c.lineTo(Q,G),O%500==0&&(h.stroke(),h.beginPath(),h.moveTo(Q,G),ee&&(c.stroke(),c.beginPath(),c.moveTo(Q,G)))),E={x:Q,y:G},O<b.length-1&&(X!==(b[O].lineColor||B)||T!==(b[O].lineDashType||M.lineDashType))&&(h.stroke(),h.beginPath(),h.moveTo(Q,G),X=b[O].lineColor||B,h.strokeStyle=X,h.setLineDash&&(b[O].lineDashType?(T=b[O].lineDashType,h.setLineDash(C(T,M.lineThickness))):(T=M.lineDashType,h.setLineDash(m)))),b[O].markerSize!==0&&(0<b[O].markerSize||0<M.markerSize)&&(pe=M.getMarkerProperties(O,Q,G,h),_.push(pe),se=u(se),ee&&_.push({x:Q,y:G,ctx:c,type:pe.type,size:pe.size,color:se,borderColor:se,borderThickness:pe.borderThickness})),(b[O].indexLabel||M.indexLabel||b[O].indexLabelFormatter||M.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:b[O],dataSeries:M,point:{x:Q,y:G},direction:0>b[O].y===o.axisY.reversed?1:-1,color:B})}h.stroke(),ee&&c.stroke()}}return hn.drawMarkers(_),ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(p.x1,p.y1,p.width,p.height),c.beginPath()),h.restore(),h.beginPath(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.xClipAnimation,easingFunction:xt.easing.linear,animationBase:0}}},V.prototype.renderSpline=function(o){function g(se){if(se=J(se,2),0<se.length){c.beginPath(),ee&&p.beginPath(),c.moveTo(se[0].x,se[0].y),se[0].newStrokeStyle&&(c.strokeStyle=se[0].newStrokeStyle),se[0].newLineDashArray&&c.setLineDash(se[0].newLineDashArray),ee&&p.moveTo(se[0].x,se[0].y);for(var Le=0;Le<se.length-3;Le+=3)c.bezierCurveTo(se[Le+1].x,se[Le+1].y,se[Le+2].x,se[Le+2].y,se[Le+3].x,se[Le+3].y),ee&&p.bezierCurveTo(se[Le+1].x,se[Le+1].y,se[Le+2].x,se[Le+2].y,se[Le+3].x,se[Le+3].y),(0<Le&&Le%3e3===0||se[Le+3].newStrokeStyle||se[Le+3].newLineDashArray)&&(c.stroke(),c.beginPath(),c.moveTo(se[Le+3].x,se[Le+3].y),se[Le+3].newStrokeStyle&&(c.strokeStyle=se[Le+3].newStrokeStyle),se[Le+3].newLineDashArray&&c.setLineDash(se[Le+3].newLineDashArray),ee&&(p.stroke(),p.beginPath(),p.moveTo(se[Le+3].x,se[Le+3].y)));c.stroke(),ee&&p.stroke()}}var h=o.targetCanvasCtx||this.plotArea.ctx,c=ee?this._preRenderCtx:h;if(!(0>=o.dataSeriesIndexes.length)){var p=this._eventManager.ghostCtx;c.save();var _=this.plotArea;c.beginPath(),c.rect(_.x1,_.y1,_.width,_.height),c.clip();for(var E=[],N=0;N<o.dataSeriesIndexes.length;N++){var I=o.dataSeriesIndexes[N],M=this.data[I];c.lineWidth=M.lineThickness;var b=M.dataPoints,T="solid";if(c.setLineDash){var A=C(M.nullDataLineDashType,M.lineThickness),T=M.lineDashType,m=C(T,M.lineThickness);c.setLineDash(m)}var B=M.id;this._eventManager.objectMap[B]={objectType:"dataSeries",dataSeriesIndex:I},B=u(B),p.strokeStyle=B,p.lineWidth=0<M.lineThickness?Math.max(M.lineThickness,4):0;var B=M._colorSet,X=B=M.lineColor=M.options.lineColor?M.options.lineColor:B[0];c.strokeStyle=B;var Y=0,O,Q,G=[];if(c.beginPath(),0<b.length){for(Q=!1,Y=0;Y<b.length;Y++)if(O=b[Y].getTime?b[Y].x.getTime():b[Y].x,!(O<o.axisX.dataInfo.viewPortMin||O>o.axisX.dataInfo.viewPortMax&&(!M.connectNullData||!Q)))if(typeof b[Y].y!="number")0<Y&&!Q&&(M.connectNullData?c.setLineDash&&0<G.length&&(M.options.nullDataLineDashType||!b[Y-1].lineDashType)&&(G[G.length-1].newLineDashArray=A,T=M.nullDataLineDashType):(g(G),G=[])),Q=!0;else{O=o.axisX.convertValueToPixel(O),Q=o.axisY.convertValueToPixel(b[Y].y);var re=M.dataPointIds[Y];if(this._eventManager.objectMap[re]={id:re,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:Y,x1:O,y1:Q},G[G.length]={x:O,y:Q},Y<b.length-1&&(X!==(b[Y].lineColor||B)||T!==(b[Y].lineDashType||M.lineDashType))&&(X=b[Y].lineColor||B,G[G.length-1].newStrokeStyle=X,c.setLineDash&&(b[Y].lineDashType?(T=b[Y].lineDashType,G[G.length-1].newLineDashArray=C(T,M.lineThickness)):(T=M.lineDashType,G[G.length-1].newLineDashArray=m))),b[Y].markerSize!==0&&(0<b[Y].markerSize||0<M.markerSize)){var pe=M.getMarkerProperties(Y,O,Q,c);E.push(pe),re=u(re),ee&&E.push({x:O,y:Q,ctx:p,type:pe.type,size:pe.size,color:re,borderColor:re,borderThickness:pe.borderThickness})}(b[Y].indexLabel||M.indexLabel||b[Y].indexLabelFormatter||M.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:b[Y],dataSeries:M,point:{x:O,y:Q},direction:0>b[Y].y===o.axisY.reversed?1:-1,color:B}),Q=!1}}g(G)}return hn.drawMarkers(E),ee&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&c.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&c.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.clearRect(_.x1,_.y1,_.width,_.height),p.beginPath()),c.restore(),c.beginPath(),{source:h,dest:this.plotArea.ctx,animationCallback:xt.xClipAnimation,easingFunction:xt.easing.linear,animationBase:0}}},V.prototype.renderColumn=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g;if(!(0>=o.dataSeriesIndexes.length)){var c=null,p=this.plotArea,M=0,_,E,N,I=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),M=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,b=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/o.plotType.totalDataSeries))<<0,T=o.axisX.dataInfo.minDiff;for(isFinite(T)||(T=.3*Math.abs(o.axisX.range)),T=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:.9*(p.width*(o.axisX.logarithmic?Math.log(T)/Math.log(o.axisX.range):Math.abs(T)/Math.abs(o.axisX.range))/o.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&M>b&&(M=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,b)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&b<M&&(b=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,M)),T<M&&(T=M),T>b&&(T=b),h.save(),ee&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(p.x1,p.y1,p.width,p.height),h.clip(),ee&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip()),b=0;b<o.dataSeriesIndexes.length;b++){var A=o.dataSeriesIndexes[b],m=this.data[A],B=m.dataPoints;if(0<B.length){for(var X=!!(5<T&&m.bevelEnabled),M=0;M<B.length;M++)if(B[M].getTime?N=B[M].x.getTime():N=B[M].x,!(N<o.axisX.dataInfo.viewPortMin||N>o.axisX.dataInfo.viewPortMax)&&typeof B[M].y=="number"){_=o.axisX.convertValueToPixel(N),E=o.axisY.convertValueToPixel(B[M].y),_=o.axisX.reversed?_+o.plotType.totalDataSeries*T/2-(o.previousDataSeriesCount+b)*T<<0:_-o.plotType.totalDataSeries*T/2+(o.previousDataSeriesCount+b)*T<<0;var Y=o.axisX.reversed?_-T<<0:_+T<<0,O;0<=B[M].y?O=I:(O=E,E=I),E>O&&(c=E,E=O,O=c),c=B[M].color?B[M].color:m._colorSet[M%m._colorSet.length],Ct(h,o.axisX.reversed?Y:_,E,o.axisX.reversed?_:Y,O,c,0,null,X&&(o.axisY.reversed?0>B[M].y:0<=B[M].y),(o.axisY.reversed?0<=B[M].y:0>B[M].y)&&X,!1,!1,m.fillOpacity),c=m.dataPointIds[M],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:A,dataPointIndex:M,x1:_,y1:E,x2:Y,y2:O},c=u(c),ee&&Ct(this._eventManager.ghostCtx,o.axisX.reversed?Y:_,E,o.axisX.reversed?_:Y,O,c,0,null,!1,!1),(B[M].indexLabel||m.indexLabel||B[M].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:B[M],dataSeries:m,point:{x:_+(Y-_)/2,y:0>B[M].y===o.axisY.reversed?E:O},direction:0>B[M].y===o.axisY.reversed?1:-1,bounds:{x1:_,y1:Math.min(E,O),x2:Y,y2:Math.max(E,O)},color:c})}}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.yScaleAnimation,easingFunction:xt.easing.easeOutQuart,animationBase:I<o.axisY.bounds.y1?o.axisY.bounds.y1:I>o.axisY.bounds.y2?o.axisY.bounds.y2:I}}},V.prototype.renderStackedColumn=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g;if(!(0>=o.dataSeriesIndexes.length)){var c=null,p=this.plotArea,_=[],E=[],N=[],I=[],A=0,M,b,T=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),A=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,B=o.axisX.dataInfo.minDiff;for(isFinite(B)||(B=.3*Math.abs(o.axisX.range)),B=this.options.dataPointWidth?this.dataPointWidth:.9*(p.width*(o.axisX.logarithmic?Math.log(B)/Math.log(o.axisX.range):Math.abs(B)/Math.abs(o.axisX.range))/o.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&A>m&&(A=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<A&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,A)),B<A&&(B=A),B>m&&(B=m),h.save(),ee&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(p.x1,p.y1,p.width,p.height),h.clip(),ee&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip()),m=0;m<o.dataSeriesIndexes.length;m++){var X=o.dataSeriesIndexes[m],Y=this.data[X],O=Y.dataPoints;if(0<O.length){var Q=!!(5<B&&Y.bevelEnabled);for(h.strokeStyle="#4572A7 ",A=0;A<O.length;A++)if(c=O[A].x.getTime?O[A].x.getTime():O[A].x,!(c<o.axisX.dataInfo.viewPortMin||c>o.axisX.dataInfo.viewPortMax)&&typeof O[A].y=="number"){M=o.axisX.convertValueToPixel(c),M=M-o.plotType.plotUnits.length*B/2+o.index*B<<0;var G=M+B<<0,re;if(o.axisY.logarithmic||o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0<O[A].y)N[c]=O[A].y+(N[c]?N[c]:0),0<N[c]&&(b=o.axisY.convertValueToPixel(N[c]),re=typeof _[c]<"u"?_[c]:T,_[c]=b);else if(o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0>=O[A].y)I[c]=O[A].y+(I[c]?I[c]:0),re=o.axisY.convertValueToPixel(I[c]),b=typeof E[c]<"u"?E[c]:T,E[c]=re;else if(b=o.axisY.convertValueToPixel(O[A].y),0<=O[A].y){var pe=typeof _[c]<"u"?_[c]:0;b-=pe,re=T-pe,_[c]=pe+(re-b)}else pe=E[c]?E[c]:0,re=b+pe,b=T+pe,E[c]=pe+(re-b);c=O[A].color?O[A].color:Y._colorSet[A%Y._colorSet.length],Ct(h,M,o.axisY.reversed?re:b,G,o.axisY.reversed?b:re,c,0,null,Q&&(o.axisY.reversed?0>O[A].y:0<=O[A].y),(o.axisY.reversed?0<=O[A].y:0>O[A].y)&&Q,!1,!1,Y.fillOpacity),c=Y.dataPointIds[A],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:X,dataPointIndex:A,x1:M,y1:b,x2:G,y2:re},c=u(c),ee&&Ct(this._eventManager.ghostCtx,M,b,G,re,c,0,null,!1,!1),(O[A].indexLabel||Y.indexLabel||O[A].indexLabelFormatter||Y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:O[A],dataSeries:Y,point:{x:M+(G-M)/2,y:0<=O[A].y?b:re},direction:0>O[A].y===o.axisY.reversed?1:-1,bounds:{x1:M,y1:Math.min(b,re),x2:G,y2:Math.max(b,re)},color:c})}}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.yScaleAnimation,easingFunction:xt.easing.easeOutQuart,animationBase:T<o.axisY.bounds.y1?o.axisY.bounds.y1:T>o.axisY.bounds.y2?o.axisY.bounds.y2:T}}},V.prototype.renderStackedColumn100=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g;if(!(0>=o.dataSeriesIndexes.length)){var c=null,p=this.plotArea,_=[],E=[],N=[],I=[],A=0,M,b,T=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),A=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,B=o.axisX.dataInfo.minDiff;for(isFinite(B)||(B=.3*Math.abs(o.axisX.range)),B=this.options.dataPointWidth?this.dataPointWidth:.9*(p.width*(o.axisX.logarithmic?Math.log(B)/Math.log(o.axisX.range):Math.abs(B)/Math.abs(o.axisX.range))/o.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&A>m&&(A=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<A&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,A)),B<A&&(B=A),B>m&&(B=m),h.save(),ee&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(p.x1,p.y1,p.width,p.height),h.clip(),ee&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip()),m=0;m<o.dataSeriesIndexes.length;m++){var X=o.dataSeriesIndexes[m],Y=this.data[X],O=Y.dataPoints;if(0<O.length){for(var Q=!!(5<B&&Y.bevelEnabled),A=0;A<O.length;A++)if(c=O[A].x.getTime?O[A].x.getTime():O[A].x,!(c<o.axisX.dataInfo.viewPortMin||c>o.axisX.dataInfo.viewPortMax)&&typeof O[A].y=="number"){M=o.axisX.convertValueToPixel(c),b=o.dataPointYSums[c]!==0?100*(O[A].y/o.dataPointYSums[c]):0,M=M-o.plotType.plotUnits.length*B/2+o.index*B<<0;var G=M+B<<0,re;if(o.axisY.logarithmic||o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0<O[A].y){if(N[c]=b+(typeof N[c]<"u"?N[c]:0),0>=N[c])continue;b=o.axisY.convertValueToPixel(N[c]),re=_[c]?_[c]:T,_[c]=b}else if(o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0>=O[A].y)I[c]=b+(typeof I[c]<"u"?I[c]:0),re=o.axisY.convertValueToPixel(I[c]),b=E[c]?E[c]:T,E[c]=re;else if(b=o.axisY.convertValueToPixel(b),0<=O[A].y){var pe=typeof _[c]<"u"?_[c]:0;b-=pe,re=T-pe,o.dataSeriesIndexes.length-1===m&&1>=Math.abs(p.y1-b)&&(b=p.y1),_[c]=pe+(re-b)}else pe=typeof E[c]<"u"?E[c]:0,re=b+pe,b=T+pe,o.dataSeriesIndexes.length-1===m&&1>=Math.abs(p.y2-re)&&(re=p.y2),E[c]=pe+(re-b);c=O[A].color?O[A].color:Y._colorSet[A%Y._colorSet.length],Ct(h,M,o.axisY.reversed?re:b,G,o.axisY.reversed?b:re,c,0,null,Q&&(o.axisY.reversed?0>O[A].y:0<=O[A].y),(o.axisY.reversed?0<=O[A].y:0>O[A].y)&&Q,!1,!1,Y.fillOpacity),c=Y.dataPointIds[A],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:X,dataPointIndex:A,x1:M,y1:b,x2:G,y2:re},c=u(c),ee&&Ct(this._eventManager.ghostCtx,M,b,G,re,c,0,null,!1,!1),(O[A].indexLabel||Y.indexLabel||O[A].indexLabelFormatter||Y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:O[A],dataSeries:Y,point:{x:M+(G-M)/2,y:0<=O[A].y?b:re},direction:0>O[A].y===o.axisY.reversed?1:-1,bounds:{x1:M,y1:Math.min(b,re),x2:G,y2:Math.max(b,re)},color:c})}}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.yScaleAnimation,easingFunction:xt.easing.easeOutQuart,animationBase:T<o.axisY.bounds.y1?o.axisY.bounds.y1:T>o.axisY.bounds.y2?o.axisY.bounds.y2:T}}},V.prototype.renderBar=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g;if(!(0>=o.dataSeriesIndexes.length)){var c=null,p=this.plotArea,M=0,_,E,N,I=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),M=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,b=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/o.plotType.totalDataSeries))<<0,T=o.axisX.dataInfo.minDiff;for(isFinite(T)||(T=.3*Math.abs(o.axisX.range)),T=this.options.dataPointWidth?this.dataPointWidth:.9*(p.height*(o.axisX.logarithmic?Math.log(T)/Math.log(o.axisX.range):Math.abs(T)/Math.abs(o.axisX.range))/o.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&M>b&&(M=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,b)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&b<M&&(b=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,M)),T<M&&(T=M),T>b&&(T=b),h.save(),ee&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(p.x1,p.y1,p.width,p.height),h.clip(),ee&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip()),b=0;b<o.dataSeriesIndexes.length;b++){var A=o.dataSeriesIndexes[b],m=this.data[A],B=m.dataPoints;if(0<B.length){var X=!!(5<T&&m.bevelEnabled);for(h.strokeStyle="#4572A7 ",M=0;M<B.length;M++)if(B[M].getTime?N=B[M].x.getTime():N=B[M].x,!(N<o.axisX.dataInfo.viewPortMin||N>o.axisX.dataInfo.viewPortMax)&&typeof B[M].y=="number"){E=o.axisX.convertValueToPixel(N),_=o.axisY.convertValueToPixel(B[M].y),E=o.axisX.reversed?E+o.plotType.totalDataSeries*T/2-(o.previousDataSeriesCount+b)*T<<0:E-o.plotType.totalDataSeries*T/2+(o.previousDataSeriesCount+b)*T<<0;var Y=o.axisX.reversed?E-T<<0:E+T<<0,O;0<=B[M].y?O=I:(O=_,_=I),c=B[M].color?B[M].color:m._colorSet[M%m._colorSet.length],Ct(h,o.axisY.reversed?_:O,o.axisX.reversed?Y:E,o.axisY.reversed?O:_,o.axisX.reversed?E:Y,c,0,null,X,!1,!1,!1,m.fillOpacity),c=m.dataPointIds[M],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:A,dataPointIndex:M,x1:O,y1:E,x2:_,y2:Y},c=u(c),ee&&Ct(this._eventManager.ghostCtx,O,o.axisX.reversed?Y:E,_,o.axisX.reversed?E:Y,c,0,null,!1,!1),(B[M].indexLabel||m.indexLabel||B[M].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:B[M],dataSeries:m,point:{x:0<=B[M].y?_:O,y:E+(Y-E)/2},direction:0>B[M].y===o.axisY.reversed?1:-1,bounds:{x1:Math.min(O,_),y1:E,x2:Math.max(O,_),y2:Y},color:c})}}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.xScaleAnimation,easingFunction:xt.easing.easeOutQuart,animationBase:I<o.axisY.bounds.x1?o.axisY.bounds.x1:I>o.axisY.bounds.x2?o.axisY.bounds.x2:I}}},V.prototype.renderStackedBar=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g;if(!(0>=o.dataSeriesIndexes.length)){var c=null,p=this.plotArea,_=[],E=[],N=[],I=[],A=0,M,b,T=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),A=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,B=o.axisX.dataInfo.minDiff;for(isFinite(B)||(B=.3*Math.abs(o.axisX.range)),B=this.options.dataPointWidth?this.dataPointWidth:.9*(p.height*(o.axisX.logarithmic?Math.log(B)/Math.log(o.axisX.range):Math.abs(B)/Math.abs(o.axisX.range))/o.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&A>m&&(A=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<A&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,A)),B<A&&(B=A),B>m&&(B=m),h.save(),ee&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(p.x1,p.y1,p.width,p.height),h.clip(),ee&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip()),m=0;m<o.dataSeriesIndexes.length;m++){var X=o.dataSeriesIndexes[m],Y=this.data[X],O=Y.dataPoints;if(0<O.length){var Q=!!(5<B&&Y.bevelEnabled);for(h.strokeStyle="#4572A7 ",A=0;A<O.length;A++)if(c=O[A].x.getTime?O[A].x.getTime():O[A].x,!(c<o.axisX.dataInfo.viewPortMin||c>o.axisX.dataInfo.viewPortMax)&&typeof O[A].y=="number"){b=o.axisX.convertValueToPixel(c),b=b-o.plotType.plotUnits.length*B/2+o.index*B<<0;var G=b+B<<0,re;if(o.axisY.logarithmic||o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0<O[A].y)N[c]=O[A].y+(N[c]?N[c]:0),0<N[c]&&(re=_[c]?_[c]:T,_[c]=M=o.axisY.convertValueToPixel(N[c]));else if(o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0>=O[A].y)I[c]=O[A].y+(I[c]?I[c]:0),M=E[c]?E[c]:T,E[c]=re=o.axisY.convertValueToPixel(I[c]);else if(M=o.axisY.convertValueToPixel(O[A].y),0<=O[A].y){var pe=_[c]?_[c]:0;re=T+pe,M+=pe,_[c]=pe+(M-re)}else pe=E[c]?E[c]:0,re=M-pe,M=T-pe,E[c]=pe+(M-re);c=O[A].color?O[A].color:Y._colorSet[A%Y._colorSet.length],Ct(h,o.axisY.reversed?M:re,b,o.axisY.reversed?re:M,G,c,0,null,Q,!1,!1,!1,Y.fillOpacity),c=Y.dataPointIds[A],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:X,dataPointIndex:A,x1:re,y1:b,x2:M,y2:G},c=u(c),ee&&Ct(this._eventManager.ghostCtx,re,b,M,G,c,0,null,!1,!1),(O[A].indexLabel||Y.indexLabel||O[A].indexLabelFormatter||Y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:O[A],dataSeries:Y,point:{x:0<=O[A].y?M:re,y:b+(G-b)/2},direction:0>O[A].y===o.axisY.reversed?1:-1,bounds:{x1:Math.min(re,M),y1:b,x2:Math.max(re,M),y2:G},color:c})}}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.xScaleAnimation,easingFunction:xt.easing.easeOutQuart,animationBase:T<o.axisY.bounds.x1?o.axisY.bounds.x1:T>o.axisY.bounds.x2?o.axisY.bounds.x2:T}}},V.prototype.renderStackedBar100=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g;if(!(0>=o.dataSeriesIndexes.length)){var c=null,p=this.plotArea,_=[],E=[],N=[],I=[],A=0,M,b,T=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),A=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,B=o.axisX.dataInfo.minDiff;for(isFinite(B)||(B=.3*Math.abs(o.axisX.range)),B=this.options.dataPointWidth?this.dataPointWidth:.9*(p.height*(o.axisX.logarithmic?Math.log(B)/Math.log(o.axisX.range):Math.abs(B)/Math.abs(o.axisX.range))/o.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&A>m&&(A=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<A&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,A)),B<A&&(B=A),B>m&&(B=m),h.save(),ee&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(p.x1,p.y1,p.width,p.height),h.clip(),ee&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip()),m=0;m<o.dataSeriesIndexes.length;m++){var X=o.dataSeriesIndexes[m],Y=this.data[X],O=Y.dataPoints;if(0<O.length){var Q=!!(5<B&&Y.bevelEnabled);for(h.strokeStyle="#4572A7 ",A=0;A<O.length;A++)if(c=O[A].x.getTime?O[A].x.getTime():O[A].x,!(c<o.axisX.dataInfo.viewPortMin||c>o.axisX.dataInfo.viewPortMax)&&typeof O[A].y=="number"){b=o.axisX.convertValueToPixel(c);var G;G=o.dataPointYSums[c]!==0?100*(O[A].y/o.dataPointYSums[c]):0,b=b-o.plotType.plotUnits.length*B/2+o.index*B<<0;var re=b+B<<0;if(o.axisY.logarithmic||o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0<O[A].y){if(N[c]=G+(N[c]?N[c]:0),0>=N[c])continue;G=_[c]?_[c]:T,_[c]=M=o.axisY.convertValueToPixel(N[c])}else if(o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length&&0>=O[A].y)I[c]=G+(I[c]?I[c]:0),M=E[c]?E[c]:T,E[c]=G=o.axisY.convertValueToPixel(I[c]);else if(M=o.axisY.convertValueToPixel(G),0<=O[A].y){var pe=_[c]?_[c]:0;G=T+pe,M+=pe,o.dataSeriesIndexes.length-1===m&&1>=Math.abs(p.x2-M)&&(M=p.x2),_[c]=pe+(M-G)}else pe=E[c]?E[c]:0,G=M-pe,M=T-pe,o.dataSeriesIndexes.length-1===m&&1>=Math.abs(p.x1-G)&&(G=p.x1),E[c]=pe+(M-G);c=O[A].color?O[A].color:Y._colorSet[A%Y._colorSet.length],Ct(h,o.axisY.reversed?M:G,b,o.axisY.reversed?G:M,re,c,0,null,Q,!1,!1,!1,Y.fillOpacity),c=Y.dataPointIds[A],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:X,dataPointIndex:A,x1:G,y1:b,x2:M,y2:re},c=u(c),ee&&Ct(this._eventManager.ghostCtx,G,b,M,re,c,0,null,!1,!1),(O[A].indexLabel||Y.indexLabel||O[A].indexLabelFormatter||Y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:O[A],dataSeries:Y,point:{x:0<=O[A].y?M:G,y:b+(re-b)/2},direction:0>O[A].y===o.axisY.reversed?1:-1,bounds:{x1:Math.min(G,M),y1:b,x2:Math.max(G,M),y2:re},color:c})}}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.xScaleAnimation,easingFunction:xt.easing.easeOutQuart,animationBase:T<o.axisY.bounds.x1?o.axisY.bounds.x1:T>o.axisY.bounds.x2?o.axisY.bounds.x2:T}}},V.prototype.renderArea=function(o){var g,h;function c(){pe&&(0<m.lineThickness&&_.stroke(),o.axisY.logarithmic||0>=o.axisY.viewportMinimum&&0<=o.axisY.viewportMaximum?re=G:0>o.axisY.viewportMaximum?re=N.y1:0<o.axisY.viewportMinimum&&(re=G),_.lineTo(Y,re),_.lineTo(pe.x,re),_.closePath(),_.globalAlpha=m.fillOpacity,_.fill(),_.globalAlpha=1,ee&&(E.lineTo(Y,re),E.lineTo(pe.x,re),E.closePath(),E.fill()),_.beginPath(),_.moveTo(Y,O),E.beginPath(),E.moveTo(Y,O),pe={x:Y,y:O})}var p=o.targetCanvasCtx||this.plotArea.ctx,_=ee?this._preRenderCtx:p;if(!(0>=o.dataSeriesIndexes.length)){var E=this._eventManager.ghostCtx,N=o.axisY.lineCoordinates,I=[],M=this.plotArea,b;_.save(),ee&&E.save(),_.beginPath(),_.rect(M.x1,M.y1,M.width,M.height),_.clip(),ee&&(E.beginPath(),E.rect(M.x1,M.y1,M.width,M.height),E.clip());for(var T=0;T<o.dataSeriesIndexes.length;T++){var A=o.dataSeriesIndexes[T],m=this.data[A],B=m.dataPoints,I=m.id;this._eventManager.objectMap[I]={objectType:"dataSeries",dataSeriesIndex:A},I=u(I),E.fillStyle=I,I=[],g=!0;var X=0,Y,O,Q,G=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),re,pe=null;if(0<B.length){var se=m._colorSet[X%m._colorSet.length],Le=m.lineColor=m.options.lineColor||se,Be=Le;if(_.fillStyle=se,_.strokeStyle=Le,_.lineWidth=m.lineThickness,h="solid",_.setLineDash){var xe=C(m.nullDataLineDashType,m.lineThickness);h=m.lineDashType;var Ce=C(h,m.lineThickness);_.setLineDash(Ce)}for(var ye=!0;X<B.length;X++)if(Q=B[X].x.getTime?B[X].x.getTime():B[X].x,!(Q<o.axisX.dataInfo.viewPortMin||Q>o.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!ye)))if(typeof B[X].y!="number")m.connectNullData||ye||g||c(),ye=!0;else{Y=o.axisX.convertValueToPixel(Q),O=o.axisY.convertValueToPixel(B[X].y),g||ye?(!g&&m.connectNullData?(_.setLineDash&&(m.options.nullDataLineDashType||h===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(g=Y,h=O,Y=b.x,O=b.y,c(),_.moveTo(b.x,b.y),Y=g,O=h,pe=b,h=m.nullDataLineDashType,_.setLineDash(xe)),_.lineTo(Y,O),ee&&E.lineTo(Y,O)):(_.beginPath(),_.moveTo(Y,O),ee&&(E.beginPath(),E.moveTo(Y,O)),pe={x:Y,y:O}),ye=g=!1):(_.lineTo(Y,O),ee&&E.lineTo(Y,O),X%250==0&&c()),b={x:Y,y:O},X<B.length-1&&(Be!==(B[X].lineColor||Le)||h!==(B[X].lineDashType||m.lineDashType))&&(c(),Be=B[X].lineColor||Le,_.strokeStyle=Be,_.setLineDash&&(B[X].lineDashType?(h=B[X].lineDashType,_.setLineDash(C(h,m.lineThickness))):(h=m.lineDashType,_.setLineDash(Ce))));var ve=m.dataPointIds[X];this._eventManager.objectMap[ve]={id:ve,objectType:"dataPoint",dataSeriesIndex:A,dataPointIndex:X,x1:Y,y1:O},B[X].markerSize!==0&&(0<B[X].markerSize||0<m.markerSize)&&(Q=m.getMarkerProperties(X,Y,O,_),I.push(Q),ve=u(ve),ee&&I.push({x:Y,y:O,ctx:E,type:Q.type,size:Q.size,color:ve,borderColor:ve,borderThickness:Q.borderThickness})),(B[X].indexLabel||m.indexLabel||B[X].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:B[X],dataSeries:m,point:{x:Y,y:O},direction:0>B[X].y===o.axisY.reversed?1:-1,color:se})}c(),hn.drawMarkers(I)}}return ee&&(p.drawImage(this._preRenderCanvas,0,0,this.width,this.height),_.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&_.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&_.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),_.clearRect(M.x1,M.y1,M.width,M.height),this._eventManager.ghostCtx.restore()),_.restore(),{source:p,dest:this.plotArea.ctx,animationCallback:xt.xClipAnimation,easingFunction:xt.easing.linear,animationBase:0}}},V.prototype.renderSplineArea=function(o){function g(){var ye=J(Q,2);if(0<ye.length){if(0<b.lineThickness){c.beginPath(),c.moveTo(ye[0].x,ye[0].y),ye[0].newStrokeStyle&&(c.strokeStyle=ye[0].newStrokeStyle),ye[0].newLineDashArray&&c.setLineDash(ye[0].newLineDashArray);for(var ve=0;ve<ye.length-3;ve+=3)c.bezierCurveTo(ye[ve+1].x,ye[ve+1].y,ye[ve+2].x,ye[ve+2].y,ye[ve+3].x,ye[ve+3].y),ee&&p.bezierCurveTo(ye[ve+1].x,ye[ve+1].y,ye[ve+2].x,ye[ve+2].y,ye[ve+3].x,ye[ve+3].y),(ye[ve+3].newStrokeStyle||ye[ve+3].newLineDashArray)&&(c.stroke(),c.beginPath(),c.moveTo(ye[ve+3].x,ye[ve+3].y),ye[ve+3].newStrokeStyle&&(c.strokeStyle=ye[ve+3].newStrokeStyle),ye[ve+3].newLineDashArray&&c.setLineDash(ye[ve+3].newLineDashArray));c.stroke()}for(c.beginPath(),c.moveTo(ye[0].x,ye[0].y),ee&&(p.beginPath(),p.moveTo(ye[0].x,ye[0].y)),ve=0;ve<ye.length-3;ve+=3)c.bezierCurveTo(ye[ve+1].x,ye[ve+1].y,ye[ve+2].x,ye[ve+2].y,ye[ve+3].x,ye[ve+3].y),ee&&p.bezierCurveTo(ye[ve+1].x,ye[ve+1].y,ye[ve+2].x,ye[ve+2].y,ye[ve+3].x,ye[ve+3].y);o.axisY.logarithmic||0>=o.axisY.viewportMinimum&&0<=o.axisY.viewportMaximum?Y=X:0>o.axisY.viewportMaximum?Y=_.y1:0<o.axisY.viewportMinimum&&(Y=X),O={x:ye[0].x,y:ye[0].y},c.lineTo(ye[ye.length-1].x,Y),c.lineTo(O.x,Y),c.closePath(),c.globalAlpha=b.fillOpacity,c.fill(),c.globalAlpha=1,ee&&(p.lineTo(ye[ye.length-1].x,Y),p.lineTo(O.x,Y),p.closePath(),p.fill())}}var h=o.targetCanvasCtx||this.plotArea.ctx,c=ee?this._preRenderCtx:h;if(!(0>=o.dataSeriesIndexes.length)){var p=this._eventManager.ghostCtx,_=o.axisY.lineCoordinates,E=[],N=this.plotArea;c.save(),ee&&p.save(),c.beginPath(),c.rect(N.x1,N.y1,N.width,N.height),c.clip(),ee&&(p.beginPath(),p.rect(N.x1,N.y1,N.width,N.height),p.clip());for(var I=0;I<o.dataSeriesIndexes.length;I++){var M=o.dataSeriesIndexes[I],b=this.data[M],T=b.dataPoints,E=b.id;this._eventManager.objectMap[E]={objectType:"dataSeries",dataSeriesIndex:M},E=u(E),p.fillStyle=E;var E=[],A=0,m,B,X=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),Y,O=null,Q=[];if(0<T.length){var G=b._colorSet[A%b._colorSet.length],re=b.lineColor=b.options.lineColor||G,pe=re;c.fillStyle=G,c.strokeStyle=re,c.lineWidth=b.lineThickness;var se="solid";if(c.setLineDash){var Le=C(b.nullDataLineDashType,b.lineThickness),se=b.lineDashType,Be=C(se,b.lineThickness);c.setLineDash(Be)}for(B=!1;A<T.length;A++)if(m=T[A].x.getTime?T[A].x.getTime():T[A].x,!(m<o.axisX.dataInfo.viewPortMin||m>o.axisX.dataInfo.viewPortMax&&(!b.connectNullData||!B)))if(typeof T[A].y!="number")0<A&&!B&&(b.connectNullData?c.setLineDash&&0<Q.length&&(b.options.nullDataLineDashType||!T[A-1].lineDashType)&&(Q[Q.length-1].newLineDashArray=Le,se=b.nullDataLineDashType):(g(),Q=[])),B=!0;else{m=o.axisX.convertValueToPixel(m),B=o.axisY.convertValueToPixel(T[A].y);var xe=b.dataPointIds[A];if(this._eventManager.objectMap[xe]={id:xe,objectType:"dataPoint",dataSeriesIndex:M,dataPointIndex:A,x1:m,y1:B},Q[Q.length]={x:m,y:B},A<T.length-1&&(pe!==(T[A].lineColor||re)||se!==(T[A].lineDashType||b.lineDashType))&&(pe=T[A].lineColor||re,Q[Q.length-1].newStrokeStyle=pe,c.setLineDash&&(T[A].lineDashType?(se=T[A].lineDashType,Q[Q.length-1].newLineDashArray=C(se,b.lineThickness)):(se=b.lineDashType,Q[Q.length-1].newLineDashArray=Be))),T[A].markerSize!==0&&(0<T[A].markerSize||0<b.markerSize)){var Ce=b.getMarkerProperties(A,m,B,c);E.push(Ce),xe=u(xe),ee&&E.push({x:m,y:B,ctx:p,type:Ce.type,size:Ce.size,color:xe,borderColor:xe,borderThickness:Ce.borderThickness})}(T[A].indexLabel||b.indexLabel||T[A].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:T[A],dataSeries:b,point:{x:m,y:B},direction:0>T[A].y===o.axisY.reversed?1:-1,color:G}),B=!1}g(),hn.drawMarkers(E)}}return ee&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&c.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&c.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.clearRect(N.x1,N.y1,N.width,N.height),this._eventManager.ghostCtx.restore()),c.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:xt.xClipAnimation,easingFunction:xt.easing.linear,animationBase:0}}},V.prototype.renderStepArea=function(o){var g,h;function c(){pe&&(0<m.lineThickness&&_.stroke(),o.axisY.logarithmic||0>=o.axisY.viewportMinimum&&0<=o.axisY.viewportMaximum?re=G:0>o.axisY.viewportMaximum?re=N.y1:0<o.axisY.viewportMinimum&&(re=G),_.lineTo(Y,re),_.lineTo(pe.x,re),_.closePath(),_.globalAlpha=m.fillOpacity,_.fill(),_.globalAlpha=1,ee&&(E.lineTo(Y,re),E.lineTo(pe.x,re),E.closePath(),E.fill()),_.beginPath(),_.moveTo(Y,O),E.beginPath(),E.moveTo(Y,O),pe={x:Y,y:O})}var p=o.targetCanvasCtx||this.plotArea.ctx,_=ee?this._preRenderCtx:p;if(!(0>=o.dataSeriesIndexes.length)){var E=this._eventManager.ghostCtx,N=o.axisY.lineCoordinates,I=[],M=this.plotArea,b;_.save(),ee&&E.save(),_.beginPath(),_.rect(M.x1,M.y1,M.width,M.height),_.clip(),ee&&(E.beginPath(),E.rect(M.x1,M.y1,M.width,M.height),E.clip());for(var T=0;T<o.dataSeriesIndexes.length;T++){var A=o.dataSeriesIndexes[T],m=this.data[A],B=m.dataPoints,I=m.id;this._eventManager.objectMap[I]={objectType:"dataSeries",dataSeriesIndex:A},I=u(I),E.fillStyle=I,I=[],g=!0;var X=0,Y,O,Q,G=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),re,pe=null;if(h=!1,0<B.length){var se=m._colorSet[X%m._colorSet.length],Le=m.lineColor=m.options.lineColor||se,Be=Le;_.fillStyle=se,_.strokeStyle=Le,_.lineWidth=m.lineThickness;var xe="solid";if(_.setLineDash){var Ce=C(m.nullDataLineDashType,m.lineThickness),xe=m.lineDashType,ye=C(xe,m.lineThickness);_.setLineDash(ye)}for(;X<B.length;X++)if(Q=B[X].x.getTime?B[X].x.getTime():B[X].x,!(Q<o.axisX.dataInfo.viewPortMin||Q>o.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!h))){var ve=O;typeof B[X].y!="number"?(m.connectNullData||h||g||c(),h=!0):(Y=o.axisX.convertValueToPixel(Q),O=o.axisY.convertValueToPixel(B[X].y),g||h?(!g&&m.connectNullData?(_.setLineDash&&(m.options.nullDataLineDashType||xe===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(g=Y,h=O,Y=b.x,O=b.y,c(),_.moveTo(b.x,b.y),Y=g,O=h,pe=b,xe=m.nullDataLineDashType,_.setLineDash(Ce)),_.lineTo(Y,ve),_.lineTo(Y,O),ee&&(E.lineTo(Y,ve),E.lineTo(Y,O))):(_.beginPath(),_.moveTo(Y,O),ee&&(E.beginPath(),E.moveTo(Y,O)),pe={x:Y,y:O}),h=g=!1):(_.lineTo(Y,ve),ee&&E.lineTo(Y,ve),_.lineTo(Y,O),ee&&E.lineTo(Y,O),X%250==0&&c()),b={x:Y,y:O},X<B.length-1&&(Be!==(B[X].lineColor||Le)||xe!==(B[X].lineDashType||m.lineDashType))&&(c(),Be=B[X].lineColor||Le,_.strokeStyle=Be,_.setLineDash&&(B[X].lineDashType?(xe=B[X].lineDashType,_.setLineDash(C(xe,m.lineThickness))):(xe=m.lineDashType,_.setLineDash(ye)))),Q=m.dataPointIds[X],this._eventManager.objectMap[Q]={id:Q,objectType:"dataPoint",dataSeriesIndex:A,dataPointIndex:X,x1:Y,y1:O},B[X].markerSize!==0&&(0<B[X].markerSize||0<m.markerSize)&&(ve=m.getMarkerProperties(X,Y,O,_),I.push(ve),Q=u(Q),ee&&I.push({x:Y,y:O,ctx:E,type:ve.type,size:ve.size,color:Q,borderColor:Q,borderThickness:ve.borderThickness})),(B[X].indexLabel||m.indexLabel||B[X].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:B[X],dataSeries:m,point:{x:Y,y:O},direction:0>B[X].y===o.axisY.reversed?1:-1,color:se}))}c(),hn.drawMarkers(I)}}return ee&&(p.drawImage(this._preRenderCanvas,0,0,this.width,this.height),_.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&_.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&_.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),_.clearRect(M.x1,M.y1,M.width,M.height),this._eventManager.ghostCtx.restore()),_.restore(),{source:p,dest:this.plotArea.ctx,animationCallback:xt.xClipAnimation,easingFunction:xt.easing.linear,animationBase:0}}},V.prototype.renderStackedArea=function(o){function g(){if(!(1>M.length)){for(0<se.lineThickness&&c.stroke();0<M.length;){var de=M.pop();c.lineTo(de.x,de.y),ee&&Y.lineTo(de.x,de.y)}c.closePath(),c.globalAlpha=se.fillOpacity,c.fill(),c.globalAlpha=1,c.beginPath(),ee&&(Y.closePath(),Y.fill(),Y.beginPath()),M=[]}}var h=o.targetCanvasCtx||this.plotArea.ctx,c=ee?this._preRenderCtx:h;if(!(0>=o.dataSeriesIndexes.length)){var p=null,_=null,E=[],N=this.plotArea,I=[],M=[],b=[],T=[],A=0,m,B,X=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),Y=this._eventManager.ghostCtx,O,Q,G;ee&&Y.beginPath(),c.save(),ee&&Y.save(),c.beginPath(),c.rect(N.x1,N.y1,N.width,N.height),c.clip(),ee&&(Y.beginPath(),Y.rect(N.x1,N.y1,N.width,N.height),Y.clip());for(var p=[],re=0;re<o.dataSeriesIndexes.length;re++){var pe=o.dataSeriesIndexes[re],se=this.data[pe],Le=se.dataPoints;for(se.dataPointIndexes=[],A=0;A<Le.length;A++)pe=Le[A].x.getTime?Le[A].x.getTime():Le[A].x,se.dataPointIndexes[pe]=A,p[pe]||(b.push(pe),p[pe]=!0);b.sort(l)}for(re=0;re<o.dataSeriesIndexes.length;re++){if(pe=o.dataSeriesIndexes[re],se=this.data[pe],Le=se.dataPoints,Q=!0,M=[],A=se.id,this._eventManager.objectMap[A]={objectType:"dataSeries",dataSeriesIndex:pe},A=u(A),Y.fillStyle=A,0<b.length){var p=se._colorSet[0],Be=se.lineColor=se.options.lineColor||p,xe=Be;if(c.fillStyle=p,c.strokeStyle=Be,c.lineWidth=se.lineThickness,G="solid",c.setLineDash){var Ce=C(se.nullDataLineDashType,se.lineThickness);G=se.lineDashType;var ye=C(G,se.lineThickness);c.setLineDash(ye)}for(var ve=!0,A=0;A<b.length;A++){var _=b[A],ae=null,ae=0<=se.dataPointIndexes[_]?Le[se.dataPointIndexes[_]]:{x:_,y:null};if(!(_<o.axisX.dataInfo.viewPortMin||_>o.axisX.dataInfo.viewPortMax&&(!se.connectNullData||!ve)))if(typeof ae.y!="number")se.connectNullData||ve||Q||g(),ve=!0;else{m=o.axisX.convertValueToPixel(_);var Re=I[_]?I[_]:0;if(o.axisY.logarithmic||o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length){if(T[_]=ae.y+(T[_]?T[_]:0),0>=T[_]&&o.axisY.logarithmic)continue;B=o.axisY.convertValueToPixel(T[_])}else B=o.axisY.convertValueToPixel(ae.y),B-=Re;if(M.push({x:m,y:X-Re}),I[_]=X-B,Q||ve?(!Q&&se.connectNullData?(c.setLineDash&&(se.options.nullDataLineDashType||G===se.lineDashType&&se.lineDashType!==se.nullDataLineDashType)&&(Q=M.pop(),G=M[M.length-1],g(),c.moveTo(O.x,O.y),M.push(G),M.push(Q),G=se.nullDataLineDashType,c.setLineDash(Ce)),c.lineTo(m,B),ee&&Y.lineTo(m,B)):(c.beginPath(),c.moveTo(m,B),ee&&(Y.beginPath(),Y.moveTo(m,B))),ve=Q=!1):(c.lineTo(m,B),ee&&Y.lineTo(m,B),A%250==0&&(g(),c.moveTo(m,B),ee&&Y.moveTo(m,B),M.push({x:m,y:X-Re}))),O={x:m,y:B},A<Le.length-1&&(xe!==(Le[A].lineColor||Be)||G!==(Le[A].lineDashType||se.lineDashType))&&(g(),c.beginPath(),c.moveTo(m,B),M.push({x:m,y:X-Re}),xe=Le[A].lineColor||Be,c.strokeStyle=xe,c.setLineDash&&(Le[A].lineDashType?(G=Le[A].lineDashType,c.setLineDash(C(G,se.lineThickness))):(G=se.lineDashType,c.setLineDash(ye)))),0<=se.dataPointIndexes[_]){var je=se.dataPointIds[se.dataPointIndexes[_]];this._eventManager.objectMap[je]={id:je,objectType:"dataPoint",dataSeriesIndex:pe,dataPointIndex:se.dataPointIndexes[_],x1:m,y1:B}}0<=se.dataPointIndexes[_]&&ae.markerSize!==0&&(0<ae.markerSize||0<se.markerSize)&&(Re=se.getMarkerProperties(se.dataPointIndexes[_],m,B,c),E.push(Re),_=u(je),ee&&E.push({x:m,y:B,ctx:Y,type:Re.type,size:Re.size,color:_,borderColor:_,borderThickness:Re.borderThickness})),(ae.indexLabel||se.indexLabel||ae.indexLabelFormatter||se.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:ae,dataSeries:se,point:{x:m,y:B},direction:0>ae.y===o.axisY.reversed?1:-1,color:p})}}g(),c.moveTo(m,B),ee&&Y.moveTo(m,B)}delete se.dataPointIndexes}return hn.drawMarkers(E),ee&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&c.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&c.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.clearRect(N.x1,N.y1,N.width,N.height),Y.restore()),c.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:xt.xClipAnimation,easingFunction:xt.easing.linear,animationBase:0}}},V.prototype.renderStackedArea100=function(o){function g(){for(0<se.lineThickness&&c.stroke();0<M.length;){var At=M.pop();c.lineTo(At.x,At.y),ee&&G.lineTo(At.x,At.y)}c.closePath(),c.globalAlpha=se.fillOpacity,c.fill(),c.globalAlpha=1,c.beginPath(),ee&&(G.closePath(),G.fill(),G.beginPath()),M=[]}var h=o.targetCanvasCtx||this.plotArea.ctx,c=ee?this._preRenderCtx:h;if(!(0>=o.dataSeriesIndexes.length)){var p=null,_=null,E=this.plotArea,N=[],I=[],M=[],b=[],T=[],A=0,m,B,X,Y,O,Q=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),G=this._eventManager.ghostCtx;c.save(),ee&&G.save(),c.beginPath(),c.rect(E.x1,E.y1,E.width,E.height),c.clip(),ee&&(G.beginPath(),G.rect(E.x1,E.y1,E.width,E.height),G.clip());for(var p=[],re=0;re<o.dataSeriesIndexes.length;re++){var pe=o.dataSeriesIndexes[re],se=this.data[pe],Le=se.dataPoints;for(se.dataPointIndexes=[],A=0;A<Le.length;A++)pe=Le[A].x.getTime?Le[A].x.getTime():Le[A].x,se.dataPointIndexes[pe]=A,p[pe]||(b.push(pe),p[pe]=!0);b.sort(l)}for(re=0;re<o.dataSeriesIndexes.length;re++){if(pe=o.dataSeriesIndexes[re],se=this.data[pe],Le=se.dataPoints,Y=!0,p=se.id,this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:pe},p=u(p),G.fillStyle=p,M=[],0<b.length){var p=se._colorSet[A%se._colorSet.length],Be=se.lineColor=se.options.lineColor||p,xe=Be;if(c.fillStyle=p,c.strokeStyle=Be,c.lineWidth=se.lineThickness,O="solid",c.setLineDash){var Ce=C(se.nullDataLineDashType,se.lineThickness);O=se.lineDashType;var ye=C(O,se.lineThickness);c.setLineDash(ye)}for(var ve=!0,A=0;A<b.length;A++){var _=b[A],ae=null,ae=0<=se.dataPointIndexes[_]?Le[se.dataPointIndexes[_]]:{x:_,y:null};if(!(_<o.axisX.dataInfo.viewPortMin||_>o.axisX.dataInfo.viewPortMax&&(!se.connectNullData||!ve)))if(typeof ae.y!="number")se.connectNullData||ve||Y||g(),ve=!0;else{var Re;Re=o.dataPointYSums[_]!==0?100*(ae.y/o.dataPointYSums[_]):0,m=o.axisX.convertValueToPixel(_);var je=I[_]?I[_]:0;if(o.axisY.logarithmic||o.axisY.scaleBreaks&&0<o.axisY.scaleBreaks._appliedBreaks.length){if(T[_]=Re+(T[_]?T[_]:0),0>=T[_]&&o.axisY.logarithmic)continue;B=o.axisY.convertValueToPixel(T[_])}else B=o.axisY.convertValueToPixel(Re),B-=je;if(M.push({x:m,y:Q-je}),I[_]=Q-B,Y||ve?(!Y&&se.connectNullData?(c.setLineDash&&(se.options.nullDataLineDashType||O===se.lineDashType&&se.lineDashType!==se.nullDataLineDashType)&&(Y=M.pop(),O=M[M.length-1],g(),c.moveTo(X.x,X.y),M.push(O),M.push(Y),O=se.nullDataLineDashType,c.setLineDash(Ce)),c.lineTo(m,B),ee&&G.lineTo(m,B)):(c.beginPath(),c.moveTo(m,B),ee&&(G.beginPath(),G.moveTo(m,B))),ve=Y=!1):(c.lineTo(m,B),ee&&G.lineTo(m,B),A%250==0&&(g(),c.moveTo(m,B),ee&&G.moveTo(m,B),M.push({x:m,y:Q-je}))),X={x:m,y:B},A<Le.length-1&&(xe!==(Le[A].lineColor||Be)||O!==(Le[A].lineDashType||se.lineDashType))&&(g(),c.beginPath(),c.moveTo(m,B),M.push({x:m,y:Q-je}),xe=Le[A].lineColor||Be,c.strokeStyle=xe,c.setLineDash&&(Le[A].lineDashType?(O=Le[A].lineDashType,c.setLineDash(C(O,se.lineThickness))):(O=se.lineDashType,c.setLineDash(ye)))),0<=se.dataPointIndexes[_]){var de=se.dataPointIds[se.dataPointIndexes[_]];this._eventManager.objectMap[de]={id:de,objectType:"dataPoint",dataSeriesIndex:pe,dataPointIndex:se.dataPointIndexes[_],x1:m,y1:B}}0<=se.dataPointIndexes[_]&&ae.markerSize!==0&&(0<ae.markerSize||0<se.markerSize)&&(je=se.getMarkerProperties(se.dataPointIndexes[_],m,B,c),N.push(je),_=u(de),ee&&N.push({x:m,y:B,ctx:G,type:je.type,size:je.size,color:_,borderColor:_,borderThickness:je.borderThickness})),(ae.indexLabel||se.indexLabel||ae.indexLabelFormatter||se.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:ae,dataSeries:se,point:{x:m,y:B},direction:0>ae.y===o.axisY.reversed?1:-1,color:p})}}g(),c.moveTo(m,B),ee&&G.moveTo(m,B)}delete se.dataPointIndexes}return hn.drawMarkers(N),ee&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&c.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&c.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.clearRect(E.x1,E.y1,E.width,E.height),G.restore()),c.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:xt.xClipAnimation,easingFunction:xt.easing.linear,animationBase:0}}},V.prototype.renderBubble=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g;if(!(0>=o.dataSeriesIndexes.length)){var c=this.plotArea,p=0,_,E;h.save(),ee&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(c.x1,c.y1,c.width,c.height),h.clip(),ee&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip());for(var N=-1/0,I=1/0,M=0;M<o.dataSeriesIndexes.length;M++)for(var b=o.dataSeriesIndexes[M],T=this.data[b],A=T.dataPoints,m=0,p=0;p<A.length;p++)_=A[p].getTime?_=A[p].x.getTime():_=A[p].x,_<o.axisX.dataInfo.viewPortMin||_>o.axisX.dataInfo.viewPortMax||typeof A[p].z>"u"||(m=A[p].z,m>N&&(N=m),m<I&&(I=m));for(var B=25*Math.PI,X=Math.max(Math.pow(.25*Math.min(c.height,c.width)/2,2)*Math.PI,B),M=0;M<o.dataSeriesIndexes.length;M++)if(b=o.dataSeriesIndexes[M],T=this.data[b],A=T.dataPoints,0<A.length){for(h.strokeStyle="#4572A7 ",p=0;p<A.length;p++)if(_=A[p].getTime?_=A[p].x.getTime():_=A[p].x,!(_<o.axisX.dataInfo.viewPortMin||_>o.axisX.dataInfo.viewPortMax)&&typeof A[p].y=="number"){_=o.axisX.convertValueToPixel(_),E=o.axisY.convertValueToPixel(A[p].y);var m=A[p].z,Y=2*Math.max(Math.sqrt((N===I?X/2:B+(X-B)/(N-I)*(m-I))/Math.PI)<<0,1),m=T.getMarkerProperties(p,h);m.size=Y,h.globalAlpha=T.fillOpacity,hn.drawMarker(_,E,h,m.type,m.size,m.color,m.borderColor,m.borderThickness),h.globalAlpha=1;var O=T.dataPointIds[p];this._eventManager.objectMap[O]={id:O,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:p,x1:_,y1:E,size:Y},Y=u(O),ee&&hn.drawMarker(_,E,this._eventManager.ghostCtx,m.type,m.size,Y,Y,m.borderThickness),(A[p].indexLabel||T.indexLabel||A[p].indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:A[p],dataSeries:T,point:{x:_,y:E},direction:1,bounds:{x1:_-m.size/2,y1:E-m.size/2,x2:_+m.size/2,y2:E+m.size/2},color:null})}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.fadeInAnimation,easingFunction:xt.easing.easeInQuad,animationBase:0}}},V.prototype.renderScatter=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g;if(!(0>=o.dataSeriesIndexes.length)){var c=this.plotArea,p=0,_,E;h.save(),ee&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(c.x1,c.y1,c.width,c.height),h.clip(),ee&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip());for(var N=0;N<o.dataSeriesIndexes.length;N++){var I=o.dataSeriesIndexes[N],M=this.data[I],b=M.dataPoints;if(0<b.length){h.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(c.height,c.width)/2,2);for(var T=0,A=0,p=0;p<b.length;p++)if(_=b[p].getTime?_=b[p].x.getTime():_=b[p].x,!(_<o.axisX.dataInfo.viewPortMin||_>o.axisX.dataInfo.viewPortMax)&&typeof b[p].y=="number"){_=o.axisX.convertValueToPixel(_),E=o.axisY.convertValueToPixel(b[p].y);var m=M.getMarkerProperties(p,_,E,h);h.globalAlpha=M.fillOpacity,hn.drawMarker(m.x,m.y,m.ctx,m.type,m.size,m.color,m.borderColor,m.borderThickness),h.globalAlpha=1,Math.sqrt((T-_)*(T-_)+(A-E)*(A-E))<Math.min(m.size,5)&&b.length>Math.min(this.plotArea.width,this.plotArea.height)||(T=M.dataPointIds[p],this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:p,x1:_,y1:E},T=u(T),ee&&hn.drawMarker(m.x,m.y,this._eventManager.ghostCtx,m.type,m.size,T,T,m.borderThickness),(b[p].indexLabel||M.indexLabel||b[p].indexLabelFormatter||M.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:b[p],dataSeries:M,point:{x:_,y:E},direction:1,bounds:{x1:_-m.size/2,y1:E-m.size/2,x2:_+m.size/2,y2:E+m.size/2},color:null}),T=_,A=E)}}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.fadeInAnimation,easingFunction:xt.easing.easeInQuad,animationBase:0}}},V.prototype.renderCandlestick=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g,c=this._eventManager.ghostCtx;if(!(0>=o.dataSeriesIndexes.length)){var A=null,m=null,p=this.plotArea,_=0,E,N,I,M,b,T,A=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,B=o.axisX.dataInfo.minDiff;isFinite(B)||(B=.3*Math.abs(o.axisX.range)),B=this.options.dataPointWidth?this.dataPointWidth:.7*p.width*(o.axisX.logarithmic?Math.log(B)/Math.log(o.axisX.range):Math.abs(B)/Math.abs(o.axisX.range))<<0,this.dataPointMaxWidth&&A>m&&(A=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<A&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,A)),B<A&&(B=A),B>m&&(B=m),h.save(),ee&&c.save(),h.beginPath(),h.rect(p.x1,p.y1,p.width,p.height),h.clip(),ee&&(c.beginPath(),c.rect(p.x1,p.y1,p.width,p.height),c.clip());for(var X=0;X<o.dataSeriesIndexes.length;X++){var Y=o.dataSeriesIndexes[X],O=this.data[Y],Q=O.dataPoints;if(0<Q.length){for(var G=!!(5<B&&O.bevelEnabled),_=0;_<Q.length;_++)if(Q[_].getTime?T=Q[_].x.getTime():T=Q[_].x,!(T<o.axisX.dataInfo.viewPortMin||T>o.axisX.dataInfo.viewPortMax)&&!f(Q[_].y)&&Q[_].y.length&&typeof Q[_].y[0]=="number"&&typeof Q[_].y[1]=="number"&&typeof Q[_].y[2]=="number"&&typeof Q[_].y[3]=="number"){E=o.axisX.convertValueToPixel(T),N=o.axisY.convertValueToPixel(Q[_].y[0]),I=o.axisY.convertValueToPixel(Q[_].y[1]),M=o.axisY.convertValueToPixel(Q[_].y[2]),b=o.axisY.convertValueToPixel(Q[_].y[3]);var re=E-B/2<<0,pe=re+B<<0,m=O.options.fallingColor?O.fallingColor:O._colorSet[0],A=Q[_].color?Q[_].color:O._colorSet[0],se=Math.round(Math.max(1,.15*B)),Le=se%2===0?0:.5,Be=O.dataPointIds[_];this._eventManager.objectMap[Be]={id:Be,objectType:"dataPoint",dataSeriesIndex:Y,dataPointIndex:_,x1:re,y1:N,x2:pe,y2:I,x3:E,y3:M,x4:E,y4:b,borderThickness:se,color:A},h.strokeStyle=A,h.beginPath(),h.lineWidth=se,c.lineWidth=Math.max(se,4),O.type==="candlestick"?(h.moveTo(E-Le,I),h.lineTo(E-Le,Math.min(N,b)),h.stroke(),h.moveTo(E-Le,Math.max(N,b)),h.lineTo(E-Le,M),h.stroke(),Ct(h,re,Math.min(N,b),pe,Math.max(N,b),Q[_].y[0]<=Q[_].y[3]?O.risingColor:m,se,A,G,G,!1,!1,O.fillOpacity),ee&&(A=u(Be),c.strokeStyle=A,c.moveTo(E-Le,I),c.lineTo(E-Le,Math.min(N,b)),c.stroke(),c.moveTo(E-Le,Math.max(N,b)),c.lineTo(E-Le,M),c.stroke(),Ct(c,re,Math.min(N,b),pe,Math.max(N,b),A,0,null,!1,!1))):O.type==="ohlc"&&(h.moveTo(E-Le,I),h.lineTo(E-Le,M),h.stroke(),h.beginPath(),h.moveTo(E,N),h.lineTo(re,N),h.stroke(),h.beginPath(),h.moveTo(E,b),h.lineTo(pe,b),h.stroke(),ee&&(A=u(Be),c.strokeStyle=A,c.moveTo(E-Le,I),c.lineTo(E-Le,M),c.stroke(),c.beginPath(),c.moveTo(E,N),c.lineTo(re,N),c.stroke(),c.beginPath(),c.moveTo(E,b),c.lineTo(pe,b),c.stroke())),(Q[_].indexLabel||O.indexLabel||Q[_].indexLabelFormatter||O.indexLabelFormatter)&&this._indexLabels.push({chartType:O.type,dataPoint:Q[_],dataSeries:O,point:{x:re+(pe-re)/2,y:o.axisY.reversed?M:I},direction:1,bounds:{x1:re,y1:Math.min(I,M),x2:pe,y2:Math.max(I,M)},color:A})}}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(p.x1,p.y1,p.width,p.height),c.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.fadeInAnimation,easingFunction:xt.easing.easeInQuad,animationBase:0}}},V.prototype.renderBoxAndWhisker=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g,c=this._eventManager.ghostCtx;if(!(0>=o.dataSeriesIndexes.length)){var A=null,p=this.plotArea,m=0,_,E,N,I,M,b,T,A=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,B=o.axisX.dataInfo.minDiff;isFinite(B)||(B=.3*Math.abs(o.axisX.range)),B=this.options.dataPointWidth?this.dataPointWidth:.7*p.width*(o.axisX.logarithmic?Math.log(B)/Math.log(o.axisX.range):Math.abs(B)/Math.abs(o.axisX.range))<<0,this.dataPointMaxWidth&&A>m&&(A=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<A&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,A)),B<A&&(B=A),B>m&&(B=m),h.save(),ee&&c.save(),h.beginPath(),h.rect(p.x1,p.y1,p.width,p.height),h.clip(),ee&&(c.beginPath(),c.rect(p.x1,p.y1,p.width,p.height),c.clip());for(var X=!1,X=!!o.axisY.reversed,Y=0;Y<o.dataSeriesIndexes.length;Y++){var O=o.dataSeriesIndexes[Y],Q=this.data[O],G=Q.dataPoints;if(0<G.length){for(var re=!!(5<B&&Q.bevelEnabled),m=0;m<G.length;m++)if(G[m].getTime?T=G[m].x.getTime():T=G[m].x,!(T<o.axisX.dataInfo.viewPortMin||T>o.axisX.dataInfo.viewPortMax)&&!f(G[m].y)&&G[m].y.length&&typeof G[m].y[0]=="number"&&typeof G[m].y[1]=="number"&&typeof G[m].y[2]=="number"&&typeof G[m].y[3]=="number"&&typeof G[m].y[4]=="number"&&G[m].y.length===5){_=o.axisX.convertValueToPixel(T),E=o.axisY.convertValueToPixel(G[m].y[0]),N=o.axisY.convertValueToPixel(G[m].y[1]),I=o.axisY.convertValueToPixel(G[m].y[2]),M=o.axisY.convertValueToPixel(G[m].y[3]),b=o.axisY.convertValueToPixel(G[m].y[4]);var pe=_-B/2<<0,se=_+B/2<<0,A=G[m].color?G[m].color:Q._colorSet[0],Le=Math.round(Math.max(1,.15*B)),Be=Le%2===0?0:.5,xe=G[m].whiskerColor?G[m].whiskerColor:G[m].color?Q.whiskerColor?Q.whiskerColor:G[m].color:Q.whiskerColor?Q.whiskerColor:A,Ce=typeof G[m].whiskerThickness=="number"?G[m].whiskerThickness:typeof Q.options.whiskerThickness=="number"?Q.whiskerThickness:Le,ye=G[m].whiskerDashType?G[m].whiskerDashType:Q.whiskerDashType,ve=f(G[m].whiskerLength)?f(Q.options.whiskerLength)?B:Q.whiskerLength:G[m].whiskerLength,ve=typeof ve=="number"?0>=ve?0:ve>=B?B:ve:typeof ve=="string"?parseInt(ve)*B/100>B?B:parseInt(ve)*B/100:B,ae=Math.round(Ce)%2===1?.5:0,Re=G[m].stemColor?G[m].stemColor:G[m].color?Q.stemColor?Q.stemColor:G[m].color:Q.stemColor?Q.stemColor:A,je=typeof G[m].stemThickness=="number"?G[m].stemThickness:typeof Q.options.stemThickness=="number"?Q.stemThickness:Le,de=Math.round(je)%2===1?.5:0,At=G[m].stemDashType?G[m].stemDashType:Q.stemDashType,Lt=G[m].lineColor?G[m].lineColor:G[m].color?Q.lineColor?Q.lineColor:G[m].color:Q.lineColor?Q.lineColor:A,Rt=typeof G[m].lineThickness=="number"?G[m].lineThickness:typeof Q.options.lineThickness=="number"?Q.lineThickness:Le,Qt=G[m].lineDashType?G[m].lineDashType:Q.lineDashType,lt=Math.round(Rt)%2===1?.5:0,wn=Q.upperBoxColor,Yt=Q.lowerBoxColor,Xt=f(Q.options.fillOpacity)?1:Q.fillOpacity,dt=Q.dataPointIds[m];this._eventManager.objectMap[dt]={id:dt,objectType:"dataPoint",dataSeriesIndex:O,dataPointIndex:m,x1:pe,y1:E,x2:se,y2:N,x3:_,y3:I,x4:_,y4:M,y5:b,borderThickness:Le,color:A,stemThickness:je,stemColor:Re,whiskerThickness:Ce,whiskerLength:ve,whiskerColor:xe,lineThickness:Rt,lineColor:Lt},h.save(),0<je&&(h.beginPath(),h.strokeStyle=Re,h.lineWidth=je,h.setLineDash&&h.setLineDash(C(At,je)),h.moveTo(_-de,N),h.lineTo(_-de,E),h.stroke(),h.moveTo(_-de,M),h.lineTo(_-de,I),h.stroke()),h.restore(),c.lineWidth=Math.max(Le,4),h.beginPath(),Ct(h,pe,Math.min(b,N),se,Math.max(N,b),Yt,0,A,X?re:!1,X?!1:re,!1,!1,Xt),h.beginPath(),Ct(h,pe,Math.min(I,b),se,Math.max(b,I),wn,0,A,X?!1:re,X?re:!1,!1,!1,Xt),h.beginPath(),h.lineWidth=Le,h.strokeStyle=A,h.rect(pe-Be,Math.min(N,I)-Be,se-pe+2*Be,Math.max(N,I)-Math.min(N,I)+2*Be),h.stroke(),h.save(),0<Rt&&(h.beginPath(),h.globalAlpha=1,h.setLineDash&&h.setLineDash(C(Qt,Rt)),h.strokeStyle=Lt,h.lineWidth=Rt,h.moveTo(pe,b-lt),h.lineTo(se,b-lt),h.stroke()),h.restore(),h.save(),0<Ce&&(h.beginPath(),h.setLineDash&&h.setLineDash(C(ye,Ce)),h.strokeStyle=xe,h.lineWidth=Ce,h.moveTo(_-ve/2<<0,M-ae),h.lineTo(_+ve/2<<0,M-ae),h.stroke(),h.moveTo(_-ve/2<<0,E+ae),h.lineTo(_+ve/2<<0,E+ae),h.stroke()),h.restore(),ee&&(A=u(dt),c.strokeStyle=A,c.lineWidth=je,0<je&&(c.moveTo(_-Be-de,N),c.lineTo(_-Be-de,Math.max(E,M)),c.stroke(),c.moveTo(_-Be-de,Math.min(E,M)),c.lineTo(_-Be-de,I),c.stroke()),Ct(c,pe,Math.max(N,I),se,Math.min(N,I),A,0,null,!1,!1),0<Ce&&(c.beginPath(),c.lineWidth=Ce,c.moveTo(_+ve/2,M-ae),c.lineTo(_-ve/2,M-ae),c.stroke(),c.moveTo(_+ve/2,E+ae),c.lineTo(_-ve/2,E+ae),c.stroke())),(G[m].indexLabel||Q.indexLabel||G[m].indexLabelFormatter||Q.indexLabelFormatter)&&this._indexLabels.push({chartType:Q.type,dataPoint:G[m],dataSeries:Q,point:{x:pe+(se-pe)/2,y:o.axisY.reversed?E:M},direction:1,bounds:{x1:pe,y1:Math.min(E,M),x2:se,y2:Math.max(E,M)},color:A})}}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(p.x1,p.y1,p.width,p.height),c.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.fadeInAnimation,easingFunction:xt.easing.easeInQuad,animationBase:0}}},V.prototype.renderRangeColumn=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g;if(!(0>=o.dataSeriesIndexes.length)){var c=null,p=this.plotArea,I=0,_,E,N,I=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var M=o.axisX.dataInfo.minDiff;isFinite(M)||(M=.3*Math.abs(o.axisX.range)),M=this.options.dataPointWidth?this.dataPointWidth:.9*(p.width*(o.axisX.logarithmic?Math.log(M)/Math.log(o.axisX.range):Math.abs(M)/Math.abs(o.axisX.range))/o.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&I>_&&(I=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,_)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&_<I&&(_=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,I)),M<I&&(M=I),M>_&&(M=_),h.save(),ee&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(p.x1,p.y1,p.width,p.height),h.clip(),ee&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip());for(var b=0;b<o.dataSeriesIndexes.length;b++){var T=o.dataSeriesIndexes[b],A=this.data[T],m=A.dataPoints;if(0<m.length){for(var B=!!(5<M&&A.bevelEnabled),I=0;I<m.length;I++)if(m[I].getTime?N=m[I].x.getTime():N=m[I].x,!(N<o.axisX.dataInfo.viewPortMin||N>o.axisX.dataInfo.viewPortMax)&&!f(m[I].y)&&m[I].y.length&&typeof m[I].y[0]=="number"&&typeof m[I].y[1]=="number"){c=o.axisX.convertValueToPixel(N),_=o.axisY.convertValueToPixel(m[I].y[0]),E=o.axisY.convertValueToPixel(m[I].y[1]);var X=o.axisX.reversed?c+o.plotType.totalDataSeries*M/2-(o.previousDataSeriesCount+b)*M<<0:c-o.plotType.totalDataSeries*M/2+(o.previousDataSeriesCount+b)*M<<0,Y=o.axisX.reversed?X-M<<0:X+M<<0,c=m[I].color?m[I].color:A._colorSet[I%A._colorSet.length];if(_>E){var O=_;_=E,E=O}O=A.dataPointIds[I],this._eventManager.objectMap[O]={id:O,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:I,x1:X,y1:_,x2:Y,y2:E},Ct(h,o.axisX.reversed?Y:X,_,o.axisX.reversed?X:Y,E,c,0,c,B,B,!1,!1,A.fillOpacity),c=u(O),ee&&Ct(this._eventManager.ghostCtx,o.axisX.reversed?Y:X,_,o.axisX.reversed?X:Y,E,c,0,null,!1,!1),(m[I].indexLabel||A.indexLabel||m[I].indexLabelFormatter||A.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[I],dataSeries:A,indexKeyword:0,point:{x:X+(Y-X)/2,y:m[I].y[1]>=m[I].y[0]?E:_},direction:m[I].y[1]>=m[I].y[0]?-1:1,bounds:{x1:X,y1:Math.min(_,E),x2:Y,y2:Math.max(_,E)},color:c}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[I],dataSeries:A,indexKeyword:1,point:{x:X+(Y-X)/2,y:m[I].y[1]>=m[I].y[0]?_:E},direction:m[I].y[1]>=m[I].y[0]?1:-1,bounds:{x1:X,y1:Math.min(_,E),x2:Y,y2:Math.max(_,E)},color:c}))}}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.fadeInAnimation,easingFunction:xt.easing.easeInQuad,animationBase:0}}},V.prototype.renderError=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g,c=o.axisY._position?!(o.axisY._position==="left"||o.axisY._position==="right"):!1;if(!(0>=o.dataSeriesIndexes.length)){var p=null,_=!1,E=this.plotArea,N=0,I,M,b,T,A,m,B,X=o.axisX.dataInfo.minDiff;isFinite(X)||(X=.3*Math.abs(o.axisX.range)),h.save(),ee&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(E.x1,E.y1,E.width,E.height),h.clip(),ee&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(E.x1,E.y1,E.width,E.height),this._eventManager.ghostCtx.clip());for(var Y=0,O=0;O<this.data.length;O++)!this.data[O].type.match(/(bar|column)/ig)||!this.data[O].visible||this.data[O].type.match(/(stacked)/ig)&&Y||Y++;for(var Q=0;Q<o.dataSeriesIndexes.length;Q++){var G=o.dataSeriesIndexes[Q],re=this.data[G],pe=re.dataPoints,se=f(re._linkedSeries)?!1:!!(re._linkedSeries.type.match(/(bar|column)/ig)&&re._linkedSeries.visible),Le=0;if(se)for(p=re._linkedSeries.id,O=0;O<p;O++)!this.data[O].type.match(/(bar|column)/ig)||!this.data[O].visible||this.data[O].type.match(/(stacked)/ig)&&Le||(this.data[O].type.match(/(range)/ig)&&(_=!0),Le++);if(p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,N=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:c?Math.min(.15*this.height,.9*(this.plotArea.height/(se?Y:1)))<<0:.3*this.width,_&&(N=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:c?Math.min(.15*this.height,.9*(this.plotArea.height/(se?Y:1)))<<0:.03*this.width),O=this.options.dataPointWidth?this.dataPointWidth:.9*((c?E.height:E.width)*(o.axisX.logarithmic?Math.log(X)/Math.log(o.axisX.range):Math.abs(X)/Math.abs(o.axisX.range))/(se?Y:1))<<0,this.dataPointMaxWidth&&p>N&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,N)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&N<p&&(N=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),O<p&&(O=p),O>N&&(O=N),0<pe.length)for(var Be=re._colorSet,N=0;N<pe.length;N++){var p=re.lineColor=re.options.color?re.options.color:Be[0],xe={color:pe[N].whiskerColor?pe[N].whiskerColor:pe[N].color?re.whiskerColor?re.whiskerColor:pe[N].color:re.whiskerColor?re.whiskerColor:p,thickness:f(pe[N].whiskerThickness)?re.whiskerThickness:pe[N].whiskerThickness,dashType:pe[N].whiskerDashType?pe[N].whiskerDashType:re.whiskerDashType,length:f(pe[N].whiskerLength)?f(re.options.whiskerLength)?O:re.options.whiskerLength:pe[N].whiskerLength,trimLength:f(pe[N].whiskerLength)&&f(re.options.whiskerLength)?50:0};xe.length=typeof xe.length=="number"?0>=xe.length?0:xe.length>=O?O:xe.length:typeof xe.length=="string"?parseInt(xe.length)*O/100>O?O:parseInt(xe.length)*O/100>O:O,xe.thickness=typeof xe.thickness=="number"?0>xe.thickness?0:Math.round(xe.thickness):2;var Ce={color:pe[N].stemColor?pe[N].stemColor:pe[N].color?re.stemColor?re.stemColor:pe[N].color:re.stemColor?re.stemColor:p,thickness:pe[N].stemThickness?pe[N].stemThickness:re.stemThickness,dashType:pe[N].stemDashType?pe[N].stemDashType:re.stemDashType};if(Ce.thickness=typeof Ce.thickness=="number"?0>Ce.thickness?0:Math.round(Ce.thickness):2,pe[N].getTime?B=pe[N].x.getTime():B=pe[N].x,!(B<o.axisX.dataInfo.viewPortMin||B>o.axisX.dataInfo.viewPortMax)&&!f(pe[N].y)&&pe[N].y.length&&typeof pe[N].y[0]=="number"&&typeof pe[N].y[1]=="number"){var ye=o.axisX.convertValueToPixel(B);c?M=ye:I=ye,ye=o.axisY.convertValueToPixel(pe[N].y[0]),c?b=ye:A=ye,ye=o.axisY.convertValueToPixel(pe[N].y[1]),c?T=ye:m=ye,c?(A=o.axisX.reversed?M+(se?Y:1)*O/2-(se?Le-1:0)*O<<0:M-(se?Y:1)*O/2+(se?Le-1:0)*O<<0,m=o.axisX.reversed?A-O<<0:A+O<<0):(b=o.axisX.reversed?I+(se?Y:1)*O/2-(se?Le-1:0)*O<<0:I-(se?Y:1)*O/2+(se?Le-1:0)*O<<0,T=o.axisX.reversed?b-O<<0:b+O<<0),!c&&A>m&&(ye=A,A=m,m=ye),c&&b>T&&(ye=b,b=T,T=ye),ye=re.dataPointIds[N],this._eventManager.objectMap[ye]={id:ye,objectType:"dataPoint",dataSeriesIndex:G,dataPointIndex:N,x1:Math.min(b,T),y1:Math.min(A,m),x2:Math.max(T,b),y2:Math.max(m,A),isXYSwapped:c,stemProperties:Ce,whiskerProperties:xe},he(h,Math.min(b,T),Math.min(A,m),Math.max(T,b),Math.max(m,A),p,xe,Ce,c),ee&&he(this._eventManager.ghostCtx,b,A,T,m,p,xe,Ce,c),(pe[N].indexLabel||re.indexLabel||pe[N].indexLabelFormatter||re.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:pe[N],dataSeries:re,indexKeyword:0,point:{x:c?pe[N].y[1]>=pe[N].y[0]?b:T:b+(T-b)/2,y:c?A+(m-A)/2:pe[N].y[1]>=pe[N].y[0]?m:A},direction:pe[N].y[1]>=pe[N].y[0]?-1:1,bounds:{x1:c?Math.min(b,T):b,y1:c?A:Math.min(A,m),x2:c?Math.max(b,T):T,y2:c?m:Math.max(A,m)},color:p,axisSwapped:c}),this._indexLabels.push({chartType:"error",dataPoint:pe[N],dataSeries:re,indexKeyword:1,point:{x:c?pe[N].y[1]>=pe[N].y[0]?T:b:b+(T-b)/2,y:c?A+(m-A)/2:pe[N].y[1]>=pe[N].y[0]?A:m},direction:pe[N].y[1]>=pe[N].y[0]?1:-1,bounds:{x1:c?Math.min(b,T):b,y1:c?A:Math.min(A,m),x2:c?Math.max(b,T):T,y2:c?m:Math.max(A,m)},color:p,axisSwapped:c}))}}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(E.x1,E.y1,E.width,E.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.fadeInAnimation,easingFunction:xt.easing.easeInQuad,animationBase:0}}},V.prototype.renderRangeBar=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g;if(!(0>=o.dataSeriesIndexes.length)){var c=null,p=this.plotArea,M=0,_,E,N,I,M=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/o.plotType.totalDataSeries))<<0;var b=o.axisX.dataInfo.minDiff;isFinite(b)||(b=.3*Math.abs(o.axisX.range)),b=this.options.dataPointWidth?this.dataPointWidth:.9*(p.height*(o.axisX.logarithmic?Math.log(b)/Math.log(o.axisX.range):Math.abs(b)/Math.abs(o.axisX.range))/o.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&M>_&&(M=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,_)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&_<M&&(_=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,M)),b<M&&(b=M),b>_&&(b=_),h.save(),ee&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(p.x1,p.y1,p.width,p.height),h.clip(),ee&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip());for(var T=0;T<o.dataSeriesIndexes.length;T++){var A=o.dataSeriesIndexes[T],m=this.data[A],B=m.dataPoints;if(0<B.length){var X=!!(5<b&&m.bevelEnabled);for(h.strokeStyle="#4572A7 ",M=0;M<B.length;M++)if(B[M].getTime?I=B[M].x.getTime():I=B[M].x,!(I<o.axisX.dataInfo.viewPortMin||I>o.axisX.dataInfo.viewPortMax)&&!f(B[M].y)&&B[M].y.length&&typeof B[M].y[0]=="number"&&typeof B[M].y[1]=="number"){_=o.axisY.convertValueToPixel(B[M].y[0]),E=o.axisY.convertValueToPixel(B[M].y[1]),N=o.axisX.convertValueToPixel(I),N=o.axisX.reversed?N+o.plotType.totalDataSeries*b/2-(o.previousDataSeriesCount+T)*b<<0:N-o.plotType.totalDataSeries*b/2+(o.previousDataSeriesCount+T)*b<<0;var Y=o.axisX.reversed?N-b<<0:N+b<<0;_>E&&(c=_,_=E,E=c),c=B[M].color?B[M].color:m._colorSet[M%m._colorSet.length],Ct(h,_,o.axisX.reversed?Y:N,E,o.axisX.reversed?N:Y,c,0,null,X,!1,!1,!1,m.fillOpacity),c=m.dataPointIds[M],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:A,dataPointIndex:M,x1:_,y1:N,x2:E,y2:Y},c=u(c),ee&&Ct(this._eventManager.ghostCtx,_,o.axisX.reversed?Y:N,E,o.axisX.reversed?N:Y,c,0,null,!1,!1),(B[M].indexLabel||m.indexLabel||B[M].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:B[M],dataSeries:m,indexKeyword:0,point:{x:B[M].y[1]>=B[M].y[0]?_:E,y:N+(Y-N)/2},direction:B[M].y[1]>=B[M].y[0]?-1:1,bounds:{x1:Math.min(_,E),y1:N,x2:Math.max(_,E),y2:Y},color:c}),this._indexLabels.push({chartType:"rangeBar",dataPoint:B[M],dataSeries:m,indexKeyword:1,point:{x:B[M].y[1]>=B[M].y[0]?E:_,y:N+(Y-N)/2},direction:B[M].y[1]>=B[M].y[0]?1:-1,bounds:{x1:Math.min(_,E),y1:N,x2:Math.max(_,E),y2:Y},color:c}))}}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.fadeInAnimation,easingFunction:xt.easing.easeInQuad,animationBase:0}}},V.prototype.renderRangeArea=function(o){function g(){if(Q){for(var ve=null,ae=I.length-1;0<=ae;ae--)ve=I[ae],c.lineTo(ve.x,ve.y2),p.lineTo(ve.x,ve.y2);if(c.closePath(),c.globalAlpha=b.fillOpacity,c.fill(),c.globalAlpha=1,p.fill(),0<b.lineThickness){for(c.beginPath(),c.moveTo(ve.x,ve.y2),ae=0;ae<I.length;ae++)ve=I[ae],c.lineTo(ve.x,ve.y2);for(c.moveTo(I[0].x,I[0].y1),ae=0;ae<I.length;ae++)ve=I[ae],c.lineTo(ve.x,ve.y1);c.stroke()}c.beginPath(),c.moveTo(B,X),p.beginPath(),p.moveTo(B,X),Q={x:B,y:X},I=[],I.push({x:B,y1:X,y2:Y})}}var h=o.targetCanvasCtx||this.plotArea.ctx,c=ee?this._preRenderCtx:h;if(!(0>=o.dataSeriesIndexes.length)){var p=this._eventManager.ghostCtx,_=[],E=this.plotArea;c.save(),ee&&p.save(),c.beginPath(),c.rect(E.x1,E.y1,E.width,E.height),c.clip(),ee&&(p.beginPath(),p.rect(E.x1,E.y1,E.width,E.height),p.clip());for(var N=0;N<o.dataSeriesIndexes.length;N++){var I=[],M=o.dataSeriesIndexes[N],b=this.data[M],T=b.dataPoints,_=b.id;this._eventManager.objectMap[_]={objectType:"dataSeries",dataSeriesIndex:M},_=u(_),p.fillStyle=_;var _=[],A=!0,m=0,B,X,Y,O,Q=null;if(0<T.length){var G=b._colorSet[m%b._colorSet.length],re=b.lineColor=b.options.lineColor||G,pe=re;c.fillStyle=G,c.strokeStyle=re,c.lineWidth=b.lineThickness;var se="solid";if(c.setLineDash){var Le=C(b.nullDataLineDashType,b.lineThickness),se=b.lineDashType,Be=C(se,b.lineThickness);c.setLineDash(Be)}for(var xe=!0;m<T.length;m++)if(O=T[m].x.getTime?T[m].x.getTime():T[m].x,!(O<o.axisX.dataInfo.viewPortMin||O>o.axisX.dataInfo.viewPortMax&&(!b.connectNullData||!xe)))if(T[m].y!==null&&T[m].y.length&&typeof T[m].y[0]=="number"&&typeof T[m].y[1]=="number"){if(B=o.axisX.convertValueToPixel(O),X=o.axisY.convertValueToPixel(T[m].y[0]),Y=o.axisY.convertValueToPixel(T[m].y[1]),A||xe?(b.connectNullData&&!A?(c.setLineDash&&(b.options.nullDataLineDashType||se===b.lineDashType&&b.lineDashType!==b.nullDataLineDashType)&&(I[I.length-1].newLineDashArray=Be,se=b.nullDataLineDashType,c.setLineDash(Le)),c.lineTo(B,X),ee&&p.lineTo(B,X),I.push({x:B,y1:X,y2:Y})):(c.beginPath(),c.moveTo(B,X),Q={x:B,y:X},I=[],I.push({x:B,y1:X,y2:Y}),ee&&(p.beginPath(),p.moveTo(B,X))),xe=A=!1):(c.lineTo(B,X),I.push({x:B,y1:X,y2:Y}),ee&&p.lineTo(B,X),m%250==0&&g()),O=b.dataPointIds[m],this._eventManager.objectMap[O]={id:O,objectType:"dataPoint",dataSeriesIndex:M,dataPointIndex:m,x1:B,y1:X,y2:Y},m<T.length-1&&(pe!==(T[m].lineColor||re)||se!==(T[m].lineDashType||b.lineDashType))&&(g(),pe=T[m].lineColor||re,I[I.length-1].newStrokeStyle=pe,c.strokeStyle=pe,c.setLineDash&&(T[m].lineDashType?(se=T[m].lineDashType,I[I.length-1].newLineDashArray=C(se,b.lineThickness),c.setLineDash(I[I.length-1].newLineDashArray)):(se=b.lineDashType,I[I.length-1].newLineDashArray=Be,c.setLineDash(Be)))),T[m].markerSize!==0&&(0<T[m].markerSize||0<b.markerSize)){var Ce=b.getMarkerProperties(m,B,Y,c);_.push(Ce);var ye=u(O);ee&&_.push({x:B,y:Y,ctx:p,type:Ce.type,size:Ce.size,color:ye,borderColor:ye,borderThickness:Ce.borderThickness}),Ce=b.getMarkerProperties(m,B,X,c),_.push(Ce),ye=u(O),ee&&_.push({x:B,y:X,ctx:p,type:Ce.type,size:Ce.size,color:ye,borderColor:ye,borderThickness:Ce.borderThickness})}(T[m].indexLabel||b.indexLabel||T[m].indexLabelFormatter||b.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:T[m],dataSeries:b,indexKeyword:0,point:{x:B,y:X},direction:T[m].y[0]>T[m].y[1]===o.axisY.reversed?-1:1,color:G}),this._indexLabels.push({chartType:"rangeArea",dataPoint:T[m],dataSeries:b,indexKeyword:1,point:{x:B,y:Y},direction:T[m].y[0]>T[m].y[1]===o.axisY.reversed?1:-1,color:G}))}else xe||A||g(),xe=!0;g(),hn.drawMarkers(_)}}return ee&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&c.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&c.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.clearRect(E.x1,E.y1,E.width,E.height),this._eventManager.ghostCtx.restore()),c.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:xt.xClipAnimation,easingFunction:xt.easing.linear,animationBase:0}}},V.prototype.renderRangeSplineArea=function(o){function g(Ce,ye){var ve=J(X,2);if(0<ve.length){if(0<M.lineThickness){c.strokeStyle=ye,c.setLineDash&&c.setLineDash(Ce),c.beginPath(),c.moveTo(ve[0].x,ve[0].y);for(var ae=0;ae<ve.length-3;ae+=3)(ve[ae].newStrokeStyle||ve[ae].newLineDashArray)&&(c.stroke(),c.beginPath(),c.moveTo(ve[ae].x,ve[ae].y),ve[ae].newStrokeStyle&&(c.strokeStyle=ve[ae].newStrokeStyle),ve[ae].newLineDashArray&&c.setLineDash(ve[ae].newLineDashArray)),c.bezierCurveTo(ve[ae+1].x,ve[ae+1].y,ve[ae+2].x,ve[ae+2].y,ve[ae+3].x,ve[ae+3].y)}for(c.beginPath(),c.moveTo(ve[0].x,ve[0].y),ee&&(p.beginPath(),p.moveTo(ve[0].x,ve[0].y)),ae=0;ae<ve.length-3;ae+=3)c.bezierCurveTo(ve[ae+1].x,ve[ae+1].y,ve[ae+2].x,ve[ae+2].y,ve[ae+3].x,ve[ae+3].y),ee&&p.bezierCurveTo(ve[ae+1].x,ve[ae+1].y,ve[ae+2].x,ve[ae+2].y,ve[ae+3].x,ve[ae+3].y);for(ve=J(Y,2),c.lineTo(Y[Y.length-1].x,Y[Y.length-1].y),ae=ve.length-1;2<ae;ae-=3)c.bezierCurveTo(ve[ae-1].x,ve[ae-1].y,ve[ae-2].x,ve[ae-2].y,ve[ae-3].x,ve[ae-3].y),ee&&p.bezierCurveTo(ve[ae-1].x,ve[ae-1].y,ve[ae-2].x,ve[ae-2].y,ve[ae-3].x,ve[ae-3].y);if(c.closePath(),c.globalAlpha=M.fillOpacity,c.fill(),ee&&(p.closePath(),p.fill()),c.globalAlpha=1,0<M.lineThickness){c.strokeStyle=ye,c.setLineDash&&c.setLineDash(Ce),c.beginPath(),c.moveTo(ve[0].x,ve[0].y);for(var Re=ae=0;ae<ve.length-3;ae+=3,Re++)(X[Re].newStrokeStyle||X[Re].newLineDashArray)&&(c.stroke(),c.beginPath(),c.moveTo(ve[ae].x,ve[ae].y),X[Re].newStrokeStyle&&(c.strokeStyle=X[Re].newStrokeStyle),X[Re].newLineDashArray&&c.setLineDash(X[Re].newLineDashArray)),c.bezierCurveTo(ve[ae+1].x,ve[ae+1].y,ve[ae+2].x,ve[ae+2].y,ve[ae+3].x,ve[ae+3].y);for(ve=J(X,2),c.moveTo(ve[0].x,ve[0].y),Re=ae=0;ae<ve.length-3;ae+=3,Re++)(X[Re].newStrokeStyle||X[Re].newLineDashArray)&&(c.stroke(),c.beginPath(),c.moveTo(ve[ae].x,ve[ae].y),X[Re].newStrokeStyle&&(c.strokeStyle=X[Re].newStrokeStyle),X[Re].newLineDashArray&&c.setLineDash(X[Re].newLineDashArray)),c.bezierCurveTo(ve[ae+1].x,ve[ae+1].y,ve[ae+2].x,ve[ae+2].y,ve[ae+3].x,ve[ae+3].y);c.stroke()}c.beginPath()}}var h=o.targetCanvasCtx||this.plotArea.ctx,c=ee?this._preRenderCtx:h;if(!(0>=o.dataSeriesIndexes.length)){var p=this._eventManager.ghostCtx,_=[],E=this.plotArea;c.save(),ee&&p.save(),c.beginPath(),c.rect(E.x1,E.y1,E.width,E.height),c.clip(),ee&&(p.beginPath(),p.rect(E.x1,E.y1,E.width,E.height),p.clip());for(var N=0;N<o.dataSeriesIndexes.length;N++){var I=o.dataSeriesIndexes[N],M=this.data[I],b=M.dataPoints,_=M.id;this._eventManager.objectMap[_]={objectType:"dataSeries",dataSeriesIndex:I},_=u(_),p.fillStyle=_;var _=[],T=0,A,m,B,X=[],Y=[];if(0<b.length){var O=M._colorSet[T%M._colorSet.length],Q=M.lineColor=M.options.lineColor||O,G=Q;c.fillStyle=O,c.lineWidth=M.lineThickness;var re="solid",pe;if(c.setLineDash){var se=C(M.nullDataLineDashType,M.lineThickness),re=M.lineDashType;pe=C(re,M.lineThickness)}for(m=!1;T<b.length;T++)if(A=b[T].x.getTime?b[T].x.getTime():b[T].x,!(A<o.axisX.dataInfo.viewPortMin||A>o.axisX.dataInfo.viewPortMax&&(!M.connectNullData||!m)))if(b[T].y!==null&&b[T].y.length&&typeof b[T].y[0]=="number"&&typeof b[T].y[1]=="number"){A=o.axisX.convertValueToPixel(A),m=o.axisY.convertValueToPixel(b[T].y[0]),B=o.axisY.convertValueToPixel(b[T].y[1]);var Le=M.dataPointIds[T];if(this._eventManager.objectMap[Le]={id:Le,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:T,x1:A,y1:m,y2:B},X[X.length]={x:A,y:m},Y[Y.length]={x:A,y:B},T<b.length-1&&(G!==(b[T].lineColor||Q)||re!==(b[T].lineDashType||M.lineDashType))&&(G=b[T].lineColor||Q,X[X.length-1].newStrokeStyle=G,c.setLineDash&&(b[T].lineDashType?(re=b[T].lineDashType,X[X.length-1].newLineDashArray=C(re,M.lineThickness)):(re=M.lineDashType,X[X.length-1].newLineDashArray=pe))),b[T].markerSize!==0&&(0<b[T].markerSize||0<M.markerSize)){var Be=M.getMarkerProperties(T,A,m,c);_.push(Be);var xe=u(Le);ee&&_.push({x:A,y:m,ctx:p,type:Be.type,size:Be.size,color:xe,borderColor:xe,borderThickness:Be.borderThickness}),Be=M.getMarkerProperties(T,A,B,c),_.push(Be),xe=u(Le),ee&&_.push({x:A,y:B,ctx:p,type:Be.type,size:Be.size,color:xe,borderColor:xe,borderThickness:Be.borderThickness})}(b[T].indexLabel||M.indexLabel||b[T].indexLabelFormatter||M.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:b[T],dataSeries:M,indexKeyword:0,point:{x:A,y:m},direction:b[T].y[0]<=b[T].y[1]?-1:1,color:O}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:b[T],dataSeries:M,indexKeyword:1,point:{x:A,y:B},direction:b[T].y[0]<=b[T].y[1]?1:-1,color:O})),m=!1}else 0<T&&!m&&(M.connectNullData?c.setLineDash&&0<X.length&&(M.options.nullDataLineDashType||!b[T-1].lineDashType)&&(X[X.length-1].newLineDashArray=se,re=M.nullDataLineDashType):(g(pe,Q),X=[],Y=[])),m=!0;g(pe,Q),hn.drawMarkers(_)}}return ee&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&c.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&c.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.clearRect(E.x1,E.y1,E.width,E.height),this._eventManager.ghostCtx.restore()),c.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:xt.xClipAnimation,easingFunction:xt.easing.linear,animationBase:0}}},V.prototype.renderWaterfall=function(o){var g=o.targetCanvasCtx||this.plotArea.ctx,h=ee?this._preRenderCtx:g;if(!(0>=o.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx,p=null,_=this.plotArea,T=0,E,N,I,M,b=o.axisY.convertValueToPixel(o.axisY.logarithmic?o.axisY.viewportMinimum:0),T=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;N=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/o.plotType.totalDataSeries))<<0;var A=o.axisX.dataInfo.minDiff;isFinite(A)||(A=.3*Math.abs(o.axisX.range)),A=this.options.dataPointWidth?this.dataPointWidth:.6*(_.width*(o.axisX.logarithmic?Math.log(A)/Math.log(o.axisX.range):Math.abs(A)/Math.abs(o.axisX.range))/o.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&T>N&&(T=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,N)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&N<T&&(N=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,T)),A<T&&(A=T),A>N&&(A=N),h.save(),ee&&this._eventManager.ghostCtx.save(),h.beginPath(),h.rect(_.x1,_.y1,_.width,_.height),h.clip(),ee&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(_.x1,_.y1,_.width,_.height),this._eventManager.ghostCtx.clip());for(var m=0;m<o.dataSeriesIndexes.length;m++){var B=o.dataSeriesIndexes[m],X=this.data[B],Y=X.dataPoints,p=X._colorSet[0];X.risingColor=X.options.risingColor?X.options.risingColor:p,X.fallingColor=X.options.fallingColor?X.options.fallingColor:"#e40a0a";var O=typeof X.options.lineThickness=="number"?Math.round(X.lineThickness):1,Q=Math.round(O)%2===1?-.5:0;if(0<Y.length)for(var G=!!(5<A&&X.bevelEnabled),re=!1,pe=null,se=null,T=0;T<Y.length;T++)if(Y[T].getTime?M=Y[T].x.getTime():M=Y[T].x,typeof Y[T].y!="number"){if(0<T&&!re&&X.connectNullData)var Le=X.options.nullDataLineDashType||!Y[T-1].lineDashType?X.nullDataLineDashType:Y[T-1].lineDashType;re=!0}else{E=o.axisX.convertValueToPixel(M),N=X.dataPointEOs[T].cumulativeSum===0?b:o.axisY.convertValueToPixel(X.dataPointEOs[T].cumulativeSum),I=X.dataPointEOs[T].cumulativeSumYStartValue===0?b:o.axisY.convertValueToPixel(X.dataPointEOs[T].cumulativeSumYStartValue),E=o.axisX.reversed?E+o.plotType.totalDataSeries*A/2-(o.previousDataSeriesCount+m)*A<<0:E-o.plotType.totalDataSeries*A/2+(o.previousDataSeriesCount+m)*A<<0;var Be=o.axisX.reversed?E-A<<0:E+A<<0;N>I&&(p=N,N=I,I=p),o.axisY.reversed&&(p=N,N=I,I=p),p=X.dataPointIds[T],this._eventManager.objectMap[p]={id:p,objectType:"dataPoint",dataSeriesIndex:B,dataPointIndex:T,x1:E,y1:N,x2:Be,y2:I};var Ce=Y[T].color?Y[T].color:0<Y[T].y?X.risingColor:X.fallingColor;Ct(h,o.axisX.reversed?Be:E,o.axisY.reversed?I:N,o.axisX.reversed?E:Be,o.axisY.reversed?N:I,Ce,0,Ce,G,G,!1,!1,X.fillOpacity),p=u(p),ee&&Ct(this._eventManager.ghostCtx,o.axisX.reversed?Be:E,N,o.axisX.reversed?E:Be,I,p,0,null,!1,!1);var xe,Ce=E;xe=typeof Y[T].isIntermediateSum<"u"&&Y[T].isIntermediateSum===!0||typeof Y[T].isCumulativeSum<"u"&&Y[T].isCumulativeSum===!0?0<Y[T].y?N:I:0<Y[T].y?I:N,0<T&&pe&&(!re||X.connectNullData)&&(re&&h.setLineDash&&h.setLineDash(C(Le,O)),h.beginPath(),h.moveTo(pe,se-Q),h.lineTo(Ce,xe-Q),0<O&&h.stroke(),ee&&(c.beginPath(),c.moveTo(pe,se-Q),c.lineTo(Ce,xe-Q),0<O&&c.stroke())),re=!1,pe=Be,se=0<Y[T].y?N:I,Ce=Y[T].lineDashType?Y[T].lineDashType:X.options.lineDashType?X.options.lineDashType:"shortDash",h.strokeStyle=Y[T].lineColor?Y[T].lineColor:X.options.lineColor?X.options.lineColor:"#9e9e9e",h.lineWidth=O,h.setLineDash&&(Ce=C(Ce,O),h.setLineDash(Ce)),(Y[T].indexLabel||X.indexLabel||Y[T].indexLabelFormatter||X.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:Y[T],dataSeries:X,point:{x:E+(Be-E)/2,y:0<=Y[T].y?N:I},direction:0>Y[T].y===o.axisY.reversed?1:-1,bounds:{x1:E,y1:Math.min(N,I),x2:Be,y2:Math.max(N,I)},color:p})}}return ee&&(g.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",o.axisX.maskCanvas&&h.drawImage(o.axisX.maskCanvas,0,0,this.width,this.height),o.axisY.maskCanvas&&h.drawImage(o.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(_.x1,_.y1,_.width,_.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:g,dest:this.plotArea.ctx,animationCallback:xt.fadeInAnimation,easingFunction:xt.easing.easeInQuad,animationBase:0}}};var Bn=function(o,g,h,c,p,_,E,N,I){if(!(0>h)){if(typeof N>"u"&&(N=1),!ee){var M=Number((E%(2*Math.PI)).toFixed(8));Number((_%(2*Math.PI)).toFixed(8))===M&&(E-=1e-4)}o.save(),o.globalAlpha=N,p==="pie"?(o.beginPath(),o.moveTo(g.x,g.y),o.arc(g.x,g.y,h,_,E,!1),o.fillStyle=c,o.strokeStyle="white",o.lineWidth=2,o.closePath(),o.fill()):p==="doughnut"&&(o.beginPath(),o.arc(g.x,g.y,h,_,E,!1),0<=I&&o.arc(g.x,g.y,I*h,E,_,!0),o.closePath(),o.fillStyle=c,o.strokeStyle="white",o.lineWidth=2,o.fill()),o.globalAlpha=1,o.restore()}};V.prototype.renderPie=function(o){function g(){if(M&&b){var xe=0,Ce=0,ye=0,ve=0;f(M.options.indexLabelMaxWidth)&&(M.indexLabelMaxWidth=.33*A.width);for(var ae=0;ae<b.length;ae++){var Re=b[ae],je=M.dataPointIds[ae];m[ae].id=je,m[ae].objectType="dataPoint",m[ae].dataPointIndex=ae,m[ae].dataSeriesIndex=0;var de=m[ae],Lt={percent:null,total:null},At=null,Lt=I.getPercentAndTotal(M,Re);(M.indexLabelFormatter||Re.indexLabelFormatter)&&(At={chart:I.options,dataSeries:M,dataPoint:Re,total:Lt.total,percent:Lt.percent}),Lt=Re.indexLabelFormatter?Re.indexLabelFormatter(At):Re.indexLabel?I.replaceKeywordsWithValue(Re.indexLabel,Re,M,ae):M.indexLabelFormatter?M.indexLabelFormatter(At):M.indexLabel?I.replaceKeywordsWithValue(M.indexLabel,Re,M,ae):Re.label?Re.label:"",I._eventManager.objectMap[je]=de,de.center={x:G.x,y:G.y},de.y=Re.y,de.radius=se,de.percentInnerRadius=Be,de.indexLabelText=Lt,de.indexLabelPlacement=M.indexLabelPlacement,de.indexLabelLineColor=Re.indexLabelLineColor?Re.indexLabelLineColor:M.options.indexLabelLineColor?M.options.indexLabelLineColor:Re.color?Re.color:M._colorSet[ae%M._colorSet.length],de.indexLabelLineThickness=f(Re.indexLabelLineThickness)?M.indexLabelLineThickness:Re.indexLabelLineThickness,de.indexLabelLineDashType=Re.indexLabelLineDashType?Re.indexLabelLineDashType:M.indexLabelLineDashType,de.indexLabelFontColor=Re.indexLabelFontColor?Re.indexLabelFontColor:M.indexLabelFontColor,de.indexLabelFontStyle=Re.indexLabelFontStyle?Re.indexLabelFontStyle:M.indexLabelFontStyle,de.indexLabelFontWeight=Re.indexLabelFontWeight?Re.indexLabelFontWeight:M.indexLabelFontWeight,de.indexLabelFontSize=f(Re.indexLabelFontSize)?M.indexLabelFontSize:Re.indexLabelFontSize,de.indexLabelFontFamily=Re.indexLabelFontFamily?Re.indexLabelFontFamily:M.indexLabelFontFamily,de.indexLabelBackgroundColor=Re.indexLabelBackgroundColor?Re.indexLabelBackgroundColor:M.options.indexLabelBackgroundColor?M.options.indexLabelBackgroundColor:M.indexLabelBackgroundColor,de.indexLabelMaxWidth=Re.indexLabelMaxWidth?Re.indexLabelMaxWidth:M.indexLabelMaxWidth,de.indexLabelWrap=typeof Re.indexLabelWrap<"u"?Re.indexLabelWrap:M.indexLabelWrap,de.indexLabelTextAlign=Re.indexLabelTextAlign?Re.indexLabelTextAlign:M.indexLabelTextAlign?M.indexLabelTextAlign:"left",de.startAngle=ae===0?M.startAngle?M.startAngle/180*Math.PI:0:m[ae-1].endAngle,de.startAngle=(de.startAngle+2*Math.PI)%(2*Math.PI),de.endAngle=de.startAngle+2*Math.PI/re*Math.abs(Re.y),Re=(de.endAngle+de.startAngle)/2,Re=(Re+2*Math.PI)%(2*Math.PI),de.midAngle=Re,de.midAngle>Math.PI/2-O&&de.midAngle<Math.PI/2+O?((xe===0||m[ye].midAngle>de.midAngle)&&(ye=ae),xe++):de.midAngle>3*Math.PI/2-O&&de.midAngle<3*Math.PI/2+O&&((Ce===0||m[ve].midAngle>de.midAngle)&&(ve=ae),Ce++),de.hemisphere=Re>Math.PI/2&&Re<=3*Math.PI/2?"left":"right",de.indexLabelTextBlock=new le(I.plotArea.ctx,{fontSize:de.indexLabelFontSize,fontFamily:de.indexLabelFontFamily,fontColor:de.indexLabelFontColor,fontStyle:de.indexLabelFontStyle,fontWeight:de.indexLabelFontWeight,textAlign:de.indexLabelTextAlign,backgroundColor:de.indexLabelBackgroundColor,maxWidth:de.indexLabelMaxWidth,maxHeight:de.indexLabelWrap?5*de.indexLabelFontSize:1.5*de.indexLabelFontSize,text:de.indexLabelText,padding:0,textBaseline:"middle"}),de.indexLabelTextBlock.measureText()}for(je=Re=0,Lt=!1,ae=0;ae<b.length;ae++)de=m[(ye+ae)%b.length],1<xe&&de.midAngle>Math.PI/2-O&&de.midAngle<Math.PI/2+O&&(Re<=xe/2&&!Lt?(de.hemisphere="right",Re++):(de.hemisphere="left",Lt=!0));for(Lt=!1,ae=0;ae<b.length;ae++)de=m[(ve+ae)%b.length],1<Ce&&de.midAngle>3*Math.PI/2-O&&de.midAngle<3*Math.PI/2+O&&(je<=Ce/2&&!Lt?(de.hemisphere="left",je++):(de.hemisphere="right",Lt=!0))}}function h(xe,Ce){var ye=I.plotArea.ctx;for(ye.clearRect(A.x1,A.y1,A.width,A.height),ye.fillStyle=I.backgroundColor,ye.fillRect(A.x1,A.y1,A.width,A.height),ye=0;ye<b.length;ye++){var ve=m[ye].startAngle,ae=m[ye].endAngle;if(ae>ve){var Re=.07*se*Math.cos(m[ye].midAngle),je=.07*se*Math.sin(m[ye].midAngle),de=!1;b[ye].exploded?(1e-9<Math.abs(m[ye].center.x-(G.x+Re))||1e-9<Math.abs(m[ye].center.y-(G.y+je)))&&(m[ye].center.x=G.x+Re*xe,m[ye].center.y=G.y+je*xe,de=!0):(0<Math.abs(m[ye].center.x-G.x)||0<Math.abs(m[ye].center.y-G.y))&&(m[ye].center.x=G.x+Re*(1-xe),m[ye].center.y=G.y+je*(1-xe),de=!0),de&&Ce&&(Re={},Re.dataSeries=M,Re.dataPoint=M.dataPoints[ye],Re.index=ye,I.toolTip.highlightObjects([Re])),Bn(I.plotArea.ctx,m[ye].center,m[ye].radius,b[ye].color?b[ye].color:M._colorSet[ye%M._colorSet.length],M.type,ve,ae,M.fillOpacity,m[ye].percentInnerRadius)}}for(ye=I.plotArea.ctx,ye.save(),ye.fillStyle="black",ye.strokeStyle="grey",ye.textBaseline="middle",ye.lineJoin="round",ve=ve=0;ve<b.length;ve++)ae=m[ve],ae.indexLabelText&&(ae.indexLabelTextBlock.y-=ae.indexLabelTextBlock.height/2-ae.indexLabelTextBlock.fontSize/2,Re=0,Re=ae.hemisphere==="left"?M.indexLabelPlacement!=="inside"?-(ae.indexLabelTextBlock.width+T):-ae.indexLabelTextBlock.width/2:M.indexLabelPlacement!=="inside"?T:-ae.indexLabelTextBlock.width/2,ae.indexLabelTextBlock.x+=Re,ae.indexLabelTextBlock.render(!0),ae.indexLabelTextBlock.x-=Re,ae.indexLabelTextBlock.y+=ae.indexLabelTextBlock.height/2-ae.indexLabelTextBlock.fontSize/2,ae.indexLabelPlacement!=="inside"&&0<ae.indexLabelLineThickness&&(Re=ae.center.x+se*Math.cos(ae.midAngle),je=ae.center.y+se*Math.sin(ae.midAngle),ye.strokeStyle=ae.indexLabelLineColor,ye.lineWidth=ae.indexLabelLineThickness,ye.setLineDash&&ye.setLineDash(C(ae.indexLabelLineDashType,ae.indexLabelLineThickness)),ye.beginPath(),ye.moveTo(Re,je),ye.lineTo(ae.indexLabelTextBlock.x,ae.indexLabelTextBlock.y),ye.lineTo(ae.indexLabelTextBlock.x+(ae.hemisphere==="left"?-T:T),ae.indexLabelTextBlock.y),ye.stroke()),ye.lineJoin="miter");ye.save()}function c(xe,Ce){var ye=0,ye=xe.indexLabelTextBlock.y-xe.indexLabelTextBlock.height/2,ve=xe.indexLabelTextBlock.y+xe.indexLabelTextBlock.height/2,ae=Ce.indexLabelTextBlock.y-Ce.indexLabelTextBlock.height/2,Re=Ce.indexLabelTextBlock.y+Ce.indexLabelTextBlock.height/2;return ye=Ce.indexLabelTextBlock.y>xe.indexLabelTextBlock.y?ae-ve:ye-Re}function p(xe){for(var Ce=null,ye=1;ye<b.length;ye++)if(Ce=(xe+ye+m.length)%m.length,m[Ce].hemisphere!==m[xe].hemisphere){Ce=null;break}else{if(m[Ce].indexLabelText&&Ce!==xe&&(0>c(m[Ce],m[xe])||(m[xe].hemisphere==="right"?m[Ce].indexLabelTextBlock.y>=m[xe].indexLabelTextBlock.y:m[Ce].indexLabelTextBlock.y<=m[xe].indexLabelTextBlock.y)))break;Ce=null}return Ce}function _(xe,Ce,ye){if(ye=(ye||0)+1,1e3<ye)return 0;Ce=Ce||0;var ve=0,ae=G.y-1*X,Re=G.y+1*X;if(0<=xe&&xe<b.length){var je=m[xe];if(0>Ce&&je.indexLabelTextBlock.y<ae||0<Ce&&je.indexLabelTextBlock.y>Re)return 0;var de=0,At=0,At=de=de=0;for(0>Ce?je.indexLabelTextBlock.y-je.indexLabelTextBlock.height/2>ae&&je.indexLabelTextBlock.y-je.indexLabelTextBlock.height/2+Ce<ae&&(Ce=-(ae-(je.indexLabelTextBlock.y-je.indexLabelTextBlock.height/2+Ce))):je.indexLabelTextBlock.y+je.indexLabelTextBlock.height/2<ae&&je.indexLabelTextBlock.y+je.indexLabelTextBlock.height/2+Ce>Re&&(Ce=je.indexLabelTextBlock.y+je.indexLabelTextBlock.height/2+Ce-Re),Ce=je.indexLabelTextBlock.y+Ce,ae=0,ae=je.hemisphere==="right"?G.x+Math.sqrt(Math.pow(X,2)-Math.pow(Ce-G.y,2)):G.x-Math.sqrt(Math.pow(X,2)-Math.pow(Ce-G.y,2)),At=G.x+se*Math.cos(je.midAngle),de=G.y+se*Math.sin(je.midAngle),de=Math.sqrt(Math.pow(ae-At,2)+Math.pow(Ce-de,2)),At=Math.acos(se/X),de=Math.acos((X*X+se*se-de*de)/(2*se*X)),Ce=de<At?Ce-je.indexLabelTextBlock.y:0,ae=null,Re=1;Re<b.length;Re++)if(ae=(xe-Re+m.length)%m.length,m[ae].hemisphere!==m[xe].hemisphere){ae=null;break}else{if(m[ae].indexLabelText&&m[ae].hemisphere===m[xe].hemisphere&&ae!==xe&&(0>c(m[ae],m[xe])||(m[xe].hemisphere==="right"?m[ae].indexLabelTextBlock.y<=m[xe].indexLabelTextBlock.y:m[ae].indexLabelTextBlock.y>=m[xe].indexLabelTextBlock.y)))break;ae=null}At=ae,de=p(xe),Re=ae=0,0>Ce?(Re=je.hemisphere==="right"?At:de,ve=Ce,Re!==null&&(At=-Ce,Ce=je.indexLabelTextBlock.y-je.indexLabelTextBlock.height/2-(m[Re].indexLabelTextBlock.y+m[Re].indexLabelTextBlock.height/2),Ce-At<B&&(ae=-At,Re=_(Re,ae,ye+1),+Re.toFixed(Q)>+ae.toFixed(Q)&&(ve=Ce>B?-(Ce-B):-(At-(Re-ae)))))):0<Ce&&(Re=je.hemisphere==="right"?de:At,ve=Ce,Re!==null&&(At=Ce,Ce=m[Re].indexLabelTextBlock.y-m[Re].indexLabelTextBlock.height/2-(je.indexLabelTextBlock.y+je.indexLabelTextBlock.height/2),Ce-At<B&&(ae=At,Re=_(Re,ae,ye+1),+Re.toFixed(Q)<+ae.toFixed(Q)&&(ve=Ce>B?Ce-B:At-(ae-Re))))),ve&&(ye=je.indexLabelTextBlock.y+ve,Ce=0,Ce=je.hemisphere==="right"?G.x+Math.sqrt(Math.pow(X,2)-Math.pow(ye-G.y,2)):G.x-Math.sqrt(Math.pow(X,2)-Math.pow(ye-G.y,2)),je.midAngle>Math.PI/2-O&&je.midAngle<Math.PI/2+O?(ae=(xe-1+m.length)%m.length,ae=m[ae],xe=m[(xe+1+m.length)%m.length],je.hemisphere==="left"&&ae.hemisphere==="right"&&Ce>ae.indexLabelTextBlock.x?Ce=ae.indexLabelTextBlock.x-15:je.hemisphere==="right"&&xe.hemisphere==="left"&&Ce<xe.indexLabelTextBlock.x&&(Ce=xe.indexLabelTextBlock.x+15)):je.midAngle>3*Math.PI/2-O&&je.midAngle<3*Math.PI/2+O&&(ae=(xe-1+m.length)%m.length,ae=m[ae],xe=m[(xe+1+m.length)%m.length],je.hemisphere==="right"&&ae.hemisphere==="left"&&Ce<ae.indexLabelTextBlock.x?Ce=ae.indexLabelTextBlock.x+15:je.hemisphere==="left"&&xe.hemisphere==="right"&&Ce>xe.indexLabelTextBlock.x&&(Ce=xe.indexLabelTextBlock.x-15)),je.indexLabelTextBlock.y=ye,je.indexLabelTextBlock.x=Ce,je.indexLabelAngle=Math.atan2(je.indexLabelTextBlock.y-G.y,je.indexLabelTextBlock.x-G.x))}return ve}function E(){var xe=I.plotArea.ctx;xe.fillStyle="grey",xe.strokeStyle="grey",xe.font="16px Arial",xe.textBaseline="middle";for(var ve=xe=0,Ce=0,ye=!0,ve=0;10>ve&&(1>ve||0<Ce);ve++){if((M.radius||!M.radius&&typeof M.innerRadius<"u"&&M.innerRadius!==null&&se-Ce<=Le)&&(ye=!1),ye&&(se-=Ce),Ce=0,M.indexLabelPlacement!=="inside"){for(X=se*Y,xe=0;xe<b.length;xe++){var ae=m[xe];ae.indexLabelTextBlock.x=G.x+X*Math.cos(ae.midAngle),ae.indexLabelTextBlock.y=G.y+X*Math.sin(ae.midAngle),ae.indexLabelAngle=ae.midAngle,ae.radius=se,ae.percentInnerRadius=Be}for(var Re,je,xe=0;xe<b.length;xe++){var ae=m[xe],de=p(xe);if(de!==null){Re=m[xe],je=m[de];var At=0,At=c(Re,je)-B;if(0>At){for(var Rt=je=0,Lt=0;Lt<b.length;Lt++)Lt!==xe&&m[Lt].hemisphere===ae.hemisphere&&(m[Lt].indexLabelTextBlock.y<ae.indexLabelTextBlock.y?je++:Rt++);je=At/(je+Rt||1)*Rt;var Rt=-1*(At-je),Qt=Lt=0;ae.hemisphere==="right"?(Lt=_(xe,je),Rt=-1*(At-Lt),Qt=_(de,Rt),+Qt.toFixed(Q)<+Rt.toFixed(Q)&&+Lt.toFixed(Q)<=+je.toFixed(Q)&&_(xe,-(Rt-Qt))):(Lt=_(de,je),Rt=-1*(At-Lt),Qt=_(xe,Rt),+Qt.toFixed(Q)<+Rt.toFixed(Q)&&+Lt.toFixed(Q)<=+je.toFixed(Q)&&_(de,-(Rt-Qt)))}}}}else for(xe=0;xe<b.length;xe++)ae=m[xe],X=M.type==="pie"?.7*se:.85*se,de=G.x+X*Math.cos(ae.midAngle),je=G.y+X*Math.sin(ae.midAngle),ae.indexLabelTextBlock.x=de,ae.indexLabelTextBlock.y=je;for(xe=0;xe<b.length;xe++)ae=m[xe],de=ae.indexLabelTextBlock.measureText(),de.height!==0&&de.width!==0&&(de=de=0,ae.hemisphere==="right"?(de=A.x2-(ae.indexLabelTextBlock.x+ae.indexLabelTextBlock.width+T),de*=-1):de=A.x1-(ae.indexLabelTextBlock.x-ae.indexLabelTextBlock.width-T),0<de&&(!ye&&ae.indexLabelText&&(je=ae.hemisphere==="right"?A.x2-ae.indexLabelTextBlock.x:ae.indexLabelTextBlock.x-A.x1,.3*ae.indexLabelTextBlock.maxWidth>je?ae.indexLabelText="":ae.indexLabelTextBlock.maxWidth=.85*je,.3*ae.indexLabelTextBlock.maxWidth<je&&(ae.indexLabelTextBlock.x-=ae.hemisphere==="right"?2:-2)),Math.abs(ae.indexLabelTextBlock.y-ae.indexLabelTextBlock.height/2-G.y)<se||Math.abs(ae.indexLabelTextBlock.y+ae.indexLabelTextBlock.height/2-G.y)<se)&&(de/=Math.abs(Math.cos(ae.indexLabelAngle)),9<de&&(de*=.3),de>Ce&&(Ce=de)),de=de=0,0<ae.indexLabelAngle&&ae.indexLabelAngle<Math.PI?(de=A.y2-(ae.indexLabelTextBlock.y+ae.indexLabelTextBlock.height/2+5),de*=-1):de=A.y1-(ae.indexLabelTextBlock.y-ae.indexLabelTextBlock.height/2-5),0<de&&(!ye&&ae.indexLabelText&&(je=0<ae.indexLabelAngle&&ae.indexLabelAngle<Math.PI?-1:1,_(xe,de*je)===0&&_(xe,2*je)),Math.abs(ae.indexLabelTextBlock.x-G.x)<se&&(de/=Math.abs(Math.sin(ae.indexLabelAngle)),9<de&&(de*=.3),de>Ce&&(Ce=de))));var lt=function(wn,Yt,Xt){for(var dt=[],Mn=0;dt.push(m[Yt]),Yt!==Xt;Yt=(Yt+1+b.length)%b.length);for(dt.sort(function(qi,Qn){return qi.y-Qn.y}),Yt=0;Yt<dt.length&&(Xt=dt[Yt],Mn<.7*wn);Yt++)Mn+=Xt.indexLabelTextBlock.height,Xt.indexLabelTextBlock.text="",Xt.indexLabelText="",Xt.indexLabelTextBlock.measureText()};(function(){for(var wn=-1,Yt=-1,Xt=0,dt=!1,Mn=0;Mn<b.length;Mn++)if(dt=!1,Re=m[Mn],Re.indexLabelText){var qi=p(Mn);if(qi!==null){var Qn=m[qi];At=0,At=c(Re,Qn);var Ss;if(Ss=0>At){Ss=Re.indexLabelTextBlock.x;var $r=Re.indexLabelTextBlock.y-Re.indexLabelTextBlock.height/2,We=Re.indexLabelTextBlock.y+Re.indexLabelTextBlock.height/2,Wu=Qn.indexLabelTextBlock.y-Qn.indexLabelTextBlock.height/2,qn=Qn.indexLabelTextBlock.x+Qn.indexLabelTextBlock.width,Gl=Qn.indexLabelTextBlock.y+Qn.indexLabelTextBlock.height/2;Ss=!(Re.indexLabelTextBlock.x+Re.indexLabelTextBlock.width<Qn.indexLabelTextBlock.x-T||Ss>qn+T||$r>Gl+T||We<Wu-T)}Ss?(0>wn&&(wn=Mn),qi!==wn&&(Yt=qi,Xt+=-At),Mn%Math.max(b.length/10,3)===0&&(dt=!0)):dt=!0,dt&&0<Xt&&0<=wn&&0<=Yt&&(lt(Xt,wn,Yt),Yt=wn=-1,Xt=0)}}0<Xt&&lt(Xt,wn,Yt)})()}}function N(){if(I.plotArea.layoutManager.reset(),I.title&&(I.title.dockInsidePlotArea||I.title.horizontalAlign==="center"&&I.title.verticalAlign==="center")&&I.title.render(),I.subtitles)for(var xe=0;xe<I.subtitles.length;xe++){var Ce=I.subtitles[xe];(Ce.dockInsidePlotArea||Ce.horizontalAlign==="center"&&Ce.verticalAlign==="center")&&Ce.render()}I.legend&&(I.legend.dockInsidePlotArea||I.legend.horizontalAlign==="center"&&I.legend.verticalAlign==="center")&&(I.legend.setLayout(),I.legend.render())}var I=this;if(!(0>=o.dataSeriesIndexes.length)){var M=this.data[o.dataSeriesIndexes[0]],b=M.dataPoints,T=10,A=this.plotArea,m=M.dataPointEOs,B=2,X,Y=1.3,O=20/180*Math.PI,Q=6,G={x:(A.x2+A.x1)/2,y:(A.y2+A.y1)/2},re=0;o=!1;for(var pe=0;pe<b.length;pe++)re+=Math.abs(b[pe].y),!o&&typeof b[pe].indexLabel<"u"&&b[pe].indexLabel!==null&&0<b[pe].indexLabel.toString().length&&(o=!0),!o&&typeof b[pe].label<"u"&&b[pe].label!==null&&0<b[pe].label.toString().length&&(o=!0);if(re!==0){o=o||typeof M.indexLabel<"u"&&M.indexLabel!==null&&0<M.indexLabel.toString().length;var se=M.indexLabelPlacement!=="inside"&&o?.75*Math.min(A.width,A.height)/2:.92*Math.min(A.width,A.height)/2;M.radius&&(se=H(M.radius,se));var Le=typeof M.innerRadius<"u"&&M.innerRadius!==null?H(M.innerRadius,se):.7*se;M.radius=se,M.type==="doughnut"&&(M.innerRadius=Le);var Be=Math.min(Le/se,(se-1)/se);this.pieDoughnutClickHandler=function(xe){I.isAnimating||!f(this.explodeOnClick)&&!this.explodeOnClick||(xe=xe.dataPoint,xe.exploded=!xe.exploded,1<this.dataPoints.length&&I._animator.animate(0,500,function(Ce){h(Ce,!0),N(),I.dispatchEvent("dataAnimationIterationEnd",{chart:I}),I.dispatchEvent("dataAnimationEnd",{chart:I})}))},g(),E(),E(),E(),E(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(xe){var Ce=I.plotArea.ctx;Ce.clearRect(A.x1,A.y1,A.width,A.height),Ce.fillStyle=I.backgroundColor,Ce.fillRect(A.x1,A.y1,A.width,A.height);for(var Ce=m[0].startAngle+2*Math.PI*xe,ye=0;ye<b.length;ye++){var ve=ye===0?m[ye].startAngle:ae,ae=ve+(m[ye].endAngle-m[ye].startAngle),Re=!1;ae>Ce&&(ae=Ce,Re=!0);var je=b[ye].color?b[ye].color:M._colorSet[ye%M._colorSet.length];if(ae>ve&&Bn(I.plotArea.ctx,m[ye].center,m[ye].radius,je,M.type,ve,ae,M.fillOpacity,m[ye].percentInnerRadius),Re)break}N(),I.dispatchEvent("dataAnimationIterationEnd",{chart:I}),1<=xe&&I.dispatchEvent("dataAnimationEnd",{chart:I})},function(){I.disableToolTip=!1,I._animator.animate(0,I.animatedRender?500:0,function(xe){h(xe,!1),N(),I.dispatchEvent("dataAnimationIterationEnd",{chart:I})}),I.dispatchEvent("dataAnimationEnd",{chart:I})})}}};var Kn=function(o,g,h,c){typeof h>"u"&&(h=1),0>=Math.round(g.y4-g.y1)||(o.save(),o.globalAlpha=h,o.beginPath(),o.moveTo(Math.round(g.x1),Math.round(g.y1)),o.lineTo(Math.round(g.x2),Math.round(g.y2)),o.lineTo(Math.round(g.x3),Math.round(g.y3)),o.lineTo(Math.round(g.x4),Math.round(g.y4)),g.x5!=="undefined"&&(o.lineTo(Math.round(g.x5),Math.round(g.y5)),o.lineTo(Math.round(g.x6),Math.round(g.y6))),o.closePath(),o.fillStyle=c||g.color,o.fill(),o.globalAplha=1,o.restore())};V.prototype.renderFunnel=function(o){function g(){for(var Ge=0,Xe=[],tt=0;tt<Q.length;tt++){if(typeof Q[tt].y>"u")return-1;Q[tt].y=typeof Q[tt].y=="number"?Q[tt].y:0,Ge+=Math.abs(Q[tt].y)}if(Ge===0)return-1;for(tt=Xe[0]=0;tt<Q.length;tt++)Xe.push(Math.abs(Q[tt].y)*Le/Ge);return Xe}function h(){var Ge=Lt,Xe=Rt,tt=lt,Ft=wn,st,$t;st=ve,$t=ae-je,Ft=Math.abs(($t-st)*(Xe-Ge+(Ft-tt))/2),tt=wn-lt,st=$t-st,$t=tt*($t-ae),$t=Math.abs($t),$t=Ft+$t;for(var Ft=[],hi=0,Sn=0;Sn<Q.length;Sn++){if(typeof Q[Sn].y>"u")return-1;Q[Sn].y=typeof Q[Sn].y=="number"?Q[Sn].y:0,hi+=Math.abs(Q[Sn].y)}if(hi===0)return-1;for(var dn=Ft[0]=0,ut=0,Cn,Yn,Xe=Xe-Ge,dn=!1,Sn=0;Sn<Q.length;Sn++)Ge=Math.abs(Q[Sn].y)*$t/hi,dn?Cn=Number(tt.toFixed(3))==0?0:Ge/tt:(Yn=Qn*Qn*Xe*Xe-4*Math.abs(Qn)*Ge,0>Yn?(Yn=tt,dn=(Xe+Yn)*(st-ut)/2,Ge-=dn,Cn=st-ut,ut+=st-ut,Cn+=Yn==0?0:Ge/Yn,ut+=Ge/Yn,dn=!0):(Cn=(Math.abs(Qn)*Xe-Math.sqrt(Yn))/2,Yn=Xe-2*Cn/Math.abs(Qn),ut+=Cn,ut>st&&(ut-=Cn,Yn=tt,dn=(Xe+Yn)*(st-ut)/2,Ge-=dn,Cn=st-ut,ut+=st-ut,Cn+=Ge/Yn,ut+=Ge/Yn,dn=!0),Xe=Yn)),Ft.push(Cn);return Ft}function c(){if(O&&Q){for(var Ge,Xe,tt,Ft,st,$t,hi,Sn,ut,Cn,Yn,dn,Mt,Gt,ft,an=[],di=[],Ui={percent:null,total:null},fi=null,Ot=0;Ot<Q.length;Ot++)ft=dt[Ot],ft=typeof ft.x5<"u"?(ft.y2+ft.y4)/2:(ft.y2+ft.y3)/2,ft=m(ft).x2+1,an[Ot]=ye-ft-At;ft=.5*At;for(var Ot=0,ai=Q.length-1;Ot<Q.length||0<=ai;Ot++,ai--)Xe=O.reversed?Q[ai]:Q[Ot],Ge=Xe.color?Xe.color:O.reversed?O._colorSet[(Q.length-1-Ot)%O._colorSet.length]:O._colorSet[Ot%O._colorSet.length],tt=Xe.indexLabelPlacement||O.indexLabelPlacement||"outside",Gt=Xe.indexLabelTextAlign||O.indexLabelTextAlign||"left",Ft=Xe.indexLabelBackgroundColor||O.indexLabelBackgroundColor||(ee?"transparent":null),st=Xe.indexLabelFontColor||O.indexLabelFontColor||"#979797",$t=f(Xe.indexLabelFontSize)?O.indexLabelFontSize:Xe.indexLabelFontSize,hi=Xe.indexLabelFontStyle||O.indexLabelFontStyle||"normal",Sn=Xe.indexLabelFontFamily||O.indexLabelFontFamily||"arial",ut=Xe.indexLabelFontWeight||O.indexLabelFontWeight||"normal",Ge=Xe.indexLabelLineColor||O.options.indexLabelLineColor||Ge,Cn=typeof Xe.indexLabelLineThickness=="number"?Xe.indexLabelLineThickness:typeof O.indexLabelLineThickness=="number"?O.indexLabelLineThickness:2,Yn=Xe.indexLabelLineDashType||O.indexLabelLineDashType||"solid",dn=typeof Xe.indexLabelWrap<"u"?Xe.indexLabelWrap:typeof O.indexLabelWrap<"u"?O.indexLabelWrap:!0,Mt=O.dataPointIds[Ot],Y._eventManager.objectMap[Mt]={id:Mt,objectType:"dataPoint",dataPointIndex:Ot,dataSeriesIndex:0,funnelSection:dt[O.reversed?Q.length-1-Ot:Ot]},O.indexLabelPlacement==="inside"&&(an[Ot]=Ot!==qi?O.reversed?dt[Ot].x2-dt[Ot].x1:dt[Ot].x3-dt[Ot].x4:dt[Ot].x3-dt[Ot].x6,20>an[Ot]&&(an[Ot]=Ot!==qi&&O.reversed?dt[Ot].x3-dt[Ot].x4:dt[Ot].x2-dt[Ot].x1,an[Ot]/=2)),Mt=Xe.indexLabelMaxWidth?Xe.indexLabelMaxWidth:O.options.indexLabelMaxWidth?O.indexLabelMaxWidth:an[Ot],(Mt>an[Ot]||0>Mt)&&(Mt=an[Ot]),di[Ot]=O.indexLabelPlacement==="inside"?dn?Math.max(dt[Ot].height,$t):1.5*$t:!1,Ui=Y.getPercentAndTotal(O,Xe),(O.indexLabelFormatter||Xe.indexLabelFormatter)&&(fi={chart:Y.options,dataSeries:O,dataPoint:Xe,total:Ui.total,percent:Ui.percent}),Xe=Xe.indexLabelFormatter?Xe.indexLabelFormatter(fi):Xe.indexLabel?Y.replaceKeywordsWithValue(Xe.indexLabel,Xe,O,Ot):O.indexLabelFormatter?O.indexLabelFormatter(fi):O.indexLabel?Y.replaceKeywordsWithValue(O.indexLabel,Xe,O,Ot):Xe.label?Xe.label:"",0>=Cn&&(Cn=0),1e3>Mt&&1e3-Mt<ft&&(Mt+=1e3-Mt),f(O.options.indexLabelMaxWidth)&&(O.indexLabelMaxWidth=f(O.indexLabelMaxWidth)?Mt:Math.max(Mt,O.indexLabelMaxWidth)),Re.roundRect||a(Re),tt=new le(Re,{fontSize:$t,fontFamily:Sn,fontColor:st,fontStyle:hi,fontWeight:ut,horizontalAlign:tt,textAlign:Gt,backgroundColor:Ft,maxWidth:Mt,maxHeight:di[Ot]===!1?dn?4.28571429*$t:1.5*$t:di[Ot],text:Xe,padding:$r,textBaseline:"middle"}),tt.measureText(),tt.height=tt.height===2*tt.padding?0:tt.height,tt.width=tt.width===2*tt.padding?0:tt.width,We.push({textBlock:tt,id:O.reversed?ai:Ot,isDirty:!1,lineColor:Ge,lineThickness:Cn,lineDashType:Yn,height:tt.height<tt.maxHeight?tt.height:tt.maxHeight,width:tt.width<tt.maxWidth?tt.width:tt.maxWidth})}}function p(){var Ge,Xe,tt,Ft,st,$t=[];st=!1,tt=0;for(var hi,Sn=ye-Rt-At/2,Sn=O.options.indexLabelMaxWidth?O.indexLabelMaxWidth>Sn?Sn:O.indexLabelMaxWidth:Sn,ut=We.length-1;0<=ut;ut--)hi=Q[We[ut].id],tt=We[ut],Ft=tt.textBlock,Xe=(Ge=A(ut)<dt.length?We[A(ut)]:null)?Ge.textBlock:null,tt=tt.height,Ge&&Ft.y+tt+$r>Xe.y&&(st=!0),tt=hi.indexLabelMaxWidth||Sn,(tt>Sn||0>tt)&&(tt=Sn),$t.push(tt);if(st)for(ut=We.length-1;0<=ut;ut--)Ge=dt[ut],We[ut].textBlock.maxWidth=$t[$t.length-(ut+1)],We[ut].textBlock.measureText(),We[ut].textBlock.height=We[ut].textBlock.height===2*We[ut].textBlock.padding?0:We[ut].textBlock.height,We[ut].textBlock.width=We[ut].textBlock.width===2*We[ut].textBlock.padding?0:We[ut].textBlock.width,We[ut].textBlock.x=ye-Sn,tt=We[ut].textBlock.height<We[ut].textBlock.maxHeight?We[ut].textBlock.height:We[ut].textBlock.maxHeight,st=We[ut].textBlock.width<We[ut].textBlock.maxWidth?We[ut].textBlock.width:We[ut].textBlock.maxWidth,We[ut].height=tt,We[ut].width=st,tt=typeof Ge.x5<"u"?(Ge.y2+Ge.y4)/2:(Ge.y2+Ge.y3)/2,We[ut].textBlock.y=tt-We[ut].height/2,O.reversed?(We[ut].textBlock.y+We[ut].height>Qt+re&&(We[ut].textBlock.y=Qt+re-We[ut].height),We[ut].textBlock.y<Xt-re&&(We[ut].textBlock.y=Xt-re)):(We[ut].textBlock.y<Qt-re&&(We[ut].textBlock.y=Qt-re),We[ut].textBlock.y+We[ut].height>Xt+re&&(We[ut].textBlock.y=Xt+re-We[ut].height))}function _(){var Ge,Xe,tt,Ft;if(O.indexLabelPlacement!=="inside")for(var st=0;st<dt.length;st++)We[st].textBlock.text.length==0?We[st].isDirty=!0:(Ge=dt[st],tt=typeof Ge.x5<"u"?(Ge.y2+Ge.y4)/2:(Ge.y2+Ge.y3)/2,Xe=O.reversed?typeof Ge.x5<"u"&&tt>Yt?m(tt).x2+1:(Ge.x2+Ge.x3)/2+1:typeof Ge.x5<"u"?tt<Yt?m(tt).x2+1:(Ge.x4+Ge.x3)/2+1:(Ge.x2+Ge.x3)/2+1,We[st].textBlock.x=Xe+At,We[st].textBlock.y=tt-We[st].height/2,O.reversed?(We[st].textBlock.y+We[st].height>Qt+re&&(We[st].textBlock.y=Qt+re-We[st].height),We[st].textBlock.y<Xt-re&&(We[st].textBlock.y=Xt-re)):(We[st].textBlock.y<Qt-re&&(We[st].textBlock.y=Qt-re),We[st].textBlock.y+We[st].height>Xt+re&&(We[st].textBlock.y=Xt+re-We[st].height)));else for(st=0;st<dt.length;st++)We[st].textBlock.text.length==0?We[st].isDirty=!0:(Ge=dt[st],Xe=Ge.height,tt=We[st].height,Ft=We[st].width,Xe>=tt?(Xe=st!=qi?(Ge.x4+Ge.x3)/2-Ft/2:(Ge.x5+Ge.x4)/2-Ft/2,tt=st!=qi?(Ge.y1+Ge.y3)/2-tt/2:(Ge.y1+Ge.y4)/2-tt/2,We[st].textBlock.x=Xe,We[st].textBlock.y=tt):We[st].isDirty=!0)}function E(){function Ge(Mt,Gt){var ft;if(0>Mt||Mt>=We.length)return 0;var an,di=We[Mt].textBlock;return 0>Gt?(Gt*=-1,an=T(Mt),ft=N(an,Mt),ft>=Gt?(di.y-=Gt,Gt):Mt==0?(0<ft&&(di.y-=ft),ft):(ft+=Ge(an,-(Gt-ft)),0<ft&&(di.y-=ft),ft)):(an=A(Mt),ft=N(Mt,an),ft>=Gt?(di.y+=Gt,Gt):Mt==dt.length-1?(0<ft&&(di.y+=ft),ft):(ft+=Ge(an,Gt-ft),0<ft&&(di.y+=ft),ft))}function Xe(){var Mt,Gt,ft,an,di=0,Ui;an=(ae-ve+2*re)/Cn,Ui=Cn;for(var fi,Ot=1;Ot<Ui;Ot++){ft=Ot*an;for(var ai=We.length-1;0<=ai;ai--)!We[ai].isDirty&&We[ai].textBlock.y<ft&&We[ai].textBlock.y+We[ai].height>ft&&(fi=A(ai),!(fi>=We.length-1)&&We[ai].textBlock.y+We[ai].height+$r>We[fi].textBlock.y&&(We[ai].textBlock.y=We[ai].textBlock.y+We[ai].height-ft>ft-We[ai].textBlock.y?ft+1:ft-We[ai].height-1))}for(fi=dt.length-1;0<fi;fi--)if(!We[fi].isDirty){if(ft=T(fi),0>ft&&(ft=0,We[ft].isDirty))break;if(We[fi].textBlock.y<We[ft].textBlock.y+We[ft].height){for(Gt=Gt||fi,an=fi,Ui=0;We[an].textBlock.y<We[ft].textBlock.y+We[ft].height+$r;){if(Mt=Mt||We[an].textBlock.y+We[an].height,Ui+=We[an].height,Ui+=$r,an=ft,0>=an){an=0,Ui+=We[an].height;break}if(ft=T(an),0>ft){an=0,Ui+=We[an].height;break}}if(an!=fi){di=We[an].textBlock.y,Mt-=di,Mt=Ui-Mt,di=tt(Mt,Gt,an);break}}}return di}function tt(Mt,Gt,ft){var an=[],di=0,Ui=0;for(Mt=Math.abs(Mt);ft<=Gt;ft++)an.push(dt[ft]);for(an.sort(function(fi,Ot){return fi.height-Ot.height}),ft=0;ft<an.length&&(Gt=an[ft],di<Mt);ft++)Ui++,di+=We[Gt.id].height+$r,We[Gt.id].textBlock.text="",We[Gt.id].indexLabelText="",We[Gt.id].isDirty=!0,We[Gt.id].textBlock.measureText();return Ui}for(var Ft,st,$t,hi,Sn,ut,Cn=1,Yn=0;Yn<2*Cn;Yn++){for(var dn=We.length-1;0<=dn&&(0<=T(dn)&&T(dn),$t=We[dn],hi=$t.textBlock,ut=(Sn=A(dn)<dt.length?We[A(dn)]:null)?Sn.textBlock:null,Ft=+$t.height.toFixed(6),st=+hi.y.toFixed(6),!(!$t.isDirty&&Sn&&st+Ft+$r>+ut.y.toFixed(6)&&(Ft=hi.y+Ft+$r-ut.y,st=Ge(dn,-Ft),st<Ft&&(0<st&&(Ft-=st),st=Ge(A(dn),Ft),st!=Ft))));dn--);Xe()}}function N(Ge,Xe){return(Xe<dt.length?We[Xe].textBlock.y:O.reversed?Qt+re:Xt+re)-(0>Ge?O.reversed?Xt-re:Qt-re:We[Ge].textBlock.y+We[Ge].height+$r)}function I(Ge,Xe,tt){var Ft,st,$t,hi=[],Sn=re,ut=[];if(Xe!==-1&&(0<=qn.indexOf(Xe)?(st=qn.indexOf(Xe),qn.splice(st,1)):(qn.push(Xe),qn=qn.sort(function(dn,Mt){return dn-Mt}))),qn.length===0)hi=Gl;else{st=re*(qn.length!=1||qn[0]!=0&&qn[0]!=dt.length-1?2:1)/M();for(var Cn=0;Cn<dt.length;Cn++){if(qn.length==1&&qn[0]==0){if(Cn===0){hi.push(Gl[Cn]),Ft=Sn;continue}}else Cn===0&&(Ft=-1*Sn);hi.push(Gl[Cn]+Ft),(0<=qn.indexOf(Cn)||Cn<dt.length&&0<=qn.indexOf(Cn+1))&&(Ft+=st)}}$t=function(){for(var dn=[],Mt=0;Mt<dt.length;Mt++)dn.push(hi[Mt]-dt[Mt].y1);return dn}();var Yn={startTime:new Date().getTime(),duration:tt||500,easingFunction:function(dn,Mt,Gt,ft){return xt.easing.easeOutQuart(dn,Mt,Gt,ft)},changeSection:function(dn){for(var Mt,Gt,ft=0;ft<dt.length;ft++)Mt=$t[ft],Gt=dt[ft],Mt*=dn,typeof ut[ft]>"u"&&(ut[ft]=0),0>ut&&(ut*=-1),Gt.y1+=Mt-ut[ft],Gt.y2+=Mt-ut[ft],Gt.y3+=Mt-ut[ft],Gt.y4+=Mt-ut[ft],Gt.y5&&(Gt.y5+=Mt-ut[ft],Gt.y6+=Mt-ut[ft]),ut[ft]=Mt}};Ge._animator.animate(0,tt,function(dn){var Mt=Ge.plotArea.ctx||Ge.ctx;Wu=!0,Mt.clearRect(G.x1,G.y1,G.x2-G.x1,G.y2-G.y1),Mt.fillStyle=Ge.backgroundColor,Mt.fillRect(G.x1,G.y1,G.width,G.height),Yn.changeSection(dn,Xe);var Gt={};for(Gt.dataSeries=O,Gt.dataPoint=O.reversed?O.dataPoints[Q.length-1-Xe]:O.dataPoints[Xe],Gt.index=O.reversed?Q.length-1-Xe:Xe,Ge.toolTip.highlightObjects([Gt]),Gt=0;Gt<dt.length;Gt++)Kn(Mt,dt[Gt],O.fillOpacity);X(Mt),xe&&(O.indexLabelPlacement!=="inside"?b(Mt):_(),B(Mt)),1<=dn&&(Wu=!1)},null,xt.easing.easeOutQuart)}function M(){for(var Ge=0,Xe=0;Xe<dt.length-1;Xe++)(0<=qn.indexOf(Xe)||0<=qn.indexOf(Xe+1))&&Ge++;return Ge}function b(Ge){for(var Xe,tt,Ft,st,$t=0;$t<dt.length;$t++)st=We[$t].lineThickness%2===1?.5:0,tt=((dt[$t].y2+dt[$t].y4)/2<<0)+st,Xe=m(tt).x2-1,Ft=We[$t].textBlock.x,st=(We[$t].textBlock.y+We[$t].height/2<<0)+st,We[$t].isDirty||We[$t].lineThickness==0||(Ge.strokeStyle=We[$t].lineColor,Ge.lineWidth=We[$t].lineThickness,Ge.setLineDash&&Ge.setLineDash(C(We[$t].lineDashType,We[$t].lineThickness)),Ge.beginPath(),Ge.moveTo(Xe,tt),Ge.lineTo(Ft,st),Ge.stroke())}function T(Ge){for(Ge-=1;-1<=Ge&&Ge!=-1&&We[Ge].isDirty;Ge--);return Ge}function A(Ge){for(Ge+=1;Ge<=dt.length&&Ge!=dt.length&&We[Ge].isDirty;Ge++);return Ge}function m(Ge){for(var Xe,tt=0;tt<Q.length;tt++)if(dt[tt].y1<Ge&&dt[tt].y4>Ge){Xe=dt[tt];break}return Xe?(Ge=Xe.y6&&Ge>Xe.y6?Xe.x3+(Xe.x4-Xe.x3)/(Xe.y4-Xe.y3)*(Ge-Xe.y3):Xe.x2+(Xe.x3-Xe.x2)/(Xe.y3-Xe.y2)*(Ge-Xe.y2),{x1:Ge,x2:Ge}):-1}function B(Ge){for(var Xe=0;Xe<dt.length;Xe++)We[Xe].isDirty||(Ge&&(We[Xe].textBlock.ctx=Ge),We[Xe].textBlock.y+=We[Xe].textBlock._lineHeight/2,We[Xe].textBlock.render(!0),We[Xe].textBlock.y-=We[Xe].textBlock._lineHeight/2)}function X(Ge){if(Y.plotArea.layoutManager.reset(),Ge.roundRect||a(Ge),Y.title&&(Y.title.dockInsidePlotArea||Y.title.horizontalAlign==="center"&&Y.title.verticalAlign==="center")&&(Y.title.ctx=Ge,Y.title.render()),Y.subtitles)for(var Xe=0;Xe<Y.subtitles.length;Xe++){var tt=Y.subtitles[Xe];(tt.dockInsidePlotArea||tt.horizontalAlign==="center"&&tt.verticalAlign==="center")&&(Y.subtitles.ctx=Ge,tt.render())}Y.legend&&(Y.legend.dockInsidePlotArea||Y.legend.horizontalAlign==="center"&&Y.legend.verticalAlign==="center")&&(Y.legend.ctx=Ge,Y.legend.setLayout(),Y.legend.render()),Te.fNg&&Te.fNg(Y)}var Y=this;if(!(0>=o.dataSeriesIndexes.length)){for(var O=this.data[o.dataSeriesIndexes[0]],Q=O.dataPoints,G=this.plotArea,re=.025*G.width,pe=.01*G.width,se=0,Le=G.height-2*re,Be=Math.min(G.width-2*pe,2.8*G.height),xe=!1,Ce=0;Ce<Q.length;Ce++)!xe&&typeof Q[Ce].indexLabel<"u"&&Q[Ce].indexLabel!==null&&0<Q[Ce].indexLabel.toString().length&&(xe=!0),!xe&&typeof Q[Ce].label<"u"&&Q[Ce].label!==null&&0<Q[Ce].label.toString().length&&(xe=!0),(!xe&&typeof O.indexLabelFormatter=="function"||typeof Q[Ce].indexLabelFormatter=="function")&&(xe=!0);xe=xe||typeof O.indexLabel<"u"&&O.indexLabel!==null&&0<O.indexLabel.toString().length,O.indexLabelPlacement!=="inside"&&xe||(pe=(G.width-.75*Be)/2);var Ce=G.x1+pe,ye=G.x2-pe,ve=G.y1+re,ae=G.y2-re,Re=o.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(O.length!=0&&O.dataPoints&&O.visible&&Q.length!==0){var je,de;o=75*Be/100;var At=30*(ye-o)/100;O.type==="funnel"?(je=f(O.options.neckHeight)?.35*Le:O.neckHeight,de=f(O.options.neckWidth)?.25*o:O.neckWidth,typeof je=="string"&&je.match(/%$/)?(je=parseInt(je),je=je*Le/100):je=parseInt(je),typeof de=="string"&&de.match(/%$/)?(de=parseInt(de),de=de*o/100):de=parseInt(de),je>Le?je=Le:0>=je&&(je=0),de>o?de=o-.5:0>=de&&(de=0)):O.type==="pyramid"&&(de=je=0,O.reversed=!O.reversed);var pe=Ce+o/2,Lt=Ce,Rt=Ce+o,Qt=O.reversed?ae:ve,lt=pe-de/2,wn=pe+de/2,Yt=O.reversed?ve+je:ae-je,Xt=O.reversed?ve:ae;de=O.valueRepresents=O.valueRepresents?O.valueRepresents:"height",Ce=[],o=[];var dt=[],pe=[],Mn=ve,qi,Qn=(Yt-Qt)/(lt-Lt),Ss=-Qn,Be=de==="area"?h():g();if(Be!==-1){if(O.reversed)for(pe.push(Mn),de=Be.length-1;0<de;de--)Mn+=Be[de],pe.push(Mn);else for(de=0;de<Be.length;de++)Mn+=Be[de],pe.push(Mn);if(O.reversed)for(de=0;de<Be.length;de++)pe[de]<Yt?(Ce.push(lt),o.push(wn),qi=de):(Ce.push((pe[de]-Qt+Qn*Lt)/Qn),o.push((pe[de]-Qt+Ss*Rt)/Ss));else for(de=0;de<Be.length;de++)pe[de]<Yt?(Ce.push((pe[de]-Qt+Qn*Lt)/Qn),o.push((pe[de]-Qt+Ss*Rt)/Ss),qi=de):(Ce.push(lt),o.push(wn));for(de=0;de<Be.length-1;de++)Mn=O.reversed?Q[Q.length-1-de].color?Q[Q.length-1-de].color:O._colorSet[(Q.length-1-de)%O._colorSet.length]:Q[de].color?Q[de].color:O._colorSet[de%O._colorSet.length],de===qi?dt.push({x1:Ce[de],y1:pe[de],x2:o[de],y2:pe[de],x3:wn,y3:Yt,x4:o[de+1],y4:pe[de+1],x5:Ce[de+1],y5:pe[de+1],x6:lt,y6:Yt,id:de,height:pe[de+1]-pe[de],color:Mn}):dt.push({x1:Ce[de],y1:pe[de],x2:o[de],y2:pe[de],x3:o[de+1],y3:pe[de+1],x4:Ce[de+1],y4:pe[de+1],id:de,height:pe[de+1]-pe[de],color:Mn});var $r=2,We=[],Wu=!1,qn=[],Gl=[],Ce=!1;for(o=o=0,x(qn),de=0;de<Q.length;de++)Q[de].exploded&&(Ce=!0,O.reversed?qn.push(Q.length-1-de):qn.push(de));if(Re.clearRect(G.x1,G.y1,G.width,G.height),Re.fillStyle=Y.backgroundColor,Re.fillRect(G.x1,G.y1,G.width,G.height),xe&&O.visible&&(c(),_(),O.indexLabelPlacement!=="inside")){for(p(),E(),de=0;de<Q.length;de++)We[de].isDirty||(o=We[de].textBlock.x+We[de].width,o=(ye-o)/2,de==0&&(se=o),se>o&&(se=o));for(de=0;de<dt.length;de++)dt[de].x1+=se,dt[de].x2+=se,dt[de].x3+=se,dt[de].x4+=se,dt[de].x5&&(dt[de].x5+=se,dt[de].x6+=se),We[de].textBlock.x+=se}for(de=0;de<dt.length;de++)se=dt[de],Kn(Re,se,O.fillOpacity),Gl.push(se.y1);if(X(Re),xe&&O.visible&&(O.indexLabelPlacement==="inside"||Y.animationEnabled||b(Re),Y.animationEnabled||B()),!xe)for(de=0;de<Q.length;de++)se=O.dataPointIds[de],o={id:se,objectType:"dataPoint",dataPointIndex:de,dataSeriesIndex:0,funnelSection:dt[O.reversed?Q.length-1-de:de]},Y._eventManager.objectMap[se]=o;return(!Y.animationEnabled&&Ce||Y.animationEnabled&&!Y.animatedRender)&&I(Y,-1,0),this.funnelPyramidClickHandler=function(Ft){var st=-1;!Wu&&!Y.isAnimating&&(f(Ft.dataSeries.explodeOnClick)||Ft.dataSeries.explodeOnClick)&&(st=O.reversed?Q.length-1-Ft.dataPointIndex:Ft.dataPointIndex,0<=st)&&(Ft=st,(O.type==="funnel"||O.type==="pyramid")&&(O.reversed?Q[Q.length-1-Ft].exploded=!Q[Q.length-1-Ft].exploded:Q[Ft].exploded=!Q[Ft].exploded),I(Y,st,500))},{source:Re,dest:this.plotArea.ctx,animationCallback:function(Ft,st){xt.fadeInAnimation(Ft,st),1<=Ft&&(I(Y,-1,500),X(Y.plotArea.ctx||Y.ctx))},easingFunction:xt.easing.easeInQuad,animationBase:0}}}}},V.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o){window.setTimeout(o,1e3/60)}}(),V.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,V.prototype.set=function(o,g,h){h=typeof h>"u"?!0:h,o==="options"?(this.options=g,h&&this.render()):V.base.set.call(this,o,g,h)},V.prototype.exportChart=function(o){o=typeof o>"u"?{}:o;var g=o.format?o.format:"png",h=o.fileName?o.fileName:this.exportFileName;if(o.toDataURL)return this.canvas.toDataURL("image/"+g);var c=this.canvas;if(c&&g&&h){h=h+"."+g,o="image/"+g;var c=c.toDataURL(o),p=!1,_=document.createElement("a");if(_.download=h,_.href=c,typeof Blob<"u"&&new Blob){for(var E=c.replace(/^data:[a-z\/]*;base64,/,""),E=atob(E),N=new ArrayBuffer(E.length),N=new Uint8Array(N),I=0;I<E.length;I++)N[I]=E.charCodeAt(I);g=new Blob([N.buffer],{type:"image/"+g});try{window.navigator.msSaveBlob(g,h),p=!0}catch{_.dataset.downloadurl=[o,_.download,_.href].join(":"),_.href=window.URL.createObjectURL(g)}}if(!p)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),_.dispatchEvent?_.dispatchEvent(event):_.fireEvent&&_.fireEvent("onclick")}catch{g=window.open(),g.document.write("<img src='"+c+"'></img><div>Please right click on the image and save it to your device</div>"),g.document.close()}}},V.prototype.print=function(){var o=this.exportChart({toDataURL:!0}),g=document.createElement("iframe");g.setAttribute("class","canvasjs-chart-print-frame"),z(g,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),g.style.height=this.height+"px",this._canvasJSContainer.appendChild(g);var h=this,c=g.contentWindow||g.contentDocument.document||g.contentDocument;c.document.open(),c.document.write(`<!DOCTYPE HTML>
<html><body><img src="`+o+'"/><body/></html>'),c.document.body&&c.document.body.style&&(c.document.body.style.margin="0px 0px 0px 0px",c.document.body.style.padding="0px 0px 0px 0px"),c.document.close(),setTimeout(function(){c.focus(),c.print(),setTimeout(function(){h._canvasJSContainer.removeChild(g)},1e3)},500)},V.prototype.getPercentAndTotal=function(o,g){var h=null,c=null,p=h=null;if(0<=o.type.indexOf("stacked"))c=0,h=g.x.getTime?g.x.getTime():g.x,h in o.plotUnit.yTotals&&(c=o.plotUnit.yTotals[h],h=o.plotUnit.yAbsTotals[h],p=isNaN(g.y)||h===0?0:100*(g.y/h));else if(o.type==="pie"||o.type==="doughnut"||o.type==="funnel"||o.type==="pyramid"){for(h=c=0;h<o.dataPoints.length;h++)isNaN(o.dataPoints[h].y)||(c+=o.dataPoints[h].y);p=isNaN(g.y)?0:100*(g.y/c)}return{percent:p,total:c}},V.prototype.replaceKeywordsWithValue=function(o,g,h,c,p){var _=this;if(p=typeof p>"u"?0:p,(0<=h.type.indexOf("stacked")||h.type==="pie"||h.type==="doughnut"||h.type==="funnel"||h.type==="pyramid")&&(0<=o.indexOf("#percent")||0<=o.indexOf("#total"))){var I="#percent",N="#total",E=this.getPercentAndTotal(h,g),N=isNaN(E.total)?N:E.total,I=isNaN(E.percent)?I:E.percent;do{if(E="",h.percentFormatString)E=h.percentFormatString;else{var E="#,##0.",M=Math.max(Math.ceil(Math.log(1/Math.abs(I))/Math.LN10),2);(isNaN(M)||!isFinite(M))&&(M=2);for(var b=0;b<M;b++)E+="#";h.percentFormatString=E}o=o.replace("#percent",ct(I,E,_._cultureInfo)),o=o.replace("#total",ct(N,h.yValueFormatString?h.yValueFormatString:"#,##0.########",_._cultureInfo))}while(0<=o.indexOf("#percent")||0<=o.indexOf("#total"))}return o.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(T){if(T[0]==='"'&&T[T.length-1]==='"'||T[0]==="'"&&T[T.length-1]==="'")return T.slice(1,T.length-1);T=s(T.slice(1,T.length-1)),T=T.replace("#index",p);var A=null;try{var m=T.match(/(.*?)\s*\[\s*(.*?)\s*\]/);m&&0<m.length&&(A=s(m[2]),T=s(m[1]))}catch{}if(m=null,T==="color")return h.type==="waterfall"?g.color?g.color:0<g.y?h.risingColor:h.fallingColor:h.type==="error"?h.color?h.color:h._colorSet[A%h._colorSet.length]:g.color?g.color:h.color?h.color:h._colorSet[c%h._colorSet.length];if(g.hasOwnProperty(T))m=g;else if(h.hasOwnProperty(T))m=h;else return"";return m=m[T],A!==null&&(m=m[A]),T==="x"?(h.axisX&&h.axisX.valueType==="dateTime"||h.xValueType==="dateTime"||g.x&&g.x.getTime)&&!h.axisX.logarithmic?Ye(m,g.xValueFormatString?g.xValueFormatString:h.xValueFormatString?h.xValueFormatString:h.xValueFormatString=_.axisX&&_.axisX.autoValueFormatString?_.axisX.autoValueFormatString:"DD MMM YY",_._cultureInfo):ct(m,g.xValueFormatString?g.xValueFormatString:h.xValueFormatString?h.xValueFormatString:h.xValueFormatString="#,##0.########",_._cultureInfo):T==="y"?ct(m,g.yValueFormatString?g.yValueFormatString:h.yValueFormatString?h.yValueFormatString:h.yValueFormatString="#,##0.########",_._cultureInfo):T==="z"?ct(m,g.zValueFormatString?g.zValueFormatString:h.zValueFormatString?h.zValueFormatString:h.zValueFormatString="#,##0.########",_._cultureInfo):m})},e(Me,q),Me.prototype.setLayout=function(){var o=this.dockInsidePlotArea?this.chart.plotArea:this.chart,g=o.layoutManager.getFreeSpace(),h=null,c=0,p=0,_=0,E=0,N=this.markerMargin=this.chart.options.legend&&!f(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var I=[],M=[];this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.orientation="horizontal",h=this.verticalAlign,_=this.maxWidth=this.maxWidth!==null?this.maxWidth:g.width,E=this.maxHeight=this.maxHeight!==null?this.maxHeight:.5*g.height):this.verticalAlign==="center"&&(this.orientation="vertical",(this.horizontalAlign==="left"||this.horizontalAlign==="center"||this.horizontalAlign==="right")&&(h=this.horizontalAlign),_=this.maxWidth=this.maxWidth!==null?this.maxWidth:.5*g.width,E=this.maxHeight=this.maxHeight!==null?this.maxHeight:g.height),this.errorMarkerColor=[];for(var b=0;b<this.dataSeries.length;b++){var T=this.dataSeries[b];if(T.dataPoints&&T.dataPoints.length){if(T.type!=="pie"&&T.type!=="doughnut"&&T.type!=="funnel"&&T.type!=="pyramid"){var A=T.legendMarkerType=T.legendMarkerType?T.legendMarkerType:T.type!=="line"&&T.type!=="stepLine"&&T.type!=="spline"&&T.type!=="scatter"&&T.type!=="bubble"||!T.markerType?T.type==="error"&&T._linkedSeries?T._linkedSeries.legendMarkerType?T._linkedSeries.legendMarkerType:Ie.getDefaultLegendMarker(T._linkedSeries.type):Ie.getDefaultLegendMarker(T.type):T.markerType,m=T.legendText?T.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:T,dataPoint:null}):T.name,B=T.legendMarkerColor=T.legendMarkerColor?T.legendMarkerColor:T.markerColor?T.markerColor:T.type==="error"?f(T.whiskerColor)?T._colorSet[0]:T.whiskerColor:T._colorSet[0],X=T.markerSize||T.type!=="line"&&T.type!=="stepLine"&&T.type!=="spline"?.75*this.lineHeight:0,Y=T.legendMarkerBorderColor?T.legendMarkerBorderColor:T.markerBorderColor,O=T.legendMarkerBorderThickness?T.legendMarkerBorderThickness:T.markerBorderThickness?Math.max(1,Math.round(.2*X)):0;T.type==="error"&&this.errorMarkerColor.push(B),m=T.legendText=this.chart.replaceKeywordsWithValue(m,T.dataPoints[0],T,b),A={markerType:A,markerColor:B,text:m,textBlock:null,chartType:T.type,markerSize:X,lineColor:T._colorSet[0],dataSeriesIndex:T.index,dataPointIndex:null,markerBorderColor:Y,markerBorderThickness:O},I.push(A)}else for(var Q=0;Q<T.dataPoints.length;Q++){var G=T.dataPoints[Q],A=G.legendMarkerType?G.legendMarkerType:T.legendMarkerType?T.legendMarkerType:Ie.getDefaultLegendMarker(T.type),m=G.legendText?G.legendText:T.legendText?T.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:T,dataPoint:G}):G.name?G.name:"DataPoint: "+(Q+1),B=G.legendMarkerColor?G.legendMarkerColor:T.legendMarkerColor?T.legendMarkerColor:G.color?G.color:T.color?T.color:T._colorSet[Q%T._colorSet.length],X=.75*this.lineHeight,Y=G.legendMarkerBorderColor?G.legendMarkerBorderColor:T.legendMarkerBorderColor?T.legendMarkerBorderColor:G.markerBorderColor?G.markerBorderColor:T.markerBorderColor,O=G.legendMarkerBorderThickness?G.legendMarkerBorderThickness:T.legendMarkerBorderThickness?T.legendMarkerBorderThickness:G.markerBorderThickness||T.markerBorderThickness?Math.max(1,Math.round(.2*X)):0,m=this.chart.replaceKeywordsWithValue(m,G,T,Q),A={markerType:A,markerColor:B,text:m,textBlock:null,chartType:T.type,markerSize:X,dataSeriesIndex:b,dataPointIndex:Q,markerBorderColor:Y,markerBorderThickness:O};(G.showInLegend||T.showInLegend&&G.showInLegend!==!1)&&I.push(A)}f(T.legendText)&&(T.legendText=T.name)}}if(this.reversed===!0&&I.reverse(),0<I.length){for(T=null,m=G=Q=0,G=this.itemWidth!==null?this.itemMaxWidth!==null?Math.min(this.itemWidth,this.itemMaxWidth,_):this.itemMaxWidth=Math.min(this.itemWidth,_):this.itemMaxWidth!==null?Math.min(this.itemMaxWidth,_):this.itemMaxWidth=_,X=X===0?.75*this.lineHeight:X,G=(this.itemMaxWidth?this.itemMaxWidth:G)-(X+N),b=0;b<I.length;b++)A=I[b],B=G,(A.chartType==="line"||A.chartType==="spline"||A.chartType==="stepLine")&&(B-=2*.1*this.lineHeight),0>=E||typeof E>"u"||0>=B||typeof B>"u"||(this.orientation==="horizontal"?(A.textBlock=new le(this.ctx,{x:0,y:0,maxWidth:B,maxHeight:this.itemWrap?E:this.lineHeight,angle:0,text:A.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),A.textBlock.measureText(),this.itemWidth!==null&&(A.textBlock.width=this.itemWidth-(X+N+(A.chartType==="line"||A.chartType==="spline"||A.chartType==="stepLine"?2*.1*this.lineHeight:0))),(!T||T.width+Math.round(A.textBlock.width+X+N+(T.width===0?0:this.horizontalSpacing)+(A.chartType==="line"||A.chartType==="spline"||A.chartType==="stepLine"?2*.1*this.lineHeight:0))>_)&&(T={items:[],width:0},M.push(T),this.height+=m,m=0),m=Math.max(m,A.textBlock.height?A.textBlock.height:this.lineHeight),A.textBlock.x=T.width,A.textBlock.y=0,T.width+=Math.round(A.textBlock.width+X+N+(T.width===0?0:this.horizontalSpacing)+(A.chartType==="line"||A.chartType==="spline"||A.chartType==="stepLine"?2*.1*this.lineHeight:0)),T.items.push(A),this.width=Math.max(T.width,this.width)):(A.textBlock=new le(this.ctx,{x:0,y:0,maxWidth:G,maxHeight:this.itemWrap===!0?E:1.5*this.fontSize,angle:0,text:A.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),A.textBlock.measureText(),this.itemWidth!==null&&(A.textBlock.width=this.itemWidth-(X+N+(A.chartType==="line"||A.chartType==="spline"||A.chartType==="stepLine"?2*.1*this.lineHeight:0))),this.height<E-this.lineHeight?(T={items:[],width:0},M.push(T)):(T=M[Q],Q=(Q+1)%M.length),T&&(this.height+=A.textBlock.height?A.textBlock.height:this.lineHeight,A.textBlock.x=T.width,A.textBlock.y=0,T.width+=Math.round(A.textBlock.width+X+N+(T.width===0?0:this.horizontalSpacing)+(A.chartType==="line"||A.chartType==="spline"||A.chartType==="stepLine"?2*.1*this.lineHeight:0)),T.items.push(A),this.width=Math.max(T.width,this.width))));this.height=this.itemWrap===!1?M.length*this.lineHeight:this.height+m,this.height=Math.min(E,this.height),this.width=Math.min(_,this.width)}for(this.verticalAlign==="top"?(p=this.horizontalAlign==="left"?g.x1:this.horizontalAlign==="right"?g.x2-this.width:g.x1+g.width/2-this.width/2,c=g.y1):this.verticalAlign==="center"?(p=this.horizontalAlign==="left"?g.x1:this.horizontalAlign==="right"?g.x2-this.width:g.x1+g.width/2-this.width/2,c=g.y1+g.height/2-this.height/2):this.verticalAlign==="bottom"&&(p=this.horizontalAlign==="left"?g.x1:this.horizontalAlign==="right"?g.x2-this.width:g.x1+g.width/2-this.width/2,c=g.y2-this.height),this.items=I,b=0;b<this.items.length;b++)A=I[b],A.id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[A.id]={id:A.id,objectType:"legendItem",legendItemIndex:b,dataSeriesIndex:A.dataSeriesIndex,dataPointIndex:A.dataPointIndex};this.markerSize=X,this.rows=M,0<I.length&&o.layoutManager.registerSpace(h,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:p,y1:c,x2:p+this.width,y2:c+this.height}},Me.prototype.render=function(){var o=this.bounds.x1,g=this.bounds.y1,h=this.markerMargin,c=this.maxWidth,p=this.maxHeight,_=this.markerSize,E=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(o,g,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var N=0,I=0;I<E.length;I++){for(var M=E[I],b=0,T=0;T<M.items.length;T++){var A=M.items[T],m=A.textBlock.x+o+(T===0?.2*_:this.horizontalSpacing),B=g+N,X=m;if(this.chart.data[A.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(o,g,c,Math.max(p-p%this.lineHeight,0)),this.ctx.clip(),(A.chartType==="line"||A.chartType==="stepLine"||A.chartType==="spline")&&(this.ctx.strokeStyle=A.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(m-.1*this.lineHeight,B+this.lineHeight/2),this.ctx.lineTo(m+.85*this.lineHeight,B+this.lineHeight/2),this.ctx.stroke(),X-=.1*this.lineHeight),A.chartType==="error"){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=_/8,this.ctx.beginPath();var Y=m-.08*this.lineHeight+.1*this.lineHeight,O=B+.15*this.lineHeight,Q=.7*this.lineHeight,G=Q+.02*this.lineHeight;this.ctx.moveTo(Y,O),this.ctx.lineTo(Y+Q,O),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(Y+Q/2,O),this.ctx.lineTo(Y+Q/2,O+G),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(Y,O+G),this.ctx.lineTo(Y+Q,O+G),this.ctx.stroke(),this.errorMarkerColor.shift()}hn.drawMarker(m+_/2,B+this.lineHeight/2,this.ctx,A.markerType,A.chartType==="error"||A.chartType==="line"||A.chartType==="spline"?A.markerSize/2:A.markerSize,A.markerColor,A.markerBorderColor,A.markerBorderThickness),A.textBlock.x=m+h+_,(A.chartType==="line"||A.chartType==="stepLine"||A.chartType==="spline")&&(A.textBlock.x+=.1*this.lineHeight),A.textBlock.y=Math.round(B+this.lineHeight/2),A.textBlock.render(!0),this.ctx.restore(),b=0<T?Math.max(b,A.textBlock.height?A.textBlock.height:this.lineHeight):A.textBlock.height?A.textBlock.height:this.lineHeight,this.chart.data[A.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),m=u(A.id),this.ghostCtx.fillStyle=m,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(X,A.textBlock.y-this.lineHeight/2,A.textBlock.x+A.textBlock.width-X,A.textBlock.height?A.textBlock.height:this.lineHeight),A.x1=this.chart._eventManager.objectMap[A.id].x1=X,A.y1=this.chart._eventManager.objectMap[A.id].y1=A.textBlock.y-this.lineHeight/2,A.x2=this.chart._eventManager.objectMap[A.id].x2=A.textBlock.x+A.textBlock.width,A.y2=this.chart._eventManager.objectMap[A.id].y2=A.textBlock.y+(A.textBlock.height?A.textBlock.height:this.lineHeight)-this.lineHeight/2}N+=b}},e(Ie,q),Ie.prototype.getDefaultAxisPlacement=function(){var o=this.type;return o==="column"||o==="line"||o==="stepLine"||o==="spline"||o==="area"||o==="stepArea"||o==="splineArea"||o==="stackedColumn"||o==="stackedLine"||o==="bubble"||o==="scatter"||o==="stackedArea"||o==="stackedColumn100"||o==="stackedLine100"||o==="stackedArea100"||o==="candlestick"||o==="ohlc"||o==="rangeColumn"||o==="rangeArea"||o==="rangeSplineArea"||o==="boxAndWhisker"||o==="waterfall"?"normal":o==="bar"||o==="stackedBar"||o==="stackedBar100"||o==="rangeBar"?"xySwapped":o==="pie"||o==="doughnut"||o==="funnel"||o==="pyramid"?"none":(o!=="error"&&window.console.log("Unknown Chart Type: "+o),null)},Ie.getDefaultLegendMarker=function(o){return o==="column"||o==="stackedColumn"||o==="stackedLine"||o==="bar"||o==="stackedBar"||o==="stackedBar100"||o==="bubble"||o==="scatter"||o==="stackedColumn100"||o==="stackedLine100"||o==="stepArea"||o==="candlestick"||o==="ohlc"||o==="rangeColumn"||o==="rangeBar"||o==="rangeArea"||o==="rangeSplineArea"||o==="boxAndWhisker"||o==="waterfall"?"square":o==="line"||o==="stepLine"||o==="spline"||o==="pie"||o==="doughnut"?"circle":o==="area"||o==="splineArea"||o==="stackedArea"||o==="stackedArea100"||o==="funnel"||o==="pyramid"?"triangle":o==="error"?"none":(window.console.log("Unknown Chart Type: "+o),null)},Ie.prototype.getDataPointAtX=function(o,g){if(!this.dataPoints||this.dataPoints.length===0)return null;var h={dataPoint:null,distance:1/0,index:NaN},c=null,p=0,_=0,E=1,N=1/0,I=0,M=0,b=0;for(this.chart.plotInfo.axisPlacement!=="none"&&(this.axisX.logarithmic?(b=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),b=1<b?Math.min(Math.max((this.dataPoints.length-1)/b*Math.log(o/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0):(b=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,b=0<b?Math.min(Math.max((this.dataPoints.length-1)/b*(o-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0));;){if(_=0<E?b+p:b-p,0<=_&&_<this.dataPoints.length){var c=this.dataPoints[_],T=this.axisX.logarithmic?c.x>o?c.x/o:o/c.x:Math.abs(c.x-o);if(T<h.distance&&(h.dataPoint=c,h.distance=T,h.index=_),c=T,c<=N?N=c:0<E?I++:M++,1e3<I&&1e3<M)break}else if(0>b-p&&b+p>=this.dataPoints.length)break;E===-1?(p++,E=1):E=-1}return g||(h.dataPoint.x.getTime?h.dataPoint.x.getTime():h.dataPoint.x)!==(o.getTime?o.getTime():o)?g&&h.dataPoint!==null?h:null:h},Ie.prototype.getDataPointAtXY=function(o,g,h){if(!this.dataPoints||this.dataPoints.length===0||o<this.chart.plotArea.x1||o>this.chart.plotArea.x2||g<this.chart.plotArea.y1||g>this.chart.plotArea.y2)return null;h=h||!1;var c=[],p=0,_=0,E=1,N=!1,I=1/0,M=0,b=0,A=0;if(this.chart.plotInfo.axisPlacement!=="none")if(A=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:o,y:g}),this.axisX.logarithmic)var T=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),A=1<T?Math.min(Math.max((this.dataPoints.length-1)/T*Math.log(A/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else T=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,A=0<T?Math.min(Math.max((this.dataPoints.length-1)/T*(A-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;for(;;){if(_=0<E?A+p:A-p,0<=_&&_<this.dataPoints.length){var T=this.chart._eventManager.objectMap[this.dataPointIds[_]],m=this.dataPoints[_],B=null;if(T){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":o>=T.x1&&o<=T.x2&&g>=T.y1&&g<=T.y2&&(c.push({dataPoint:m,dataPointIndex:_,dataSeries:this,distance:Math.min(Math.abs(T.x1-o),Math.abs(T.x2-o),Math.abs(T.y1-g),Math.abs(T.y2-g))}),N=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var X=R("markerSize",m,this)||4,Y=h?20:X,B=Math.sqrt(Math.pow(T.x1-o,2)+Math.pow(T.y1-g,2));B<=Y&&c.push({dataPoint:m,dataPointIndex:_,dataSeries:this,distance:B}),T=Math.abs(T.x1-o),T<=I?I=T:0<E?M++:b++,B<=X/2&&(N=!0);break;case"rangeArea":case"rangeSplineArea":X=R("markerSize",m,this)||4,Y=h?20:X,B=Math.min(Math.sqrt(Math.pow(T.x1-o,2)+Math.pow(T.y1-g,2)),Math.sqrt(Math.pow(T.x1-o,2)+Math.pow(T.y2-g,2))),B<=Y&&c.push({dataPoint:m,dataPointIndex:_,dataSeries:this,distance:B}),T=Math.abs(T.x1-o),T<=I?I=T:0<E?M++:b++,B<=X/2&&(N=!0);break;case"bubble":X=T.size,B=Math.sqrt(Math.pow(T.x1-o,2)+Math.pow(T.y1-g,2)),B<=X/2&&(c.push({dataPoint:m,dataPointIndex:_,dataSeries:this,distance:B}),N=!0);break;case"pie":case"doughnut":X=T.center,Y=this.type==="doughnut"?T.percentInnerRadius*T.radius:0,B=Math.sqrt(Math.pow(X.x-o,2)+Math.pow(X.y-g,2)),B<T.radius&&B>Y&&(B=Math.atan2(g-X.y,o-X.x),0>B&&(B+=2*Math.PI),B=Number(((180*(B/Math.PI)%360+360)%360).toFixed(12)),X=Number(((180*(T.startAngle/Math.PI)%360+360)%360).toFixed(12)),Y=Number(((180*(T.endAngle/Math.PI)%360+360)%360).toFixed(12)),Y===0&&1<T.endAngle&&(Y=360),X>=Y&&m.y!==0&&!f(m.y)&&(Y+=360,B<X&&(B+=360)),B>X&&B<Y&&(c.push({dataPoint:m,dataPointIndex:_,dataSeries:this,distance:0}),N=!0));break;case"funnel":case"pyramid":B=T.funnelSection,g>B.y1&&g<B.y4&&(B.y6?g>B.y6?(_=B.x6+(B.x5-B.x6)/(B.y5-B.y6)*(g-B.y6),B=B.x3+(B.x4-B.x3)/(B.y4-B.y3)*(g-B.y3)):(_=B.x1+(B.x6-B.x1)/(B.y6-B.y1)*(g-B.y1),B=B.x2+(B.x3-B.x2)/(B.y3-B.y2)*(g-B.y2)):(_=B.x1+(B.x4-B.x1)/(B.y4-B.y1)*(g-B.y1),B=B.x2+(B.x3-B.x2)/(B.y3-B.y2)*(g-B.y2)),o>_&&o<B&&(c.push({dataPoint:m,dataPointIndex:T.dataPointIndex,dataSeries:this,distance:0}),N=!0));break;case"boxAndWhisker":(o>=T.x1-T.borderThickness/2&&o<=T.x2+T.borderThickness/2&&g>=T.y4-T.borderThickness/2&&g<=T.y1+T.borderThickness/2||Math.abs(T.x2-o+T.x1-o)<T.borderThickness&&g>=T.y1&&g<=T.y4)&&(c.push({dataPoint:m,dataPointIndex:_,dataSeries:this,distance:Math.min(Math.abs(T.x1-o),Math.abs(T.x2-o),Math.abs(T.y2-g),Math.abs(T.y3-g))}),N=!0);break;case"candlestick":(o>=T.x1-T.borderThickness/2&&o<=T.x2+T.borderThickness/2&&g>=T.y2-T.borderThickness/2&&g<=T.y3+T.borderThickness/2||Math.abs(T.x2-o+T.x1-o)<T.borderThickness&&g>=T.y1&&g<=T.y4)&&(c.push({dataPoint:m,dataPointIndex:_,dataSeries:this,distance:Math.min(Math.abs(T.x1-o),Math.abs(T.x2-o),Math.abs(T.y2-g),Math.abs(T.y3-g))}),N=!0);break;case"ohlc":(Math.abs(T.x2-o+T.x1-o)<T.borderThickness&&g>=T.y2&&g<=T.y3||o>=T.x1&&o<=(T.x2+T.x1)/2&&g>=T.y1-T.borderThickness/2&&g<=T.y1+T.borderThickness/2||o>=(T.x1+T.x2)/2&&o<=T.x2&&g>=T.y4-T.borderThickness/2&&g<=T.y4+T.borderThickness/2)&&(c.push({dataPoint:m,dataPointIndex:_,dataSeries:this,distance:Math.min(Math.abs(T.x1-o),Math.abs(T.x2-o),Math.abs(T.y2-g),Math.abs(T.y3-g))}),N=!0)}if(N||1e3<M&&1e3<b)break}}else if(0>A-p&&A+p>=this.dataPoints.length)break;E===-1?(p++,E=1):E=-1}for(o=null,g=0;g<c.length;g++)o?c[g].distance<=o.distance&&(o=c[g]):o=c[g];return o},Ie.prototype.getMarkerProperties=function(o,g,h,c){var p=this.dataPoints,_=p[o].markerColor?p[o].markerColor:this.markerColor?this.markerColor:p[o].color?p[o].color:this.color?this.color:this._colorSet[o%this._colorSet.length],E=p[o].markerBorderColor?p[o].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,N=f(p[o].markerBorderThickness)?this.markerBorderThickness?this.markerBorderThickness:null:p[o].markerBorderThickness,I=p[o].markerType?p[o].markerType:this.markerType;return o=f(p[o].markerSize)?this.markerSize:p[o].markerSize,{x:g,y:h,ctx:c,type:I,size:o,color:_,borderColor:E,borderThickness:N}},e(ke,q),ke.prototype.createExtraLabelsForLog=function(o){if(o=(o||0)+1,!(5<o)){var g=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(g/this.viewportMinimum)<this.noTicks-1){for(var h=ke.getNiceNumber((g-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),c=Math.ceil(this.viewportMinimum/h)*h;c<g;c+=h)c<this.viewportMinimum||this.logLabelValues.push(c);this.logLabelValues.sort(l),this.createExtraLabelsForLog(o)}}},ke.prototype.createLabels=function(){var o,g,h=0,E=0,c,p=0,_=0,E=0,E=this.interval,N=0,I,M=.6*this.chart.height,b;o=!1;var T=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],A=T.length?f(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if(this.type!=="axisX"||this.valueType!=="dateTime"||this.logarithmic){if(c=this.viewportMaximum,this.labels){o=Math.ceil(E);for(var E=Math.ceil(this.intervalStartPosition),m=!1,h=E;h<this.viewportMaximum;h+=o)if(this.labels[h])m=!0;else{m=!1;break}m&&(this.interval=o,this.intervalStartPosition=E)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),E=0,m=A;E<this.logLabelValues.length;E++)if(h=this.logLabelValues[E],h<this.viewportMinimum)E++;else{for(;m<T.length&&h>T[m].endValue;m++);o=m<T.length&&h>=T[m].startValue&&h<=T[m].endValue,b=h,o||(o=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:b,label:this.labels[b]?this.labels[b]:null}):this.type==="axisX"&&this.labels[b]?this.labels[b]:ct(b,this.valueFormatString,this.chart._cultureInfo),o=new le(this.ctx,{x:0,y:0,maxWidth:p,maxHeight:_,angle:this.labelAngle,text:this.prefix+o+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:b,textBlock:o,effectiveHeight:null}))}for(m=A,h=this.intervalStartPosition;h<=c;h=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?h*Math.pow(this.logarithmBase,this.interval):h+this.interval:(this.logarithmic&&this.equidistantInterval?h*Math.pow(this.logarithmBase,this.interval):h+this.interval).toFixed(12))){for(;m<T.length&&h>T[m].endValue;m++);o=m<T.length&&h>=T[m].startValue&&h<=T[m].endValue,b=h,o||(o=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:b,label:this.labels[b]?this.labels[b]:null}):this.type==="axisX"&&this.labels[b]?this.labels[b]:ct(b,this.valueFormatString,this.chart._cultureInfo),o=new le(this.ctx,{x:0,y:0,maxWidth:p,maxHeight:_,angle:this.labelAngle,text:this.prefix+o+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:b,textBlock:o,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),c=i(new Date(this.viewportMaximum),this.interval,this.intervalType),m=A,h=this.intervalStartPosition;h<c;i(h,E,this.intervalType)){for(o=h.getTime();m<T.length&&o>T[m].endValue;m++);b=o,o=m<T.length&&o>=T[m].startValue&&o<=T[m].endValue,o||(o=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(b),label:this.labels[b]?this.labels[b]:null}):this.type==="axisX"&&this.labels[b]?this.labels[b]:Ye(b,this.valueFormatString,this.chart._cultureInfo),o=new le(this.ctx,{x:0,y:0,maxWidth:p,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:_,angle:this.labelAngle,text:this.prefix+o+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:b,textBlock:o,effectiveHeight:null,breaksLabelType:void 0}))}for(this._position==="bottom"||this._position==="top"?(N=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*$e[this.intervalType+"Duration"]*this.interval,p=typeof this.options.labelMaxWidth>"u"?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(_=typeof this.options.labelWrap>"u"||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):(this._position==="left"||this._position==="right")&&(N=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*$e[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(p=typeof this.options.labelMaxWidth>"u"?.3*this.chart.width>>0:this.options.labelMaxWidth),_=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),E=0;E<this._labels.length;E++){o=this._labels[E].textBlock,o.maxWidth=p,o.maxHeight=_;var B=o.measureText();I=B.height}if(c=[],A=T=0,this.labelAutoFit||this.options.labelAutoFit){if(f(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),this._position==="bottom"||this._position==="top")if(p=.9*N>>0,A=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelMaxHeight=_,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,h=0;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){o=this._labels[h].textBlock;for(var X,m=o.text.split(" "),E=0;E<m.length;E++)b=m[E],this.ctx.font=o.fontStyle+" "+o.fontWeight+" "+o.fontSize+"px "+o.fontFamily,b=this.ctx.measureText(b),b.width>A&&(X=h,A=b.width)}for(h=0,h=this.intervalStartPosition<this.viewportMinimum?1:0;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){for(o=this._labels[h].textBlock,B=o.measureText(),m=h+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){g=this._labels[m].textBlock,g=g.measureText();break}if(c.push(o.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,c),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),E=p*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(_-o.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),f(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&this.options.labelAngle!==0){if(this.sessionVariables.labelMaxHeight=this.labelAngle===0?_:Math.min((E-p*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),E),b=(M-(I+o.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),!f(this.options.labelWrap))this.labelWrap?f(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(p,A),b),this.sessionVariables.labelWrap=this.labelWrap,g&&B.width+g.width>>0>2*p&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>p?-25:this.sessionVariables.labelAngle):f(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=_,this.sessionVariables.labelMaxWidth=p,g&&B.width+g.width>>0>2*p&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=b)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>p?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=_,this.sessionVariables.labelWrap=this.labelWrap);else if(f(this.options.labelWrap)){if(!f(this.options.labelMaxWidth))this.options.labelMaxWidth<p?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=E):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=_);else if(!f(g)){if(E=B.width+g.width>>0,m=this.labelFontSize,A<p)E-2*p>T&&(T=E-2*p,E>=2*p&&E<2.2*p?(this.sessionVariables.labelMaxWidth=p,f(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),o.measureText()),this.sessionVariables.labelFontSize=f(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):E>=2.2*p&&E<2.8*p?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=b,this.sessionVariables.labelFontSize=m):E>=2.8*p&&E<3.2*p?(this.sessionVariables.labelMaxWidth=Math.max(p,A),this.sessionVariables.labelWrap=!0,f(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),o.measureText()),this.sessionVariables.labelFontSize=f(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):E>=3.2*p&&E<3.6*p?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=b,this.sessionVariables.labelFontSize=this.labelFontSize):E>3.6*p&&E<5*p?(f(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),o.measureText()),this.sessionVariables.labelFontSize=f(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=b):E>5*p&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelFontSize=m,this.sessionVariables.labelMaxHeight=_,this.sessionVariables.labelAngle=this.labelAngle));else if(X===h&&(X===0&&A+this._labels[X+1].textBlock.measureText().width-2*p>T||X===this._labels.length-1&&A+this._labels[X-1].textBlock.measureText().width-2*p>T||0<X&&X<this._labels.length-1&&A+this._labels[X+1].textBlock.measureText().width-2*p>T&&A+this._labels[X-1].textBlock.measureText().width-2*p>T))T=X===0?A+this._labels[X+1].textBlock.measureText().width-2*p:A+this._labels[X-1].textBlock.measureText().width-2*p,this.sessionVariables.labelFontSize=f(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=b;else if(T===0)for(this.sessionVariables.labelFontSize=f(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,E=0;E<this._labels.length;E++)o=this._labels[E].textBlock,o.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(p,A),b),B=o.measureText(),E<this._labels.length-1&&(m=E+1,g=this._labels[m].textBlock,g.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(p,A),b),g=g.measureText(),B.width+g.width>>0>2*p&&(this.sessionVariables.labelAngle=-25))}}}else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=this.labelAngle===0?_:Math.min((E-p*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),E),b=this.labelAngle!=0?(M-(I+o.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):p,this.sessionVariables.labelMaxHeight=this.labelWrap?(M-b*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,f(this.options.labelWrap)?f(this.options.labelWrap)&&(this.labelWrap&&!f(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:b,this.sessionVariables.labelMaxHeight=_):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=b,this.sessionVariables.labelMaxHeight=E<.9*N?.9*N:E,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:b):(f(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:b,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=_)}for(E=0;E<this._labels.length;E++)o=this._labels[E].textBlock,o.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,o.fontSize=this.sessionVariables.labelFontSize,o.angle=this.labelAngle=this.sessionVariables.labelAngle,o.wrap=this.labelWrap=this.sessionVariables.labelWrap,o.maxHeight=this.sessionVariables.labelMaxHeight,o.measureText()}else for(h=0;h<this._labels.length;h++)o=this._labels[h].textBlock,o.maxWidth=this.labelMaxWidth=f(this.options.labelMaxWidth)?f(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=p:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,o.fontSize=this.labelFontSize=f(this.options.labelFontSize)?f(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,o.angle=this.labelAngle=f(this.options.labelAngle)?f(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,o.wrap=this.labelWrap=f(this.options.labelWrap)?f(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,o.maxHeight=f(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=_:this.sessionVariables.labelMaxHeight,o.measureText();else if(this._position==="left"||this._position==="right")if(p=f(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,_=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelMaxHeight=_,this.sessionVariables.labelAngle=f(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,h=0;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){for(o=this._labels[h].textBlock,B=o.measureText(),m=h+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){g=this._labels[m].textBlock,g=g.measureText();break}c.push(o.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,c),E=p*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(_-o.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),f(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&this.options.labelAngle!==0?f(this.options.labelWrap)?f(this.options.labelWrap)&&(f(this.options.labelMaxWidth)?f(g)||(N=B.height+g.height>>0,N-2*_>A&&(A=N-2*_,N>=2*_&&N<2.4*_?(f(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),o.measureText()),this.sessionVariables.labelMaxHeight=_,this.sessionVariables.labelFontSize=f(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):N>=2.4*_&&N<2.8*_?(this.sessionVariables.labelMaxHeight=E,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):N>=2.8*_&&N<3.2*_?(this.sessionVariables.labelMaxHeight=_,this.sessionVariables.labelWrap=!0,f(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),o.measureText()),this.sessionVariables.labelFontSize=f(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=f(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):N>=3.2*_&&N<3.6*_?(this.sessionVariables.labelMaxHeight=E,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):N>3.6*_&&N<10*_?(f(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),o.measureText()),this.sessionVariables.labelFontSize=f(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelMaxHeight=_,this.sessionVariables.labelAngle=f(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):N>10*_&&N<50*_&&(f(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),o.measureText()),this.sessionVariables.labelFontSize=f(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=_,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelAngle=f(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle))):(this.sessionVariables.labelMaxHeight=_,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:p,this.sessionVariables.labelMaxHeight=_):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=this.labelAngle===0?p:Math.min((E-_*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),_),f(this.options.labelWrap)?f(this.options.labelWrap)&&(this.labelWrap&&!f(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=E):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:p,this.sessionVariables.labelMaxHeight=this.labelAngle===0?_:E,f(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=this.labelAngle===0?_:E,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=p):(this.sessionVariables.labelMaxHeight=_,f(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(E=0;E<this._labels.length;E++)o=this._labels[E].textBlock,o.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,o.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,o.angle=this.labelAngle=this.sessionVariables.labelAngle,o.wrap=this.labelWrap=this.sessionVariables.labelWrap,o.maxHeight=this.sessionVariables.labelMaxHeight,o.measureText()}else for(f(this.chart.stockChart)||this.chart.isNavigator||(this.sessionVariables.labelMaxHeight=_),h=0;h<this._labels.length;h++)o=this._labels[h].textBlock,o.maxWidth=this.labelMaxWidth=f(this.options.labelMaxWidth)?f(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=p:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,o.fontSize=this.labelFontSize=f(this.options.labelFontSize)?f(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,o.angle=this.labelAngle=f(this.options.labelAngle)?f(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,o.wrap=this.labelWrap=f(this.options.labelWrap)?f(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,o.maxHeight=f(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=_:this.sessionVariables.labelMaxHeight,o.measureText()}for(h=0;h<this.stripLines.length;h++){var p=this.stripLines[h],Y;p.labelPlacement==="outside"?(_=this.sessionVariables.labelMaxWidth,(this._position==="bottom"||this._position==="top")&&(f(p.options.labelWrap)&&!f(this.sessionVariables.stripLineLabelMaxHeight)?Y=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=Y=p.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),(this._position==="left"||this._position==="right")&&(f(p.options.labelWrap)&&!f(this.sessionVariables.stripLineLabelMaxHeight)?Y=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=Y=p.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),f(p.labelBackgroundColor)&&(p.labelBackgroundColor="#EEEEEE")):(_=this._position==="bottom"||this._position==="top"?.9*this.chart.width>>0:.9*this.chart.height>>0,Y=f(p.options.labelWrap)||p.labelWrap?this._position==="bottom"||this._position==="top"?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,f(p.labelBackgroundColor)&&(f(p.startValue)&&p.startValue!==0?p.labelBackgroundColor=ee?"transparent":null:p.labelBackgroundColor="#EEEEEE")),o=new le(this.ctx,{x:0,y:0,backgroundColor:p.labelBackgroundColor,borderColor:p.labelBorderColor,borderThickness:p.labelBorderThickness,cornerRadius:p.labelCornerRadius,maxWidth:p.options.labelMaxWidth?p.options.labelMaxWidth:_,maxHeight:Y,angle:this.labelAngle,text:p.labelFormatter?p.labelFormatter({chart:this.chart,axis:this,stripLine:p}):p.label,textAlign:this.labelTextAlign,fontSize:p.labelPlacement==="outside"?p.options.labelFontSize?p.labelFontSize:this.labelFontSize:p.labelFontSize,fontFamily:p.labelPlacement==="outside"?p.options.labelFontFamily?p.labelFontFamily:this.labelFontFamily:p.labelFontFamily,fontWeight:p.labelPlacement==="outside"?p.options.labelFontWeight?p.labelFontWeight:this.labelFontWeight:p.labelFontWeight,fontColor:p.labelFontColor||p.color,fontStyle:p.labelPlacement==="outside"?p.options.labelFontStyle?p.labelFontStyle:this.fontWeight:p.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:p.value,textBlock:o,effectiveHeight:null,stripLine:p})}},ke.prototype.createLabelsAndCalculateWidth=function(){var o=0,g=0;this._labels=[],this._stripLineLabels=[];var h=this.chart.isNavigator?0:5;if(this._position==="left"||this._position==="right"){if(this.createLabels(),this.labelPlacement!="inside"||this.labelPlacement==="inside"&&0<this._index)for(g=0;g<this._labels.length;g++){var c=this._labels[g].textBlock,c=c.measureText(),p=0,p=this.labelAngle===0?c.width:c.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+c.height*Math.sin(Math.PI/180*Math.abs(this.labelAngle));o<p&&(this.labelEffectiveWidth=o=p),this._labels[g].effectiveWidth=p}for(g=0;g<this._stripLineLabels.length;g++)this._stripLineLabels[g].stripLine.labelPlacement==="outside"&&this._stripLineLabels[g].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[g].stripLine.value<=this.viewportMaximum&&(c=this._stripLineLabels[g].textBlock,c=c.measureText(),p=this.labelAngle===0?c.width:c.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+c.height*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),this.tickPlacement==="inside"&&(p+=this.tickLength),this.labelPlacement==="inside"&&(o+=0<this._index?p:0),o<p&&(o=p),this.stripLineLabelEffectiveWidth=this._stripLineLabels[g].effectiveWidth=p)}return(this.title?this._titleTextBlock.measureText().height+2:0)+o+(this.tickPlacement==="inside"?0<this._index?this.tickLength:0:this.tickLength)+h},ke.prototype.createLabelsAndCalculateHeight=function(){var o=0;this._labels=[],this._stripLineLabels=[];var g,h=0,c=this.chart.isNavigator?0:5;if(this._position==="bottom"||this._position==="top"){if(this.createLabels(),this.labelPlacement!="inside"||this.labelPlacement==="inside"&&0<this._index)for(h=0;h<this._labels.length;h++){g=this._labels[h].textBlock,g=g.measureText();var p=0,p=this.labelAngle===0?g.height:g.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+g.height*Math.cos(Math.PI/180*Math.abs(this.labelAngle));o<p&&(this.labelEffectiveHeight=o=p),this._labels[h].effectiveHeight=p}for(h=0;h<this._stripLineLabels.length;h++)this._stripLineLabels[h].stripLine.labelPlacement==="outside"&&this._stripLineLabels[h].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[h].stripLine.value<=this.viewportMaximum&&(g=this._stripLineLabels[h].textBlock,g=g.measureText(),p=this.labelAngle===0?g.height:g.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+g.height*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),this.tickPlacement==="inside"&&(p+=this.tickLength),this.labelPlacement==="inside"&&(o+=0<this._index?p:0),o<p&&(o=p),this.stripLineLabelEffectiveHeight=this._stripLineLabels[h].effectiveHeight=p)}return(this.title?this._titleTextBlock.measureText().height+2:0)+o+(this.tickPlacement==="inside"?0<this._index?this.tickLength:0:this.tickLength)+c},ke.setLayout=function(o,g,h,c,p,_){var E,N,I,M,b=o[0]?o[0].chart:g[0].chart,T=b.isNavigator?0:10,A=b._axes;if(o&&0<o.length)for(var m=0;m<o.length;m++)o[m]&&o[m].calculateAxisParameters();if(g&&0<g.length)for(m=0;m<g.length;m++)g[m].calculateAxisParameters();if(h&&0<h.length)for(m=0;m<h.length;m++)h[m].calculateAxisParameters();if(c&&0<c.length)for(m=0;m<c.length;m++)c[m].calculateAxisParameters();for(m=0;m<A.length;m++)if(A[m]&&A[m].scaleBreaks&&A[m].scaleBreaks._appliedBreaks.length)for(var B=A[m].scaleBreaks._appliedBreaks,X=0;X<B.length&&!(B[X].startValue>A[m].viewportMaximum);X++)B[X].endValue<A[m].viewportMinimum||(f(A[m].scaleBreaks.firstBreakIndex)&&(A[m].scaleBreaks.firstBreakIndex=X),B[X].startValue>=A[m].viewPortMinimum&&(A[m].scaleBreaks.lastBreakIndex=X));for(var Y=X=0,O=0,Q=0,G=0,re=0,pe=0,se,Le,Be=N=0,xe,Ce,ye,B=xe=Ce=ye=!1,m=0;m<A.length;m++)A[m]&&A[m].title&&(A[m]._titleTextBlock=new le(A[m].ctx,{text:A[m].title,horizontalAlign:"center",fontSize:A[m].titleFontSize,fontFamily:A[m].titleFontFamily,fontWeight:A[m].titleFontWeight,fontColor:A[m].titleFontColor,fontStyle:A[m].titleFontStyle,borderColor:A[m].titleBorderColor,borderThickness:A[m].titleBorderThickness,backgroundColor:A[m].titleBackgroundColor,cornerRadius:A[m].titleCornerRadius,textBaseline:"middle"}));for(m=0;m<A.length;m++)if(A[m].title)switch(A[m]._position){case"left":A[m]._titleTextBlock.maxWidth=A[m].titleMaxWidth||_.height,A[m]._titleTextBlock.maxHeight=A[m].titleWrap?.8*_.width:1.5*A[m].titleFontSize,A[m]._titleTextBlock.angle=-90;break;case"right":A[m]._titleTextBlock.maxWidth=A[m].titleMaxWidth||_.height,A[m]._titleTextBlock.maxHeight=A[m].titleWrap?.8*_.width:1.5*A[m].titleFontSize,A[m]._titleTextBlock.angle=90;break;default:A[m]._titleTextBlock.maxWidth=A[m].titleMaxWidth||_.width,A[m]._titleTextBlock.maxHeight=A[m].titleWrap?.8*_.height:1.5*A[m].titleFontSize,A[m]._titleTextBlock.angle=0}if(p==="normal"){for(var Q=[],G=[],re=[],pe=[],ve=[],ae=[],Re=[],je=[];4>X;){var de=0,At=0,Lt=0,Rt=0,Qt=p=0,lt=0,wn=0,Yt=0,Xt=0,dt=0,Mn=0;if(h&&0<h.length)for(re=[],m=dt=0;m<h.length;m++)re.push(Math.ceil(h[m]?h[m].createLabelsAndCalculateWidth():0)),dt+=re[m],lt+=h[m]&&!b.isNavigator?h[m].margin:0;else re.push(Math.ceil(h[0]?h[0].createLabelsAndCalculateWidth():0));if(Re.push(re),c&&0<c.length)for(pe=[],m=Mn=0;m<c.length;m++)pe.push(Math.ceil(c[m]?c[m].createLabelsAndCalculateWidth():0)),Mn+=pe[m],wn+=c[m]?c[m].margin:0;else pe.push(Math.ceil(c[0]?c[0].createLabelsAndCalculateWidth():0));if(je.push(pe),E=Math.round(_.x1+dt+lt),I=Math.round(_.x2-Mn-wn>b.width-T?b.width-T:_.x2-Mn-wn),o&&0<o.length)for(Q=[],m=Yt=0;m<o.length;m++)o[m]&&(o[m].lineCoordinates={}),o[m].lineCoordinates.width=Math.abs(I-E),o[m].title&&(o[m]._titleTextBlock.maxWidth=0<o[m].titleMaxWidth&&o[m].titleMaxWidth<o[m].lineCoordinates.width?o[m].titleMaxWidth:o[m].lineCoordinates.width),Q.push(Math.ceil(o[m]?o[m].createLabelsAndCalculateHeight():0)),Yt+=Q[m],p+=o[m]&&!b.isNavigator?o[m].margin:0;else Q.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateHeight():0));if(ve.push(Q),g&&0<g.length)for(G=[],m=Xt=0;m<g.length;m++)g[m]&&(g[m].lineCoordinates={}),g[m].lineCoordinates.width=Math.abs(I-E),g[m].title&&(g[m]._titleTextBlock.maxWidth=0<g[m].titleMaxWidth&&g[m].titleMaxWidth<g[m].lineCoordinates.width?g[m].titleMaxWidth:g[m].lineCoordinates.width),G.push(Math.ceil(g[m]?g[m].createLabelsAndCalculateHeight():0)),Xt+=G[m],Qt+=g[m]&&!b.isNavigator?g[m].margin:0;else G.push(Math.ceil(g[0]?g[0].createLabelsAndCalculateHeight():0));if(ae.push(G),o&&0<o.length)for(m=0;m<o.length;m++)o[m]&&(o[m].lineCoordinates.x1=E,I=Math.round(_.x2-Mn-wn>b.width-T?b.width-T:_.x2-Mn-wn),o[m]._labels&&1<o[m]._labels.length&&(N=M=0,M=o[m]._labels[1],N=o[m].valueType==="dateTime"?o[m]._labels[o[m]._labels.length-2]:o[m]._labels[o[m]._labels.length-1],Y=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-N.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)),O=N.textBlock.width*Math.cos(Math.PI/180*Math.abs(N.textBlock.angle))+(N.textBlock.height-N.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(N.textBlock.angle))),!o[m]||!o[m].labelAutoFit||f(se)||f(Le)||b.isNavigator||b.stockChart||(N=0,0<o[m].labelAngle?Le+O>I&&(N+=0<o[m].labelAngle?Le+O-I-Mn:0):0>o[m].labelAngle?se-Y<E&&se-Y<o[m].viewportMinimum&&(Be=E-(lt+o[m].tickLength+re+se-Y+o[m].labelFontSize/2)):o[m].labelAngle===0&&(Le+O>I&&(N=Le+O/2-I-Mn),se-Y<E&&se-Y<o[m].viewportMinimum&&(Be=E-lt-o[m].tickLength-re-se+Y/2)),o[m].viewportMaximum===o[m].maximum&&o[m].viewportMinimum===o[m].minimum&&0<o[m].labelAngle&&0<N?I-=N:o[m].viewportMaximum===o[m].maximum&&o[m].viewportMinimum===o[m].minimum&&0>o[m].labelAngle&&0<Be?E+=Be:o[m].viewportMaximum===o[m].maximum&&o[m].viewportMinimum===o[m].minimum&&o[m].labelAngle===0&&(0<Be&&(E+=Be),0<N&&(I-=N))),b.panEnabled?Yt=f(b.sessionVariables.axisX.height)||b.stockChart?b.sessionVariables.axisX.height=Yt:b.sessionVariables.axisX.height:b.sessionVariables.axisX.height=Yt,N=Math.round(_.y2-Yt-p+de),M=Math.round(_.y2),o[m].lineCoordinates.x2=I,o[m].lineCoordinates.width=I-E,o[m].lineCoordinates.y1=N,o[m].lineCoordinates.y2=N,o[m].labelPlacement==="inside"&&0<m&&(o[m].lineCoordinates.y1=o[0].lineCoordinates.y2+de+(o[m].labelEffectiveHeight||0),o[m].lineCoordinates.y2=o[m].lineCoordinates.y1+o[m].lineThickness/2),o[m].tickPlacement==="inside"&&0<m&&(o[m].lineCoordinates.y1+=o[m].tickLength,o[m].lineCoordinates.y2=o[m].lineCoordinates.y1+o[m].lineThickness/2),o[m].bounds={x1:E,y1:N,x2:I,y2:M-(Yt+p-Q[m]-de),width:I-E},o[m].bounds.height=o[m].bounds.y2-o[m].bounds.y1),de+=Q[m]+o[m].margin;if(g&&0<g.length)for(m=0;m<g.length;m++)g[m].lineCoordinates.x1=Math.round(_.x1+dt+lt),g[m].lineCoordinates.x2=Math.round(_.x2-Mn-wn>b.width-T?b.width-T:_.x2-Mn-wn),g[m].lineCoordinates.width=Math.abs(I-E),g[m]._labels&&1<g[m]._labels.length&&(M=g[m]._labels[1],N=g[m].valueType==="dateTime"?g[m]._labels[g[m]._labels.length-2]:g[m]._labels[g[m]._labels.length-1],Y=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-N.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)),O=N.textBlock.width*Math.cos(Math.PI/180*Math.abs(N.textBlock.angle))+(N.textBlock.height-N.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(N.textBlock.angle))),b.panEnabled?Xt=f(b.sessionVariables.axisX2.height)||b.stockChart?b.sessionVariables.axisX2.height=Xt:b.sessionVariables.axisX2.height:b.sessionVariables.axisX2.height=Xt,N=Math.round(_.y1),M=g[m].lineCoordinates.y1=N+Xt+Qt-At,g[m].lineCoordinates.y2=N,g[m].labelPlacement==="inside"&&0<m&&(g[m].lineCoordinates.y1=g[0].lineCoordinates.y1-At-(g[m].labelEffectiveHeight||0)-5),g[m].tickPlacement==="inside"&&0<m&&(g[m].lineCoordinates.y1-=g[m].tickLength),g[m].bounds={x1:E,y1:N+(Xt+Qt-(g[m].labelPlacement==="inside"&&m===0?G[m]-5:G[m])-At),x2:I,y2:M,width:I-E},g[m].bounds.height=g[m].bounds.y2-g[m].bounds.y1,At+=(g[m].labelPlacement==="inside"&&m===0?G[m]-5:G[m])+g[m].margin;if(h&&0<h.length)for(m=0;m<h.length;m++)lt=b.isNavigator?0:10,h[m]&&(E=Math.round(o[0]?o[0].lineCoordinates.x1:g[0].lineCoordinates.x1),lt=h[m]._labels&&0<h[m]._labels.length?h[m]._labels[h[m]._labels.length-1].textBlock.height/2:T,N=Math.round(_.y1+Xt+Qt<Math.max(lt,T)?Math.max(lt,T):_.y1+Xt+Qt),I=Math.round(o[0]?o[0].lineCoordinates.x1:g[0].lineCoordinates.x1),lt=0<o.length?0:h[m]._labels&&0<h[m]._labels.length?h[m]._labels[0].textBlock.height/2:T,M=Math.round(_.y2-Yt-p-lt),h[m].lineCoordinates={x1:E-Lt,y1:N,x2:I-Lt,y2:M,height:Math.abs(M-N)},h[m].labelPlacement==="inside"&&0<m&&(h[m].lineCoordinates.x1=h[0].lineCoordinates.x1-Lt-(h[m].labelEffectiveWidth||0)-5,h[m].lineCoordinates.x2=h[m].lineCoordinates.x1+h[m].lineThickness/2),h[m].tickPlacement==="inside"&&0<m&&(h[m].lineCoordinates.x1-=h[m].tickLength,h[m].lineCoordinates.x2=h[m].lineCoordinates.x1+h[m].lineThickness/2),h[m].bounds={x1:E-((h[m].labelPlacement==="inside"&&m===0?re[m]-5:re[m])+Lt),y1:N,x2:I-Lt,y2:M,height:M-N},h[m].bounds.width=h[m].bounds.x2-h[m].bounds.x1,h[m].title&&(h[m]._titleTextBlock.maxWidth=0<h[m].titleMaxWidth&&h[m].titleMaxWidth<h[m].lineCoordinates.height?h[m].titleMaxWidth:h[m].lineCoordinates.height),Lt+=(h[m].labelPlacement==="inside"&&m===0?re[m]-5:re[m])+h[m].margin);if(c&&0<c.length)for(m=0;m<c.length;m++)c[m]&&(E=Math.round(o[0]?o[0].lineCoordinates.x2:g[0].lineCoordinates.x2),I=Math.round(E),lt=c[m]._labels&&0<c[m]._labels.length?c[m]._labels[c[m]._labels.length-1].textBlock.height/2:0,N=Math.round(_.y1+Xt+Qt<Math.max(lt,T)?Math.max(lt,T):_.y1+Xt+Qt),lt=0<o.length?0:c[m]._labels&&0<c[m]._labels.length?c[m]._labels[0].textBlock.height/2:0,M=Math.round(_.y2-(Yt+p+lt)),c[m].lineCoordinates={x1:E+Rt,y1:N,x2:E+Rt,y2:M,height:Math.abs(M-N)},c[m].labelPlacement==="inside"&&0<m&&(c[m].lineCoordinates.x1=c[0].lineCoordinates.x2+Rt+(c[m].labelEffectiveWidth||0)+5,c[m].lineCoordinates.x2=c[m].lineCoordinates.x1+c[m].lineThickness/2),c[m].tickPlacement==="inside"&&0<m&&(c[m].lineCoordinates.x1+=c[m].tickLength,c[m].lineCoordinates.x2=c[m].lineCoordinates.x1+c[m].lineThickness/2),c[m].bounds={x1:E+Rt,y1:N,x2:I+((c[m].labelPlacement==="inside"&&m===0?pe[m]-5:pe[m])+Rt),y2:M,height:M-N},c[m].bounds.width=c[m].bounds.x2-c[m].bounds.x1,c[m].title&&(c[m]._titleTextBlock.maxWidth=0<c[m].titleMaxWidth&&c[m].titleMaxWidth<c[m].lineCoordinates.height?c[m].titleMaxWidth:c[m].lineCoordinates.height),Rt+=(c[m].labelPlacement==="inside"&&m===0?pe[m]-5:pe[m])+c[m].margin);if(o&&0<o.length)for(m=0;m<o.length;m++)o[m]&&(o[m].calculateValueToPixelConversionParameters(),o[m].calculateBreaksSizeInValues(),o[m]._labels&&1<o[m]._labels.length&&(se=(o[m].logarithmic?Math.log(o[m]._labels[1].position/o[m].viewportMinimum)/o[m].conversionParameters.lnLogarithmBase:o[m]._labels[1].position-o[m].viewportMinimum)*Math.abs(o[m].conversionParameters.pixelPerUnit)+o[m].lineCoordinates.x1,E=o[m]._labels[o[m]._labels.length-(o[m].valueType==="dateTime"?2:1)].position,E=o[m].getApparentDifference(o[m].viewportMinimum,E),Le=o[m].logarithmic?(1<E?Math.log(E)/o[m].conversionParameters.lnLogarithmBase*Math.abs(o[m].conversionParameters.pixelPerUnit):0)+o[m].lineCoordinates.x1:(0<E?E*Math.abs(o[m].conversionParameters.pixelPerUnit):0)+o[m].lineCoordinates.x1));if(g&&0<g.length)for(m=0;m<g.length;m++)g[m].calculateValueToPixelConversionParameters(),g[m].calculateBreaksSizeInValues(),g[m]._labels&&1<g[m]._labels.length&&(se=(g[m].logarithmic?Math.log(g[m]._labels[1].position/g[m].viewportMinimum)/g[m].conversionParameters.lnLogarithmBase:g[m]._labels[1].position-g[m].viewportMinimum)*Math.abs(g[m].conversionParameters.pixelPerUnit)+g[m].lineCoordinates.x1,E=g[m]._labels[g[m]._labels.length-(g[m].valueType==="dateTime"?2:1)].position,E=g[m].getApparentDifference(g[m].viewportMinimum,E),Le=g[m].logarithmic?(1<E?Math.log(E)/g[m].conversionParameters.lnLogarithmBase*Math.abs(g[m].conversionParameters.pixelPerUnit):0)+g[m].lineCoordinates.x1:(0<E?E*Math.abs(g[m].conversionParameters.pixelPerUnit):0)+g[m].lineCoordinates.x1);for(m=0;m<A.length;m++)A[m].type==="axisY"&&(A[m].calculateValueToPixelConversionParameters(),A[m].calculateBreaksSizeInValues());if(0<X){if(o&&0<o.length)for(m=0;m<o.length;m++)B=ve[X-1][m]===ve[X][m];else B=!0;if(g&&0<g.length)for(m=0;m<g.length;m++)xe=ae[X-1][m]===ae[X][m];else xe=!0;if(h&&0<h.length)for(m=0;m<h.length;m++)Ce=Re[X-1][m]===Re[X][m];else Ce=!0;if(c&&0<c.length)for(m=0;m<c.length;m++)ye=je[X-1][m]===je[X][m];else ye=!0}if(B&&xe&&Ce&&ye)break;X++}if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].calculateStripLinesThicknessInValues(),o[m].calculateBreaksInPixels();if(g&&0<g.length)for(m=0;m<g.length;m++)g[m].calculateStripLinesThicknessInValues(),g[m].calculateBreaksInPixels();if(h&&0<h.length)for(m=0;m<h.length;m++)h[m].calculateStripLinesThicknessInValues(),h[m].calculateBreaksInPixels();if(c&&0<c.length)for(m=0;m<c.length;m++)c[m].calculateStripLinesThicknessInValues(),c[m].calculateBreaksInPixels()}else{for(T=[],se=[],Be=[],Y=[],Le=[],O=[],ve=[],ae=[];4>X;){if(Yt=Rt=Lt=wn=lt=Qt=p=je=Re=de=Xt=0,o&&0<o.length)for(Be=[],m=Rt=0;m<o.length;m++)Be.push(Math.ceil(o[m]?o[m].createLabelsAndCalculateWidth():0)),Rt+=Be[m],p+=o[m]&&!b.isNavigator?o[m].margin:0;else Be.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateWidth():0));if(ve.push(Be),g&&0<g.length)for(Y=[],m=Yt=0;m<g.length;m++)Y.push(Math.ceil(g[m]?g[m].createLabelsAndCalculateWidth():0)),Yt+=Y[m],Qt+=g[m]?g[m].margin:0;else Y.push(Math.ceil(g[0]?g[0].createLabelsAndCalculateWidth():0));if(ae.push(Y),h&&0<h.length)for(m=0;m<h.length;m++)h[m].lineCoordinates={},E=Math.round(_.x1+Rt+p),I=Math.round(_.x2-Yt-Qt>b.width-10?b.width-10:_.x2-Yt-Qt),h[m].labelAutoFit&&!f(Q)&&(0<!o.length&&(E=0>h[m].labelAngle?Math.max(E,Q):h[m].labelAngle===0?Math.max(E,Q/2):E),0<!g.length&&(I=0<h[m].labelAngle||h[m].labelAngle===0?I-G/2:I)),h[m].lineCoordinates.x1=E,h[m].lineCoordinates.x2=I,h[m].lineCoordinates.width=Math.abs(I-E),h[m].title&&(h[m]._titleTextBlock.maxWidth=0<h[m].titleMaxWidth&&h[m].titleMaxWidth<h[m].lineCoordinates.width?h[m].titleMaxWidth:h[m].lineCoordinates.width);if(c&&0<c.length)for(m=0;m<c.length;m++)c[m].lineCoordinates={},E=Math.round(_.x1+Rt+p),I=Math.round(_.x2-Yt-Qt>c[m].chart.width-10?c[m].chart.width-10:_.x2-Yt-Qt),c[m]&&c[m].labelAutoFit&&!f(re)&&(0<!o.length&&(E=0<c[m].labelAngle?Math.max(E,re):c[m].labelAngle===0?Math.max(E,re/2):E),0<!g.length&&(I-=pe/2)),c[m].lineCoordinates.x1=E,c[m].lineCoordinates.x2=I,c[m].lineCoordinates.width=Math.abs(I-E),c[m].title&&(c[m]._titleTextBlock.maxWidth=0<c[m].titleMaxWidth&&c[m].titleMaxWidth<c[m].lineCoordinates.width?c[m].titleMaxWidth:c[m].lineCoordinates.width);if(h&&0<h.length)for(T=[],m=Lt=0;m<h.length;m++)T.push(Math.ceil(h[m]?h[m].createLabelsAndCalculateHeight():0)),Lt+=T[m]+h[m].margin,lt+=h[m].margin;else T.push(Math.ceil(h[0]?h[0].createLabelsAndCalculateHeight():0));if(Le.push(T),c&&0<c.length)for(se=[],m=0;m<c.length;m++)se.push(Math.ceil(c[m]?c[m].createLabelsAndCalculateHeight():0)),wn+=c[m].margin;else se.push(Math.ceil(c[0]?c[0].createLabelsAndCalculateHeight():0));if(O.push(se),h&&0<h.length)for(m=0;m<h.length;m++)0<h[m]._labels.length&&(M=h[m]._labels[0],N=h[m]._labels[h[m]._labels.length-1],Q=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-N.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)),G=N.textBlock.width*Math.cos(Math.PI/180*Math.abs(N.textBlock.angle))+(N.textBlock.height-N.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(N.textBlock.angle)));if(c&&0<c.length)for(m=0;m<c.length;m++)c[m]&&0<c[m]._labels.length&&(M=c[m]._labels[0],N=c[m]._labels[c[m]._labels.length-1],re=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-N.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)),pe=N.textBlock.width*Math.cos(Math.PI/180*Math.abs(N.textBlock.angle))+(N.textBlock.height-N.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(N.textBlock.angle)));if(b.panEnabled)for(m=0;m<h.length;m++)T[m]=f(b.sessionVariables.axisY[m].height)?b.sessionVariables.axisY[m].height=T[m]:b.sessionVariables.axisY[m].height;else for(m=0;m<h.length;m++)b.sessionVariables.axisY[m].height=T[m];if(h&&0<h.length)for(m=h.length-1;0<=m;m--)N=Math.round(_.y2),M=Math.round(_.y2>h[m].chart.height?h[m].chart.height:_.y2),h[m].lineCoordinates.y1=N-(T[m]+h[m].margin+Xt),h[m].lineCoordinates.y2=N-(T[m]+h[m].margin+Xt),h[m].labelPlacement==="inside"&&0<m&&(h[m].lineCoordinates.y1=h[m].lineCoordinates.y1+T[m]-(h[m]._titleTextBlock?h[m]._titleTextBlock.height:0)-h[m].tickLength-(h[m].stripLineLabelEffectiveHeight||0)-5,h[m].lineCoordinates.y2=h[m].lineCoordinates.y1+h[m].lineThickness/2),h[m].tickPlacement==="inside"&&0<m&&(h[m].lineCoordinates.y1+=h[m].tickLength,h[m].lineCoordinates.y2=h[m].lineCoordinates.y1+h[m].lineThickness/2),h[m].bounds={x1:E,y1:N-(T[m]+Xt+h[m].margin),x2:I,y2:M-(Xt+h[m].margin),width:I-E,height:T[m]},h[m].title&&(h[m]._titleTextBlock.maxWidth=0<h[m].titleMaxWidth&&h[m].titleMaxWidth<h[m].lineCoordinates.width?h[m].titleMaxWidth:h[m].lineCoordinates.width),Xt+=T[m]+h[m].margin;if(c&&0<c.length)for(m=c.length-1;0<=m;m--)c[m]&&(N=Math.round(_.y1),M=Math.round(_.y1+(se[m]+c[m].margin+de)),c[m].lineCoordinates.y1=M,c[m].lineCoordinates.y2=M,c[m].labelPlacement==="inside"&&0<m&&(c[m].lineCoordinates.y1=M-se[m]+(c[m]._titleTextBlock?c[m]._titleTextBlock.height:0)+c[m].tickLength+(c[m].stripLineLabelEffectiveHeight||0),c[m].lineCoordinates.y2=c[m].lineCoordinates.y1-c[m].lineThickness/2),c[m].tickPlacement==="inside"&&0<m&&(c[m].lineCoordinates.y1-=c[m].tickLength,c[m].lineCoordinates.y2=c[m].lineCoordinates.y1-c[m].lineThickness/2),c[m].bounds={x1:E,y1:N+(c[m].margin+de),x2:I,y2:M,width:I-E},c[m].bounds.height=c[m].bounds.y2-c[m].bounds.y1,c[m].title&&(c[m]._titleTextBlock.maxWidth=0<c[m].titleMaxWidth&&c[m].titleMaxWidth<c[m].lineCoordinates.width?c[m].titleMaxWidth:c[m].lineCoordinates.width),de+=se[m]+c[m].margin);if(o&&0<o.length)for(m=0;m<o.length;m++){if(lt=o[m]._labels&&0<o[m]._labels.length?o[m]._labels[0].textBlock.fontSize/2:0,E=Math.round(_.x1+p),N=c&&0<c.length?Math.round(c[0]?c[0].lineCoordinates.y2:_.y1<Math.max(lt,10)?Math.max(lt,10):_.y1):_.y1<Math.max(lt,10)?Math.max(lt,10):_.y1,I=Math.round(_.x1+Rt+p),M=h&&0<h.length?Math.round(h[0]?h[0].lineCoordinates.y1:_.y2-Lt>b.height-Math.max(lt,10)?b.height-Math.max(lt,10):_.y2-Lt):_.y2>b.height-Math.max(lt,10)?b.height-Math.max(lt,10):_.y2,h&&0<h.length)for(lt=0;lt<h.length;lt++)h[lt]&&h[lt].labelAutoFit&&(I=h[lt].lineCoordinates.x1,E=0>h[lt].labelAngle||h[lt].labelAngle===0?I-Rt:E);if(c&&0<c.length)for(lt=0;lt<c.length;lt++)c[lt]&&c[lt].labelAutoFit&&(I=c[lt].lineCoordinates.x1,E=I-Rt);o[m].lineCoordinates={x1:I-Re,y1:N,x2:I-Re,y2:M,height:Math.abs(M-N)},o[m].labelPlacement==="inside"&&0<m&&(o[m].lineCoordinates.x1=o[m].lineCoordinates.x1-(Be[m]-(o[m]._titleTextBlock?o[m]._titleTextBlock.height:0))+o[m].tickLength+(o[m].stripLineLabelEffectiveWidth||0),o[m].lineCoordinates.x2=o[m].lineCoordinates.x1+o[m].lineThickness/2),o[m].tickPlacement==="inside"&&0<m&&(o[m].lineCoordinates.x1-=o[m].tickLength,o[m].lineCoordinates.x2=o[m].lineCoordinates.x1+o[m].lineThickness/2),o[m].bounds={x1:I-(Be[m]+Re),y1:N,x2:I-Re,y2:M,height:M-N},o[m].bounds.width=o[m].bounds.x2-o[m].bounds.x1,o[m].title&&(o[m]._titleTextBlock.maxWidth=0<o[m].titleMaxWidth&&o[m].titleMaxWidth<o[m].lineCoordinates.height?o[m].titleMaxWidth:o[m].lineCoordinates.height),o[m].calculateValueToPixelConversionParameters(),o[m].calculateBreaksSizeInValues(),Re+=Be[m]+o[m].margin}if(g&&0<g.length)for(m=0;m<g.length;m++){if(lt=g[m]._labels&&0<g[m]._labels.length?g[m]._labels[0].textBlock.fontSize/2:0,E=Math.round(_.x1-p),N=c&&0<c.length?Math.round(c[0]?c[0].lineCoordinates.y2:_.y1<Math.max(lt,10)?Math.max(lt,10):_.y1):_.y1<Math.max(lt,10)?Math.max(lt,10):_.y1,I=Math.round(_.x2-Yt-Qt),M=h&&0<h.length?Math.round(h[0]?h[0].lineCoordinates.y1:_.y2-Lt>b.height-Math.max(lt,10)?b.height-Math.max(lt,10):_.y2-Lt):_.y2>b.height-Math.max(lt,10)?b.height-Math.max(lt,10):_.y2,h&&0<h.length)for(lt=0;lt<h.length;lt++)h[lt]&&h[lt].labelAutoFit&&(I=0>h[lt].labelAngle?Math.max(I,Q):h[lt].labelAngle===0?Math.max(I,Q/2):I,E=0>h[lt].labelAngle||h[lt].labelAngle===0?I-Yt:E);if(c&&0<c.length)for(lt=0;lt<c.length;lt++)c[lt]&&c[lt].labelAutoFit&&(I=c[lt].lineCoordinates.x2,E=I-Yt);g[m].lineCoordinates={x1:I+je,y1:N,x2:I+je,y2:M,height:Math.abs(M-N)},g[m].labelPlacement==="inside"&&0<m&&(g[m].lineCoordinates.x1=g[m].lineCoordinates.x1+(Y[m]-(g[m]._titleTextBlock?g[m]._titleTextBlock.height:0)-2)-g[m].tickLength-(g[m].stripLineLabelEffectiveWidth||0),g[m].lineCoordinates.x2=g[m].lineCoordinates.x1+g[m].lineThickness/2),g[m].tickPlacement==="inside"&&0<m&&(g[m].lineCoordinates.x1+=g[m].tickLength,g[m].lineCoordinates.x2=g[m].lineCoordinates.x1+g[m].lineThickness/2),g[m].bounds={x1:g[m].lineCoordinates.x1,y1:N,x2:I+Y[m]+je,y2:M,width:I-E,height:M-N},g[m].bounds.width=g[m].bounds.x2-g[m].bounds.x1,g[m].title&&(g[m]._titleTextBlock.maxWidth=0<g[m].titleMaxWidth&&g[m].titleMaxWidth<g[m].lineCoordinates.height?g[m].titleMaxWidth:g[m].lineCoordinates.height),g[m].calculateValueToPixelConversionParameters(),g[m].calculateBreaksSizeInValues(),je+=Y[m]+g[m].margin}for(m=0;m<A.length;m++)A[m].type==="axisY"&&(A[m].calculateValueToPixelConversionParameters(),A[m].calculateBreaksSizeInValues());if(0<X){if(o&&0<o.length)for(m=0;m<o.length;m++)B=ve[X-1][m]===ve[X][m];else B=!0;if(g&&0<g.length)for(m=0;m<g.length;m++)xe=ae[X-1][m]===ae[X][m];else xe=!0;if(h&&0<h.length)for(m=0;m<h.length;m++)Ce=Le[X-1][m]===Le[X][m];else Ce=!0;if(c&&0<c.length)for(m=0;m<c.length;m++)ye=O[X-1][m]===O[X][m];else ye=!0}if(B&&xe&&Ce&&ye)break;X++}if(h&&0<h.length)for(m=0;m<h.length;m++)h[m].calculateStripLinesThicknessInValues(),h[m].calculateBreaksInPixels();if(c&&0<c.length)for(m=0;m<c.length;m++)c[m].calculateStripLinesThicknessInValues(),c[m].calculateBreaksInPixels();if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].calculateStripLinesThicknessInValues(),o[m].calculateBreaksInPixels();if(g&&0<g.length)for(m=0;m<g.length;m++)g[m].calculateStripLinesThicknessInValues(),g[m].calculateBreaksInPixels()}},ke.render=function(o,g,h,c,p){var _=o[0]?o[0].chart:g[0].chart;if(p=_.ctx,_.alignVerticalAxes&&_.alignVerticalAxes(),p.save(),p.beginPath(),o&&o.length&&p.rect(5,o[0].bounds.y1,o[0].chart.width-10,o[o.length-1].bounds.y2),g&&g.length&&p.rect(5,g[g.length-1].bounds.y1,g[0].chart.width-10,g[0].bounds.y2),p.clip(),o&&0<o.length)for(var E=0;E<o.length;E++)o[E].renderLabelsTicksAndTitle();if(g&&0<g.length)for(E=0;E<g.length;E++)g[E].renderLabelsTicksAndTitle();if(p.restore(),h&&0<h.length)for(E=0;E<h.length;E++)h[E].renderLabelsTicksAndTitle();if(c&&0<c.length)for(E=0;E<c.length;E++)c[E].renderLabelsTicksAndTitle();if(_.preparePlotArea(),_=_.plotArea,p.save(),p.beginPath(),p.rect(_.x1,_.y1,Math.abs(_.x2-_.x1),Math.abs(_.y2-_.y1)),p.clip(),o&&0<o.length)for(E=0;E<o.length;E++)o[E].renderStripLinesOfThicknessType("value");if(g&&0<g.length)for(E=0;E<g.length;E++)g[E].renderStripLinesOfThicknessType("value");if(h&&0<h.length)for(E=0;E<h.length;E++)h[E].renderStripLinesOfThicknessType("value");if(c&&0<c.length)for(E=0;E<c.length;E++)c[E].renderStripLinesOfThicknessType("value");if(o&&0<o.length)for(E=0;E<o.length;E++)o[E].renderInterlacedColors();if(g&&0<g.length)for(E=0;E<g.length;E++)g[E].renderInterlacedColors();if(h&&0<h.length)for(E=0;E<h.length;E++)h[E].renderInterlacedColors();if(c&&0<c.length)for(E=0;E<c.length;E++)c[E].renderInterlacedColors();if(p.restore(),o&&0<o.length)for(E=0;E<o.length;E++)o[E].renderGrid(),ee&&(o[E].createMask(),o[E].renderBreaksBackground());if(g&&0<g.length)for(E=0;E<g.length;E++)g[E].renderGrid(),ee&&(g[E].createMask(),g[E].renderBreaksBackground());if(h&&0<h.length)for(E=0;E<h.length;E++)h[E].renderGrid(),ee&&(h[E].createMask(),h[E].renderBreaksBackground());if(c&&0<c.length)for(E=0;E<c.length;E++)c[E].renderGrid(),ee&&(c[E].createMask(),c[E].renderBreaksBackground());if(o&&0<o.length)for(E=0;E<o.length;E++)o[E].renderAxisLine();if(g&&0<g.length)for(E=0;E<g.length;E++)g[E].renderAxisLine();if(h&&0<h.length)for(E=0;E<h.length;E++)h[E].renderAxisLine();if(c&&0<c.length)for(E=0;E<c.length;E++)c[E].renderAxisLine();if(o&&0<o.length)for(E=0;E<o.length;E++)o[E].renderStripLinesOfThicknessType("pixel");if(g&&0<g.length)for(E=0;E<g.length;E++)g[E].renderStripLinesOfThicknessType("pixel");if(h&&0<h.length)for(E=0;E<h.length;E++)h[E].renderStripLinesOfThicknessType("pixel");if(c&&0<c.length)for(E=0;E<c.length;E++)c[E].renderStripLinesOfThicknessType("pixel")},ke.prototype.calculateStripLinesThicknessInValues=function(){for(var o=0;o<this.stripLines.length;o++)if(this.stripLines[o].startValue!==null&&this.stripLines[o].endValue!==null){var g=Math.min(this.stripLines[o].startValue,this.stripLines[o].endValue),h=Math.max(this.stripLines[o].startValue,this.stripLines[o].endValue),c=this.getApparentDifference(g,h);this.stripLines[o].value=this.convertPixelToValue(Math.abs(this.convertValueToPixel(g)+this.convertValueToPixel(h))/2),this.stripLines[o].thickness=c,this.stripLines[o]._thicknessType="value"}},ke.prototype.calculateBreaksSizeInValues=function(){for(var o=this._position==="left"||this._position==="right"?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,g=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],h=this.conversionParameters.pixelPerUnit||o/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),c=this.scaleBreaks&&!f(this.scaleBreaks.options.spacing),p,_=0;_<g.length;_++)p=c||!f(g[_].options.spacing),g[_].spacing=H(g[_].spacing,o,8,p?.1*o:8,p?0:3)<<0,g[_].size=0>g[_].spacing?0:Math.abs(g[_].spacing/h),this.logarithmic&&(g[_].size=Math.pow(this.logarithmBase,g[_].size))},ke.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var o=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];o.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var g=0;g<o.length&&!(o[g].startValue>this.conversionParameters.maximum);g++)o[g].endValue<this.conversionParameters.minimum||(f(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=g),o[g].startValue>=this.conversionParameters.minimum&&(o[g].startPixel=this.convertValueToPixel(o[g].startValue),this.scaleBreaks.lastBreakIndex=g),o[g].endValue<=this.conversionParameters.maximum&&(o[g].endPixel=this.convertValueToPixel(o[g].endValue)))}},ke.prototype.renderLabelsTicksAndTitle=function(){var o=this,g=!1,h=0,c=0,p=1,_=0;if(this.labelAngle!==0&&this.labelAngle!==360&&(p=1.2),typeof this.options.interval>"u"){if(this._position==="bottom"||this._position==="top")if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var h=[],p=this.labelAngle!==0&&this.labelAngle!==360?1:1.2,E,N=this.viewportMaximum,I=this.lineCoordinates.width/Math.log(this.range),b=this._labels.length-1;0<=b&&(T=this._labels[b],!(T.position<this.viewportMinimum));b--)T.position>this.viewportMaximum||!(b===this._labels.length-1||E<Math.log(N/T.position)*I/p)||(h.push(T),N=T.position,E=T.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+T.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=h}else{for(b=0;b<this._labels.length;b++)T=this._labels[b],T.position<this.viewportMinimum||(E=T.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+T.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),h+=E);h>this.lineCoordinates.width*p&&this.labelAutoFit&&(g=!0)}if(this._position==="left"||this._position==="right")if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var h=[],M,N=this.viewportMaximum,I=this.lineCoordinates.height/Math.log(this.range),b=this._labels.length-1;0<=b&&(T=this._labels[b],!(T.position<this.viewportMinimum));b--)T.position>this.viewportMaximum||!(b===this._labels.length-1||M<Math.log(N/T.position)*I)||(h.push(T),N=T.position,M=T.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+T.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=h}else{for(b=0;b<this._labels.length;b++)T=this._labels[b],T.position<this.viewportMinimum||(M=T.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+T.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),c+=M);c>this.lineCoordinates.height*p&&this.labelAutoFit&&(g=!0)}}this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(m,B){return m.position-B.position});var b=0,T,A;if(this._position==="bottom"){for(b=0;b<this._labels.length;b++)T=this._labels[b],T.position<this.viewportMinimum||T.position>this.viewportMaximum||(A=this.getPixelCoordinatesOnAxis(T.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,c=this.ctx.lineWidth%2===1?(A.x<<0)+.5:A.x<<0,this.ctx.beginPath(),this.ctx.moveTo(c,A.y<<0),this.ctx.lineTo(c,A.y+this.tickLength<<0),this.ctx.stroke()),g&&_++%2!==0&&this.labelAutoFit||(T.textBlock.angle===0?(A.x-=T.textBlock.width/2,A.y=this.labelPlacement==="inside"?A.y-((this.tickPlacement==="inside"?this.tickLength:0)+T.textBlock.height-T.textBlock.fontSize/2):A.y+(this.tickPlacement==="inside"?0:this.tickLength)+T.textBlock.fontSize/2+5):0>this.labelAngle?(A.x-=this.labelPlacement==="inside"?0:T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle),A.y=this.labelPlacement==="inside"?A.y-(this.tickPlacement==="inside"?this.tickLength:0)-(T.textBlock.height-T.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle):A.y+(this.tickPlacement==="inside"?0:this.tickLength)+5+Math.abs(T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-T.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))):(A.x-=this.labelPlacement==="inside"?T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,A.y=this.labelPlacement==="inside"?A.y-(this.tickPlacement==="inside"?this.tickLength:0)-T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-(T.textBlock.height-T.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle):A.y+(this.tickPlacement==="inside"?0:this.tickLength)+5+Math.abs(T.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))),T.textBlock.x=A.x,T.textBlock.y=A.y));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(b=0;b<o._labels.length;b++)if(T=o._labels[b],!(T.position<o.viewportMinimum||T.position>o.viewportMaximum)&&(A=o.getPixelCoordinatesOnAxis(T.position),o.tickThickness)){o.ctx.lineWidth=o.tickThickness,o.ctx.strokeStyle=o.tickColor;var m=o.ctx.lineWidth%2===1?(A.x<<0)+.5:A.x<<0;o.ctx.save(),o.ctx.beginPath(),o.ctx.moveTo(m,A.y<<0),o.ctx.lineTo(m,A.y-o.tickLength<<0),o.ctx.stroke(),o.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height+this._titleTextBlock.fontSize/2-1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="top"){for(b=0;b<this._labels.length;b++)T=this._labels[b],T.position<this.viewportMinimum||T.position>this.viewportMaximum||(A=this.getPixelCoordinatesOnAxis(T.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,c=this.ctx.lineWidth%2===1?(A.x<<0)+.5:A.x<<0,this.ctx.beginPath(),this.ctx.moveTo(c,A.y<<0),this.ctx.lineTo(c,A.y-this.tickLength<<0),this.ctx.stroke()),g&&_++%2!==0&&this.labelAutoFit||(T.textBlock.angle===0?(A.x-=T.textBlock.width/2,A.y=this.labelPlacement==="inside"?A.y+this.labelFontSize/2+(this.tickPlacement==="inside"?this.tickLength:0)+5:A.y-((this.tickPlacement==="inside"?0:this.tickLength)+T.textBlock.height-T.textBlock.fontSize/2)):0>this.labelAngle?(A.x-=this.labelPlacement==="inside"?T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,A.y=this.labelPlacement==="inside"?A.y+(this.tickPlacement==="inside"?this.tickLength:0)+5-T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+T.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle):A.y-(this.tickPlacement==="inside"?0:this.tickLength)-2-(T.textBlock.height-T.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)):(A.x-=this.labelPlacement==="inside"?0:T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle),A.y=this.labelPlacement==="inside"?A.y+(this.tickPlacement==="inside"?this.tickLength:0)+5+T.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle):A.y-(this.tickPlacement==="inside"?0:this.tickLength)-2-((T.textBlock.height-T.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle))),T.textBlock.x=A.x,T.textBlock.y=A.y));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(b=0;b<o._labels.length;b++)if(T=o._labels[b],!(T.position<o.viewportMinimum||T.position>o.viewportMaximum)&&(A=o.getPixelCoordinatesOnAxis(T.position),o.tickThickness)){o.ctx.lineWidth=o.tickThickness,o.ctx.strokeStyle=o.tickColor;var m=o.ctx.lineWidth%2===1?(A.x<<0)+.5:A.x<<0;o.ctx.save(),o.ctx.beginPath(),o.ctx.moveTo(m,A.y<<0),o.ctx.lineTo(m,A.y+o.tickLength<<0),o.ctx.stroke(),o.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+this._titleTextBlock.fontSize/2+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="left"){for(b=0;b<this._labels.length;b++)T=this._labels[b],T.position<this.viewportMinimum||T.position>this.viewportMaximum||(A=this.getPixelCoordinatesOnAxis(T.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,c=this.ctx.lineWidth%2===1?(A.y<<0)+.5:A.y<<0,this.ctx.beginPath(),this.ctx.moveTo(A.x<<0,c),this.ctx.lineTo(A.x-this.tickLength<<0,c),this.ctx.stroke()),g&&_++%2!==0&&this.labelAutoFit||(this.labelAngle===0?(T.textBlock.y=A.y,T.textBlock.x=this.labelPlacement==="inside"?A.x+(this.tickPlacement==="inside"?this.tickLength:0)+5:A.x-T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5):0>this.labelAngle?(T.textBlock.y=this.labelPlacement==="inside"?A.y:A.y-T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),T.textBlock.x=this.labelPlacement==="inside"?A.x-T.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?this.tickLength:0)+5:A.x-T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(T.textBlock.height-T.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5):(T.textBlock.y=this.labelPlacement==="inside"?A.y:A.y-T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),T.textBlock.x=this.labelPlacement==="inside"?A.x+(T.textBlock.height-T.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?this.tickLength:0)+5:A.x-T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-T.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5)));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(b=0;b<o._labels.length;b++)if(T=o._labels[b],!(T.position<o.viewportMinimum||T.position>o.viewportMaximum)&&(A=o.getPixelCoordinatesOnAxis(T.position),o.tickThickness)){o.ctx.lineWidth=o.tickThickness,o.ctx.strokeStyle=o.tickColor;var m=o.ctx.lineWidth%2===1?(A.y<<0)+.5:A.y<<0;o.ctx.save(),o.ctx.beginPath(),o.ctx.moveTo(A.x<<0,m),o.ctx.lineTo(A.x+o.tickLength<<0,m),o.ctx.stroke(),o.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+this._titleTextBlock.fontSize/2+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="right"){for(b=0;b<this._labels.length;b++)T=this._labels[b],T.position<this.viewportMinimum||T.position>this.viewportMaximum||(A=this.getPixelCoordinatesOnAxis(T.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,c=this.ctx.lineWidth%2===1?(A.y<<0)+.5:A.y<<0,this.ctx.beginPath(),this.ctx.moveTo(A.x<<0,c),this.ctx.lineTo(A.x+this.tickLength<<0,c),this.ctx.stroke()),g&&_++%2!==0&&this.labelAutoFit||(this.labelAngle===0?(T.textBlock.y=A.y,T.textBlock.x=this.labelPlacement==="inside"?A.x-T.textBlock.width-(this.tickPlacement==="inside"?this.tickLength:0)-5:A.x+(this.tickPlacement==="inside"?0:this.tickLength)+5):0>this.labelAngle?(T.textBlock.y=this.labelPlacement==="inside"?A.y-T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):A.y,T.textBlock.x=this.labelPlacement==="inside"?A.x-T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(T.textBlock.height-T.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?this.tickLength:0)-5:A.x-T.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?0:this.tickLength)+5):(T.textBlock.y=this.labelPlacement==="inside"?A.y-T.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):A.y,T.textBlock.x=this.labelPlacement==="inside"?A.x-T.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-T.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?this.tickLength:0)-5:A.x+(T.textBlock.height-T.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?0:this.tickLength)+5)));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(b=0;b<o._labels.length;b++)if(T=o._labels[b],!(T.position<o.viewportMinimum||T.position>o.viewportMaximum)&&(A=o.getPixelCoordinatesOnAxis(T.position),o.tickThickness)){o.ctx.lineWidth=o.tickThickness,o.ctx.strokeStyle=o.tickColor;var m=o.ctx.lineWidth%2===1?(A.y<<0)+.5:A.y<<0;o.ctx.save(),o.ctx.beginPath(),o.ctx.moveTo(A.x<<0,m),o.ctx.lineTo(A.x-o.tickLength<<0,m),o.ctx.stroke(),o.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-this._titleTextBlock.fontSize/2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(_=0,this.labelPlacement==="inside")this.chart.addEventListener("dataAnimationIterationEnd",function(){for(b=0;b<o._labels.length;b++)T=o._labels[b],T.position<o.viewportMinimum||T.position>o.viewportMaximum||g&&_++%2!==0&&o.labelAutoFit||(o.ctx.save(),o.ctx.beginPath(),T.textBlock.render(!0),o.ctx.restore())},this);else for(b=0;b<this._labels.length;b++)T=this._labels[b],T.position<this.viewportMinimum||T.position>this.viewportMaximum||g&&_++%2!==0&&this.labelAutoFit||T.textBlock.render(!0)},ke.prototype.renderInterlacedColors=function(){var o=this.chart.plotArea.ctx,g,h,c=this.chart.plotArea,p=0;if(g=!0,(this._position==="bottom"||this._position==="top")&&this.interlacedColor)for(o.fillStyle=this.interlacedColor,p=0;p<this._labels.length;p++)g?(g=this.getPixelCoordinatesOnAxis(this._labels[p].position),h=p+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[p+1].position),o.fillRect(Math.min(h.x,g.x),c.y1,Math.abs(h.x-g.x),Math.abs(c.y1-c.y2)),g=!1):g=!0;else if((this._position==="left"||this._position==="right")&&this.interlacedColor)for(o.fillStyle=this.interlacedColor,p=0;p<this._labels.length;p++)g?(h=this.getPixelCoordinatesOnAxis(this._labels[p].position),g=p+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[p+1].position),o.fillRect(c.x1,Math.min(h.y,g.y),Math.abs(c.x1-c.x2),Math.abs(g.y-h.y)),g=!1):g=!0;o.beginPath()},ke.prototype.renderStripLinesOfThicknessType=function(o){if(this.stripLines&&0<this.stripLines.length&&o){var g=this,h,c,p=0,_=0,E=!1;c=!1;for(var N=[],I=[],M=!1,p=0;p<this.stripLines.length;p++){var b=this.stripLines[p];b._thicknessType===o&&(o==="pixel"&&(b.value<this.viewportMinimum||b.value>this.viewportMaximum||f(b.value)||isNaN(this.range))||o==="value"&&(b.startValue<=this.viewportMinimum&&b.endValue<=this.viewportMinimum||b.startValue>=this.viewportMaximum&&b.endValue>=this.viewportMaximum||f(b.startValue)||f(b.endValue)||isNaN(this.range))||N.push(b))}for(p=0;p<this._stripLineLabels.length;p++)if(b=this.stripLines[p],h=this._stripLineLabels[p],!(h.position<this.viewportMinimum||h.position>this.viewportMaximum||isNaN(this.range)))if(c=this.getPixelCoordinatesOnAxis(h.position),h.stripLine.labelPlacement==="outside"){if(b&&(this.ctx.strokeStyle=b.color,this.ctx.lineWidth=b._thicknessType==="pixel"?b.thickness:this.tickThickness),this._position==="bottom"){var T=this.ctx.lineWidth%2===1?(c.x<<0)+.5:c.x<<0;this.ctx.beginPath(),this.ctx.moveTo(T,c.y<<0),this.ctx.lineTo(T,c.y+this.tickLength<<0),this.ctx.stroke(),this.labelAngle===0?(c.x-=h.textBlock.width/2,c.y+=this.tickLength+h.textBlock.fontSize/2+5):(c.x-=0>this.labelAngle?h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,c.y+=this.tickLength+5+(0>this.labelAngle?Math.abs(h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-h.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle)):Math.abs(h.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))))}else this._position==="top"?(T=this.ctx.lineWidth%2===1?(c.x<<0)+.5:c.x<<0,this.ctx.beginPath(),this.ctx.moveTo(T,c.y<<0),this.ctx.lineTo(T,c.y-this.tickLength<<0),this.ctx.stroke(),this.labelAngle===0?(c.x-=h.textBlock.width/2,c.y-=this.tickLength+h.textBlock.height-h.textBlock.fontSize/2):(c.x-=0<this.labelAngle?h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,c.y-=this.tickLength+2+(0<this.labelAngle?(h.textBlock.height-h.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):(h.textBlock.height-h.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)))):this._position==="left"?(T=this.ctx.lineWidth%2===1?(c.y<<0)+.5:c.y<<0,this.ctx.beginPath(),this.ctx.moveTo(c.x<<0,T),this.ctx.lineTo(c.x-this.tickLength<<0,T),this.ctx.stroke(),this.labelAngle===0?c.x=c.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(c.y-=h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),c.x-=this.tickLength+5+(0<this.labelAngle?h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+h.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle):h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(h.textBlock.height-h.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)))):this._position==="right"&&(T=this.ctx.lineWidth%2===1?(c.y<<0)+.5:c.y<<0,this.ctx.beginPath(),this.ctx.moveTo(c.x<<0,T),this.ctx.lineTo(c.x+this.tickLength<<0,T),this.ctx.stroke(),c.x=this.labelAngle===0?c.x+this.tickLength+5:this.tickLength+5+(0<this.labelAngle?c.x+(h.textBlock.height-h.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle):c.x-h.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)));h.textBlock.x=c.x,h.textBlock.y=c.y,I.push(h)}else b._thicknessType===o&&(h.textBlock.angle=-90,this._position==="bottom"?(h.textBlock.maxWidth=this.options.stripLines[p].labelMaxWidth?this.options.stripLines[p].labelMaxWidth:this.chart.plotArea.height-3,h.textBlock.measureText(),c.x-h.textBlock.height-b.thickness/2>this.chart.plotArea.x1?f(b.startValue)?c.x-=h.textBlock.height-h.textBlock.fontSize/2+b.thickness/2:c.x-=h.textBlock.height/2-h.textBlock.fontSize/2:(h.textBlock.angle=90,f(b.startValue)?c.x+=h.textBlock.height-h.textBlock.fontSize/2+b.thickness/2:c.x+=h.textBlock.height/2-h.textBlock.fontSize/2),c.y=h.textBlock.angle===-90?h.stripLine.labelAlign==="near"?this.chart.plotArea.y2-3:h.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1+h.textBlock.width)/2:this.chart.plotArea.y1+h.textBlock.width+3:h.stripLine.labelAlign==="near"?this.chart.plotArea.y2-h.textBlock.width-3:h.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1-h.textBlock.width)/2:this.chart.plotArea.y1+3):this._position==="top"?(h.textBlock.maxWidth=this.options.stripLines[p].labelMaxWidth?this.options.stripLines[p].labelMaxWidth:this.chart.plotArea.height-3,h.textBlock.measureText(),c.x-h.textBlock.height-b.thickness/2>this.chart.plotArea.x1?f(b.startValue)?c.x-=h.textBlock.height-h.textBlock.fontSize/2+b.thickness/2:c.x-=h.textBlock.height/2-h.textBlock.fontSize/2:(h.textBlock.angle=90,f(b.startValue)?c.x+=h.textBlock.height-h.textBlock.fontSize/2+b.thickness/2:c.x+=h.textBlock.height/2-h.textBlock.fontSize/2),c.y=h.textBlock.angle===-90?h.stripLine.labelAlign==="near"?this.chart.plotArea.y1+h.textBlock.width+3:h.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1+h.textBlock.width)/2:this.chart.plotArea.y2-3:h.stripLine.labelAlign==="near"?this.chart.plotArea.y1+3:h.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1-h.textBlock.width)/2:this.chart.plotArea.y2-h.textBlock.width-3):this._position==="left"?(h.textBlock.maxWidth=this.options.stripLines[p].labelMaxWidth?this.options.stripLines[p].labelMaxWidth:this.chart.plotArea.width-3,h.textBlock.angle=0,h.textBlock.measureText(),c.y-h.textBlock.height-b.thickness/2>this.chart.plotArea.y1?f(b.startValue)?c.y-=h.textBlock.height-h.textBlock.fontSize/2+b.thickness/2:c.y-=h.textBlock.height/2-h.textBlock.fontSize/2:f(b.startValue)?c.y+=h.textBlock.height-h.textBlock.fontSize/2+b.thickness/2:c.y+=h.textBlock.height/2-h.textBlock.fontSize+3,c.x=h.stripLine.labelAlign==="near"?this.chart.plotArea.x1+3:h.stripLine.labelAlign==="center"?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-h.textBlock.width/2:this.chart.plotArea.x2-h.textBlock.width-3):this._position==="right"&&(h.textBlock.maxWidth=this.options.stripLines[p].labelMaxWidth?this.options.stripLines[p].labelMaxWidth:this.chart.plotArea.width-3,h.textBlock.angle=0,h.textBlock.measureText(),c.y-h.textBlock.height-b.thickness/2>this.chart.plotArea.y1?f(b.startValue)?c.y-=h.textBlock.height-h.textBlock.fontSize/2+b.thickness/2:c.y-=h.textBlock.height/2-h.textBlock.fontSize/2:f(b.startValue)?c.y+=h.textBlock.height-h.textBlock.fontSize/2+b.thickness/2:c.y-=h.textBlock.height/2-h.textBlock.fontSize/2+3,c.x=h.stripLine.labelAlign==="near"?this.chart.plotArea.x2-h.textBlock.width-3:h.stripLine.labelAlign==="center"?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-h.textBlock.width/2:this.chart.plotArea.x1+3),h.textBlock.x=c.x,h.textBlock.y=c.y,I.push(h));if(!M){for(c=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),p=0;p<N.length;p++)b=N[p],b.showOnTop?E||(E=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),_=0;_<N.length;_++)b=N[_],b.showOnTop&&b.render();this.ctx.restore()},b)):b.render();for(p=0;p<I.length;p++)h=I[p],h.stripLine.showOnTop?c||(c=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(_=0;_<I.length;_++)h=I[_],h.stripLine.labelPlacement==="inside"&&h.stripLine.showOnTop&&(g.ctx.save(),g.ctx.beginPath(),g.ctx.rect(g.chart.plotArea.x1,g.chart.plotArea.y1,g.chart.plotArea.width,g.chart.plotArea.height),g.ctx.clip(),h.textBlock.render(!0),g.ctx.restore())},h.textBlock)):h.stripLine.labelPlacement==="inside"&&h.textBlock.render(!0);this.ctx.restore(),M=!0}if(M)for(c=!1,p=0;p<I.length;p++)h=I[p],h.stripLine.labelPlacement==="outside"&&h.textBlock.render(!0)}},ke.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},ke.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var o=this.scaleBreaks._appliedBreaks;ee?(this.maskCanvas=W(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var g=0;g<o.length;g++)o[g].endValue<this.viewportMinimum||o[g].startValue>this.viewportMaximum||isNaN(this.range)||o[g].render(this.maskCtx);this.maskCtx.restore()}},ke.prototype.renderCrosshair=function(o,g){isFinite(this.minimum)&&isFinite(this.maximum)&&this.crosshair.render(o,g)},ke.prototype.showCrosshair=function(o){f(o)||o<this.viewportMinimum||o>this.viewportMaximum||(this._position==="top"||this._position==="bottom"?this.crosshair.render(this.convertValueToPixel(o),null,o):this.crosshair.render(null,this.convertValueToPixel(o),o))},ke.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var o=this.chart.ctx;o.save();var g,h=this.chart.plotArea;if(o.lineWidth=this.gridThickness,o.strokeStyle=this.gridColor,o.setLineDash&&o.setLineDash(C(this.gridDashType,this.gridThickness)),this._position==="bottom"||this._position==="top")for(c=0;c<this._labels.length;c++)this._labels[c].position<this.viewportMinimum||this._labels[c].position>this.viewportMaximum||this._labels[c].breaksLabelType||(o.beginPath(),g=this.getPixelCoordinatesOnAxis(this._labels[c].position),g=o.lineWidth%2===1?(g.x<<0)+.5:g.x<<0,o.moveTo(g,h.y1<<0),o.lineTo(g,h.y2<<0),o.stroke());else if(this._position==="left"||this._position==="right")for(var c=0;c<this._labels.length;c++)this._labels[c].position<this.viewportMinimum||this._labels[c].position>this.viewportMaximum||this._labels[c].breaksLabelType||(o.beginPath(),g=this.getPixelCoordinatesOnAxis(this._labels[c].position),g=o.lineWidth%2===1?(g.y<<0)+.5:g.y<<0,o.moveTo(h.x1<<0,g),o.lineTo(h.x2<<0,g),o.stroke());o.restore()}},ke.prototype.renderAxisLine=function(){var o=this.chart.ctx,g=ee?this.chart._preRenderCtx:o,h=Math.ceil(this.tickThickness/(this.reversed?-2:2)),c=Math.ceil(this.tickThickness/(this.reversed?2:-2)),p,_;if(g.save(),this._position==="bottom"||this._position==="top"){if(this.lineThickness){this.reversed?(p=this.lineCoordinates.x2,_=this.lineCoordinates.x1):(p=this.lineCoordinates.x1,_=this.lineCoordinates.x2),g.lineWidth=this.lineThickness,g.strokeStyle=this.lineColor?this.lineColor:"black",g.setLineDash&&g.setLineDash(C(this.lineDashType,this.lineThickness));var E=this.lineThickness%2===1?(this.lineCoordinates.y1<<0)+.5:this.lineCoordinates.y1<<0;if(g.beginPath(),this.scaleBreaks&&!f(this.scaleBreaks.firstBreakIndex))if(f(this.scaleBreaks.lastBreakIndex))p=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+c;else for(var N=this.scaleBreaks.firstBreakIndex;N<=this.scaleBreaks.lastBreakIndex;N++)g.moveTo(p,E),g.lineTo(this.scaleBreaks._appliedBreaks[N].startPixel+h,E),p=this.scaleBreaks._appliedBreaks[N].endPixel+c;p&&(g.moveTo(p,E),g.lineTo(_,E)),g.stroke()}}else if((this._position==="left"||this._position==="right")&&this.lineThickness){if(this.reversed?(p=this.lineCoordinates.y1,_=this.lineCoordinates.y2):(p=this.lineCoordinates.y2,_=this.lineCoordinates.y1),g.lineWidth=this.lineThickness,g.strokeStyle=this.lineColor,g.setLineDash&&g.setLineDash(C(this.lineDashType,this.lineThickness)),E=this.lineThickness%2===1?(this.lineCoordinates.x1<<0)+.5:this.lineCoordinates.x1<<0,g.beginPath(),this.scaleBreaks&&!f(this.scaleBreaks.firstBreakIndex))if(f(this.scaleBreaks.lastBreakIndex))p=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+h;else for(N=this.scaleBreaks.firstBreakIndex;N<=this.scaleBreaks.lastBreakIndex;N++)g.moveTo(E,p),g.lineTo(E,this.scaleBreaks._appliedBreaks[N].startPixel+c),p=this.scaleBreaks._appliedBreaks[N].endPixel+h;p&&(g.moveTo(E,p),g.lineTo(E,_)),g.stroke()}ee&&(o.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),g.clearRect(0,0,this.chart.width,this.chart.height)),g.restore()},ke.prototype.getPixelCoordinatesOnAxis=function(o){var g={};return(this._position==="bottom"||this._position==="top")&&(g.x=this.convertValueToPixel(o),g.y=this.lineCoordinates.y1),(this._position==="left"||this._position==="right")&&(g.y=this.convertValueToPixel(o),g.x=this.lineCoordinates.x2),g},ke.prototype.convertPixelToValue=function(o){if(typeof o>"u")return null;var h=0,p=0,g,h=!0,c=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],p=typeof o=="number"?o:this._position==="left"||this._position==="right"?o.y:o.x;if(this.logarithmic){if(o=g=Math.pow(this.logarithmBase,(p-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),p<=this.conversionParameters.reference==(this._position==="left"||this._position==="right")!==this.reversed){for(p=0;p<c.length;p++)if(!(c[p].endValue<this.conversionParameters.minimum))if(h)if(c[p].startValue<this.conversionParameters.minimum){if(1<c[p].size&&this.conversionParameters.minimum*Math.pow(c[p].endValue/c[p].startValue,Math.log(g)/Math.log(c[p].size))<c[p].endValue){o=Math.pow(c[p].endValue/c[p].startValue,Math.log(g)/Math.log(c[p].size));break}else o*=c[p].endValue/this.conversionParameters.minimum/Math.pow(c[p].size,Math.log(c[p].endValue/this.conversionParameters.minimum)/Math.log(c[p].endValue/c[p].startValue)),g/=Math.pow(c[p].size,Math.log(c[p].endValue/this.conversionParameters.minimum)/Math.log(c[p].endValue/c[p].startValue));h=!1}else if(g>c[p].startValue/this.conversionParameters.minimum){if(g/=c[p].startValue/this.conversionParameters.minimum,g<c[p].size){o*=Math.pow(c[p].endValue/c[p].startValue,c[p].size===1?1:Math.log(g)/Math.log(c[p].size))/g;break}else o*=c[p].endValue/c[p].startValue/c[p].size;g/=c[p].size,h=!1}else break;else if(g>c[p].startValue/c[p-1].endValue){if(g/=c[p].startValue/c[p-1].endValue,g<c[p].size){o*=Math.pow(c[p].endValue/c[p].startValue,c[p].size===1?1:Math.log(g)/Math.log(c[p].size))/g;break}else o*=c[p].endValue/c[p].startValue/c[p].size;g/=c[p].size}else break}else for(p=c.length-1;0<=p;p--)if(!(c[p].startValue>this.conversionParameters.minimum))if(h)if(c[p].endValue>this.conversionParameters.minimum){if(1<c[p].size&&this.conversionParameters.minimum*Math.pow(c[p].endValue/c[p].startValue,Math.log(g)/Math.log(c[p].size))>c[p].startValue){o=Math.pow(c[p].endValue/c[p].startValue,Math.log(g)/Math.log(c[p].size));break}else o*=c[p].startValue/this.conversionParameters.minimum*Math.pow(c[p].size,Math.log(c[p].startValue/this.conversionParameters.minimum)/Math.log(c[p].endValue/c[p].startValue))*g,g*=Math.pow(c[p].size,Math.log(this.conversionParameters.minimum/c[p].startValue)/Math.log(c[p].endValue/c[p].startValue));h=!1}else if(g<c[p].endValue/this.conversionParameters.minimum){if(g/=c[p].endValue/this.conversionParameters.minimum,g>1/c[p].size){o*=Math.pow(c[p].endValue/c[p].startValue,1>=c[p].size?1:Math.log(g)/Math.log(c[p].size))*g;break}else o/=c[p].endValue/c[p].startValue/c[p].size;g*=c[p].size,h=!1}else break;else if(g<c[p].endValue/c[p+1].startValue){if(g/=c[p].endValue/c[p+1].startValue,g>1/c[p].size){o*=Math.pow(c[p].endValue/c[p].startValue,1>=c[p].size?1:Math.log(g)/Math.log(c[p].size))*g;break}else o/=c[p].endValue/c[p].startValue/c[p].size;g*=c[p].size}else break;h=o*this.viewportMinimum}else{if(o=g=(p-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,p<=this.conversionParameters.reference==(this._position==="left"||this._position==="right")!==this.reversed){for(p=0;p<c.length;p++)if(!(c[p].endValue<this.conversionParameters.minimum))if(h)if(c[p].startValue<this.conversionParameters.minimum){if(c[p].size&&this.conversionParameters.minimum+g*(c[p].endValue-c[p].startValue)/c[p].size<c[p].endValue){o=0>=c[p].size?0:g*(c[p].endValue-c[p].startValue)/c[p].size;break}else o+=c[p].endValue-this.conversionParameters.minimum-c[p].size*(c[p].endValue-this.conversionParameters.minimum)/(c[p].endValue-c[p].startValue),g-=c[p].size*(c[p].endValue-this.conversionParameters.minimum)/(c[p].endValue-c[p].startValue);h=!1}else if(g>c[p].startValue-this.conversionParameters.minimum){if(g-=c[p].startValue-this.conversionParameters.minimum,g<c[p].size){o+=(c[p].endValue-c[p].startValue)*(c[p].size===0?1:g/c[p].size)-g;break}else o+=c[p].endValue-c[p].startValue-c[p].size;g-=c[p].size,h=!1}else break;else if(g>c[p].startValue-c[p-1].endValue){if(g-=c[p].startValue-c[p-1].endValue,g<c[p].size){o+=(c[p].endValue-c[p].startValue)*(c[p].size===0?1:g/c[p].size)-g;break}else o+=c[p].endValue-c[p].startValue-c[p].size;g-=c[p].size}else break}else for(p=c.length-1;0<=p;p--)if(!(c[p].startValue>this.conversionParameters.minimum))if(h)if(c[p].endValue>this.conversionParameters.minimum)if(c[p].size&&this.conversionParameters.minimum+g*(c[p].endValue-c[p].startValue)/c[p].size>c[p].startValue){o=0>=c[p].size?0:g*(c[p].endValue-c[p].startValue)/c[p].size;break}else o+=c[p].startValue-this.conversionParameters.minimum+c[p].size*(this.conversionParameters.minimum-c[p].startValue)/(c[p].endValue-c[p].startValue),g+=c[p].size*(this.conversionParameters.minimum-c[p].startValue)/(c[p].endValue-c[p].startValue),h=!1;else if(g<c[p].endValue-this.conversionParameters.minimum){if(g-=c[p].endValue-this.conversionParameters.minimum,g>-1*c[p].size){o+=(c[p].endValue-c[p].startValue)*(c[p].size===0?1:g/c[p].size)+g;break}else o-=c[p].endValue-c[p].startValue-c[p].size;g+=c[p].size,h=!1}else break;else if(g<c[p].endValue-c[p+1].startValue){if(g-=c[p].endValue-c[p+1].startValue,g>-1*c[p].size){o+=(c[p].endValue-c[p].startValue)*(c[p].size===0?1:g/c[p].size)+g;break}else o-=c[p].endValue-c[p].startValue-c[p].size;g+=c[p].size}else break;h=this.conversionParameters.minimum+o}return h},ke.prototype.convertValueToPixel=function(o){return o=this.getApparentDifference(this.conversionParameters.minimum,o,o),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(o/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:this.type==="axisX"?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(o-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(o-this.conversionParameters.minimum)+.5},ke.prototype.getApparentDifference=function(o,g,h,c){var p=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){h=f(h)?g/o:h;for(var _=0;_<p.length&&!(g<p[_].startValue);_++)o>p[_].endValue||(o<=p[_].startValue&&g>=p[_].endValue?h=h/p[_].endValue*p[_].startValue*p[_].size:o>=p[_].startValue&&g>=p[_].endValue?h=h/p[_].endValue*o*Math.pow(p[_].size,Math.log(p[_].endValue/o)/Math.log(p[_].endValue/p[_].startValue)):o<=p[_].startValue&&g<=p[_].endValue?h=h/g*p[_].startValue*Math.pow(p[_].size,Math.log(g/p[_].startValue)/Math.log(p[_].endValue/p[_].startValue)):!c&&o>p[_].startValue&&g<p[_].endValue&&(h=o*Math.pow(p[_].size,Math.log(g/o)/Math.log(p[_].endValue/p[_].startValue))))}else for(h=f(h)?Math.abs(g-o):h,_=0;_<p.length&&!(g<p[_].startValue);_++)o>p[_].endValue||(o<=p[_].startValue&&g>=p[_].endValue?h=h-p[_].endValue+p[_].startValue+p[_].size:o>p[_].startValue&&g>=p[_].endValue?h=h-p[_].endValue+o+p[_].size*(p[_].endValue-o)/(p[_].endValue-p[_].startValue):o<=p[_].startValue&&g<p[_].endValue?h=h-g+p[_].startValue+p[_].size*(g-p[_].startValue)/(p[_].endValue-p[_].startValue):!c&&o>p[_].startValue&&g<p[_].endValue&&(h=o+p[_].size*(g-o)/(p[_].endValue-p[_].startValue)));return h},ke.prototype.setViewPortRange=function(o,g){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(o,g),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(o,g)},ke.prototype.getXValueAt=function(o){if(!o)return null;var g=null;return this._position==="left"?g=this.convertPixelToValue(o.y):this._position==="bottom"&&(g=this.convertPixelToValue(o.x)),g},ke.prototype.calculateValueToPixelConversionParameters=function(o){o=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var g={pixelPerUnit:null,minimum:null,reference:null},h=this.lineCoordinates.width,c=this.lineCoordinates.height,h=this._position==="bottom"||this._position==="top"?h:c,c=Math.abs(this.range);if(this.logarithmic)for(var p=0;p<o.length&&!(this.viewportMaximum<o[p].startValue);p++)this.viewportMinimum>o[p].endValue||(this.viewportMinimum>=o[p].startValue&&this.viewportMaximum<=o[p].endValue?h=0:this.viewportMinimum<=o[p].startValue&&this.viewportMaximum>=o[p].endValue?(c=c/o[p].endValue*o[p].startValue,h=0<o[p].spacing.toString().indexOf("%")?h*(1-parseFloat(o[p].spacing)/100):h-Math.min(o[p].spacing,.1*h)):this.viewportMinimum>o[p].startValue&&this.viewportMaximum>=o[p].endValue?(c=c/o[p].endValue*this.viewportMinimum,h=0<o[p].spacing.toString().indexOf("%")?h*(1-parseFloat(o[p].spacing)/100*Math.log(o[p].endValue/this.viewportMinimum)/Math.log(o[p].endValue/o[p].startValue)):h-Math.min(o[p].spacing,.1*h)*Math.log(o[p].endValue/this.viewportMinimum)/Math.log(o[p].endValue/o[p].startValue)):this.viewportMinimum<=o[p].startValue&&this.viewportMaximum<o[p].endValue&&(c=c/this.viewportMaximum*o[p].startValue,h=0<o[p].spacing.toString().indexOf("%")?h*(1-parseFloat(o[p].spacing)/100*Math.log(this.viewportMaximum/o[p].startValue)/Math.log(o[p].endValue/o[p].startValue)):h-Math.min(o[p].spacing,.1*h)*Math.log(this.viewportMaximum/o[p].startValue)/Math.log(o[p].endValue/o[p].startValue)));else for(p=0;p<o.length&&!(this.viewportMaximum<o[p].startValue);p++)this.viewportMinimum>o[p].endValue||(this.viewportMinimum>=o[p].startValue&&this.viewportMaximum<=o[p].endValue?h=0:this.viewportMinimum<=o[p].startValue&&this.viewportMaximum>=o[p].endValue?(c=c-o[p].endValue+o[p].startValue,h=0<o[p].spacing.toString().indexOf("%")?h*(1-parseFloat(o[p].spacing)/100):h-Math.min(o[p].spacing,.1*h)):this.viewportMinimum>o[p].startValue&&this.viewportMaximum>=o[p].endValue?(c=c-o[p].endValue+this.viewportMinimum,h=0<o[p].spacing.toString().indexOf("%")?h*(1-parseFloat(o[p].spacing)/100*(o[p].endValue-this.viewportMinimum)/(o[p].endValue-o[p].startValue)):h-Math.min(o[p].spacing,.1*h)*(o[p].endValue-this.viewportMinimum)/(o[p].endValue-o[p].startValue)):this.viewportMinimum<=o[p].startValue&&this.viewportMaximum<o[p].endValue&&(c=c-this.viewportMaximum+o[p].startValue,h=0<o[p].spacing.toString().indexOf("%")?h*(1-parseFloat(o[p].spacing)/100*(this.viewportMaximum-o[p].startValue)/(o[p].endValue-o[p].startValue)):h-Math.min(o[p].spacing,.1*h)*(this.viewportMaximum-o[p].startValue)/(o[p].endValue-o[p].startValue)));g.minimum=this.viewportMinimum,g.maximum=this.viewportMaximum,g.range=c,(this._position==="bottom"||this._position==="top")&&(this.logarithmic?(g.lnLogarithmBase=Math.log(this.logarithmBase),g.pixelPerUnit=(this.reversed?-1:1)*h*g.lnLogarithmBase/Math.log(Math.abs(c))):g.pixelPerUnit=(this.reversed?-1:1)*h/Math.abs(c),g.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),(this._position==="left"||this._position==="right")&&(this.logarithmic?(g.lnLogarithmBase=Math.log(this.logarithmBase),g.pixelPerUnit=(this.reversed?1:-1)*h*g.lnLogarithmBase/Math.log(Math.abs(c))):g.pixelPerUnit=(this.reversed?1:-1)*h/Math.abs(c),g.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=g},ke.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var h=this.chart.layoutManager.getFreeSpace(),o=!1,g=!1;this._position==="bottom"||this._position==="top"?(this.maxWidth=h.width,this.maxHeight=h.height):(this.maxWidth=h.height,this.maxHeight=h.width);var h=this.type==="axisX"?this.chart.plotInfo.axisPlacement==="xySwapped"?62:70:this.chart.plotInfo.axisPlacement==="xySwapped"?50:40,E=4;this.type==="axisX"&&(E=600>this.maxWidth?8:6);var h=Math.max(E,Math.floor(this.maxWidth/h)),c,p,_,E=0;if(!f(this.options.viewportMinimum)&&!f(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),f(this.options.viewportMinimum)&&!f(this.sessionVariables.newViewportMinimum)&&!isNaN(this.sessionVariables.newViewportMinimum)?this.viewportMinimum=this.sessionVariables.newViewportMinimum:(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),f(this.options.viewportMaximum)&&!f(this.sessionVariables.newViewportMaximum)&&!isNaN(this.sessionVariables.newViewportMaximum)?this.viewportMaximum=this.sessionVariables.newViewportMaximum:(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(E=0;E<this.scaleBreaks._appliedBreaks.length;E++)if((!f(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[E].startValue||!f(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[E].startValue||!f(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[E].startValue)&&(!f(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[E].endValue||!f(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[E].endValue||!f(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[E].endValue)){this.scaleBreaks._appliedBreaks.splice(E,1);break}}if(this.type==="axisX"){if(this.dataSeries&&0<this.dataSeries.length)for(c=0;c<this.dataSeries.length;c++)this.dataSeries[c].xValueType==="dateTime"&&(g=!0);c=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,p=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,p-c===0&&(E=typeof this.options.interval>"u"?.4:this.options.interval,p+=E,c-=E),this.dataInfo.minDiff!==1/0?_=this.dataInfo.minDiff:1<p-c?_=.5*Math.abs(p-c):(_=1,g&&(o=!0))}else this.type==="axisY"&&(c=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,p=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(c)||isFinite(p)?isFinite(c)?isFinite(p)||(p=c):c=p:(p=typeof this.options.interval>"u"?-1/0:this.options.interval,c=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),c===0&&p===0?(p+=9,c=0):p-c===0?(E=Math.min(Math.abs(.01*Math.abs(p)),5),p+=E,c-=E):c>p?(E=Math.min(.01*Math.abs(this.getApparentDifference(p,c,null,!0)),5),0<=p?c=p-E:p=isFinite(c)?c+E:0):(E=Math.min(.01*Math.abs(this.getApparentDifference(c,p,null,!0)),.05),p!==0&&(p+=E),c!==0&&(c-=E)),_=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<p-c?.5*Math.abs(p-c):1,this.includeZero&&(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&0<c&&(c=0),this.includeZero&&(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&0>p&&(p=0));E=this.getApparentDifference(isNaN(this.viewportMinimum)||this.viewportMinimum===null?c:this.viewportMinimum,isNaN(this.viewportMaximum)||this.viewportMaximum===null?p:this.viewportMaximum,null,!0),this.type==="axisX"&&g?(this.valueType="dateTime",this.intervalType||(E/1<=h?(this.interval=1,this.intervalType="millisecond"):E/2<=h?(this.interval=2,this.intervalType="millisecond"):E/5<=h?(this.interval=5,this.intervalType="millisecond"):E/10<=h?(this.interval=10,this.intervalType="millisecond"):E/20<=h?(this.interval=20,this.intervalType="millisecond"):E/50<=h?(this.interval=50,this.intervalType="millisecond"):E/100<=h?(this.interval=100,this.intervalType="millisecond"):E/200<=h?(this.interval=200,this.intervalType="millisecond"):E/250<=h?(this.interval=250,this.intervalType="millisecond"):E/300<=h?(this.interval=300,this.intervalType="millisecond"):E/400<=h?(this.interval=400,this.intervalType="millisecond"):E/500<=h?(this.interval=500,this.intervalType="millisecond"):E/(1*$e.secondDuration)<=h?(this.interval=1,this.intervalType="second"):E/(2*$e.secondDuration)<=h?(this.interval=2,this.intervalType="second"):E/(5*$e.secondDuration)<=h?(this.interval=5,this.intervalType="second"):E/(10*$e.secondDuration)<=h?(this.interval=10,this.intervalType="second"):E/(15*$e.secondDuration)<=h?(this.interval=15,this.intervalType="second"):E/(20*$e.secondDuration)<=h?(this.interval=20,this.intervalType="second"):E/(30*$e.secondDuration)<=h?(this.interval=30,this.intervalType="second"):E/(1*$e.minuteDuration)<=h?(this.interval=1,this.intervalType="minute"):E/(2*$e.minuteDuration)<=h?(this.interval=2,this.intervalType="minute"):E/(5*$e.minuteDuration)<=h?(this.interval=5,this.intervalType="minute"):E/(10*$e.minuteDuration)<=h?(this.interval=10,this.intervalType="minute"):E/(15*$e.minuteDuration)<=h?(this.interval=15,this.intervalType="minute"):E/(20*$e.minuteDuration)<=h?(this.interval=20,this.intervalType="minute"):E/(30*$e.minuteDuration)<=h?(this.interval=30,this.intervalType="minute"):E/(1*$e.hourDuration)<=h?(this.interval=1,this.intervalType="hour"):E/(2*$e.hourDuration)<=h?(this.interval=2,this.intervalType="hour"):E/(3*$e.hourDuration)<=h?(this.interval=3,this.intervalType="hour"):E/(6*$e.hourDuration)<=h?(this.interval=6,this.intervalType="hour"):E/(1*$e.dayDuration)<=h?(this.interval=1,this.intervalType="day"):E/(2*$e.dayDuration)<=h?(this.interval=2,this.intervalType="day"):E/(4*$e.dayDuration)<=h?(this.interval=4,this.intervalType="day"):E/(1*$e.weekDuration)<=h?(this.interval=1,this.intervalType="week"):E/(2*$e.weekDuration)<=h?(this.interval=2,this.intervalType="week"):E/(3*$e.weekDuration)<=h?(this.interval=3,this.intervalType="week"):E/(1*$e.monthDuration)<=h?(this.interval=1,this.intervalType="month"):E/(2*$e.monthDuration)<=h?(this.interval=2,this.intervalType="month"):E/(3*$e.monthDuration)<=h?(this.interval=3,this.intervalType="month"):E/(6*$e.monthDuration)<=h?(this.interval=6,this.intervalType="month"):(this.interval=E/(1*$e.yearDuration)<=h?1:E/(2*$e.yearDuration)<=h?2:E/(4*$e.yearDuration)<=h?4:Math.floor(ke.getNiceNumber(E/(h-1),!0)/$e.yearDuration),this.intervalType="year")),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=c-_/2),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=p+_/2),o?this.autoValueFormatString="MMM DD YYYY HH:mm":this.intervalType==="year"?this.autoValueFormatString="YYYY":this.intervalType==="month"?this.autoValueFormatString="MMM YYYY":this.intervalType==="week"?this.autoValueFormatString="MMM DD YYYY":this.intervalType==="day"?this.autoValueFormatString="MMM DD YYYY":this.intervalType==="hour"?this.autoValueFormatString="hh:mm TT":this.intervalType==="minute"?this.autoValueFormatString="hh:mm TT":this.intervalType==="second"?this.autoValueFormatString="hh:mm:ss TT":this.intervalType==="millisecond"&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",E=ke.getNiceNumber(E,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:ke.getNiceNumber(E/(h-1),!0),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.type==="axisX"?c-_/2:Math.floor(c/this.interval)*this.interval),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.type==="axisX"?p+_/2:Math.ceil(p/this.interval)*this.interval),this.viewportMaximum===0&&this.viewportMinimum===0&&(this.options.viewportMinimum===0?this.viewportMaximum+=10:this.options.viewportMaximum===0&&(this.viewportMinimum-=10),this.options&&typeof this.options.interval>"u"&&(this.interval=ke.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(h-1),!0)))),(this.minimum===null||this.maximum===null)&&(this.type==="axisX"?(c=this.minimum!==null?this.minimum:this.dataInfo.min,p=this.maximum!==null?this.maximum:this.dataInfo.max,p-c===0&&(E=typeof this.options.interval>"u"?.4:this.options.interval,p+=E,c-=E),_=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<p-c?.5*Math.abs(p-c):1):this.type==="axisY"&&(c=this.minimum!==null?this.minimum:this.dataInfo.min,p=this.maximum!==null?this.maximum:this.dataInfo.max,isFinite(c)||isFinite(p)?c===0&&p===0?(p+=9,c=0):p-c===0?(E=Math.min(Math.abs(.01*Math.abs(p)),5),p+=E,c-=E):c>p?(E=Math.min(.01*Math.abs(this.getApparentDifference(p,c,null,!0)),5),0<=p?c=p-E:p=isFinite(c)?c+E:0):(E=Math.min(.01*Math.abs(this.getApparentDifference(c,p,null,!0)),.05),p!==0&&(p+=E),c!==0&&(c-=E)):(p=typeof this.options.interval>"u"?-1/0:this.options.interval,c=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),_=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<p-c?.5*Math.abs(p-c):1,this.includeZero&&(this.minimum===null||isNaN(this.minimum))&&0<c&&(c=0),this.includeZero&&(this.maximum===null||isNaN(this.maximum))&&0>p&&(p=0)),Math.abs(this.getApparentDifference(c,p,null,!0)),this.type==="axisX"&&g?(this.valueType="dateTime",(this.minimum===null||isNaN(this.minimum))&&(this.minimum=c-_/2,this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(this.maximum===null||isNaN(this.maximum))&&(this.maximum=p+_/2,this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",this.minimum===null&&(this.minimum=this.type==="axisX"?c-_/2:Math.floor(c/this.interval)*this.interval,this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),this.maximum===null&&(this.maximum=this.type==="axisX"?p+_/2:Math.ceil(p/this.interval)*this.interval,this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),this.maximum===0&&this.minimum===0&&(this.options.minimum===0?this.maximum+=10:this.options.maximum===0&&(this.minimum-=10)))),f(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),f(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition=this.type==="axisX"&&g?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=ke.generateValueFormatString(this.range,2))}},ke.prototype.calculateLogarithmicAxisParameters=function(){var h=this.chart.layoutManager.getFreeSpace(),o=Math.log(this.logarithmBase),g;this._position==="bottom"||this._position==="top"?(this.maxWidth=h.width,this.maxHeight=h.height):(this.maxWidth=h.height,this.maxHeight=h.width);var h=this.type==="axisX"?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),c,p,_,E;if(E=1,(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(E=0;E<this.scaleBreaks._appliedBreaks.length;E++)if((!f(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[E].startValue||!f(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[E].startValue||!f(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[E].startValue)&&(!f(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[E].endValue||!f(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[E].endValue||!f(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[E].endValue)){this.scaleBreaks._appliedBreaks.splice(E,1);break}}this.type==="axisX"?(c=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,p=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,p/c===1&&(E=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),p*=E,c/=E),_=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:p/c>this.logarithmBase?p/c*Math.pow(this.logarithmBase,.5):this.logarithmBase):this.type==="axisY"&&(c=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,p=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,0>=c&&!isFinite(p)?(p=typeof this.options.interval>"u"?0:this.options.interval,c=1):0>=c?c=p:isFinite(p)||(p=c),c===1&&p===1?(p*=this.logarithmBase-1/this.logarithmBase,c=1):p/c===1?(E=Math.min(p*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),p*=E,c/=E):c>p?(E=Math.min(c/p*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=p?c=p/E:p=c*E):(E=Math.min(p/c*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),p!==1&&(p*=E),c!==1&&(c/=E)),_=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:p/c>this.logarithmBase?p/c*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&1<c&&(c=1),this.includeZero&&(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&1>p&&(p=1)),E=(isNaN(this.viewportMaximum)||this.viewportMaximum===null?p:this.viewportMaximum)/(isNaN(this.viewportMinimum)||this.viewportMinimum===null?c:this.viewportMinimum);var N=(isNaN(this.viewportMaximum)||this.viewportMaximum===null?p:this.viewportMaximum)-(isNaN(this.viewportMinimum)||this.viewportMinimum===null?c:this.viewportMinimum);if(this.intervalType="number",E=Math.pow(this.logarithmBase,ke.getNiceNumber(Math.abs(Math.log(E)/o),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=ke.getNiceExponent(Math.log(E)/o/(h-1),!0),g=ke.getNiceNumber(N/(h-1),!0)),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.type==="axisX"?c/Math.sqrt(_):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(c)/o/this.interval))),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.type==="axisX"?p*Math.sqrt(_):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(p)/o/this.interval))),this.viewportMaximum===1&&this.viewportMinimum===1&&(this.options.viewportMinimum===1?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:this.options.viewportMaximum===1&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&typeof this.options.interval>"u"&&(this.interval=ke.getNiceExponent(Math.ceil(Math.log(E)/o)/(h-1)),g=ke.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(h-1),!0))),(this.minimum===null||this.maximum===null)&&(this.type==="axisX"?(c=this.minimum!==null?this.minimum:this.dataInfo.min,p=this.maximum!==null?this.maximum:this.dataInfo.max,p/c===1&&(E=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),p*=E,c/=E),_=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:p/c>this.logarithmBase?p/c*Math.pow(this.logarithmBase,.5):this.logarithmBase):this.type==="axisY"&&(c=this.minimum!==null?this.minimum:this.dataInfo.min,p=this.maximum!==null?this.maximum:this.dataInfo.max,isFinite(c)||isFinite(p)?c===1&&p===1?(p*=this.logarithmBase,c/=this.logarithmBase):p/c===1?(E=Math.pow(this.logarithmBase,this.interval),p*=E,c/=E):c>p?(E=Math.min(.01*(c/p),5),1<=p?c=p/E:p=c*E):(E=Math.min(p/c*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),p!==1&&(p*=E),c!==1&&(c/=E)):(p=typeof this.options.interval>"u"?0:this.options.interval,c=1),_=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:p/c>this.logarithmBase?p/c*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(this.minimum===null||isNaN(this.minimum))&&1<c&&(c=1),this.includeZero&&(this.maximum===null||isNaN(this.maximum))&&1>p&&(p=1)),this.intervalType="number",this.minimum===null&&(this.minimum=this.type==="axisX"?c/Math.sqrt(_):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(c)/o/this.interval)),f(this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),this.maximum===null&&(this.maximum=this.type==="axisX"?p*Math.sqrt(_):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(p)/o/this.interval)),f(this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),this.maximum===1&&this.minimum===1&&(this.options.minimum===1?this.maximum*=this.logarithmBase-1/this.logarithmBase:this.options.maximum===1&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),c=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(o*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=h,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>h?2:3)){for(o=Math.floor(this.viewportMinimum/g+.5)*g;o<this.viewportMinimum;)o+=g;this.equidistantInterval=!1,this.intervalStartPosition=o,this.interval=g}else this.options.interval||(g=Math.ceil(this.interval),this.range>this.interval&&(this.interval=g,c=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(o*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=c;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(o=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,(isNaN(o)||!isFinite(o))&&(o=2),2<o))for(E=0;E<o-2;E++)this.valueFormatString+="#"},ke.generateValueFormatString=function(o,g){var h="#,##0.",c=g;1>o&&(c+=Math.floor(Math.abs(Math.log(o)/Math.LN10)),isNaN(c)||!isFinite(c))&&(c=g);for(var p=0;p<c;p++)h+="#";return h},ke.getNiceExponent=function(o,g){var h=Math.floor(Math.log(o)/Math.LN10),c=o/Math.pow(10,h),c=0>h?1>=c?1:5>=c?5:10:Math.max(Math.floor(c),1);return-20>h?Number(c*Math.pow(10,h)):Number((c*Math.pow(10,h)).toFixed(20))},ke.getNiceNumber=function(o,g){var h=Math.floor(Math.log(o)/Math.LN10),c=o/Math.pow(10,h),c=g?1.5>c?1:3>c?2:7>c?5:10:1>=c?1:2>=c?2:5>=c?5:10;return-20>h?Number(c*Math.pow(10,h)):Number((c*Math.pow(10,h)).toFixed(20))},ke.prototype.getLabelStartPoint=function(){var o=$e[this.intervalType+"Duration"]*this.interval,o=new Date(Math.floor(this.viewportMinimum/o)*o);return this.intervalType!=="millisecond"&&(this.intervalType==="second"?0<o.getMilliseconds()&&(o.setSeconds(o.getSeconds()+1),o.setMilliseconds(0)):this.intervalType==="minute"?(0<o.getSeconds()||0<o.getMilliseconds())&&(o.setMinutes(o.getMinutes()+1),o.setSeconds(0),o.setMilliseconds(0)):this.intervalType==="hour"?(0<o.getMinutes()||0<o.getSeconds()||0<o.getMilliseconds())&&(o.setHours(o.getHours()+1),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)):this.intervalType==="day"?(0<o.getHours()||0<o.getMinutes()||0<o.getSeconds()||0<o.getMilliseconds())&&(o.setDate(o.getDate()+1),o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)):this.intervalType==="week"?(0<o.getDay()||0<o.getHours()||0<o.getMinutes()||0<o.getSeconds()||0<o.getMilliseconds())&&(o.setDate(o.getDate()+(7-o.getDay())),o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)):this.intervalType==="month"?(1<o.getDate()||0<o.getHours()||0<o.getMinutes()||0<o.getSeconds()||0<o.getMilliseconds())&&(o.setMonth(o.getMonth()+1),o.setDate(1),o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)):this.intervalType==="year"&&(0<o.getMonth()||1<o.getDate()||0<o.getHours()||0<o.getMinutes()||0<o.getSeconds()||0<o.getMilliseconds())&&(o.setFullYear(o.getFullYear()+1),o.setMonth(0),o.setDate(1),o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0))),o},e(ot,q),e(Et,q),Et.prototype.createUserOptions=function(o){if(typeof o<"u"||this.options._isPlaceholder){var g=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(x(this.parent[this.optionsName]),g=this.parent.options[this.optionsName].indexOf(this.options)),this.options=typeof o>"u"?{}:o,this.parent.options[this.optionsName][g]=this.options}},Et.prototype.render=function(o){if(this.spacing!==0||this.options.lineThickness!==0&&(typeof this.options.lineThickness<"u"||this.parent.lineThickness!==0)){var g=this.ctx,h=this.ctx.globalAlpha;this.ctx=o||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var c=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),p=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,u(this.id);var _,E,N,I,M,b;o=Math.max(this.spacing,3);var T=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=T,this.ctx.setLineDash&&this.ctx.setLineDash(C(this.lineDashType,T)),this.scaleBreaks.parent._position==="bottom"||this.scaleBreaks.parent._position==="top"){if(c=T%2===1?(c.x<<0)+.5:c.x<<0,E=T%2===1?(p.x<<0)+.5:p.x<<0,this.scaleBreaks.parent._position==="top"?(p=this.chart.plotArea.y1,N=this.chart.plotArea.y2+T/2+.5<<0):(p=this.chart.plotArea.y2,N=this.chart.plotArea.y1-T/2+.5<<0,o*=-1),this.bounds={x1:c-T/2,y1:p,x2:E+T/2,y2:N},this.ctx.moveTo(c,p),this.type==="straight"||this.scaleBreaks.parent._position==="top"&&0>=o||this.scaleBreaks.parent._position==="bottom"&&0<=o)this.ctx.lineTo(c,N),this.ctx.lineTo(E,N),this.ctx.lineTo(E,p);else if(this.type==="wavy"){I=c,M=p,_=.5,b=(N-M)/o/3;for(var A=0;A<b;A++)this.ctx.bezierCurveTo(I+_*o,M+o,I+_*o,M+2*o,I,M+3*o),M+=3*o,_*=-1;for(this.ctx.bezierCurveTo(I+_*o,M+o,I+_*o,M+2*o,I,M+3*o),I=E,_*=-1,this.ctx.lineTo(I,M),A=0;A<b;A++)this.ctx.bezierCurveTo(I+_*o,M-o,I+_*o,M-2*o,I,M-3*o),M-=3*o,_*=-1}else if(this.type==="zigzag"){for(_=-1,M=p+o,I=c+o,b=(N-M)/o/2,A=0;A<b;A++)this.ctx.lineTo(I,M),I+=2*_*o,M+=2*o,_*=-1;for(this.ctx.lineTo(I,M),I+=E-c,A=0;A<b+1;A++)this.ctx.lineTo(I,M),I+=2*_*o,M-=2*o,_*=-1;this.ctx.lineTo(I+_*o,M+o)}}else if(this.scaleBreaks.parent._position==="left"||this.scaleBreaks.parent._position==="right"){if(p=T%2===1?(p.y<<0)+.5:p.y<<0,N=T%2===1?(c.y<<0)+.5:c.y<<0,this.scaleBreaks.parent._position==="left"?(c=this.chart.plotArea.x1,E=this.chart.plotArea.x2+T/2+.5<<0):(c=this.chart.plotArea.x2,E=this.chart.plotArea.x1-T/2+.5<<0,o*=-1),this.bounds={x1:c,y1:p-T/2,x2:E,y2:N+T/2},this.ctx.moveTo(c,p),this.type==="straight"||this.scaleBreaks.parent._position==="left"&&0>=o||this.scaleBreaks.parent._position==="right"&&0<=o)this.ctx.lineTo(E,p),this.ctx.lineTo(E,N),this.ctx.lineTo(c,N);else if(this.type==="wavy"){for(I=c,M=p,_=.5,b=(E-I)/o/3,A=0;A<b;A++)this.ctx.bezierCurveTo(I+o,M+_*o,I+2*o,M+_*o,I+3*o,M),I+=3*o,_*=-1;for(this.ctx.bezierCurveTo(I+o,M+_*o,I+2*o,M+_*o,I+3*o,M),M=N,_*=-1,this.ctx.lineTo(I,M),A=0;A<b;A++)this.ctx.bezierCurveTo(I-o,M+_*o,I-2*o,M+_*o,I-3*o,M),I-=3*o,_*=-1}else if(this.type==="zigzag"){for(_=1,M=p-o,I=c+o,b=(E-I)/o/2,A=0;A<b;A++)this.ctx.lineTo(I,M),M+=2*_*o,I+=2*o,_*=-1;for(this.ctx.lineTo(I,M),M+=N-p,A=0;A<b+1;A++)this.ctx.lineTo(I,M),M+=2*_*o,I-=2*o,_*=-1;this.ctx.lineTo(I+o,M+_*o)}}0<T&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=h,this.ctx=g}},e(yt,q),yt.prototype.createUserOptions=function(o){if(typeof o<"u"||this.options._isPlaceholder){var g=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(x(this.parent.stripLines),g=this.parent.options.stripLines.indexOf(this.options)),this.options=typeof o>"u"?{}:o,this.parent.options.stripLines[g]=this.options}},yt.prototype.render=function(){this.ctx.save();var o=this.parent.getPixelCoordinatesOnAxis(this.value),g=Math.abs(this._thicknessType==="pixel"?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<g){var h=this.opacity===null?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var c=this.ctx.globalAlpha;this.ctx.globalAlpha=h,u(this.id);var p,_,E,N;this.ctx.lineWidth=g,this.ctx.setLineDash&&this.ctx.setLineDash(C(this.lineDashType,g)),this.parent._position==="bottom"||this.parent._position==="top"?(p=_=this.ctx.lineWidth%2===1?(o.x<<0)+.5:o.x<<0,E=this.chart.plotArea.y1,N=this.chart.plotArea.y2,this.bounds={x1:p-g/2,y1:E,x2:_+g/2,y2:N}):(this.parent._position==="left"||this.parent._position==="right")&&(E=N=this.ctx.lineWidth%2===1?(o.y<<0)+.5:o.y<<0,p=this.chart.plotArea.x1,_=this.chart.plotArea.x2,this.bounds={x1:p,y1:E-g/2,x2:_,y2:N+g/2}),this.ctx.moveTo(p,E),this.ctx.lineTo(_,N),this.ctx.stroke(),this.ctx.globalAlpha=c}this.ctx.restore()},e(Wt,q),Wt.prototype.showAt=function(o){if(!this.enabled)return!1;var g=this.chart,h=!1;if(g.resetOverlayedCanvas(),g.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),g.plotInfo.axisPlacement==="xySwapped"){if(this.parent._position==="bottom")for(var c=0;c<g.axisY.length;c++)this.parent===g.axisY[c]&&(g.axisY[c]._crosshairValue=o>=g.axisY[c].viewportMinimum&&o<=g.axisY[c].viewportMaximum?o:null);else if(this.parent._position==="top")for(c=0;c<g.axisY2.length;c++)this.parent===g.axisY2[c]&&(g.axisY2[c]._crosshairValue=o>=g.axisY2[c].viewportMinimum&&o<=g.axisY2[c].viewportMaximum?o:null);else if(this.parent._position==="left")for(c=0;c<g.axisX.length;c++)this.parent===g.axisX[c]&&(g.axisX[c]._crosshairValue=o>=g.axisX[c].viewportMinimum&&o<=g.axisX[c].viewportMaximum?o:null);else if(this.parent._position==="right")for(c=0;c<g.axisX2.length;c++)this.parent===g.axisX2[c]&&(g.axisX2[c]._crosshairValue=o>=g.axisX2[c].viewportMinimum&&o<=g.axisX2[c].viewportMaximum?o:null)}else if(this.parent._position==="bottom")for(c=0;c<g.axisX.length;c++)this.parent===g.axisX[c]&&(g.axisX[c]._crosshairValue=o>=g.axisX[c].viewportMinimum&&o<=g.axisX[c].viewportMaximum?o:null);else if(this.parent._position==="top")for(c=0;c<g.axisX2.length;c++)this.parent===g.axisX2[c]&&(g.axisX2[c]._crosshairValue=o>=g.axisX2[c].viewportMinimum&&o<=g.axisX2[c].viewportMaximum?o:null);else if(this.parent._position==="left")for(c=0;c<g.axisY.length;c++)this.parent===g.axisY[c]&&(g.axisY[c]._crosshairValue=o>=g.axisY[c].viewportMinimum&&o<=g.axisY[c].viewportMaximum?o:null);else if(this.parent._position==="right")for(c=0;c<g.axisY2.length;c++)this.parent===g.axisY2[c]&&(g.axisY2[c]._crosshairValue=o>=g.axisY2[c].viewportMinimum&&o<=g.axisY2[c].viewportMaximum?o:null);for(c=0;c<g.axisX.length;c++)o=g.axisX[c]._crosshairValue,g.axisX[c].crosshair&&g.axisX[c].crosshair.enabled&&!f(o)&&o>=g.axisX[c].viewportMinimum&&o<=g.axisX[c].viewportMaximum&&(g.axisX[c].showCrosshair(o),g.axisX[c].crosshair._updatedValue=o,this===g.axisX[c].crosshair&&(h=!0));for(c=0;c<g.axisX2.length;c++)o=g.axisX2[c]._crosshairValue,g.axisX2[c].crosshair&&g.axisX2[c].crosshair.enabled&&!f(o)&&o>=g.axisX2[c].viewportMinimum&&o<=g.axisX2[c].viewportMaximum&&(g.axisX2[c].showCrosshair(o),g.axisX2[c].crosshair._updatedValue=o,this===g.axisX2[c].crosshair&&(h=!0));for(c=0;c<g.axisY.length;c++)o=g.axisY[c]._crosshairValue,g.axisY[c].crosshair&&g.axisY[c].crosshair.enabled&&!f(o)&&o>=g.axisY[c].viewportMinimum&&o<=g.axisY[c].viewportMaximum&&(g.axisY[c].showCrosshair(o),g.axisY[c].crosshair._updatedValue=o,this===g.axisY[c].crosshair&&(h=!0));for(c=0;c<g.axisY2.length;c++)o=g.axisY2[c]._crosshairValue,g.axisY2[c].crosshair&&g.axisY2[c].crosshair.enabled&&!f(o)&&o>=g.axisY2[c].viewportMinimum&&o<=g.axisY2[c].viewportMaximum&&(g.axisY2[c].showCrosshair(o),g.axisY2[c].crosshair._updatedValue=o,this===g.axisY2[c].crosshair&&(h=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),h},Wt.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},Wt.prototype.render=function(o,g,h){var c,p,_,E,N=null,I=null,M=null,b="";this.valueFormatString||(this.parent.valueType==="dateTime"?this.valueFormatString=this.parent.valueFormatString:(M=0,M=this.chart.plotInfo.axisPlacement==="xySwapped"?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=ke.generateValueFormatString(this.parent.range,M)));var T=this.opacity===null?1:this.opacity,A=Math.abs(this._thicknessType==="pixel"?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),m=this.chart.overlaidCanvasCtx,B=m.globalAlpha;if(m.beginPath(),m.strokeStyle=this.color,m.lineWidth=A,m.save(),this.labelFontSize=Math.abs(f(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize),this.labelMaxWidth=f(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=f(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<A&&m.setLineDash&&m.setLineDash(C(this.lineDashType,A)),M=new le(m,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:b,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var X=0,b=[];if(this.chart.plotInfo.axisPlacement==="xySwapped"){var Y=null;this.parent._position==="bottom"||this.parent._position==="top"?X=this.parent.dataSeries[0].axisX.convertPixelToValue({y:g}):(this.parent._position==="left"||this.parent._position==="right")&&(X=this.parent.convertPixelToValue({y:g}));for(var O=0;O<this.parent.dataSeries.length;O++)(Y=this.parent.dataSeries[O].getDataPointAtX(X,!0))&&0<=Y.index&&(Y.dataSeries=this.parent.dataSeries[O],Y.dataPoint.y!==null&&Y.dataSeries.visible&&b.push(Y));if(Y=null,b.length===0)return;b.sort(function(se,Le){return se.distance-Le.distance});var Q=Y=0;yPercent=cumulativeY=0;for(var X=1/0,G,O=0;O<b.length;O++){if(b[O].dataSeries.type==="rangeBar"||b[O].dataSeries.type==="error"){if(b[O].dataPoint.y)for(var re=0;re<b[O].dataPoint.y.length;re++)Q=Math.abs(o-this.parent.convertValueToPixel(b[O].dataPoint.y[re])),Q<=X&&(X=Q,Y=O)}else b[O].dataSeries.type==="stackedBar"?(cumulativeY=b[O].dataSeries.dataPointEOs[b[O].index].cumulativeY,Q=Math.abs(o-this.parent.convertValueToPixel(cumulativeY)),Q<=X&&(X=Q,Y=O)):b[O].dataSeries.type==="stackedBar100"?(Q=b[0].dataPoint.x.getTime?b[0].dataPoint.x.getTime():b[0].dataPoint.x,f(G)&&(G=Math.abs(o-this.parent.convertValueToPixel(100*(b[0].dataSeries.dataPointEOs[b[0].index].cumulativeY/b[0].dataSeries.plotUnit.dataPointYSums[Q])))),cumulativeY=b[O].dataSeries.dataPointEOs[b[O].index].cumulativeY,Q=b[O].dataPoint.x.getTime?b[O].dataPoint.x.getTime():b[O].dataPoint.x,yPercent=100*(cumulativeY/b[O].dataSeries.plotUnit.dataPointYSums[Q]),Q=Math.abs(o-this.parent.convertValueToPixel(yPercent)),Q<=G&&(G=Q,Y=O)):(Q=Math.abs(o-this.parent.convertValueToPixel(b[O].dataPoint.y)),Q<=X&&(X=Q,Y=O));f(G)||(X=Math.min(X,G))}if(G=b[Y],O=0,this.parent._position==="bottom"||this.parent._position==="top"){if(G.dataSeries.type==="rangeBar"||G.dataSeries.type==="error"){for(X=Math.abs(o-this.parent.convertValueToPixel(G.dataPoint.y[0])),b=0;b<G.dataPoint.y.length;b++)Q=Math.abs(o-this.parent.convertValueToPixel(G.dataPoint.y[b])),Q<X&&(X=Q,O=b);N=m.lineWidth%2===1?(this.parent.convertValueToPixel(G.dataPoint.y[O])<<0)+.5:this.parent.convertValueToPixel(G.dataPoint.y[O])<<0,this.value=G.dataPoint.y[O],M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:G.dataPoint.y[O]}):f(this.options.label)?ct(f(h)?G.dataPoint.y[O]:h,this.valueFormatString,this.chart._cultureInfo):this.label}else G.dataSeries.type==="stackedBar"?(X=Math.abs(o-this.parent.convertValueToPixel(b[0].dataPoint.y)),cumulativeY=G.dataSeries.dataPointEOs[G.index].cumulativeY,N=m.lineWidth%2===1?(this.parent.convertValueToPixel(cumulativeY)<<0)+.5:this.parent.convertValueToPixel(cumulativeY)<<0,this.value=cumulativeY,M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:cumulativeY}):f(this.options.label)?ct(f(h)?cumulativeY:h,this.valueFormatString,this.chart._cultureInfo):this.label):G.dataSeries.type==="stackedBar100"?(X=Math.abs(o-this.parent.convertValueToPixel(b[0].dataPoint.y)),cumulativeY=G.dataSeries.dataPointEOs[G.index].cumulativeY,Q=G.dataPoint.x.getTime?G.dataPoint.x.getTime():G.dataPoint.x,yPercent=100*(cumulativeY/G.dataSeries.plotUnit.dataPointYSums[Q]),N=m.lineWidth%2===1?(this.parent.convertValueToPixel(yPercent)<<0)+.5:this.parent.convertValueToPixel(yPercent)<<0,this.value=yPercent,M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:yPercent}):f(this.options.label)?ct(f(h)?yPercent:h,this.valueFormatString,this.chart._cultureInfo):this.label):(N=m.lineWidth%2===1?(this.parent.convertValueToPixel(G.dataPoint.y)<<0)+.5:this.parent.convertValueToPixel(G.dataPoint.y)<<0,this.value=G.dataPoint.y,M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:G.dataPoint.y}):f(this.options.label)?ct(f(h)?G.dataPoint.y:h,this.valueFormatString,this.chart._cultureInfo):this.label);c=p=N,_=this.chart.plotArea.y1,E=this.chart.plotArea.y2,this.bounds={x1:c-A/2,y1:_,x2:p+A/2,y2:E},M.x=c-M.measureText().width/2,M.x+M.width>this.chart.bounds.x2?M.x=this.chart.bounds.x2-M.width:M.x<this.chart.bounds.x1&&(M.x=this.chart.bounds.x1),M.y=this.parent.lineCoordinates.y2+(this.parent._position==="top"?-M.height+this.parent.tickLength:M.fontSize/2)+2,M.y+M.height>this.chart.bounds.y2?M.y=this.chart.bounds.y2-M.height:M.y<this.chart.bounds.y1&&(M.y=this.chart.bounds.y1)}else if(this.parent._position==="left"||this.parent._position==="right"){if(_=E=I=m.lineWidth%2===1?(this.parent.convertValueToPixel(G.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(G.dataPoint.x)<<0,c=this.chart.plotArea.x1,p=this.chart.plotArea.x2,this.bounds={x1:c,y1:_-A/2,x2:p,y2:E+A/2},O=!1,this.parent.labels)for(X=Math.ceil(this.parent.interval),b=0;b<this.parent.viewportMaximum;b+=X)if(this.parent.labels[b])O=!0;else{O=!1;break}if(O){if(this.parent.type==="axisX")for(X=this.parent.convertPixelToValue({y:g}),Y=null,O=0;O<this.parent.dataSeries.length;O++)(Y=this.parent.dataSeries[O].getDataPointAtX(X,!0))&&0<=Y.index&&(M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:G.dataPoint.x}):f(this.options.label)?Y.dataPoint.label:this.label)}else M.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:G.dataPoint.x}):f(this.options.label)?ct(G.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:G.dataPoint.x}):f(this.options.label)?Ye(G.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=G.dataPoint.x,M.y=E+M.fontSize/2-M.measureText().height/2+2,M.y-M.fontSize/2<this.chart.bounds.y1?M.y=this.chart.bounds.y1+M.fontSize/2+2:M.y+M.measureText().height-M.fontSize/2>this.chart.bounds.y2&&(M.y=this.chart.bounds.y2-M.measureText().height+M.fontSize/2),this.parent._position==="left"?M.x=this.parent.lineCoordinates.x2-M.measureText().width:this.parent._position==="right"&&(M.x=this.parent.lineCoordinates.x2)}}else if(this.parent._position==="bottom"||this.parent._position==="top"){for(X=this.parent.convertPixelToValue({x:o}),O=0;O<this.parent.dataSeries.length;O++)(Y=this.parent.dataSeries[O].getDataPointAtX(X,!0))&&0<=Y.index&&(Y.dataSeries=this.parent.dataSeries[O],Y.dataPoint.y!==null&&Y.dataSeries.visible&&b.push(Y));if(b.length===0)return;if(b.sort(function(se,Le){return se.distance-Le.distance}),G=b[0],c=p=N=m.lineWidth%2===1?(this.parent.convertValueToPixel(G.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(G.dataPoint.x)<<0,_=this.chart.plotArea.y1,E=this.chart.plotArea.y2,this.bounds={x1:c-A/2,y1:_,x2:p+A/2,y2:E},O=!1,this.parent.labels)for(X=Math.ceil(this.parent.interval),b=0;b<this.parent.viewportMaximum;b+=X)if(this.parent.labels[b])O=!0;else{O=!1;break}if(O){if(this.parent.type==="axisX")for(X=this.parent.convertPixelToValue({x:o}),Y=null,O=0;O<this.parent.dataSeries.length;O++)(Y=this.parent.dataSeries[O].getDataPointAtX(X,!0))&&0<=Y.index&&(M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:G.dataPoint.x}):f(this.options.label)?Y.dataPoint.label:this.label)}else M.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:G.dataPoint.x}):f(this.options.label)?ct(G.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:G.dataPoint.x}):f(this.options.label)?Ye(G.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=G.dataPoint.x,M.x=c-M.measureText().width/2,M.x+M.width>this.chart.bounds.x2&&(M.x=this.chart.bounds.x2-M.width),M.x<this.chart.bounds.x1&&(M.x=this.chart.bounds.x1),this.parent._position==="bottom"?M.y=this.parent.lineCoordinates.y2+M.fontSize/2+2:this.parent._position==="top"&&(M.y=this.parent.lineCoordinates.y1-M.height+M.fontSize/2+2)}else if(this.parent._position==="left"||this.parent._position==="right"){for(!f(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(X=this.parent.dataSeries[0].axisX.convertPixelToValue({x:o})),O=0;O<this.parent.dataSeries.length;O++)(Y=this.parent.dataSeries[O].getDataPointAtX(X,!0))&&0<=Y.index&&(Y.dataSeries=this.parent.dataSeries[O],Y.dataPoint.y!==null&&Y.dataSeries.visible&&b.push(Y));if(b.length===0)return;for(b.sort(function(se,Le){return se.distance-Le.distance}),Q=Y=0,X=1/0,O=0;O<b.length;O++){if(b[O].dataSeries.type==="rangeColumn"||b[O].dataSeries.type==="rangeArea"||b[O].dataSeries.type==="error"||b[O].dataSeries.type==="rangeSplineArea"||b[O].dataSeries.type==="candlestick"||b[O].dataSeries.type==="ohlc"||b[O].dataSeries.type==="boxAndWhisker"){if(b[O].dataPoint.y)for(re=0;re<b[O].dataPoint.y.length;re++)Q=Math.abs(g-this.parent.convertValueToPixel(b[O].dataPoint.y[re])),Q<=X&&(X=Q,Y=O)}else b[O].dataSeries.type==="stackedColumn"?(c=b[O].dataSeries.dataPointEOs[b[O].index].cumulativeY,Q=Math.abs(g-this.parent.convertValueToPixel(c)),Q<=X&&(X=Q,Y=O)):b[O].dataSeries.type==="stackedArea"?(c=b[O].dataSeries.dataPointEOs[b[O].index].cumulativeY,Q=Math.abs(g-this.parent.convertValueToPixel(c)),Q<=X&&(X=Q,Y=O)):b[O].dataSeries.type==="stackedColumn100"||b[O].dataSeries.type==="stackedArea100"?(Q=b[0].dataPoint.x.getTime?b[0].dataPoint.x.getTime():b[0].dataPoint.x,f(G)&&(G=Math.abs(g-this.parent.convertValueToPixel(100*(b[0].dataSeries.dataPointEOs[b[0].index].cumulativeY/b[0].dataSeries.plotUnit.dataPointYSums[Q])))),b[O].dataSeries.type==="stackedColumn100"?(I=b[O].dataSeries.dataPointEOs[b[O].index].cumulativeY,Q=b[O].dataPoint.x.getTime?b[O].dataPoint.x.getTime():b[O].dataPoint.x,c=100*(I/b[O].dataSeries.plotUnit.dataPointYSums[Q]),Q=Math.abs(g-this.parent.convertValueToPixel(c)),Q<=G&&(G=Q,Y=O)):b[O].dataSeries.type==="stackedArea100"&&(I=b[O].dataSeries.dataPointEOs[b[O].index].cumulativeY,Q=b[O].dataPoint.x.getTime?b[O].dataPoint.x.getTime():b[O].dataPoint.x,c=100*(I/b[O].dataSeries.plotUnit.dataPointYSums[Q]),Q=Math.abs(g-this.parent.convertValueToPixel(c)),Q<=G&&(G=Q,Y=O))):b[O].dataSeries.type==="waterfall"?(Q=Math.abs(g-this.parent.convertValueToPixel(b[O].dataSeries.dataPointEOs[b[O].index].cumulativeSum)),Q<=X&&(G=X=Q,Y=O)):(Q=Math.abs(g-this.parent.convertValueToPixel(b[O].dataPoint.y)),Q<=X&&(X=Q,Y=O));f(G)||(X=Math.min(X,G))}if(G=b[Y],O=0,G.dataSeries.type==="rangeColumn"||G.dataSeries.type==="rangeArea"||G.dataSeries.type==="error"||G.dataSeries.type==="rangeSplineArea"||G.dataSeries.type==="candlestick"||G.dataSeries.type==="ohlc"||G.dataSeries.type==="boxAndWhisker"){for(X=Math.abs(g-this.parent.convertValueToPixel(G.dataPoint.y[0])),b=0;b<G.dataPoint.y.length;b++)Q=Math.abs(g-this.parent.convertValueToPixel(G.dataPoint.y[b])),Q<X&&(X=Q,O=b);I=m.lineWidth%2===1?(this.parent.convertValueToPixel(G.dataPoint.y[O])<<0)+.5:this.parent.convertValueToPixel(G.dataPoint.y[O])<<0,M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:G.dataPoint.y[O]}):f(this.options.label)?ct(f(h)?G.dataPoint.y[O]:h,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=G.dataPoint.y[O]}else G.dataSeries.type==="stackedColumn"?(c=G.dataSeries.dataPointEOs[G.index].cumulativeY,I=m.lineWidth%2===1?(this.parent.convertValueToPixel(c)<<0)+.5:this.parent.convertValueToPixel(c)<<0,M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:c}):f(this.options.label)?ct(f(h)?c:h,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=c):G.dataSeries.type==="stackedArea"?(c=G.dataSeries.dataPointEOs[G.index].cumulativeY,I=m.lineWidth%2===1?(this.parent.convertValueToPixel(c)<<0)+.5:this.parent.convertValueToPixel(c)<<0,M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:c}):f(this.options.label)?ct(f(h)?c:h,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=c):G.dataSeries.type==="stackedColumn100"?(I=G.dataSeries.dataPointEOs[G.index].cumulativeY,Q=G.dataPoint.x.getTime?G.dataPoint.x.getTime():G.dataPoint.x,c=100*(I/G.dataSeries.plotUnit.dataPointYSums[Q]),I=m.lineWidth%2===1?(this.parent.convertValueToPixel(c)<<0)+.5:this.parent.convertValueToPixel(c)<<0,M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:c}):f(this.options.label)?ct(f(h)?c:h,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=c):G.dataSeries.type==="stackedArea100"?(I=G.dataSeries.dataPointEOs[G.index].cumulativeY,Q=G.dataPoint.x.getTime?G.dataPoint.x.getTime():G.dataPoint.x,c=100*(I/G.dataSeries.plotUnit.dataPointYSums[Q]),I=m.lineWidth%2===1?(this.parent.convertValueToPixel(c)<<0)+.5:this.parent.convertValueToPixel(c)<<0,M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:c}):f(this.options.label)?ct(f(h)?c:h,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=c):G.dataSeries.type==="waterfall"?(I=m.lineWidth%2===1?(this.parent.convertValueToPixel(G.dataSeries.dataPointEOs[G.index].cumulativeSum)<<0)+.5:this.parent.convertValueToPixel(G.dataSeries.dataPointEOs[G.index].cumulativeSum)<<0,M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:G.dataSeries.dataPointEOs[G.index].cumulativeSum}):f(this.options.label)?ct(f(h)?G.dataSeries.dataPointEOs[G.index].cumulativeSum:h,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=G.dataSeries.dataPointEOs[G.index].cumulativeSum):(I=m.lineWidth%2===1?(f(o)?g:this.parent.convertValueToPixel(G.dataPoint.y)<<0)+.5:f(o)?g:this.parent.convertValueToPixel(G.dataPoint.y)<<0,M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f(h)?G.dataPoint.y:h}):f(this.options.label)?ct(f(h)?G.dataPoint.y:h,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=G.dataPoint.y);_=E=I,c=this.chart.plotArea.x1,p=this.chart.plotArea.x2,this.bounds={x1:c,y1:_-A/2,x2:p,y2:E+A/2},M.y=E+M.fontSize/2-M.measureText().height/2+2,M.y-M.fontSize/2<this.chart.bounds.y1?M.y=this.chart.bounds.y1+M.fontSize/2+2:M.y+M.measureText().height-M.fontSize/2>this.chart.bounds.y2&&(M.y=this.chart.bounds.y2-M.measureText().height+M.fontSize/2),this.parent._position==="left"?M.x=this.parent.lineCoordinates.x2-M.measureText().width:this.parent._position==="right"&&(M.x=this.parent.lineCoordinates.x2)}b=null,m.globalAlpha=T,(this.parent._position==="bottom"||this.parent._position==="top")&&(this.parent._position==="top"&&M.y-M.fontSize/2<this.chart.bounds.y1&&(M.y=this.chart.bounds.y1+M.fontSize/2),this.parent._position==="bottom"&&this.parent.lineCoordinates.y2-M.fontSize/2+M.measureText().height>this.chart.bounds.y2&&(M.y=this.chart.bounds.y2-M.height+M.fontSize/2+2),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<A&&(m.moveTo(c,_),m.lineTo(p,E),m.stroke(),this._hidden=!1)),(this.parent._position==="left"||this.parent._position==="right")&&(this.parent._position==="left"&&M.x<this.chart.bounds.x1&&(M.x=this.chart.bounds.x1),this.parent._position==="right"&&M.x+M.measureText().width>this.chart.bounds.x2&&(M.x=this.chart.bounds.x2-M.measureText().width),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<A&&(m.moveTo(c,_),m.lineTo(p,E),m.stroke(),this._hidden=!1))}else{if(this.parent._position==="bottom"||this.parent._position==="top"?(c=p=N=m.lineWidth%2===1?(o<<0)+.5:o<<0,_=this.chart.plotArea.y1,E=this.chart.plotArea.y2,this.bounds={x1:c-A/2,y1:_,x2:p+A/2,y2:E}):(this.parent._position==="left"||this.parent._position==="right")&&(_=E=I=m.lineWidth%2===1?(g<<0)+.5:g<<0,c=this.chart.plotArea.x1,p=this.chart.plotArea.x2,this.bounds={x1:c,y1:_-A/2,x2:p,y2:E+A/2}),this.chart.plotInfo.axisPlacement==="xySwapped")if(this.parent._position==="left"||this.parent._position==="right"){if(O=!1,this.parent.labels)for(X=Math.ceil(this.parent.interval),b=0;b<this.parent.viewportMaximum;b+=X)if(this.parent.labels[b])O=!0;else{O=!1;break}if(O){if(this.parent.type==="axisX")for(X=this.parent.convertPixelToValue({y:g}),Y=null,O=0;O<this.parent.dataSeries.length;O++)(Y=this.parent.dataSeries[O].getDataPointAtX(X,!0))&&0<=Y.index&&(M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f(h)?this.parent.convertPixelToValue(o):h}):f(this.options.label)?Y.dataPoint.label:this.label)}else M.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f(h)?this.parent.convertPixelToValue(g):h}):f(this.options.label)?ct(f(h)?this.parent.convertPixelToValue(g):h,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f(h)?this.parent.convertPixelToValue(g):h}):f(this.options.label)?Ye(f(h)?this.parent.convertPixelToValue(g):h,this.valueFormatString,this.chart._cultureInfo):this.label;M.y=g+M.fontSize/2-M.measureText().height/2+2,M.y-M.fontSize/2<this.chart.bounds.y1?M.y=this.chart.bounds.y1+M.fontSize/2+2:M.y+M.measureText().height-M.fontSize/2>this.chart.bounds.y2&&(M.y=this.chart.bounds.y2-M.measureText().height+M.fontSize/2),this.parent._position==="left"?M.x=this.parent.lineCoordinates.x1-M.measureText().width:this.parent._position==="right"&&(M.x=this.parent.lineCoordinates.x2)}else(this.parent._position==="bottom"||this.parent._position==="top")&&(M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f(h)?this.parent.convertPixelToValue(o):h}):f(this.options.label)?ct(f(h)?this.parent.convertPixelToValue(o):h,this.valueFormatString,this.chart._cultureInfo):this.label,M.x=c-M.measureText().width/2,M.x+M.width>this.chart.bounds.x2&&(M.x=this.chart.bounds.x2-M.width),M.x<this.chart.bounds.x1&&(M.x=this.chart.bounds.x1),this.parent._position==="bottom"?M.y=this.parent.lineCoordinates.y2+M.fontSize/2+2:this.parent._position==="top"&&(M.y=this.parent.lineCoordinates.y1-M.height+M.fontSize/2+2));else if(this.parent._position==="bottom"||this.parent._position==="top"){if(O=!1,b="",this.parent.labels)for(X=Math.ceil(this.parent.interval),b=0;b<this.parent.viewportMaximum;b+=X)if(this.parent.labels[b])O=!0;else{O=!1;break}if(O){if(this.parent.type==="axisX")for(X=this.parent.convertPixelToValue({x:o}),Y=null,O=0;O<this.parent.dataSeries.length;O++)(Y=this.parent.dataSeries[O].getDataPointAtX(X,!0))&&0<=Y.index&&(M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f(h)?this.parent.convertPixelToValue(o):h}):f(this.options.label)?f(h)?Y.dataPoint.label:h:this.label)}else M.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f(h)?0<this.parent.dataSeries.length?this.parent.convertPixelToValue(o):"":h}):f(this.options.label)?ct(f(h)?this.parent.convertPixelToValue(o):h,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f(h)?this.parent.convertPixelToValue(o):h}):f(this.options.label)?Ye(f(h)?this.parent.convertPixelToValue(o):h,this.valueFormatString,this.chart._cultureInfo):this.label;M.x=c-M.measureText().width/2,M.x+M.width>this.chart.bounds.x2&&(M.x=this.chart.bounds.x2-M.width),M.x<this.chart.bounds.x1&&(M.x=this.chart.bounds.x1),this.parent._position==="bottom"?M.y=this.parent.lineCoordinates.y2+M.fontSize/2+2:this.parent._position==="top"&&(M.y=this.parent.lineCoordinates.y1-M.height+M.fontSize/2+2)}else(this.parent._position==="left"||this.parent._position==="right")&&(M.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f(h)?this.parent.convertPixelToValue(g):h}):f(this.options.label)?ct(f(h)?this.parent.convertPixelToValue(g):h,this.valueFormatString,this.chart._cultureInfo):this.label,M.y=g+M.fontSize/2-M.measureText().height/2+2,M.y-M.fontSize/2<this.chart.bounds.y1?M.y=this.chart.bounds.y1+M.fontSize/2+2:M.y+M.measureText().height-M.fontSize/2>this.chart.bounds.y2&&(M.y=this.chart.bounds.y2-M.measureText().height+M.fontSize/2),this.parent._position==="left"?M.x=this.parent.lineCoordinates.x2-M.measureText().width:this.parent._position==="right"&&(M.x=this.parent.lineCoordinates.x2));this.parent._position==="left"&&M.x<this.chart.bounds.x1?M.x=this.chart.bounds.x1:this.parent._position==="right"&&M.x+M.measureText().width>this.chart.bounds.x2?M.x=this.chart.bounds.x2-M.measureText().width:this.parent._position==="top"&&M.y-M.fontSize/2<this.chart.bounds.y1?M.y=this.chart.bounds.y1+M.fontSize/2:this.parent._position==="bottom"&&this.parent.lineCoordinates.y2-M.fontSize/2+M.measureText().height>this.chart.bounds.y2&&(M.y=this.chart.bounds.y2-M.height+M.fontSize/2+2),m.globalAlpha=T,0<A&&(m.moveTo(c,_),m.lineTo(p,E),m.stroke(),this._hidden=!1),this.value=this.parent._position==="bottom"||this.parent._position==="top"?this.parent.convertPixelToValue(o):this.parent.convertPixelToValue(g)}(this.parent._position==="bottom"||this.parent._position==="top")&&(this._updatedValue=this.parent.convertPixelToValue(N)),(this.parent._position==="left"||this.parent._position==="right")&&(this._updatedValue=this.parent.convertPixelToValue(I)),this._textBlock=M,this._label=h,f(h)||this.renderLabel(),m.restore(),m.globalAlpha=B},Wt.prototype.renderLabel=function(){this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&(f(this._textBlock)||f(this._textBlock.text)||!(typeof this._textBlock.text.valueOf()=="number"||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0),f(this._label)&&this.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this.parent,value:this.value},this.parent))},e(on,q),on.prototype._updateOptions=function(){this.updateOption("enabled"),this.updateOption("shared"),this.updateOption("animationEnabled"),this.updateOption("content"),this.updateOption("contentFormatter"),this.updateOption("reversed"),this.updateOption("backgroundColor"),this.updateOption("borderColor"),this.updateOption("borderThickness"),this.updateOption("cornerRadius"),this.updateOption("fontSize"),this.updateOption("fontColor"),this.updateOption("fontFamily"),this.updateOption("fontWeight"),this.updateOption("fontStyle")},on.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var o=document.createElement("div");o.style.width="auto",o.style.height="auto",o.style.minWidth="50px",o.style.lineHeight="normal",o.style.margin="0px 0px 0px 0px",o.style.padding="5px",o.style.fontFamily="Calibri, Arial, Georgia, serif",o.style.fontWeight="normal",o.style.fontStyle=ee?"italic":"normal",o.style.fontSize="14px",o.style.color="#000000",o.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",o.style.textAlign="left",o.style.border="2px solid gray",o.style.background=ee?"rgba(255,255,255,.9)":"rgb(255,255,255)",o.style.textIndent="0px",o.style.whiteSpace="nowrap",o.style.borderRadius="5px",o.style.MozUserSelect="none",o.style.WebkitUserSelect="none",o.style.msUserSelect="none",o.style.userSelect="none",ee||(o.style.filter="alpha(opacity = 90)",o.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),o.innerText="Sample Tooltip",this.container.appendChild(o),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},on.prototype.mouseMoveHandler=function(o,g){this._lastUpdated&&4>new Date().getTime()-this._lastUpdated||(this._lastUpdated=new Date().getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(o,g),this.enabled&&this._updatedEventParameters&&!isNaN(this._prevX)&&!isNaN(this._prevY)&&this.dispatchEvent("updated",this._updatedEventParameters,this))},on.prototype._updateToolTip=function(o,g,h){if(h=typeof h>"u"?!0:h,this._updateOptions(),this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(typeof o>"u"||typeof g>"u"){if(isNaN(this._prevX)||isNaN(this._prevY))return;o=this._prevX,g=this._prevY}else this._prevX=o,this._prevY=g;var c=null,p=null,_=[],E=0;if(this.shared&&this.enabled&&this.chart.plotInfo.axisPlacement!=="none"){var N=[];if(this.chart.axisX)for(var I=0;I<this.chart.axisX.length;I++){for(var E=this.chart.plotInfo.axisPlacement==="xySwapped"?this.chart.axisX[I].convertPixelToValue({y:g}):this.chart.axisX[I].convertPixelToValue({x:o}),M=null,c=0;c<this.chart.axisX[I].dataSeries.length;c++)(M=this.chart.axisX[I].dataSeries[c].getDataPointAtX(E,h))&&0<=M.index&&(M.dataSeries=this.chart.axisX[I].dataSeries[c],M.dataPoint.y!==null&&M.dataSeries.visible&&N.push(M));M=null}if(this.chart.axisX2)for(I=0;I<this.chart.axisX2.length;I++){for(E=this.chart.plotInfo.axisPlacement==="xySwapped"?this.chart.axisX2[I].convertPixelToValue({y:g}):this.chart.axisX2[I].convertPixelToValue({x:o}),M=null,c=0;c<this.chart.axisX2[I].dataSeries.length;c++)(M=this.chart.axisX2[I].dataSeries[c].getDataPointAtX(E,h))&&0<=M.index&&(M.dataSeries=this.chart.axisX2[I].dataSeries[c],M.dataPoint.y!==null&&M.dataSeries.visible&&N.push(M));M=null}if(N.length===0)return;for(N.sort(function(b,T){return b.dataSeries.axisX.logarithmic||T.dataSeries.axisX.logarithmic?b.distance-T.distance:b.distance/b.dataSeries.axisX.range-T.distance/T.dataSeries.axisX.range}),h=N[0],c=0;c<N.length;c++)N[c].dataPoint.x.valueOf()===h.dataPoint.x.valueOf()&&_.push(N[c]);N=null}else{if(c=this.chart.getDataPointAtXY(o,g,h))this.currentDataPointIndex=c.dataPointIndex,this.currentSeriesIndex=c.dataSeries.index;else if(ee)if(c=S(o,g,this.chart._eventManager.ghostCtx),0<c&&typeof this.chart._eventManager.objectMap[c]<"u"){if(c=this.chart._eventManager.objectMap[c],c.objectType==="legendItem")return;this.currentSeriesIndex=c.dataSeriesIndex,this.currentDataPointIndex=0<=c.dataPointIndex?c.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(p=this.chart.data[this.currentSeriesIndex],M={},0<=this.currentDataPointIndex)c=p.dataPoints[this.currentDataPointIndex],M.dataSeries=p,M.dataPoint=c,M.index=this.currentDataPointIndex,M.distance=Math.abs(c.x-E),p.type==="waterfall"&&(M.cumulativeSumYStartValue=p.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,M.cumulativeSum=p.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else if(this.enabled&&p&&(p.type==="line"||p.type==="stepLine"||p.type==="spline"||p.type==="area"||p.type==="stepArea"||p.type==="splineArea"||p.type==="stackedArea"||p.type==="stackedArea100"||p.type==="rangeArea"||p.type==="rangeSplineArea"||p.type==="candlestick"||p.type==="ohlc"||p.type==="boxAndWhisker"))E=p.axisX.convertPixelToValue({x:o}),M=p.getDataPointAtX(E,h),f(M)||(M.dataSeries=p,this.currentDataPointIndex=M.index,c=M.dataPoint);else{this.chart.clearedOverlayedCanvas==="toolTip"&&(this.chart.resetOverlayedCanvas(),this.chart.clearedOverlayedCanvas=null);return}if(!f(M)&&!f(M.dataPoint)&&!f(M.dataPoint.y))if(M.dataSeries.axisY)if(0<M.dataPoint.y.length){for(c=h=0;c<M.dataPoint.y.length;c++)M.dataPoint.y[c]<M.dataSeries.axisY.viewportMinimum?h--:M.dataPoint.y[c]>M.dataSeries.axisY.viewportMaximum&&h++;h<M.dataPoint.y.length&&h>-M.dataPoint.y.length&&_.push(M)}else p.type==="column"||p.type==="bar"?0>M.dataPoint.y?0>M.dataSeries.axisY.viewportMinimum&&M.dataSeries.axisY.viewportMaximum>=M.dataPoint.y&&_.push(M):M.dataSeries.axisY.viewportMinimum<=M.dataPoint.y&&0<=M.dataSeries.axisY.viewportMaximum&&_.push(M):p.type==="bubble"?(h=this.chart._eventManager.objectMap[p.dataPointIds[M.index]].size/2,M.dataPoint.y>=M.dataSeries.axisY.viewportMinimum-h&&M.dataPoint.y<=M.dataSeries.axisY.viewportMaximum+h&&_.push(M)):p.type==="waterfall"?(h=0,M.cumulativeSumYStartValue<M.dataSeries.axisY.viewportMinimum?h--:M.cumulativeSumYStartValue>M.dataSeries.axisY.viewportMaximum&&h++,M.cumulativeSum<M.dataSeries.axisY.viewportMinimum?h--:M.cumulativeSum>M.dataSeries.axisY.viewportMaximum&&h++,2>h&&-2<h&&_.push(M)):(0<=M.dataSeries.type.indexOf("100")||p.type==="stackedColumn"||p.type==="stackedBar"||M.dataPoint.y>=M.dataSeries.axisY.viewportMinimum&&M.dataPoint.y<=M.dataSeries.axisY.viewportMaximum)&&_.push(M);else _.push(M)}}if(0<_.length){if(this.highlightObjects(_),this.enabled){if(h="",h=this.getToolTipInnerHTML({entries:_}),h!==null){if(this.contentDiv.innerHTML=h,this.isToolTipDefinedInData&&f(this.options.content)&&f(this.options.contentFormatter))for(E=this.contentDiv.getElementsByTagName("span"),c=0;c<E.length;c++)E[c]&&(E[c].style.color=E[c].getAttribute("data-color"));E=!1,this.container.style.display==="none"&&(E=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:ee?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=_[0].dataSeries.type==="waterfall"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:_[0].dataPoint.color?_[0].dataPoint.color:0<_[0].dataPoint.y?_[0].dataSeries.risingColor:_[0].dataSeries.fallingColor:_[0].dataSeries.type==="error"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:_[0].dataSeries.color?_[0].dataSeries.color:_[0].dataSeries._colorSet[p.index%_[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:_[0].dataPoint.color?_[0].dataPoint.color:_[0].dataSeries.color?_[0].dataSeries.color:_[0].dataSeries._colorSet[_[0].index%_[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||this.borderThickness===0?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||this.cornerRadius===0?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||this.fontSize===0?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:ee?"italic":"normal"}catch{}_[0].dataSeries.type==="pie"||_[0].dataSeries.type==="doughnut"||_[0].dataSeries.type==="funnel"||_[0].dataSeries.type==="pyramid"||_[0].dataSeries.type==="bar"||_[0].dataSeries.type==="rangeBar"||_[0].dataSeries.type==="stackedBar"||_[0].dataSeries.type==="stackedBar100"?o=o-10-this.container.clientWidth:(o=_[0].dataSeries.axisX.convertValueToPixel(_[0].dataPoint.x)-this.container.clientWidth<<0,o-=10),0>o&&(o+=this.container.clientWidth+20),o+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(o=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),g=_.length!==1||this.shared||_[0].dataSeries.type!=="line"&&_[0].dataSeries.type!=="stepLine"&&_[0].dataSeries.type!=="spline"&&_[0].dataSeries.type!=="area"&&_[0].dataSeries.type!=="stepArea"&&_[0].dataSeries.type!=="splineArea"?_[0].dataSeries.type==="bar"||_[0].dataSeries.type==="rangeBar"||_[0].dataSeries.type==="stackedBar"||_[0].dataSeries.type==="stackedBar100"?_[0].dataSeries.axisX.convertValueToPixel(_[0].dataPoint.x):g:_[0].dataSeries.axisY.convertValueToPixel(_[0].dataPoint.y),g=-g+10,0<g+this.container.clientHeight+5&&(g-=g+this.container.clientHeight+5-0),this.fixMozTransitionDelay(o,g),!this.animationEnabled||E?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=o,this.positionBottom=g,this.container.style.left=o+"px",this.container.style.bottom=g+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(g=[],c=0;c<_.length;c++)g.push({xValue:_[c].dataPoint.x,dataPoint:_[c].dataPoint,dataSeries:_[c].dataSeries,dataPointIndex:_[c].index,dataSeriesIndex:_[c].dataSeries._index});this._updatedEventParameters={chart:this.chart,toolTip:this.options,content:h,entries:g},this._entries=_}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);this._dataSeriesIndex=this._xValue=null}},on.prototype.highlightObjects=function(o){var g=this.chart.overlaidCanvasCtx;f(this.chart.clearedOverlayedCanvas)||this.chart.clearedOverlayedCanvas==="toolTip"?(this.chart.resetOverlayedCanvas(),g.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"):this.chart.clearedOverlayedCanvas=null,g.save();var h=this.chart.plotArea,c=0;for(g.beginPath(),g.rect(h.x1,h.y1,h.x2-h.x1,h.y2-h.y1),g.clip(),h=0;h<o.length;h++){var p=o[h];if((p=this.chart._eventManager.objectMap[p.dataSeries.dataPointIds[p.index]])&&p.objectType&&p.objectType==="dataPoint"){var c=this.chart.data[p.dataSeriesIndex],_=c.dataPoints[p.dataPointIndex],E=p.dataPointIndex;_.highlightEnabled===!1||c.highlightEnabled!==!0&&_.highlightEnabled!==!0||(c.type==="line"||c.type==="stepLine"||c.type==="spline"||c.type==="scatter"||c.type==="area"||c.type==="stepArea"||c.type==="splineArea"||c.type==="stackedArea"||c.type==="stackedArea100"||c.type==="rangeArea"||c.type==="rangeSplineArea"?(_=c.getMarkerProperties(E,p.x1,p.y1,this.chart.overlaidCanvasCtx),_.size=Math.max(1.5*_.size<<0,10),_.borderColor=_.borderColor||"#FFFFFF",_.borderThickness=_.borderThickness||Math.ceil(.1*_.size),hn.drawMarkers([_]),typeof p.y2<"u"&&(_=c.getMarkerProperties(E,p.x1,p.y2,this.chart.overlaidCanvasCtx),_.size=Math.max(1.5*_.size<<0,10),_.borderColor=_.borderColor||"#FFFFFF",_.borderThickness=_.borderThickness||Math.ceil(.1*_.size),hn.drawMarkers([_]))):c.type==="bubble"?(_=c.getMarkerProperties(E,p.x1,p.y1,this.chart.overlaidCanvasCtx),_.size=p.size,_.color="white",_.borderColor="white",g.globalAlpha=.3,hn.drawMarkers([_]),g.globalAlpha=1):c.type==="column"||c.type==="stackedColumn"||c.type==="stackedColumn100"||c.type==="bar"||c.type==="rangeBar"||c.type==="stackedBar"||c.type==="stackedBar100"||c.type==="rangeColumn"||c.type==="waterfall"?Ct(g,p.x1,p.y1,p.x2,p.y2,"white",0,null,!1,!1,!1,!1,.3):c.type==="pie"||c.type==="doughnut"?Bn(g,p.center,p.radius,"white",c.type,p.startAngle,p.endAngle,.3,p.percentInnerRadius):c.type==="funnel"||c.type==="pyramid"?Kn(g,p.funnelSection,.3,"white"):c.type==="candlestick"?(g.globalAlpha=1,g.strokeStyle=p.color,g.lineWidth=2*p.borderThickness,c=g.lineWidth%2===0?0:.5,g.beginPath(),g.moveTo(p.x3-c,Math.min(p.y2,p.y3)),g.lineTo(p.x3-c,Math.min(p.y1,p.y4)),g.stroke(),g.beginPath(),g.moveTo(p.x3-c,Math.max(p.y1,p.y4)),g.lineTo(p.x3-c,Math.max(p.y2,p.y3)),g.stroke(),Ct(g,p.x1,Math.min(p.y1,p.y4),p.x2,Math.max(p.y1,p.y4),"transparent",2*p.borderThickness,p.color,!1,!1),g.globalAlpha=1):c.type==="ohlc"?(g.globalAlpha=1,g.strokeStyle=p.color,g.lineWidth=2*p.borderThickness,c=g.lineWidth%2===0?0:.5,g.beginPath(),g.moveTo(p.x3-c,p.y2),g.lineTo(p.x3-c,p.y3),g.stroke(),g.beginPath(),g.moveTo(p.x3,p.y1),g.lineTo(p.x1,p.y1),g.stroke(),g.beginPath(),g.moveTo(p.x3,p.y4),g.lineTo(p.x2,p.y4),g.stroke(),g.globalAlpha=1):c.type==="boxAndWhisker"?(g.save(),g.globalAlpha=1,g.strokeStyle=p.stemColor,g.lineWidth=2*p.stemThickness,0<p.stemThickness&&(g.beginPath(),g.moveTo(p.x3,p.y2+p.borderThickness/2),g.lineTo(p.x3,p.y1+p.whiskerThickness/2),g.stroke(),g.beginPath(),g.moveTo(p.x3,p.y4-p.whiskerThickness/2),g.lineTo(p.x3,p.y3-p.borderThickness/2),g.stroke()),g.beginPath(),Ct(g,p.x1,Math.max(p.y2,p.y3),p.x2,Math.min(p.y2,p.y3),"transparent",2*p.borderThickness,p.color,!1,!1),g.globalAlpha=1,g.strokeStyle=p.whiskerColor,g.lineWidth=2*p.whiskerThickness,0<p.whiskerThickness&&(g.beginPath(),g.moveTo(Math.floor(p.x3-p.whiskerLength/2),p.y4),g.lineTo(Math.ceil(p.x3+p.whiskerLength/2),p.y4),g.stroke(),g.beginPath(),g.moveTo(Math.floor(p.x3-p.whiskerLength/2),p.y1),g.lineTo(Math.ceil(p.x3+p.whiskerLength/2),p.y1),g.stroke()),g.globalAlpha=1,g.strokeStyle=p.lineColor,g.lineWidth=2*p.lineThickness,0<p.lineThickness&&(g.beginPath(),g.moveTo(p.x1,p.y5),g.lineTo(p.x2,p.y5),g.stroke()),g.restore(),g.globalAlpha=1):c.type==="error"&&he(g,p.x1,p.y1,p.x2,p.y2,"white",p.whiskerProperties,p.stemProperties,p.isXYSwapped,.3))}}g.restore(),g.globalAlpha=1,g.beginPath()},on.prototype.getToolTipInnerHTML=function(o){o=o.entries;var g=null,h=null,c=null,p=0,_="";this.isToolTipDefinedInData=!0;for(var E=0;E<o.length;E++)if(o[E].dataSeries.toolTipContent||o[E].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&typeof this.content=="function"||this.contentFormatter))o={chart:this.chart,toolTip:this.options,entries:o},g=this.contentFormatter?this.contentFormatter(o):this.content(o);else if(this.shared&&this.chart.plotInfo.axisPlacement!=="none"){for(var N=null,I="",E=0;E<o.length;E++){if(h=o[E].dataSeries,c=o[E].dataPoint,p=o[E].index,_="",E===0&&this.isToolTipDefinedInData&&!this.content){if(this.chart.axisX&&0<this.chart.axisX.length?I+=typeof this.chart.axisX[0].labels[c.x]<"u"?this.chart.axisX[0].labels[c.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(I+=typeof this.chart.axisX2[0].labels[c.x]<"u"?this.chart.axisX2[0].labels[c.x]:"{x}"),I+="</br>",!h.visible)continue;I=this.chart.replaceKeywordsWithValue(I,c,h,p)}c.toolTipContent===null||typeof c.toolTipContent>"u"&&h.options.toolTipContent===null||(h.type==="line"||h.type==="stepLine"||h.type==="spline"||h.type==="area"||h.type==="stepArea"||h.type==="splineArea"||h.type==="column"||h.type==="bar"||h.type==="scatter"||h.type==="stackedColumn"||h.type==="stackedColumn100"||h.type==="stackedBar"||h.type==="stackedBar100"||h.type==="stackedArea"||h.type==="stackedArea100"||h.type==="waterfall"?(this.chart.axisX&&1<this.chart.axisX.length&&(_+=N!=h.axisXIndex?h.axisX.title?h.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),_+=c.toolTipContent?c.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y}`,N=h.axisXIndex):h.type==="bubble"?(this.chart.axisX&&1<this.chart.axisX.length&&(_+=N!=h.axisXIndex?h.axisX.title?h.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),_+=c.toolTipContent?c.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}`):h.type==="rangeColumn"||h.type==="rangeBar"||h.type==="rangeArea"||h.type==="rangeSplineArea"||h.type==="error"?(this.chart.axisX&&1<this.chart.axisX.length&&(_+=N!=h.axisXIndex?h.axisX.title?h.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),_+=c.toolTipContent?c.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}`):h.type==="candlestick"||h.type==="ohlc"?(this.chart.axisX&&1<this.chart.axisX.length&&(_+=N!=h.axisXIndex?h.axisX.title?h.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),_+=c.toolTipContent?c.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}`):h.type==="boxAndWhisker"&&(this.chart.axisX&&1<this.chart.axisX.length&&(_+=N!=h.axisXIndex?h.axisX.title?h.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),_+=c.toolTipContent?c.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}`),g===null&&(g=""),h.visible&&(this.reversed===!0?(g=this.chart.replaceKeywordsWithValue(_,c,h,p)+g,E<o.length-1&&(g="</br>"+g)):(g+=this.chart.replaceKeywordsWithValue(_,c,h,p),E<o.length-1&&(g+="</br>"))))}g!==null&&(g=I+g)}else{if(h=o[0].dataSeries,c=o[0].dataPoint,p=o[0].index,c.toolTipContent===null||typeof c.toolTipContent>"u"&&h.options.toolTipContent===null)return null;h.type==="line"||h.type==="stepLine"||h.type==="spline"||h.type==="area"||h.type==="stepArea"||h.type==="splineArea"||h.type==="column"||h.type==="bar"||h.type==="scatter"||h.type==="stackedColumn"||h.type==="stackedColumn100"||h.type==="stackedBar"||h.type==="stackedBar100"||h.type==="stackedArea"||h.type==="stackedArea100"||h.type==="waterfall"?_=c.toolTipContent?c.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(c.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":h.type==="bubble"?_=c.toolTipContent?c.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(c.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":h.type==="pie"||h.type==="doughnut"||h.type==="funnel"||h.type==="pyramid"?_=c.toolTipContent?c.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(c.name?"{name}:</span>&nbsp;&nbsp;":c.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":h.type==="rangeColumn"||h.type==="rangeBar"||h.type==="rangeArea"||h.type==="rangeSplineArea"||h.type==="error"?_=c.toolTipContent?c.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(c.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":h.type==="candlestick"||h.type==="ohlc"?_=c.toolTipContent?c.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(c.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":h.type==="boxAndWhisker"&&(_=c.toolTipContent?c.toolTipContent:h.toolTipContent?h.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(c.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),g===null&&(g=""),g+=this.chart.replaceKeywordsWithValue(_,c,h,p)}return g},on.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var o=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=o,this.container.style.MsTransition=o,this.container.style.transition=o,this.container.style.MozTransition=this.mozContainerTransition}},on.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},on.prototype.hide=function(o){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._entries=this._dataSeriesIndex=this._xValue=null,this._prevY=this._prevX=NaN,this._updatedEventParameters=null,(typeof o>"u"||o)&&this.chart.resetOverlayedCanvas())},on.prototype.show=function(o,g,h){this._updateToolTip(o,g,typeof h>"u"?!1:h)},on.prototype.showAtIndex=function(o,g){},on.prototype.showAtX=function(o,g){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null,this._updateOptions();var h,c,p,_=[];if(p=!1,g=!f(g)&&0<=g&&g<this.chart.data.length?g:0,this.shared)for(var E=0;E<this.chart.data.length;E++)h=this.chart.data[E],(c=h.getDataPointAtX(o,!1))&&c.dataPoint&&!f(c.dataPoint.y)&&h.visible&&(c.dataSeries=h,this.chart.data[g].axisX.convertValueToPixel(o)===h.axisX.convertValueToPixel(c.dataPoint.x)&&_.push(c));else h=this.chart.data[g],(c=h.getDataPointAtX(o,!1))&&c.dataPoint&&!f(c.dataPoint.y)&&h.visible&&(c.dataSeries=h,_.push(c));if(0<_.length){for(E=0;E<_.length;E++)if(c=_[E],(this.shared||0<=c.dataSeries.type.indexOf("100"))&&c.dataPoint.x>=c.dataSeries.axisX.viewportMinimum&&c.dataPoint.x<=c.dataSeries.axisX.viewportMaximum){p=!1;break}else if(c.dataPoint.x<c.dataSeries.axisX.viewportMinimum||c.dataPoint.x>c.dataSeries.axisX.viewportMaximum||c.dataPoint.y<c.dataSeries.axisY.viewportMinimum||c.dataPoint.y>c.dataSeries.axisY.viewportMaximum)p=!0;else{p=!1;break}if(p)return this.hide(),!1;if(this.highlightObjects(_),this._entries=_,E="",E=this.getToolTipInnerHTML({entries:_}),E!==null){if(this.contentDiv.innerHTML=E,this.isToolTipDefinedInData&&f(this.options.content)&&f(this.options.contentFormatter))for(c=this.contentDiv.getElementsByTagName("span"),E=0;E<c.length;E++)c[E]&&(c[E].style.color=c[E].getAttribute("data-color"));E=!1,this.container.style.display==="none"&&(E=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:ee?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=_[0].dataSeries.type==="waterfall"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:_[0].dataPoint.color?_[0].dataPoint.color:0<_[0].dataPoint.y?_[0].dataSeries.risingColor:_[0].dataSeries.fallingColor:_[0].dataSeries.type==="error"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:_[0].dataSeries.color?_[0].dataSeries.color:_[0].dataSeries._colorSet[h.index%_[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:_[0].dataPoint.color?_[0].dataPoint.color:_[0].dataSeries.color?_[0].dataSeries.color:_[0].dataSeries._colorSet[_[0].index%_[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||this.borderThickness===0?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||this.cornerRadius===0?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||this.fontSize===0?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:ee?"italic":"normal"}catch{}_[0].dataSeries.type==="pie"||_[0].dataSeries.type==="doughnut"||_[0].dataSeries.type==="funnel"||_[0].dataSeries.type==="pyramid"?h=mouseX-10-this.container.clientWidth:(h=_[0].dataSeries.type==="bar"||_[0].dataSeries.type==="rangeBar"||_[0].dataSeries.type==="stackedBar"||_[0].dataSeries.type==="stackedBar100"?_[0].dataSeries.axisY.convertValueToPixel(_[0].dataPoint.y)-this.container.clientWidth<<0:_[0].dataSeries.axisX.convertValueToPixel(_[0].dataPoint.x)-this.container.clientWidth<<0,h-=10),0>h&&(h+=this.container.clientWidth+20),h+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(h=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),_=(_.length!==1||this.shared||_[0].dataSeries.type!=="line"&&_[0].dataSeries.type!=="stepLine"&&_[0].dataSeries.type!=="spline"&&_[0].dataSeries.type!=="area"&&_[0].dataSeries.type!=="stepArea"&&_[0].dataSeries.type!=="splineArea")&&(_[0].dataSeries.type==="bar"||_[0].dataSeries.type==="rangeBar"||_[0].dataSeries.type==="stackedBar"||_[0].dataSeries.type==="stackedBar100")?_[0].dataSeries.axisX.convertValueToPixel(_[0].dataPoint.x):_[0].dataSeries.axisY.convertValueToPixel(_[0].dataPoint.y),_=-_+10,0<_+this.container.clientHeight+5&&(_-=_+this.container.clientHeight+5-0),this.fixMozTransitionDelay(h,_),!this.animationEnabled||E?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=h+"px",this.container.style.bottom=_+"px"}else return this.hide(!1),!1}else return this.hide(),!1;return this._xValue=o,this._dataSeriesIndex=g,this._prevY=this._prevX=NaN,!0},on.prototype.fixMozTransitionDelay=function(o,g){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var h=parseFloat(this.container.style.left),h=isNaN(h)?0:h,c=parseFloat(this.container.style.bottom),c=isNaN(c)?0:c;10<Math.sqrt(Math.pow(h-o,2)+Math.pow(c-g,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},on.prototype.getContainerTransition=function(o){return"left "+o+"s ease-out 0s, bottom "+o+"s ease-out 0s"},yn.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],ee&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},yn.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},yn.prototype.mouseEventHandler=function(o){if(o.type==="mousemove"||o.type==="click"){var g=[],h=at(o),c=null;if((c=this.chart.getObjectAtXY(h.x,h.y,!1))&&typeof this.objectMap[c]<"u")if(c=this.objectMap[c],c.objectType==="dataPoint"){var p=this.chart.data[c.dataSeriesIndex],_=p.dataPoints[c.dataPointIndex],E=c.dataPointIndex;c.eventParameter={x:h.x,y:h.y,dataPoint:_,dataSeries:p.options,dataPointIndex:E,dataSeriesIndex:p.index,chart:this.chart},c.eventContext={context:_,userContext:_,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},g.push(c),c=this.objectMap[p.id],c.eventParameter={x:h.x,y:h.y,dataPoint:_,dataSeries:p.options,dataPointIndex:E,dataSeriesIndex:p.index,chart:this.chart},c.eventContext={context:p,userContext:p.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},g.push(this.objectMap[p.id])}else c.objectType==="legendItem"&&(p=this.chart.data[c.dataSeriesIndex],_=c.dataPointIndex!==null?p.dataPoints[c.dataPointIndex]:null,c.eventParameter={x:h.x,y:h.y,dataSeries:p.options,dataPoint:_,dataPointIndex:c.dataPointIndex,dataSeriesIndex:c.dataSeriesIndex,chart:this.chart},c.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},g.push(c));for(p=[],h=0;h<this.mouseoveredObjectMaps.length;h++){for(_=!0,c=0;c<g.length;c++)if(g[c].id===this.mouseoveredObjectMaps[h].id){_=!1;break}_?this.fireEvent(this.mouseoveredObjectMaps[h],"mouseout",o):p.push(this.mouseoveredObjectMaps[h])}for(this.mouseoveredObjectMaps=p,h=0;h<g.length;h++){for(p=!1,c=0;c<this.mouseoveredObjectMaps.length;c++)if(g[h].id===this.mouseoveredObjectMaps[c].id){p=!0;break}p||(this.fireEvent(g[h],"mouseover",o),this.mouseoveredObjectMaps.push(g[h])),o.type==="click"?this.fireEvent(g[h],"click",o):o.type==="mousemove"&&this.fireEvent(g[h],"mousemove",o)}}},yn.prototype.fireEvent=function(o,g,h){if(o&&g){var c=o.eventParameter,p=o.eventContext,_=o.eventContext.userContext;_&&p&&_[p[g]]&&_[p[g]].call(_,c),g!=="mouseout"?_.cursor&&_.cursor!==h.target.style.cursor&&(h.target.style.cursor=_.cursor):(h.target.style.cursor=this.chart.panEnabled?p.mouseout!=="itemmouseout"||_.dockInsidePlotArea?"move":this.chart._defaultCursor:this.chart._defaultCursor,delete o.eventParameter,delete o.eventContext),g==="click"&&o.objectType==="dataPoint"&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[o.dataSeriesIndex],c),g==="click"&&o.objectType==="dataPoint"&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[o.dataSeriesIndex],c)}},bn.prototype.animate=function(o,g,h,c,p){var _=this;for(this.chart.isAnimating=!0,p=p||xt.easing.linear,h&&this.animations.push({startTime:new Date().getTime()+(o||0),duration:g,animationCallback:h,onComplete:c}),o=[];0<this.animations.length;)g=this.animations.shift(),h=new Date().getTime(),c=0,g.startTime<=h&&(c=p(Math.min(h-g.startTime,g.duration),0,1,g.duration),c=Math.min(c,1),isNaN(c)||!isFinite(c))&&(c=1),1>c&&o.push(g),g.animationCallback(c),1<=c&&g.onComplete&&g.onComplete();this.animations=o,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){_.animate.call(_)}):this.chart.isAnimating=!1},bn.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var xt={yScaleAnimation:function(o,g){if(o!==0){var h=g.dest,c=g.source.canvas,p=g.animationBase;h.drawImage(c,0,0,c.width,c.height,0,p-p*o,h.canvas.width/nt,o*h.canvas.height/nt)}},xScaleAnimation:function(o,g){if(o!==0){var h=g.dest,c=g.source.canvas,p=g.animationBase;h.drawImage(c,0,0,c.width,c.height,p-p*o,0,o*h.canvas.width/nt,h.canvas.height/nt)}},xClipAnimation:function(o,g){if(o!==0){var h=g.dest,c=g.source.canvas;h.save(),0<o&&h.drawImage(c,0,0,c.width*o,c.height,0,0,c.width*o/nt,c.height/nt),h.restore()}},fadeInAnimation:function(o,g){if(o!==0){var h=g.dest,c=g.source.canvas;h.save(),h.globalAlpha=o,h.drawImage(c,0,0,c.width,c.height,0,0,h.canvas.width/nt,h.canvas.height/nt),h.restore()}},easing:{linear:function(o,g,h,c){return h*o/c+g},easeOutQuad:function(o,g,h,c){return-h*(o/=c)*(o-2)+g},easeOutQuart:function(o,g,h,c){return-h*((o=o/c-1)*o*o*o-1)+g},easeInQuad:function(o,g,h,c){return h*(o/=c)*o+g},easeInQuart:function(o,g,h,c){return h*(o/=c)*o*o*o+g}}},hn={drawMarker:function(o,g,h,c,p,_,E,N){if(h){var I=1;h.fillStyle=_||"#000000",h.strokeStyle=E||"#000000",h.lineWidth=N||0,h.setLineDash&&h.setLineDash(C("solid",N)),c==="circle"?(h.moveTo(o,g),h.beginPath(),h.arc(o,g,p/2,0,2*Math.PI,!1),_&&h.fill(),N&&(E?h.stroke():(I=h.globalAlpha,h.globalAlpha=.15,h.strokeStyle="black",h.stroke(),h.globalAlpha=I))):c==="square"?(h.beginPath(),h.rect(o-p/2,g-p/2,p,p),_&&h.fill(),N&&(E?h.stroke():(I=h.globalAlpha,h.globalAlpha=.15,h.strokeStyle="black",h.stroke(),h.globalAlpha=I))):c==="triangle"?(h.beginPath(),h.moveTo(o-p/2,g+p/2),h.lineTo(o+p/2,g+p/2),h.lineTo(o,g-p/2),h.closePath(),_&&h.fill(),N&&(E?h.stroke():(I=h.globalAlpha,h.globalAlpha=.15,h.strokeStyle="black",h.stroke(),h.globalAlpha=I)),h.beginPath()):c==="cross"&&(h.strokeStyle=_,h.lineWidth=p/4,h.beginPath(),h.moveTo(o-p/2,g-p/2),h.lineTo(o+p/2,g+p/2),h.stroke(),h.moveTo(o+p/2,g-p/2),h.lineTo(o-p/2,g+p/2),h.stroke())}},drawMarkers:function(o){for(var g=0;g<o.length;g++){var h=o[g];hn.drawMarker(h.x,h.y,h.ctx,h.type,h.size,h.color,h.borderColor,h.borderThickness)}}};return V}(),K.version="v3.8.12 GA",window.CanvasJS&&K&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=K)})(),document.createElement("canvas").getContext||function(){function e(){return this.context_||(this.context_=new C(this))}function n(K,oe,be){var ue=we.call(arguments,2);return function(){return K.apply(oe,ue.concat(we.call(arguments)))}}function i(K){return String(K).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function r(K){K.namespaces.g_vml_||K.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),K.namespaces.g_o_||K.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),K.styleSheets.ex_canvas_||(K=K.createStyleSheet(),K.owningElement.id="ex_canvas_",K.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function s(K){var oe=K.srcElement;switch(K.propertyName){case"width":oe.getContext().clearRect(),oe.style.width=oe.attributes.width.nodeValue+"px",oe.firstChild.style.width=oe.clientWidth+"px";break;case"height":oe.getContext().clearRect(),oe.style.height=oe.attributes.height.nodeValue+"px",oe.firstChild.style.height=oe.clientHeight+"px"}}function a(K){K=K.srcElement,K.firstChild&&(K.firstChild.style.width=K.clientWidth+"px",K.firstChild.style.height=K.clientHeight+"px")}function l(){return[[1,0,0],[0,1,0],[0,0,1]]}function u(K,oe){for(var be=l(),ue=0;3>ue;ue++)for(var Pe=0;3>Pe;Pe++){for(var Ee=0,ze=0;3>ze;ze++)Ee+=K[ue][ze]*oe[ze][Pe];be[ue][Pe]=Ee}return be}function d(K,oe){oe.fillStyle=K.fillStyle,oe.lineCap=K.lineCap,oe.lineJoin=K.lineJoin,oe.lineWidth=K.lineWidth,oe.miterLimit=K.miterLimit,oe.shadowBlur=K.shadowBlur,oe.shadowColor=K.shadowColor,oe.shadowOffsetX=K.shadowOffsetX,oe.shadowOffsetY=K.shadowOffsetY,oe.strokeStyle=K.strokeStyle,oe.globalAlpha=K.globalAlpha,oe.font=K.font,oe.textAlign=K.textAlign,oe.textBaseline=K.textBaseline,oe.arcScaleX_=K.arcScaleX_,oe.arcScaleY_=K.arcScaleY_,oe.lineScale_=K.lineScale_}function f(K){var be=K.indexOf("(",3),oe=K.indexOf(")",be+1),be=K.substring(be+1,oe).split(",");return(be.length!=4||K.charAt(3)!="a")&&(be[3]=1),be}function x(K,oe,be){return Math.min(be,Math.max(oe,K))}function v(K,oe,be){return 0>be&&be++,1<be&&be--,1>6*be?K+6*(oe-K)*be:1>2*be?oe:2>3*be?K+6*(oe-K)*(2/3-be):K}function y(K){if(K in Te)return Te[K];var oe,be=1;if(K=String(K),K.charAt(0)=="#")oe=K;else if(/^rgb/.test(K)){be=f(K),oe="#";for(var ue,Pe=0;3>Pe;Pe++)ue=be[Pe].indexOf("%")!=-1?Math.floor(255*(parseFloat(be[Pe])/100)):+be[Pe],oe+=ge[x(ue,0,255)];be=+be[3]}else if(/^hsl/.test(K)){if(Pe=be=f(K),oe=parseFloat(Pe[0])/360%360,0>oe&&oe++,ue=x(parseFloat(Pe[1])/100,0,1),Pe=x(parseFloat(Pe[2])/100,0,1),ue==0)ue=Pe=oe=Pe;else{var Ee=.5>Pe?Pe*(1+ue):Pe+ue-Pe*ue,ze=2*Pe-Ee;ue=v(ze,Ee,oe+1/3),Pe=v(ze,Ee,oe),oe=v(ze,Ee,oe-1/3)}oe="#"+ge[Math.floor(255*ue)]+ge[Math.floor(255*Pe)]+ge[Math.floor(255*oe)],be=be[3]}else oe=_e[K]||K;return Te[K]={color:oe,alpha:be}}function C(K){this.m_=l(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*le,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=K;var oe="width:"+K.clientWidth+"px;height:"+K.clientHeight+"px;overflow:hidden;position:absolute",be=K.ownerDocument.createElement("div");be.style.cssText=oe,K.appendChild(be),oe=be.cloneNode(!1),oe.style.backgroundColor="red",oe.style.filter="alpha(opacity=0)",K.appendChild(oe),this.element_=be,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function k(K,oe,be,ue){K.currentPath_.push({type:"bezierCurveTo",cp1x:oe.x,cp1y:oe.y,cp2x:be.x,cp2y:be.y,x:ue.x,y:ue.y}),K.currentX_=ue.x,K.currentY_=ue.y}function P(K,oe){var ue=y(K.strokeStyle),be=ue.color,ue=ue.alpha*K.globalAlpha,Pe=K.lineScale_*K.lineWidth;1>Pe&&(ue*=Pe),oe.push("<g_vml_:stroke",' opacity="',ue,'"',' joinstyle="',K.lineJoin,'"',' miterlimit="',K.miterLimit,'"',' endcap="',He[K.lineCap]||"square",'"',' weight="',Pe,'px"',' color="',be,'" />')}function S(K,oe,be,ue){var Pe=K.fillStyle,Ee=K.arcScaleX_,ze=K.arcScaleY_,Ze=ue.x-be.x,ne=ue.y-be.y;if(Pe instanceof D){var Oe=0,Ne=ue=0,De=0,Ve=1;if(Pe.type_=="gradient"){Oe=Pe.x1_/Ee,be=Pe.y1_/ze;var $e=R(K,Pe.x0_/Ee,Pe.y0_/ze),Oe=R(K,Oe,be),Oe=180*Math.atan2(Oe.x-$e.x,Oe.y-$e.y)/Math.PI;0>Oe&&(Oe+=360),1e-6>Oe&&(Oe=0)}else $e=R(K,Pe.x0_,Pe.y0_),ue=($e.x-be.x)/Ze,Ne=($e.y-be.y)/ne,Ze/=Ee*le,ne/=ze*le,Ve=j.max(Ze,ne),De=2*Pe.r0_/Ve,Ve=2*Pe.r1_/Ve-De;Ee=Pe.colors_,Ee.sort(function(fe,te){return fe.offset-te.offset}),ze=Ee.length,$e=Ee[0].color,be=Ee[ze-1].color,Ze=Ee[0].alpha*K.globalAlpha,K=Ee[ze-1].alpha*K.globalAlpha;for(var ne=[],rt=0;rt<ze;rt++){var ht=Ee[rt];ne.push(ht.offset*Ve+De+" "+ht.color)}oe.push('<g_vml_:fill type="',Pe.type_,'"',' method="none" focus="100%"',' color="',$e,'"',' color2="',be,'"',' colors="',ne.join(","),'"',' opacity="',K,'"',' g_o_:opacity2="',Ze,'"',' angle="',Oe,'"',' focusposition="',ue,",",Ne,'" />')}else Pe instanceof W?Ze&&ne&&oe.push("<g_vml_:fill",' position="',-be.x/Ze*Ee*Ee,",",-be.y/ne*ze*ze,'"',' type="tile"',' src="',Pe.src_,'" />'):(Pe=y(K.fillStyle),oe.push('<g_vml_:fill color="',Pe.color,'" opacity="',Pe.alpha*K.globalAlpha,'" />'))}function R(K,oe,be){return K=K.m_,{x:le*(oe*K[0][0]+be*K[1][0]+K[2][0])-me,y:le*(oe*K[0][1]+be*K[1][1]+K[2][1])-me}}function L(K,oe,be){isFinite(oe[0][0])&&isFinite(oe[0][1])&&isFinite(oe[1][0])&&isFinite(oe[1][1])&&isFinite(oe[2][0])&&isFinite(oe[2][1])&&(K.m_=oe,be&&(K.lineScale_=ce(q(oe[0][0]*oe[1][1]-oe[0][1]*oe[1][0]))))}function D(K){this.type_=K,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function W(K,oe){if(!K||K.nodeType!=1||K.tagName!="IMG")throw new z("TYPE_MISMATCH_ERR");if(K.readyState!="complete")throw new z("INVALID_STATE_ERR");switch(oe){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=oe;break;default:throw new z("SYNTAX_ERR")}this.src_=K.src,this.width_=K.width,this.height_=K.height}function z(K){this.code=this[K],this.message=K+": DOM Exception "+this.code}var j=Math,Z=j.round,$=j.sin,H=j.cos,q=j.abs,ce=j.sqrt,le=10,me=le/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var we=Array.prototype.slice;r(document);var Se={init:function(K){K=K||document,K.createElement("canvas"),K.attachEvent("onreadystatechange",n(this.init_,this,K))},init_:function(K){K=K.getElementsByTagName("canvas");for(var oe=0;oe<K.length;oe++)this.initElement(K[oe])},initElement:function(K){if(!K.getContext){K.getContext=e,r(K.ownerDocument),K.innerHTML="",K.attachEvent("onpropertychange",s),K.attachEvent("onresize",a);var oe=K.attributes;oe.width&&oe.width.specified?K.style.width=oe.width.nodeValue+"px":K.width=K.clientWidth,oe.height&&oe.height.specified?K.style.height=oe.height.nodeValue+"px":K.height=K.clientHeight}return K}};Se.init();for(var ge=[],Ue=0;16>Ue;Ue++)for(var ie=0;16>ie;ie++)ge[16*Ue+ie]=Ue.toString(16)+ie.toString(16);var _e={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},Te={},ee={},He={butt:"flat",round:"round"},Ue=C.prototype;Ue.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},Ue.beginPath=function(){this.currentPath_=[]},Ue.moveTo=function(K,oe){var be=R(this,K,oe);this.currentPath_.push({type:"moveTo",x:be.x,y:be.y}),this.currentX_=be.x,this.currentY_=be.y},Ue.lineTo=function(K,oe){var be=R(this,K,oe);this.currentPath_.push({type:"lineTo",x:be.x,y:be.y}),this.currentX_=be.x,this.currentY_=be.y},Ue.bezierCurveTo=function(K,oe,be,ue,Pe,Ee){Pe=R(this,Pe,Ee),K=R(this,K,oe),be=R(this,be,ue),k(this,K,be,Pe)},Ue.quadraticCurveTo=function(K,oe,be,ue){K=R(this,K,oe),be=R(this,be,ue),ue={x:this.currentX_+2/3*(K.x-this.currentX_),y:this.currentY_+2/3*(K.y-this.currentY_)},k(this,ue,{x:ue.x+(be.x-this.currentX_)/3,y:ue.y+(be.y-this.currentY_)/3},be)},Ue.arc=function(K,oe,be,ue,Pe,Ee){be*=le;var ze=Ee?"at":"wa",Ze=K+H(ue)*be-me,ne=oe+$(ue)*be-me;ue=K+H(Pe)*be-me,Pe=oe+$(Pe)*be-me,Ze!=ue||Ee||(Ze+=.125),K=R(this,K,oe),Ze=R(this,Ze,ne),ue=R(this,ue,Pe),this.currentPath_.push({type:ze,x:K.x,y:K.y,radius:be,xStart:Ze.x,yStart:Ze.y,xEnd:ue.x,yEnd:ue.y})},Ue.rect=function(K,oe,be,ue){this.moveTo(K,oe),this.lineTo(K+be,oe),this.lineTo(K+be,oe+ue),this.lineTo(K,oe+ue),this.closePath()},Ue.strokeRect=function(K,oe,be,ue){var Pe=this.currentPath_;this.beginPath(),this.moveTo(K,oe),this.lineTo(K+be,oe),this.lineTo(K+be,oe+ue),this.lineTo(K,oe+ue),this.closePath(),this.stroke(),this.currentPath_=Pe},Ue.fillRect=function(K,oe,be,ue){var Pe=this.currentPath_;this.beginPath(),this.moveTo(K,oe),this.lineTo(K+be,oe),this.lineTo(K+be,oe+ue),this.lineTo(K,oe+ue),this.closePath(),this.fill(),this.currentPath_=Pe},Ue.createLinearGradient=function(K,oe,be,ue){var Pe=new D("gradient");return Pe.x0_=K,Pe.y0_=oe,Pe.x1_=be,Pe.y1_=ue,Pe},Ue.createRadialGradient=function(K,oe,be,ue,Pe,Ee){var ze=new D("gradientradial");return ze.x0_=K,ze.y0_=oe,ze.r0_=be,ze.x1_=ue,ze.y1_=Pe,ze.r1_=Ee,ze},Ue.drawImage=function(K,oe){var be,ue,Pe,Ee,ze,Ze,ne,Oe;Pe=K.runtimeStyle.width,Ee=K.runtimeStyle.height,K.runtimeStyle.width="auto",K.runtimeStyle.height="auto";var Ne=K.width,De=K.height;if(K.runtimeStyle.width=Pe,K.runtimeStyle.height=Ee,arguments.length==3)be=arguments[1],ue=arguments[2],ze=Ze=0,ne=Pe=Ne,Oe=Ee=De;else if(arguments.length==5)be=arguments[1],ue=arguments[2],Pe=arguments[3],Ee=arguments[4],ze=Ze=0,ne=Ne,Oe=De;else if(arguments.length==9)ze=arguments[1],Ze=arguments[2],ne=arguments[3],Oe=arguments[4],be=arguments[5],ue=arguments[6],Pe=arguments[7],Ee=arguments[8];else throw Error("Invalid number of arguments");var Ve=R(this,be,ue),$e=[];if($e.push(" <g_vml_:group",' coordsize="',10*le,",",10*le,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var rt=[];rt.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",Z(Ve.x/le),",","Dy=",Z(Ve.y/le),"");var ht=R(this,be+Pe,ue),fe=R(this,be,ue+Ee);be=R(this,be+Pe,ue+Ee),Ve.x=j.max(Ve.x,ht.x,fe.x,be.x),Ve.y=j.max(Ve.y,ht.y,fe.y,be.y),$e.push("padding:0 ",Z(Ve.x/le),"px ",Z(Ve.y/le),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",rt.join(""),", sizingmethod='clip');")}else $e.push("top:",Z(Ve.y/le),"px;left:",Z(Ve.x/le),"px;");$e.push(' ">','<g_vml_:image src="',K.src,'"',' style="width:',le*Pe,"px;"," height:",le*Ee,'px"',' cropleft="',ze/Ne,'"',' croptop="',Ze/De,'"',' cropright="',(Ne-ze-ne)/Ne,'"',' cropbottom="',(De-Ze-Oe)/De,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",$e.join(""))},Ue.stroke=function(K){var oe=[];oe.push("<g_vml_:shape",' filled="',!!K,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*le,",",10*le,'"',' stroked="',!K,'"',' path="');for(var be={x:null,y:null},ue={x:null,y:null},Pe=0;Pe<this.currentPath_.length;Pe++){var Ee=this.currentPath_[Pe];switch(Ee.type){case"moveTo":oe.push(" m ",Z(Ee.x),",",Z(Ee.y));break;case"lineTo":oe.push(" l ",Z(Ee.x),",",Z(Ee.y));break;case"close":oe.push(" x "),Ee=null;break;case"bezierCurveTo":oe.push(" c ",Z(Ee.cp1x),",",Z(Ee.cp1y),",",Z(Ee.cp2x),",",Z(Ee.cp2y),",",Z(Ee.x),",",Z(Ee.y));break;case"at":case"wa":oe.push(" ",Ee.type," ",Z(Ee.x-this.arcScaleX_*Ee.radius),",",Z(Ee.y-this.arcScaleY_*Ee.radius)," ",Z(Ee.x+this.arcScaleX_*Ee.radius),",",Z(Ee.y+this.arcScaleY_*Ee.radius)," ",Z(Ee.xStart),",",Z(Ee.yStart)," ",Z(Ee.xEnd),",",Z(Ee.yEnd))}Ee&&((be.x==null||Ee.x<be.x)&&(be.x=Ee.x),(ue.x==null||Ee.x>ue.x)&&(ue.x=Ee.x),(be.y==null||Ee.y<be.y)&&(be.y=Ee.y),(ue.y==null||Ee.y>ue.y)&&(ue.y=Ee.y))}oe.push(' ">'),K?S(this,oe,be,ue):P(this,oe),oe.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",oe.join(""))},Ue.fill=function(){this.stroke(!0)},Ue.closePath=function(){this.currentPath_.push({type:"close"})},Ue.save=function(){var K={};d(this,K),this.aStack_.push(K),this.mStack_.push(this.m_),this.m_=u(l(),this.m_)},Ue.restore=function(){this.aStack_.length&&(d(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},Ue.translate=function(K,oe){L(this,u([[1,0,0],[0,1,0],[K,oe,1]],this.m_),!1)},Ue.rotate=function(K){var oe=H(K);K=$(K),L(this,u([[oe,K,0],[-K,oe,0],[0,0,1]],this.m_),!1)},Ue.scale=function(K,oe){this.arcScaleX_*=K,this.arcScaleY_*=oe,L(this,u([[K,0,0],[0,oe,0],[0,0,1]],this.m_),!0)},Ue.transform=function(K,oe,be,ue,Pe,Ee){L(this,u([[K,oe,0],[be,ue,0],[Pe,Ee,1]],this.m_),!0)},Ue.setTransform=function(K,oe,be,ue,Pe,Ee){L(this,[[K,oe,0],[be,ue,0],[Pe,Ee,1]],!0)},Ue.drawText_=function(K,oe,be,ue,Pe){var Ee=this.m_;ue=0;var ze=1e3,Ze=0,ne=[],Oe;if(Oe=this.font,ee[Oe])Oe=ee[Oe];else{var Ne=document.createElement("div").style;try{Ne.font=Oe}catch{}Oe=ee[Oe]={style:Ne.fontStyle||"normal",variant:Ne.fontVariant||"normal",weight:Ne.fontWeight||"normal",size:Ne.fontSize||10,family:Ne.fontFamily||"sans-serif"}}var Ne=Oe,De=this.element_;Oe={};for(var Ve in Ne)Oe[Ve]=Ne[Ve];switch(Ve=parseFloat(De.currentStyle.fontSize),De=parseFloat(Ne.size),typeof Ne.size=="number"?Oe.size=Ne.size:Ne.size.indexOf("px")!=-1?Oe.size=De:Ne.size.indexOf("em")!=-1?Oe.size=Ve*De:Ne.size.indexOf("%")!=-1?Oe.size=Ve/100*De:Ne.size.indexOf("pt")!=-1?Oe.size=De/.75:Oe.size=Ve,Oe.size*=.981,Ve=Oe.style+" "+Oe.variant+" "+Oe.weight+" "+Oe.size+"px "+Oe.family,De=this.element_.currentStyle,Ne=this.textAlign.toLowerCase(),Ne){case"left":case"center":case"right":break;case"end":Ne=De.direction=="ltr"?"right":"left";break;case"start":Ne=De.direction=="rtl"?"right":"left";break;default:Ne="left"}switch(this.textBaseline){case"hanging":case"top":Ze=Oe.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":Ze=-Oe.size/2.25}switch(Ne){case"right":ue=1e3,ze=.05;break;case"center":ue=ze=500}oe=R(this,oe+0,be+Ze),ne.push('<g_vml_:line from="',-ue,' 0" to="',ze,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!Pe,'" stroked="',!!Pe,'" style="position:absolute;width:1px;height:1px;">'),Pe?P(this,ne):S(this,ne,{x:-ue,y:0},{x:ze,y:Oe.size}),Pe=Ee[0][0].toFixed(3)+","+Ee[1][0].toFixed(3)+","+Ee[0][1].toFixed(3)+","+Ee[1][1].toFixed(3)+",0,0",oe=Z(oe.x/le)+","+Z(oe.y/le),ne.push('<g_vml_:skew on="t" matrix="',Pe,'" ',' offset="',oe,'" origin="',ue,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',i(K),'" style="v-text-align:',Ne,";font:",i(Ve),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",ne.join(""))},Ue.fillText=function(K,oe,be,ue){this.drawText_(K,oe,be,ue,!1)},Ue.strokeText=function(K,oe,be,ue){this.drawText_(K,oe,be,ue,!0)},Ue.measureText=function(K){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var oe=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(oe.createTextNode(K)),{width:this.textMeasureEl_.offsetWidth}},Ue.clip=function(){},Ue.arcTo=function(){},Ue.createPattern=function(K,oe){return new W(K,oe)},D.prototype.addColorStop=function(K,oe){oe=y(oe),this.colors_.push({offset:K,color:oe.color,alpha:oe.alpha})},Ue=z.prototype=Error(),Ue.INDEX_SIZE_ERR=1,Ue.DOMSTRING_SIZE_ERR=2,Ue.HIERARCHY_REQUEST_ERR=3,Ue.WRONG_DOCUMENT_ERR=4,Ue.INVALID_CHARACTER_ERR=5,Ue.NO_DATA_ALLOWED_ERR=6,Ue.NO_MODIFICATION_ALLOWED_ERR=7,Ue.NOT_FOUND_ERR=8,Ue.NOT_SUPPORTED_ERR=9,Ue.INUSE_ATTRIBUTE_ERR=10,Ue.INVALID_STATE_ERR=11,Ue.SYNTAX_ERR=12,Ue.INVALID_MODIFICATION_ERR=13,Ue.NAMESPACE_ERR=14,Ue.INVALID_ACCESS_ERR=15,Ue.VALIDATION_ERR=16,Ue.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=Se,CanvasRenderingContext2D=C,CanvasGradient=D,CanvasPattern=W,DOMException=z}()})(SL);var sG=SL.exports,nv=F,Vh=sG;Vh=Vh.Chart?Vh:window.CanvasJS;class aG extends nv.Component{constructor(e){super(e),this.options=e.options?e.options:{},this.containerProps=e.containerProps?{...e.containerProps}:{width:"100%",position:"relative"},this.containerProps.height=e.containerProps&&e.containerProps.height?e.containerProps.height:this.options.height?this.options.height+"px":"400px",this.containerRef=nv.createRef()}componentDidMount(){this.chart=new Vh.Chart(this.containerRef.current,this.options),this.chart.render(),this.props.onRef&&this.props.onRef(this.chart)}shouldComponentUpdate(e,n){return e.options!==this.options}componentDidUpdate(){this.chart.options=this.props.options,this.chart.render()}componentWillUnmount(){this.chart&&this.chart.destroy(),this.props.onRef&&this.props.onRef(void 0)}render(){return nv.createElement("div",{id:this.props.id,ref:this.containerRef,style:this.containerProps})}}var oG={CanvasJSChart:aG,CanvasJS:Vh};const lG={data:null,status:"idle",error:null},ML=tr({name:"errorGraph",initialState:lG,reducers:{setErrorGraphRequestParams:(t,e)=>{t.data=e.payload,t.status="success",t.error=null},setLoading:t=>{t.status="loading"},setError:(t,e)=>{t.status="failed",t.error=e.payload}}}),cG=ML.reducer,{setErrorGraphRequestParams:uG,setLoading:Mae,setError:Cae}=ML.actions,hG=t=>t.errorGraph.data,dG=t=>It.now().setZone(t).toFormat("yyyy-MM-dd"),fG=Il.injectEndpoints({endpoints:t=>({getErrorById:t.query({query:e=>({url:`/error/${e}`,method:"GET"}),providesTags:["ErrorDetail"]}),getErrorAggregatesByNamespaceId:t.query({query:({namespaceId:e,startTime:n,timeIntervalMinutes:i,timezone:r})=>({url:`/error/aggregate/namespace/${e}`,method:"GET",params:{startTime:n,timeIntervalMinutes:i,timezone:r}})}),getErrorMetaGroupedByParams:t.query({query:({namespaceId:e,groupBy:n,groupKey:i,offset:r,limit:s})=>({url:`/error/aggregate/details/namespace/${e}`,method:"GET",params:{groupBy:n,groupKey:i,offset:r,limit:s}})})})}),{useGetErrorByIdQuery:pG,useGetErrorAggregatesByNamespaceIdQuery:mG,useGetErrorMetaGroupedByParamsQuery:gG}=fG;function vn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Tr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function ji(t,e){const n=vn(t);return isNaN(e)?Tr(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ys(t,e){const n=vn(t);if(isNaN(e))return Tr(t,NaN);if(!e)return n;const i=n.getDate(),r=Tr(t,n.getTime());r.setMonth(n.getMonth()+e+1,0);const s=r.getDate();return i>=s?r:(n.setFullYear(r.getFullYear(),r.getMonth(),i),n)}const ww=6048e5,xG=864e5;let vG={};function mf(){return vG}function js(t,e){var l,u,d,f;const n=mf(),i=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,r=vn(t),s=r.getDay(),a=(s<i?7:0)+s-i;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function Dl(t){return js(t,{weekStartsOn:1})}function CL(t){const e=vn(t),n=e.getFullYear(),i=Tr(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const r=Dl(i),s=Tr(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=Dl(s);return e.getTime()>=r.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function xu(t){const e=vn(t);return e.setHours(0,0,0,0),e}function fg(t){const e=vn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Is(t,e){const n=xu(t),i=xu(e),r=+n-fg(n),s=+i-fg(i);return Math.round((r-s)/xG)}function yG(t){const e=CL(t),n=Tr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Dl(n)}function M1(t,e){const n=e*7;return ji(t,n)}function _G(t,e){return ys(t,e*12)}function bG(t){let e;return t.forEach(function(n){const i=vn(n);(e===void 0||e<i||isNaN(Number(i)))&&(e=i)}),e||new Date(NaN)}function wG(t){let e;return t.forEach(n=>{const i=vn(n);(!e||e>i||isNaN(+i))&&(e=i)}),e||new Date(NaN)}function ar(t,e){const n=xu(t),i=xu(e);return+n==+i}function Sw(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function SG(t){if(!Sw(t)&&typeof t!="number")return!1;const e=vn(t);return!isNaN(Number(e))}function Dd(t,e){const n=vn(t),i=vn(e),r=n.getFullYear()-i.getFullYear(),s=n.getMonth()-i.getMonth();return r*12+s}function MG(t,e,n){const i=js(t,n),r=js(e,n),s=+i-fg(i),a=+r-fg(r);return Math.round((s-a)/ww)}function Mw(t){const e=vn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function ur(t){const e=vn(t);return e.setDate(1),e.setHours(0,0,0,0),e}function TL(t){const e=vn(t),n=Tr(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Cw(t,e){var l,u,d,f;const n=mf(),i=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,r=vn(t),s=r.getDay(),a=(s<i?-7:0)+6-(s-i);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}function PL(t){return Cw(t,{weekStartsOn:1})}const CG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TG=(t,e,n)=>{let i;const r=CG[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function iv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const PG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kG={date:iv({formats:PG,defaultWidth:"full"}),time:iv({formats:EG,defaultWidth:"full"}),dateTime:iv({formats:AG,defaultWidth:"full"})},RG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IG=(t,e,n,i)=>RG[t];function rh(t){return(e,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let r;if(i==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;r=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}const LG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},DG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},NG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VG=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},UG={ordinalNumber:VG,era:rh({values:LG,defaultWidth:"wide"}),quarter:rh({values:DG,defaultWidth:"wide",argumentCallback:t=>t-1}),month:rh({values:NG,defaultWidth:"wide"}),day:rh({values:FG,defaultWidth:"wide"}),dayPeriod:rh({values:OG,defaultWidth:"wide",formattingValues:BG,defaultFormattingWidth:"wide"})};function sh(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;const a=s[0],l=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?WG(l,x=>x.test(a)):zG(l,x=>x.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(a.length);return{value:d,rest:f}}}function zG(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function WG(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function jG(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(r.length);return{value:a,rest:l}}}const HG=/^(\d+)(th|st|nd|rd)?/i,XG=/\d+/i,GG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YG={any:[/^b/i,/^(a|c)/i]},$G={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ZG={any:[/1/i,/2/i,/3/i,/4/i]},KG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},QG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},JG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nY={ordinalNumber:jG({matchPattern:HG,parsePattern:XG,valueCallback:t=>parseInt(t,10)}),era:sh({matchPatterns:GG,defaultMatchWidth:"wide",parsePatterns:YG,defaultParseWidth:"any"}),quarter:sh({matchPatterns:$G,defaultMatchWidth:"wide",parsePatterns:ZG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:sh({matchPatterns:KG,defaultMatchWidth:"wide",parsePatterns:QG,defaultParseWidth:"any"}),day:sh({matchPatterns:qG,defaultMatchWidth:"wide",parsePatterns:JG,defaultParseWidth:"any"}),dayPeriod:sh({matchPatterns:eY,defaultMatchWidth:"any",parsePatterns:tY,defaultParseWidth:"any"})},EL={code:"en-US",formatDistance:TG,formatLong:kG,formatRelative:IG,localize:UG,match:nY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iY(t){const e=vn(t);return Is(e,TL(e))+1}function AL(t){const e=vn(t),n=+Dl(e)-+yG(e);return Math.round(n/ww)+1}function kL(t,e){var f,x,v,y;const n=vn(t),i=n.getFullYear(),r=mf(),s=(e==null?void 0:e.firstWeekContainsDate)??((x=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:x.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,a=Tr(t,0);a.setFullYear(i+1,0,s),a.setHours(0,0,0,0);const l=js(a,e),u=Tr(t,0);u.setFullYear(i,0,s),u.setHours(0,0,0,0);const d=js(u,e);return n.getTime()>=l.getTime()?i+1:n.getTime()>=d.getTime()?i:i-1}function rY(t,e){var l,u,d,f;const n=mf(),i=(e==null?void 0:e.firstWeekContainsDate)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,r=kL(t,e),s=Tr(t,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),js(s,e)}function RL(t,e){const n=vn(t),i=+js(n,e)-+rY(n,e);return Math.round(i/ww)+1}function Tn(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Oa={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Tn(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Tn(n+1,2)},d(t,e){return Tn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Tn(t.getHours()%12||12,e.length)},H(t,e){return Tn(t.getHours(),e.length)},m(t,e){return Tn(t.getMinutes(),e.length)},s(t,e){return Tn(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return Tn(r,e.length)}},tc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},TT={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Oa.y(t,e)},Y:function(t,e,n,i){const r=kL(t,i),s=r>0?r:1-r;if(e==="YY"){const a=s%100;return Tn(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Tn(s,e.length)},R:function(t,e){const n=CL(t);return Tn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Tn(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Tn(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Tn(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Oa.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Tn(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=RL(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):Tn(r,e.length)},I:function(t,e,n){const i=AL(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Tn(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Oa.d(t,e)},D:function(t,e,n){const i=iY(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Tn(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Tn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Tn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return Tn(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(i===12?r=tc.noon:i===0?r=tc.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(i>=17?r=tc.evening:i>=12?r=tc.afternoon:i>=4?r=tc.morning:r=tc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Oa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Oa.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Tn(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Tn(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Oa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Oa.s(t,e)},S:function(t,e){return Oa.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return ET(i);case"XXXX":case"XX":return tl(i);case"XXXXX":case"XXX":default:return tl(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return ET(i);case"xxxx":case"xx":return tl(i);case"xxxxx":case"xxx":default:return tl(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+PT(i,":");case"OOOO":default:return"GMT"+tl(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+PT(i,":");case"zzzz":default:return"GMT"+tl(i,":")}},t:function(t,e,n){const i=Math.trunc(t.getTime()/1e3);return Tn(i,e.length)},T:function(t,e,n){const i=t.getTime();return Tn(i,e.length)}};function PT(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+e+Tn(s,2)}function ET(t,e){return t%60===0?(t>0?"-":"+")+Tn(Math.abs(t)/60,2):tl(t,e)}function tl(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Tn(Math.trunc(i/60),2),s=Tn(i%60,2);return n+r+e+s}const AT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},IL=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},sY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return AT(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",AT(i,e)).replace("{{time}}",IL(r,e))},aY={p:IL,P:sY},oY=/^D+$/,lY=/^Y+$/,cY=["D","DD","YY","YYYY"];function uY(t){return oY.test(t)}function hY(t){return lY.test(t)}function dY(t,e,n){const i=fY(t,e,n);if(console.warn(i),cY.includes(t))throw new RangeError(i)}function fY(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gY=/^'([^]*?)'?$/,xY=/''/g,vY=/[a-zA-Z]/;function jl(t,e,n){var f,x,v,y,C,k,P,S;const i=mf(),r=(n==null?void 0:n.locale)??i.locale??EL,s=(n==null?void 0:n.firstWeekContainsDate)??((x=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:x.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(v=i.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((k=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:k.weekStartsOn)??i.weekStartsOn??((S=(P=i.locale)==null?void 0:P.options)==null?void 0:S.weekStartsOn)??0,l=vn(t);if(!SG(l))throw new RangeError("Invalid time value");let u=e.match(mY).map(R=>{const L=R[0];if(L==="p"||L==="P"){const D=aY[L];return D(R,r.formatLong)}return R}).join("").match(pY).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const L=R[0];if(L==="'")return{isToken:!1,value:yY(R)};if(TT[L])return{isToken:!0,value:R};if(L.match(vY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return{isToken:!1,value:R}});r.localize.preprocessor&&(u=r.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:r};return u.map(R=>{if(!R.isToken)return R.value;const L=R.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&hY(L)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&uY(L))&&dY(L,e,String(t));const D=TT[L[0]];return D(l,L,r.localize,d)}).join("")}function yY(t){const e=t.match(gY);return e?e[1].replace(xY,"'"):t}function _Y(t){const e=vn(t),n=e.getFullYear(),i=e.getMonth(),r=Tr(t,0);return r.setFullYear(n,i+1,0),r.setHours(0,0,0,0),r.getDate()}function bY(t){return Math.trunc(+vn(t)/1e3)}function wY(t){const e=vn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function SY(t,e){return MG(wY(t),ur(t),e)+1}function C1(t,e){const n=vn(t),i=vn(e);return n.getTime()>i.getTime()}function LL(t,e){const n=vn(t),i=vn(e);return+n<+i}function Tw(t,e){const n=vn(t),i=vn(e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function MY(t,e){const n=vn(t),i=vn(e);return n.getFullYear()===i.getFullYear()}function rv(t,e){return ji(t,-e)}function sv(t,e){const n=vn(t),i=n.getFullYear(),r=n.getDate(),s=Tr(t,0);s.setFullYear(i,e,15),s.setHours(0,0,0,0);const a=_Y(s);return n.setMonth(e,Math.min(r,a)),n}function kT(t,e){const n=vn(t);return isNaN(+n)?Tr(t,NaN):(n.setFullYear(e),n)}var Ut=function(){return Ut=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ut.apply(this,arguments)};function CY(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function DL(t,e,n){for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}function gf(t){return t.mode==="multiple"}function xf(t){return t.mode==="range"}function _x(t){return t.mode==="single"}var TY={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function PY(t,e){return jl(t,"LLLL y",e)}function EY(t,e){return jl(t,"d",e)}function AY(t,e){return jl(t,"LLLL",e)}function kY(t){return"".concat(t)}function RY(t,e){return jl(t,"cccccc",e)}function IY(t,e){return jl(t,"yyyy",e)}var LY=Object.freeze({__proto__:null,formatCaption:PY,formatDay:EY,formatMonthCaption:AY,formatWeekNumber:kY,formatWeekdayName:RY,formatYearCaption:IY}),DY=function(t,e,n){return jl(t,"do MMMM (EEEE)",n)},NY=function(){return"Month: "},FY=function(){return"Go to next month"},OY=function(){return"Go to previous month"},BY=function(t,e){return jl(t,"cccc",e)},VY=function(t){return"Week n. ".concat(t)},UY=function(){return"Year: "},zY=Object.freeze({__proto__:null,labelDay:DY,labelMonthDropdown:NY,labelNext:FY,labelPrevious:OY,labelWeekNumber:VY,labelWeekday:BY,labelYearDropdown:UY});function WY(){var t="buttons",e=TY,n=EL,i={},r={},s=1,a={},l=new Date;return{captionLayout:t,classNames:e,formatters:LY,labels:zY,locale:n,modifiersClassNames:i,modifiers:r,numberOfMonths:s,styles:a,today:l,mode:"default"}}function jY(t){var e=t.fromYear,n=t.toYear,i=t.fromMonth,r=t.toMonth,s=t.fromDate,a=t.toDate;return i?s=ur(i):e&&(s=new Date(e,0,1)),r?a=Mw(r):n&&(a=new Date(n,11,31)),{fromDate:s?xu(s):void 0,toDate:a?xu(a):void 0}}var NL=F.createContext(void 0);function HY(t){var e,n=t.initialProps,i=WY(),r=jY(n),s=r.fromDate,a=r.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:i.captionLayout;l!=="buttons"&&(!s||!a)&&(l="buttons");var u;(_x(n)||gf(n)||xf(n))&&(u=n.onSelect);var d=Ut(Ut(Ut({},i),n),{captionLayout:l,classNames:Ut(Ut({},i.classNames),n.classNames),components:Ut({},n.components),formatters:Ut(Ut({},i.formatters),n.formatters),fromDate:s,labels:Ut(Ut({},i.labels),n.labels),mode:n.mode||i.mode,modifiers:Ut(Ut({},i.modifiers),n.modifiers),modifiersClassNames:Ut(Ut({},i.modifiersClassNames),n.modifiersClassNames),onSelect:u,styles:Ut(Ut({},i.styles),n.styles),toDate:a});return w.jsx(NL.Provider,{value:d,children:t.children})}function Rn(){var t=F.useContext(NL);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function FL(t){var e=Rn(),n=e.locale,i=e.classNames,r=e.styles,s=e.formatters.formatCaption;return w.jsx("div",{className:i.caption_label,style:r.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function XY(t){return w.jsx("svg",Ut({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:w.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function OL(t){var e,n,i=t.onChange,r=t.value,s=t.children,a=t.caption,l=t.className,u=t.style,d=Rn(),f=(n=(e=d.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:XY;return w.jsxs("div",{className:l,style:u,children:[w.jsx("span",{className:d.classNames.vhidden,children:t["aria-label"]}),w.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:r,onChange:i,children:s}),w.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[a,w.jsx(f,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function GY(t){var e,n=Rn(),i=n.fromDate,r=n.toDate,s=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,u=n.classNames,d=n.components,f=n.labels.labelMonthDropdown;if(!i)return w.jsx(w.Fragment,{});if(!r)return w.jsx(w.Fragment,{});var x=[];if(MY(i,r))for(var v=ur(i),y=i.getMonth();y<=r.getMonth();y++)x.push(sv(v,y));else for(var v=ur(new Date),y=0;y<=11;y++)x.push(sv(v,y));var C=function(P){var S=Number(P.target.value),R=sv(ur(t.displayMonth),S);t.onChange(R)},k=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:OL;return w.jsx(k,{name:"months","aria-label":f(),className:u.dropdown_month,style:s.dropdown_month,onChange:C,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:a}),children:x.map(function(P){return w.jsx("option",{value:P.getMonth(),children:l(P,{locale:a})},P.getMonth())})})}function YY(t){var e,n=t.displayMonth,i=Rn(),r=i.fromDate,s=i.toDate,a=i.locale,l=i.styles,u=i.classNames,d=i.components,f=i.formatters.formatYearCaption,x=i.labels.labelYearDropdown,v=[];if(!r)return w.jsx(w.Fragment,{});if(!s)return w.jsx(w.Fragment,{});for(var y=r.getFullYear(),C=s.getFullYear(),k=y;k<=C;k++)v.push(kT(TL(new Date),k));var P=function(R){var L=kT(ur(n),Number(R.target.value));t.onChange(L)},S=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:OL;return w.jsx(S,{name:"years","aria-label":x(),className:u.dropdown_year,style:l.dropdown_year,onChange:P,value:n.getFullYear(),caption:f(n,{locale:a}),children:v.map(function(R){return w.jsx("option",{value:R.getFullYear(),children:f(R,{locale:a})},R.getFullYear())})})}function $Y(t,e){var n=F.useState(t),i=n[0],r=n[1],s=e===void 0?i:e;return[s,r]}function ZY(t){var e=t.month,n=t.defaultMonth,i=t.today,r=e||n||i||new Date,s=t.toDate,a=t.fromDate,l=t.numberOfMonths,u=l===void 0?1:l;if(s&&Dd(s,r)<0){var d=-1*(u-1);r=ys(s,d)}return a&&Dd(r,a)<0&&(r=a),ur(r)}function KY(){var t=Rn(),e=ZY(t),n=$Y(e,t.month),i=n[0],r=n[1],s=function(a){var l;if(!t.disableNavigation){var u=ur(a);r(u),(l=t.onMonthChange)===null||l===void 0||l.call(t,u)}};return[i,s]}function QY(t,e){for(var n=e.reverseMonths,i=e.numberOfMonths,r=ur(t),s=ur(ys(r,i)),a=Dd(s,r),l=[],u=0;u<a;u++){var d=ys(r,u);l.push(d)}return n&&(l=l.reverse()),l}function qY(t,e){if(!e.disableNavigation){var n=e.toDate,i=e.pagedNavigation,r=e.numberOfMonths,s=r===void 0?1:r,a=i?s:1,l=ur(t);if(!n)return ys(l,a);var u=Dd(n,t);if(!(u<s))return ys(l,a)}}function JY(t,e){if(!e.disableNavigation){var n=e.fromDate,i=e.pagedNavigation,r=e.numberOfMonths,s=r===void 0?1:r,a=i?s:1,l=ur(t);if(!n)return ys(l,-a);var u=Dd(l,n);if(!(u<=0))return ys(l,-a)}}var BL=F.createContext(void 0);function e$(t){var e=Rn(),n=KY(),i=n[0],r=n[1],s=QY(i,e),a=qY(i,e),l=JY(i,e),u=function(x){return s.some(function(v){return Tw(x,v)})},d=function(x,v){u(x)||(v&&LL(x,v)?r(ys(x,1+e.numberOfMonths*-1)):r(x))},f={currentMonth:i,displayMonths:s,goToMonth:r,goToDate:d,previousMonth:l,nextMonth:a,isDateDisplayed:u};return w.jsx(BL.Provider,{value:f,children:t.children})}function vf(){var t=F.useContext(BL);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function RT(t){var e,n=Rn(),i=n.classNames,r=n.styles,s=n.components,a=vf().goToMonth,l=function(f){a(ys(f,t.displayIndex?-t.displayIndex:0))},u=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:FL,d=w.jsx(u,{id:t.id,displayMonth:t.displayMonth});return w.jsxs("div",{className:i.caption_dropdowns,style:r.caption_dropdowns,children:[w.jsx("div",{className:i.vhidden,children:d}),w.jsx(GY,{onChange:l,displayMonth:t.displayMonth}),w.jsx(YY,{onChange:l,displayMonth:t.displayMonth})]})}function t$(t){return w.jsx("svg",Ut({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:w.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function n$(t){return w.jsx("svg",Ut({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:w.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var pg=F.forwardRef(function(t,e){var n=Rn(),i=n.classNames,r=n.styles,s=[i.button_reset,i.button];t.className&&s.push(t.className);var a=s.join(" "),l=Ut(Ut({},r.button_reset),r.button);return t.style&&Object.assign(l,t.style),w.jsx("button",Ut({},t,{ref:e,type:"button",className:a,style:l}))});function i$(t){var e,n,i=Rn(),r=i.dir,s=i.locale,a=i.classNames,l=i.styles,u=i.labels,d=u.labelPrevious,f=u.labelNext,x=i.components;if(!t.nextMonth&&!t.previousMonth)return w.jsx(w.Fragment,{});var v=d(t.previousMonth,{locale:s}),y=[a.nav_button,a.nav_button_previous].join(" "),C=f(t.nextMonth,{locale:s}),k=[a.nav_button,a.nav_button_next].join(" "),P=(e=x==null?void 0:x.IconRight)!==null&&e!==void 0?e:n$,S=(n=x==null?void 0:x.IconLeft)!==null&&n!==void 0?n:t$;return w.jsxs("div",{className:a.nav,style:l.nav,children:[!t.hidePrevious&&w.jsx(pg,{name:"previous-month","aria-label":v,className:y,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:r==="rtl"?w.jsx(P,{className:a.nav_icon,style:l.nav_icon}):w.jsx(S,{className:a.nav_icon,style:l.nav_icon})}),!t.hideNext&&w.jsx(pg,{name:"next-month","aria-label":C,className:k,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:r==="rtl"?w.jsx(S,{className:a.nav_icon,style:l.nav_icon}):w.jsx(P,{className:a.nav_icon,style:l.nav_icon})})]})}function IT(t){var e=Rn().numberOfMonths,n=vf(),i=n.previousMonth,r=n.nextMonth,s=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(C){return Tw(t.displayMonth,C)}),u=l===0,d=l===a.length-1,f=e>1&&(u||!d),x=e>1&&(d||!u),v=function(){i&&s(i)},y=function(){r&&s(r)};return w.jsx(i$,{displayMonth:t.displayMonth,hideNext:f,hidePrevious:x,nextMonth:r,previousMonth:i,onPreviousClick:v,onNextClick:y})}function r$(t){var e,n=Rn(),i=n.classNames,r=n.disableNavigation,s=n.styles,a=n.captionLayout,l=n.components,u=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:FL,d;return r?d=w.jsx(u,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?d=w.jsx(RT,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?d=w.jsxs(w.Fragment,{children:[w.jsx(RT,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),w.jsx(IT,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):d=w.jsxs(w.Fragment,{children:[w.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),w.jsx(IT,{displayMonth:t.displayMonth,id:t.id})]}),w.jsx("div",{className:i.caption,style:s.caption,children:d})}function s$(t){var e=Rn(),n=e.footer,i=e.styles,r=e.classNames.tfoot;return n?w.jsx("tfoot",{className:r,style:i.tfoot,children:w.jsx("tr",{children:w.jsx("td",{colSpan:8,children:n})})}):w.jsx(w.Fragment,{})}function a$(t,e,n){for(var i=n?Dl(new Date):js(new Date,{locale:t,weekStartsOn:e}),r=[],s=0;s<7;s++){var a=ji(i,s);r.push(a)}return r}function o$(){var t=Rn(),e=t.classNames,n=t.styles,i=t.showWeekNumber,r=t.locale,s=t.weekStartsOn,a=t.ISOWeek,l=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,d=a$(r,s,a);return w.jsxs("tr",{style:n.head_row,className:e.head_row,children:[i&&w.jsx("td",{style:n.head_cell,className:e.head_cell}),d.map(function(f,x){return w.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":u(f,{locale:r}),children:l(f,{locale:r})},x)})]})}function l$(){var t,e=Rn(),n=e.classNames,i=e.styles,r=e.components,s=(t=r==null?void 0:r.HeadRow)!==null&&t!==void 0?t:o$;return w.jsx("thead",{style:i.head,className:n.head,children:w.jsx(s,{})})}function c$(t){var e=Rn(),n=e.locale,i=e.formatters.formatDay;return w.jsx(w.Fragment,{children:i(t.date,{locale:n})})}var Pw=F.createContext(void 0);function u$(t){if(!gf(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return w.jsx(Pw.Provider,{value:e,children:t.children})}return w.jsx(h$,{initialProps:t.initialProps,children:t.children})}function h$(t){var e=t.initialProps,n=t.children,i=e.selected,r=e.min,s=e.max,a=function(d,f,x){var v,y;(v=e.onDayClick)===null||v===void 0||v.call(e,d,f,x);var C=!!(f.selected&&r&&(i==null?void 0:i.length)===r);if(!C){var k=!!(!f.selected&&s&&(i==null?void 0:i.length)===s);if(!k){var P=i?DL([],i):[];if(f.selected){var S=P.findIndex(function(R){return ar(d,R)});P.splice(S,1)}else P.push(d);(y=e.onSelect)===null||y===void 0||y.call(e,P,d,f,x)}}},l={disabled:[]};i&&l.disabled.push(function(d){var f=s&&i.length>s-1,x=i.some(function(v){return ar(v,d)});return!!(f&&!x)});var u={selected:i,onDayClick:a,modifiers:l};return w.jsx(Pw.Provider,{value:u,children:n})}function Ew(){var t=F.useContext(Pw);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function d$(t,e){var n=e||{},i=n.from,r=n.to;return i&&r?ar(r,t)&&ar(i,t)?void 0:ar(r,t)?{from:r,to:void 0}:ar(i,t)?void 0:C1(i,t)?{from:t,to:r}:{from:i,to:t}:r?C1(t,r)?{from:r,to:t}:{from:t,to:r}:i?LL(t,i)?{from:t,to:i}:{from:i,to:t}:{from:t,to:void 0}}var Aw=F.createContext(void 0);function f$(t){if(!xf(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return w.jsx(Aw.Provider,{value:e,children:t.children})}return w.jsx(p$,{initialProps:t.initialProps,children:t.children})}function p$(t){var e=t.initialProps,n=t.children,i=e.selected,r=i||{},s=r.from,a=r.to,l=e.min,u=e.max,d=function(y,C,k){var P,S;(P=e.onDayClick)===null||P===void 0||P.call(e,y,C,k);var R=d$(y,i);(S=e.onSelect)===null||S===void 0||S.call(e,R,y,C,k)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(f.range_start=[s],a?(f.range_end=[a],ar(s,a)||(f.range_middle=[{after:s,before:a}])):f.range_end=[s]):a&&(f.range_start=[a],f.range_end=[a]),l&&(s&&!a&&f.disabled.push({after:rv(s,l-1),before:ji(s,l-1)}),s&&a&&f.disabled.push({after:s,before:ji(s,l-1)}),!s&&a&&f.disabled.push({after:rv(a,l-1),before:ji(a,l-1)})),u){if(s&&!a&&(f.disabled.push({before:ji(s,-u+1)}),f.disabled.push({after:ji(s,u-1)})),s&&a){var x=Is(a,s)+1,v=u-x;f.disabled.push({before:rv(s,v)}),f.disabled.push({after:ji(a,v)})}!s&&a&&(f.disabled.push({before:ji(a,-u+1)}),f.disabled.push({after:ji(a,u-1)}))}return w.jsx(Aw.Provider,{value:{selected:i,onDayClick:d,modifiers:f},children:n})}function kw(){var t=F.useContext(Aw);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function lm(t){return Array.isArray(t)?DL([],t):t!==void 0?[t]:[]}function m$(t){var e={};return Object.entries(t).forEach(function(n){var i=n[0],r=n[1];e[i]=lm(r)}),e}var _s;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(_s||(_s={}));var g$=_s.Selected,Zs=_s.Disabled,x$=_s.Hidden,v$=_s.Today,av=_s.RangeEnd,ov=_s.RangeMiddle,lv=_s.RangeStart,y$=_s.Outside;function _$(t,e,n){var i,r=(i={},i[g$]=lm(t.selected),i[Zs]=lm(t.disabled),i[x$]=lm(t.hidden),i[v$]=[t.today],i[av]=[],i[ov]=[],i[lv]=[],i[y$]=[],i);return t.fromDate&&r[Zs].push({before:t.fromDate}),t.toDate&&r[Zs].push({after:t.toDate}),gf(t)?r[Zs]=r[Zs].concat(e.modifiers[Zs]):xf(t)&&(r[Zs]=r[Zs].concat(n.modifiers[Zs]),r[lv]=n.modifiers[lv],r[ov]=n.modifiers[ov],r[av]=n.modifiers[av]),r}var VL=F.createContext(void 0);function b$(t){var e=Rn(),n=Ew(),i=kw(),r=_$(e,n,i),s=m$(e.modifiers),a=Ut(Ut({},r),s);return w.jsx(VL.Provider,{value:a,children:t.children})}function UL(){var t=F.useContext(VL);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function w$(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function S$(t){return!!(t&&typeof t=="object"&&"from"in t)}function M$(t){return!!(t&&typeof t=="object"&&"after"in t)}function C$(t){return!!(t&&typeof t=="object"&&"before"in t)}function T$(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function P$(t,e){var n,i=e.from,r=e.to;if(i&&r){var s=Is(r,i)<0;s&&(n=[r,i],i=n[0],r=n[1]);var a=Is(t,i)>=0&&Is(r,t)>=0;return a}return r?ar(r,t):i?ar(i,t):!1}function E$(t){return Sw(t)}function A$(t){return Array.isArray(t)&&t.every(Sw)}function k$(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(E$(n))return ar(t,n);if(A$(n))return n.includes(t);if(S$(n))return P$(t,n);if(T$(n))return n.dayOfWeek.includes(t.getDay());if(w$(n)){var i=Is(n.before,t),r=Is(n.after,t),s=i>0,a=r<0,l=C1(n.before,n.after);return l?a&&s:s||a}return M$(n)?Is(t,n.after)>0:C$(n)?Is(n.before,t)>0:typeof n=="function"?n(t):!1})}function Rw(t,e,n){var i=Object.keys(e).reduce(function(s,a){var l=e[a];return k$(t,l)&&s.push(a),s},[]),r={};return i.forEach(function(s){return r[s]=!0}),n&&!Tw(t,n)&&(r.outside=!0),r}function R$(t,e){for(var n=ur(t[0]),i=Mw(t[t.length-1]),r,s,a=n;a<=i;){var l=Rw(a,e),u=!l.disabled&&!l.hidden;if(!u){a=ji(a,1);continue}if(l.selected)return a;l.today&&!s&&(s=a),r||(r=a),a=ji(a,1)}return s||r}var I$=365;function zL(t,e){var n=e.moveBy,i=e.direction,r=e.context,s=e.modifiers,a=e.retry,l=a===void 0?{count:0,lastFocused:t}:a,u=r.weekStartsOn,d=r.fromDate,f=r.toDate,x=r.locale,v={day:ji,week:M1,month:ys,year:_G,startOfWeek:function(P){return r.ISOWeek?Dl(P):js(P,{locale:x,weekStartsOn:u})},endOfWeek:function(P){return r.ISOWeek?PL(P):Cw(P,{locale:x,weekStartsOn:u})}},y=v[n](t,i==="after"?1:-1);i==="before"&&d?y=bG([d,y]):i==="after"&&f&&(y=wG([f,y]));var C=!0;if(s){var k=Rw(y,s);C=!k.disabled&&!k.hidden}return C?y:l.count>I$?l.lastFocused:zL(y,{moveBy:n,direction:i,context:r,modifiers:s,retry:Ut(Ut({},l),{count:l.count+1})})}var WL=F.createContext(void 0);function L$(t){var e=vf(),n=UL(),i=F.useState(),r=i[0],s=i[1],a=F.useState(),l=a[0],u=a[1],d=R$(e.displayMonths,n),f=r??(l&&e.isDateDisplayed(l))?l:d,x=function(){u(r),s(void 0)},v=function(P){s(P)},y=Rn(),C=function(P,S){if(r){var R=zL(r,{moveBy:P,direction:S,context:y,modifiers:n});ar(r,R)||(e.goToDate(R,r),v(R))}},k={focusedDay:r,focusTarget:f,blur:x,focus:v,focusDayAfter:function(){return C("day","after")},focusDayBefore:function(){return C("day","before")},focusWeekAfter:function(){return C("week","after")},focusWeekBefore:function(){return C("week","before")},focusMonthBefore:function(){return C("month","before")},focusMonthAfter:function(){return C("month","after")},focusYearBefore:function(){return C("year","before")},focusYearAfter:function(){return C("year","after")},focusStartOfWeek:function(){return C("startOfWeek","before")},focusEndOfWeek:function(){return C("endOfWeek","after")}};return w.jsx(WL.Provider,{value:k,children:t.children})}function Iw(){var t=F.useContext(WL);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function D$(t,e){var n=UL(),i=Rw(t,n,e);return i}var Lw=F.createContext(void 0);function N$(t){if(!_x(t.initialProps)){var e={selected:void 0};return w.jsx(Lw.Provider,{value:e,children:t.children})}return w.jsx(F$,{initialProps:t.initialProps,children:t.children})}function F$(t){var e=t.initialProps,n=t.children,i=function(s,a,l){var u,d,f;if((u=e.onDayClick)===null||u===void 0||u.call(e,s,a,l),a.selected&&!e.required){(d=e.onSelect)===null||d===void 0||d.call(e,void 0,s,a,l);return}(f=e.onSelect)===null||f===void 0||f.call(e,s,s,a,l)},r={selected:e.selected,onDayClick:i};return w.jsx(Lw.Provider,{value:r,children:n})}function jL(){var t=F.useContext(Lw);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function O$(t,e){var n=Rn(),i=jL(),r=Ew(),s=kw(),a=Iw(),l=a.focusDayAfter,u=a.focusDayBefore,d=a.focusWeekAfter,f=a.focusWeekBefore,x=a.blur,v=a.focus,y=a.focusMonthBefore,C=a.focusMonthAfter,k=a.focusYearBefore,P=a.focusYearAfter,S=a.focusStartOfWeek,R=a.focusEndOfWeek,L=function(ge){var ie,_e,Te,ee;_x(n)?(ie=i.onDayClick)===null||ie===void 0||ie.call(i,t,e,ge):gf(n)?(_e=r.onDayClick)===null||_e===void 0||_e.call(r,t,e,ge):xf(n)?(Te=s.onDayClick)===null||Te===void 0||Te.call(s,t,e,ge):(ee=n.onDayClick)===null||ee===void 0||ee.call(n,t,e,ge)},D=function(ge){var ie;v(t),(ie=n.onDayFocus)===null||ie===void 0||ie.call(n,t,e,ge)},W=function(ge){var ie;x(),(ie=n.onDayBlur)===null||ie===void 0||ie.call(n,t,e,ge)},z=function(ge){var ie;(ie=n.onDayMouseEnter)===null||ie===void 0||ie.call(n,t,e,ge)},j=function(ge){var ie;(ie=n.onDayMouseLeave)===null||ie===void 0||ie.call(n,t,e,ge)},Z=function(ge){var ie;(ie=n.onDayPointerEnter)===null||ie===void 0||ie.call(n,t,e,ge)},$=function(ge){var ie;(ie=n.onDayPointerLeave)===null||ie===void 0||ie.call(n,t,e,ge)},H=function(ge){var ie;(ie=n.onDayTouchCancel)===null||ie===void 0||ie.call(n,t,e,ge)},q=function(ge){var ie;(ie=n.onDayTouchEnd)===null||ie===void 0||ie.call(n,t,e,ge)},ce=function(ge){var ie;(ie=n.onDayTouchMove)===null||ie===void 0||ie.call(n,t,e,ge)},le=function(ge){var ie;(ie=n.onDayTouchStart)===null||ie===void 0||ie.call(n,t,e,ge)},me=function(ge){var ie;(ie=n.onDayKeyUp)===null||ie===void 0||ie.call(n,t,e,ge)},we=function(ge){var ie;switch(ge.key){case"ArrowLeft":ge.preventDefault(),ge.stopPropagation(),n.dir==="rtl"?l():u();break;case"ArrowRight":ge.preventDefault(),ge.stopPropagation(),n.dir==="rtl"?u():l();break;case"ArrowDown":ge.preventDefault(),ge.stopPropagation(),d();break;case"ArrowUp":ge.preventDefault(),ge.stopPropagation(),f();break;case"PageUp":ge.preventDefault(),ge.stopPropagation(),ge.shiftKey?k():y();break;case"PageDown":ge.preventDefault(),ge.stopPropagation(),ge.shiftKey?P():C();break;case"Home":ge.preventDefault(),ge.stopPropagation(),S();break;case"End":ge.preventDefault(),ge.stopPropagation(),R();break}(ie=n.onDayKeyDown)===null||ie===void 0||ie.call(n,t,e,ge)},Se={onClick:L,onFocus:D,onBlur:W,onKeyDown:we,onKeyUp:me,onMouseEnter:z,onMouseLeave:j,onPointerEnter:Z,onPointerLeave:$,onTouchCancel:H,onTouchEnd:q,onTouchMove:ce,onTouchStart:le};return Se}function B$(){var t=Rn(),e=jL(),n=Ew(),i=kw(),r=_x(t)?e.selected:gf(t)?n.selected:xf(t)?i.selected:void 0;return r}function V$(t){return Object.values(_s).includes(t)}function U$(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(i){var r=t.modifiersClassNames[i];if(r)n.push(r);else if(V$(i)){var s=t.classNames["day_".concat(i)];s&&n.push(s)}}),n}function z$(t,e){var n=Ut({},t.styles.day);return Object.keys(e).forEach(function(i){var r;n=Ut(Ut({},n),(r=t.modifiersStyles)===null||r===void 0?void 0:r[i])}),n}function W$(t,e,n){var i,r,s,a=Rn(),l=Iw(),u=D$(t,e),d=O$(t,u),f=B$(),x=!!(a.onDayClick||a.mode!=="default");F.useEffect(function(){var z;u.outside||l.focusedDay&&x&&ar(l.focusedDay,t)&&((z=n.current)===null||z===void 0||z.focus())},[l.focusedDay,t,n,x,u.outside]);var v=U$(a,u).join(" "),y=z$(a,u),C=!!(u.outside&&!a.showOutsideDays||u.hidden),k=(s=(r=a.components)===null||r===void 0?void 0:r.DayContent)!==null&&s!==void 0?s:c$,P=w.jsx(k,{date:t,displayMonth:e,activeModifiers:u}),S={style:y,className:v,children:P,role:"gridcell"},R=l.focusTarget&&ar(l.focusTarget,t)&&!u.outside,L=l.focusedDay&&ar(l.focusedDay,t),D=Ut(Ut(Ut({},S),(i={disabled:u.disabled,role:"gridcell"},i["aria-selected"]=u.selected,i.tabIndex=L||R?0:-1,i)),d),W={isButton:x,isHidden:C,activeModifiers:u,selectedDays:f,buttonProps:D,divProps:S};return W}function j$(t){var e=F.useRef(null),n=W$(t.date,t.displayMonth,e);return n.isHidden?w.jsx("div",{role:"gridcell"}):n.isButton?w.jsx(pg,Ut({name:"day",ref:e},n.buttonProps)):w.jsx("div",Ut({},n.divProps))}function H$(t){var e=t.number,n=t.dates,i=Rn(),r=i.onWeekNumberClick,s=i.styles,a=i.classNames,l=i.locale,u=i.labels.labelWeekNumber,d=i.formatters.formatWeekNumber,f=d(Number(e),{locale:l});if(!r)return w.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:f});var x=u(Number(e),{locale:l}),v=function(y){r(e,n,y)};return w.jsx(pg,{name:"week-number","aria-label":x,className:a.weeknumber,style:s.weeknumber,onClick:v,children:f})}function X$(t){var e,n,i=Rn(),r=i.styles,s=i.classNames,a=i.showWeekNumber,l=i.components,u=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:j$,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:H$,f;return a&&(f=w.jsx("td",{className:s.cell,style:r.cell,children:w.jsx(d,{number:t.weekNumber,dates:t.dates})})),w.jsxs("tr",{className:s.row,style:r.row,children:[f,t.dates.map(function(x){return w.jsx("td",{className:s.cell,style:r.cell,role:"presentation",children:w.jsx(u,{displayMonth:t.displayMonth,date:x})},bY(x))})]})}function LT(t,e,n){for(var i=n!=null&&n.ISOWeek?PL(e):Cw(e,n),r=n!=null&&n.ISOWeek?Dl(t):js(t,n),s=Is(i,r),a=[],l=0;l<=s;l++)a.push(ji(r,l));var u=a.reduce(function(d,f){var x=n!=null&&n.ISOWeek?AL(f):RL(f,n),v=d.find(function(y){return y.weekNumber===x});return v?(v.dates.push(f),d):(d.push({weekNumber:x,dates:[f]}),d)},[]);return u}function G$(t,e){var n=LT(ur(t),Mw(t),e);if(e!=null&&e.useFixedWeeks){var i=SY(t,e);if(i<6){var r=n[n.length-1],s=r.dates[r.dates.length-1],a=M1(s,6-i),l=LT(M1(s,1),a,e);n.push.apply(n,l)}}return n}function Y$(t){var e,n,i,r=Rn(),s=r.locale,a=r.classNames,l=r.styles,u=r.hideHead,d=r.fixedWeeks,f=r.components,x=r.weekStartsOn,v=r.firstWeekContainsDate,y=r.ISOWeek,C=G$(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:y,locale:s,weekStartsOn:x,firstWeekContainsDate:v}),k=(e=f==null?void 0:f.Head)!==null&&e!==void 0?e:l$,P=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:X$,S=(i=f==null?void 0:f.Footer)!==null&&i!==void 0?i:s$;return w.jsxs("table",{id:t.id,className:a.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!u&&w.jsx(k,{}),w.jsx("tbody",{className:a.tbody,style:l.tbody,children:C.map(function(R){return w.jsx(P,{displayMonth:t.displayMonth,dates:R.dates,weekNumber:R.weekNumber},R.weekNumber)})}),w.jsx(S,{displayMonth:t.displayMonth})]})}function $$(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Z$=$$()?F.useLayoutEffect:F.useEffect,cv=!1,K$=0;function DT(){return"react-day-picker-".concat(++K$)}function Q$(t){var e,n=t??(cv?DT():null),i=F.useState(n),r=i[0],s=i[1];return Z$(function(){r===null&&s(DT())},[]),F.useEffect(function(){cv===!1&&(cv=!0)},[]),(e=t??r)!==null&&e!==void 0?e:void 0}function q$(t){var e,n,i=Rn(),r=i.dir,s=i.classNames,a=i.styles,l=i.components,u=vf().displayMonths,d=Q$(i.id?"".concat(i.id,"-").concat(t.displayIndex):void 0),f=i.id?"".concat(i.id,"-grid-").concat(t.displayIndex):void 0,x=[s.month],v=a.month,y=t.displayIndex===0,C=t.displayIndex===u.length-1,k=!y&&!C;r==="rtl"&&(e=[y,C],C=e[0],y=e[1]),y&&(x.push(s.caption_start),v=Ut(Ut({},v),a.caption_start)),C&&(x.push(s.caption_end),v=Ut(Ut({},v),a.caption_end)),k&&(x.push(s.caption_between),v=Ut(Ut({},v),a.caption_between));var P=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:r$;return w.jsxs("div",{className:x.join(" "),style:v,children:[w.jsx(P,{id:d,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),w.jsx(Y$,{id:f,"aria-labelledby":d,displayMonth:t.displayMonth})]},t.displayIndex)}function J$(t){var e=Rn(),n=e.classNames,i=e.styles;return w.jsx("div",{className:n.months,style:i.months,children:t.children})}function eZ(t){var e,n,i=t.initialProps,r=Rn(),s=Iw(),a=vf(),l=F.useState(!1),u=l[0],d=l[1];F.useEffect(function(){r.initialFocus&&s.focusTarget&&(u||(s.focus(s.focusTarget),d(!0)))},[r.initialFocus,u,s.focus,s.focusTarget,s]);var f=[r.classNames.root,r.className];r.numberOfMonths>1&&f.push(r.classNames.multiple_months),r.showWeekNumber&&f.push(r.classNames.with_weeknumber);var x=Ut(Ut({},r.styles.root),r.style),v=Object.keys(i).filter(function(C){return C.startsWith("data-")}).reduce(function(C,k){var P;return Ut(Ut({},C),(P={},P[k]=i[k],P))},{}),y=(n=(e=i.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:J$;return w.jsx("div",Ut({className:f.join(" "),style:x,dir:r.dir,id:r.id,nonce:i.nonce,title:i.title,lang:i.lang},v,{children:w.jsx(y,{children:a.displayMonths.map(function(C,k){return w.jsx(q$,{displayIndex:k,displayMonth:C},k)})})}))}function tZ(t){var e=t.children,n=CY(t,["children"]);return w.jsx(HY,{initialProps:n,children:w.jsx(e$,{children:w.jsx(N$,{initialProps:n,children:w.jsx(u$,{initialProps:n,children:w.jsx(f$,{initialProps:n,children:w.jsx(b$,{children:w.jsx(L$,{children:e})})})})})})})}function nZ(t){return w.jsx(tZ,Ut({},t,{children:w.jsx(eZ,{initialProps:t})}))}function HL({className:t,classNames:e,showOutsideDays:n=!0,...i}){return w.jsx(nZ,{showOutsideDays:n,className:Pt("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4 text-slate-900 dark:text-slate-100",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium text-slate-900 dark:text-slate-200",nav:"space-x-1 flex items-center",nav_button:Pt(qy({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 dark:text-slate-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-slate-500 dark:text-slate-400 rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Pt("relative p-0 text-center text-sm focus-within:relative focus-within:z-20","text-slate-900 dark:text-slate-100","[&:has([aria-selected])]:bg-slate-100 dark:[&:has([aria-selected])]:bg-slate-200","[&:has([aria-selected].day-outside)]:bg-slate-100 dark:[&:has([aria-selected].day-outside)]:bg-slate-800","[&:has([aria-selected].day-range-end)]:rounded-r-md",i.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Pt(qy({variant:"ghost"}),"h-8 w-8 p-0 font-normal text-slate-600 dark:text-slate-600 hover:text-slate-900"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-slate-900 text-slate-50 hover:bg-slate-900 hover:text-slate-50 focus:bg-slate-900 focus:text-slate-50 dark:bg-slate-200 dark:text-slate-900 dark:focus:bg-slate-200 dark:hover:bg-slate-200",day_today:"bg-slate-300 text-slate-900 dark:bg-slate-800 dark:text-slate-100",day_outside:"day-outside text-slate-300 dark:text-slate-400 aria-selected:bg-slate-300 dark:aria-selected:bg-slate-800 aria-selected:text-slate-500 dark:aria-selected:text-slate-100",day_disabled:"text-slate-50 dark:text-slate-400",day_range_middle:"aria-selected:bg-slate-100 aria-selected:text-slate-900 dark:aria-selected:bg-slate-800 dark:aria-selected:text-slate-50",day_hidden:"invisible",...e},components:{IconLeft:({...r})=>w.jsx(yz,{className:"h-4 w-4"}),IconRight:({...r})=>w.jsx(qk,{className:"h-4 w-4"})},...i})}HL.displayName="Calendar";const iZ=cn.object({namespaceId:cn.string().max(40),startTime:cn.string().max(30),timeIntervalMinutes:cn.number().nonnegative(),timezone:cn.string().max(30).min(1)}),rZ=({startTime:t,timeIntervalMinutes:e,setStartTime:n,setTimeIntervalMinutes:i,refetch:r})=>{const{id:s}=Ar(),a=Ki(),l=un(ku);if(!s)throw new Error("Namespace id is required");const{form:u,setForm:d,validate:f}=Bo({namespaceId:s,startTime:t,timeIntervalMinutes:e,timezone:l},iZ),x=P=>{try{const R=It.fromJSDate(P).startOf("day").setZone(l,{keepLocalTime:!0});if(!R.isValid)throw new Error("Invalid date");const L=R.toFormat("yyyy-MM-dd");n(L),d(D=>({...D,startTime:L}))}catch(S){console.error("Failed to set start time:",S)}},v=P=>{const S=parseInt(P.target.value,10);i(S),d(R=>({...R,timeIntervalMinutes:S}))},y=async P=>{if(P.preventDefault(),f())try{a(uG(u)),r()}catch(S){console.error("Failed to refetch new timeframe:",S)}},C=It.now().setZone(l),k=C.minus({years:1});return w.jsxs("form",{className:"flex flex-col text-slate-800 dark:bg-slate-900 dark:text-slate-100",children:[w.jsx("div",{className:"flex flex-col",children:w.jsxs("div",{className:"space-y-2",children:[w.jsx(zn,{htmlFor:"startTime",className:"text-xs",text:"Select Date to view"}),w.jsxs(bL,{children:[w.jsx(wL,{asChild:!0,children:w.jsxs("div",{className:"cursor-pointer flex flex-row border rounded-md border-slate-200 justify-center align-center items-center dark:bg-slate-900 dark:text-slate-100",children:[w.jsx(ti,{type:"text",name:"startTime",value:It.fromISO(t,{zone:l}).toLocaleString(It.DATE_MED),readonly:!0,overrideStyles:"py-0 mt-0 h-full border-none dark:text-slate-100"}),w.jsx(dz,{className:"text-slate-900 dark:text-slate-100",width:"25px",height:"25px"})]})}),w.jsx(bw,{align:"start",children:w.jsx(HL,{mode:"single",selected:It.fromISO(t).toJSDate(),onSelect:P=>P&&x(P),disabled:P=>P>C.toJSDate()||P<k.toJSDate(),initialFocus:!0})})]})]})}),w.jsxs("div",{className:"flex grow-1 flex-col mt-4 space-y-2",children:[w.jsx(zn,{htmlFor:"timeIntervalMinutes",className:"text-xs",text:"Time Interval (minutes)"}),w.jsx(ti,{type:"number",name:"timeIntervalMinutes",value:e,onChange:v,overrideStyles:"p-0 dark:bg-slate-900"}),w.jsx(Kt,{size:"sm",variant:"default",content:"Update Timeframe",onClick:y,overrideStyles:"px-3"})]})]})},sZ=({formAddOn:t})=>{const{CanvasJSChart:e}=oG,{id:n}=Ar(),i=un(hG),[r,s]=F.useState(null),{toast:a}=kr(),l=un(Gg),u=un(ku),d=dG(u),[f,x]=F.useState(d),[v,y]=F.useState(1);if(!n)throw new Error("Namespace id is required");const C={namespaceId:n,startTime:f,timeIntervalMinutes:v,timezone:u},{data:k,error:P,isLoading:S,refetch:R}=mG(i??C);return F.useEffect(()=>{if(k){const L={animationEnabled:!0,theme:l?"dark2":"light2",title:{text:"Error Frequency",fontSize:12},axisX:{intervalType:"hour",labelFontSize:7,valueFormatString:"DD-MMM hh:mm a",labelFormatter:function(D){return It.fromMillis(D.value).setZone(u).toFormat("dd-MMM hh:mm a")}},axisY:{title:"# of Errors",labelFontSize:8,titleFontSize:10,includeZero:!1},data:[{type:"column",dataPoints:k.map(D=>({x:It.fromISO(new Date(D.time).toISOString()).setZone(u).toMillis(),label:It.fromISO(new Date(D.time).toISOString()).setZone(u).toFormat("dd-MMM hh:mm a"),y:D.count}))}],height:220,width:250};s(L)}},[k,l,u]),F.useEffect(()=>{P&&a({title:"Error Fetching Data",description:"There was an error fetching the error aggregates"})},[P,a]),w.jsxs("div",{className:"flex flex-col w-full relative",style:{minHeight:"100vh"},children:[S&&w.jsx("div",{children:"Loading..."}),k&&r&&w.jsx(e,{options:r}),t&&w.jsx("div",{className:"absolute top-56 left-6",children:w.jsx(rZ,{startTime:f,timeIntervalMinutes:v,setStartTime:x,setTimeIntervalMinutes:y,refetch:R})})]})};function yf(t){const e=t+"CollectionProvider",[n,i]=bs(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:C,children:k}=y,P=wi.useRef(null),S=wi.useRef(new Map).current;return w.jsx(r,{scope:C,itemMap:S,collectionRef:P,children:k})};a.displayName=e;const l=t+"CollectionSlot",u=wi.forwardRef((y,C)=>{const{scope:k,children:P}=y,S=s(l,k),R=sn(C,S.collectionRef);return w.jsx(ba,{ref:R,children:P})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",x=wi.forwardRef((y,C)=>{const{scope:k,children:P,...S}=y,R=wi.useRef(null),L=sn(C,R),D=s(d,k);return wi.useEffect(()=>(D.itemMap.set(R,{ref:R,...S}),()=>void D.itemMap.delete(R))),w.jsx(ba,{[f]:"",ref:L,children:P})});x.displayName=d;function v(y){const C=s(t+"CollectionConsumer",y);return wi.useCallback(()=>{const P=C.collectionRef.current;if(!P)return[];const S=Array.from(P.querySelectorAll(`[${f}]`));return Array.from(C.itemMap.values()).sort((D,W)=>S.indexOf(D.ref.current)-S.indexOf(W.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:a,Slot:u,ItemSlot:x},v,i]}var uv="rovingFocusGroup.onEntryFocus",aZ={bubbles:!1,cancelable:!0},bx="RovingFocusGroup",[T1,XL,oZ]=yf(bx),[lZ,wx]=bs(bx,[oZ]),[cZ,uZ]=lZ(bx),GL=F.forwardRef((t,e)=>w.jsx(T1.Provider,{scope:t.__scopeRovingFocusGroup,children:w.jsx(T1.Slot,{scope:t.__scopeRovingFocusGroup,children:w.jsx(hZ,{...t,ref:e})})}));GL.displayName=bx;var hZ=F.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:r=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...x}=t,v=F.useRef(null),y=sn(e,v),C=uf(s),[k=null,P]=wo({prop:a,defaultProp:l,onChange:u}),[S,R]=F.useState(!1),L=Wn(d),D=XL(n),W=F.useRef(!1),[z,j]=F.useState(0);return F.useEffect(()=>{const Z=v.current;if(Z)return Z.addEventListener(uv,L),()=>Z.removeEventListener(uv,L)},[L]),w.jsx(cZ,{scope:n,orientation:i,dir:C,loop:r,currentTabStopId:k,onItemFocus:F.useCallback(Z=>P(Z),[P]),onItemShiftTab:F.useCallback(()=>R(!0),[]),onFocusableItemAdd:F.useCallback(()=>j(Z=>Z+1),[]),onFocusableItemRemove:F.useCallback(()=>j(Z=>Z-1),[]),children:w.jsx(Dt.div,{tabIndex:S||z===0?-1:0,"data-orientation":i,...x,ref:y,style:{outline:"none",...t.style},onMouseDown:it(t.onMouseDown,()=>{W.current=!0}),onFocus:it(t.onFocus,Z=>{const $=!W.current;if(Z.target===Z.currentTarget&&$&&!S){const H=new CustomEvent(uv,aZ);if(Z.currentTarget.dispatchEvent(H),!H.defaultPrevented){const q=D().filter(Se=>Se.focusable),ce=q.find(Se=>Se.active),le=q.find(Se=>Se.id===k),we=[ce,le,...q].filter(Boolean).map(Se=>Se.ref.current);ZL(we,f)}}W.current=!1}),onBlur:it(t.onBlur,()=>R(!1))})})}),YL="RovingFocusGroupItem",$L=F.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:r=!1,tabStopId:s,...a}=t,l=Ur(),u=s||l,d=uZ(YL,n),f=d.currentTabStopId===u,x=XL(n),{onFocusableItemAdd:v,onFocusableItemRemove:y}=d;return F.useEffect(()=>{if(i)return v(),()=>y()},[i,v,y]),w.jsx(T1.ItemSlot,{scope:n,id:u,focusable:i,active:r,children:w.jsx(Dt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:it(t.onMouseDown,C=>{i?d.onItemFocus(u):C.preventDefault()}),onFocus:it(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:it(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){d.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const k=pZ(C,d.orientation,d.dir);if(k!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let S=x().filter(R=>R.focusable).map(R=>R.ref.current);if(k==="last")S.reverse();else if(k==="prev"||k==="next"){k==="prev"&&S.reverse();const R=S.indexOf(C.currentTarget);S=d.loop?mZ(S,R+1):S.slice(R+1)}setTimeout(()=>ZL(S))}})})})});$L.displayName=YL;var dZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fZ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function pZ(t,e,n){const i=fZ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return dZ[i]}function ZL(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function mZ(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var KL=GL,QL=$L,P1=["Enter"," "],gZ=["ArrowDown","PageUp","Home"],qL=["ArrowUp","PageDown","End"],xZ=[...gZ,...qL],vZ={ltr:[...P1,"ArrowRight"],rtl:[...P1,"ArrowLeft"]},yZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_f="Menu",[Nd,_Z,bZ]=yf(_f),[Hl,wZ]=bs(_f,[bZ,Vo,wx]),Sx=Vo(),JL=wx(),[SZ,Xl]=Hl(_f),[MZ,bf]=Hl(_f),e3=t=>{const{__scopeMenu:e,open:n=!1,children:i,dir:r,onOpenChange:s,modal:a=!0}=t,l=Sx(e),[u,d]=F.useState(null),f=F.useRef(!1),x=Wn(s),v=uf(r);return F.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),w.jsx(xx,{...l,children:w.jsx(SZ,{scope:e,open:n,onOpenChange:x,content:u,onContentChange:d,children:w.jsx(MZ,{scope:e,onClose:F.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:f,dir:v,modal:a,children:i})})})};e3.displayName=_f;var CZ="MenuAnchor",Dw=F.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=Sx(n);return w.jsx(ff,{...r,...i,ref:e})});Dw.displayName=CZ;var Nw="MenuPortal",[TZ,t3]=Hl(Nw,{forceMount:void 0}),n3=t=>{const{__scopeMenu:e,forceMount:n,children:i,container:r}=t,s=Xl(Nw,e);return w.jsx(TZ,{scope:e,forceMount:n,children:w.jsx(Vi,{present:n||s.open,children:w.jsx(Ru,{asChild:!0,container:r,children:i})})})};n3.displayName=Nw;var zr="MenuContent",[PZ,Fw]=Hl(zr),i3=F.forwardRef((t,e)=>{const n=t3(zr,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,s=Xl(zr,t.__scopeMenu),a=bf(zr,t.__scopeMenu);return w.jsx(Nd.Provider,{scope:t.__scopeMenu,children:w.jsx(Vi,{present:i||s.open,children:w.jsx(Nd.Slot,{scope:t.__scopeMenu,children:a.modal?w.jsx(EZ,{...r,ref:e}):w.jsx(AZ,{...r,ref:e})})})})}),EZ=F.forwardRef((t,e)=>{const n=Xl(zr,t.__scopeMenu),i=F.useRef(null),r=sn(e,i);return F.useEffect(()=>{const s=i.current;if(s)return Qg(s)},[]),w.jsx(Ow,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:it(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),AZ=F.forwardRef((t,e)=>{const n=Xl(zr,t.__scopeMenu);return w.jsx(Ow,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ow=F.forwardRef((t,e)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:x,onInteractOutside:v,onDismiss:y,disableOutsideScroll:C,...k}=t,P=Xl(zr,n),S=bf(zr,n),R=Sx(n),L=JL(n),D=_Z(n),[W,z]=F.useState(null),j=F.useRef(null),Z=sn(e,j,P.onContentChange),$=F.useRef(0),H=F.useRef(""),q=F.useRef(0),ce=F.useRef(null),le=F.useRef("right"),me=F.useRef(0),we=C?nf:F.Fragment,Se=C?{as:ba,allowPinchZoom:!0}:void 0,ge=_e=>{var ue,Pe;const Te=H.current+_e,ee=D().filter(Ee=>!Ee.disabled),He=document.activeElement,Ue=(ue=ee.find(Ee=>Ee.ref.current===He))==null?void 0:ue.textValue,K=ee.map(Ee=>Ee.textValue),oe=zZ(K,Te,Ue),be=(Pe=ee.find(Ee=>Ee.textValue===oe))==null?void 0:Pe.ref.current;(function Ee(ze){H.current=ze,window.clearTimeout($.current),ze!==""&&($.current=window.setTimeout(()=>Ee(""),1e3))})(Te),be&&setTimeout(()=>be.focus())};F.useEffect(()=>()=>window.clearTimeout($.current),[]),Zg();const ie=F.useCallback(_e=>{var ee,He;return le.current===((ee=ce.current)==null?void 0:ee.side)&&jZ(_e,(He=ce.current)==null?void 0:He.area)},[]);return w.jsx(PZ,{scope:n,searchRef:H,onItemEnter:F.useCallback(_e=>{ie(_e)&&_e.preventDefault()},[ie]),onItemLeave:F.useCallback(_e=>{var Te;ie(_e)||((Te=j.current)==null||Te.focus(),z(null))},[ie]),onTriggerLeave:F.useCallback(_e=>{ie(_e)&&_e.preventDefault()},[ie]),pointerGraceTimerRef:q,onPointerGraceIntentChange:F.useCallback(_e=>{ce.current=_e},[]),children:w.jsx(we,{...Se,children:w.jsx(tf,{asChild:!0,trapped:r,onMountAutoFocus:it(s,_e=>{var Te;_e.preventDefault(),(Te=j.current)==null||Te.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:w.jsx(zl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:x,onInteractOutside:v,onDismiss:y,children:w.jsx(KL,{asChild:!0,...L,dir:S.dir,orientation:"vertical",loop:i,currentTabStopId:W,onCurrentTabStopIdChange:z,onEntryFocus:it(u,_e=>{S.isUsingKeyboardRef.current||_e.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(vx,{role:"menu","aria-orientation":"vertical","data-state":y3(P.open),"data-radix-menu-content":"",dir:S.dir,...R,...k,ref:Z,style:{outline:"none",...k.style},onKeyDown:it(k.onKeyDown,_e=>{const ee=_e.target.closest("[data-radix-menu-content]")===_e.currentTarget,He=_e.ctrlKey||_e.altKey||_e.metaKey,Ue=_e.key.length===1;ee&&(_e.key==="Tab"&&_e.preventDefault(),!He&&Ue&&ge(_e.key));const K=j.current;if(_e.target!==K||!xZ.includes(_e.key))return;_e.preventDefault();const be=D().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);qL.includes(_e.key)&&be.reverse(),VZ(be)}),onBlur:it(t.onBlur,_e=>{_e.currentTarget.contains(_e.target)||(window.clearTimeout($.current),H.current="")}),onPointerMove:it(t.onPointerMove,Fd(_e=>{const Te=_e.target,ee=me.current!==_e.clientX;if(_e.currentTarget.contains(Te)&&ee){const He=_e.clientX>me.current?"right":"left";le.current=He,me.current=_e.clientX}}))})})})})})})});i3.displayName=zr;var kZ="MenuGroup",Bw=F.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return w.jsx(Dt.div,{role:"group",...i,ref:e})});Bw.displayName=kZ;var RZ="MenuLabel",r3=F.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return w.jsx(Dt.div,{...i,ref:e})});r3.displayName=RZ;var mg="MenuItem",NT="menu.itemSelect",Mx=F.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:i,...r}=t,s=F.useRef(null),a=bf(mg,t.__scopeMenu),l=Fw(mg,t.__scopeMenu),u=sn(e,s),d=F.useRef(!1),f=()=>{const x=s.current;if(!n&&x){const v=new CustomEvent(NT,{bubbles:!0,cancelable:!0});x.addEventListener(NT,y=>i==null?void 0:i(y),{once:!0}),Ub(x,v),v.defaultPrevented?d.current=!1:a.onClose()}};return w.jsx(s3,{...r,ref:u,disabled:n,onClick:it(t.onClick,f),onPointerDown:x=>{var v;(v=t.onPointerDown)==null||v.call(t,x),d.current=!0},onPointerUp:it(t.onPointerUp,x=>{var v;d.current||(v=x.currentTarget)==null||v.click()}),onKeyDown:it(t.onKeyDown,x=>{const v=l.searchRef.current!=="";n||v&&x.key===" "||P1.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});Mx.displayName=mg;var s3=F.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:i=!1,textValue:r,...s}=t,a=Fw(mg,n),l=JL(n),u=F.useRef(null),d=sn(e,u),[f,x]=F.useState(!1),[v,y]=F.useState("");return F.useEffect(()=>{const C=u.current;C&&y((C.textContent??"").trim())},[s.children]),w.jsx(Nd.ItemSlot,{scope:n,disabled:i,textValue:r??v,children:w.jsx(QL,{asChild:!0,...l,focusable:!i,children:w.jsx(Dt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...s,ref:d,onPointerMove:it(t.onPointerMove,Fd(C=>{i?a.onItemLeave(C):(a.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:it(t.onPointerLeave,Fd(C=>a.onItemLeave(C))),onFocus:it(t.onFocus,()=>x(!0)),onBlur:it(t.onBlur,()=>x(!1))})})})}),IZ="MenuCheckboxItem",a3=F.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:i,...r}=t;return w.jsx(h3,{scope:t.__scopeMenu,checked:n,children:w.jsx(Mx,{role:"menuitemcheckbox","aria-checked":gg(n)?"mixed":n,...r,ref:e,"data-state":Uw(n),onSelect:it(r.onSelect,()=>i==null?void 0:i(gg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});a3.displayName=IZ;var o3="MenuRadioGroup",[LZ,DZ]=Hl(o3,{value:void 0,onValueChange:()=>{}}),l3=F.forwardRef((t,e)=>{const{value:n,onValueChange:i,...r}=t,s=Wn(i);return w.jsx(LZ,{scope:t.__scopeMenu,value:n,onValueChange:s,children:w.jsx(Bw,{...r,ref:e})})});l3.displayName=o3;var c3="MenuRadioItem",u3=F.forwardRef((t,e)=>{const{value:n,...i}=t,r=DZ(c3,t.__scopeMenu),s=n===r.value;return w.jsx(h3,{scope:t.__scopeMenu,checked:s,children:w.jsx(Mx,{role:"menuitemradio","aria-checked":s,...i,ref:e,"data-state":Uw(s),onSelect:it(i.onSelect,()=>{var a;return(a=r.onValueChange)==null?void 0:a.call(r,n)},{checkForDefaultPrevented:!1})})})});u3.displayName=c3;var Vw="MenuItemIndicator",[h3,NZ]=Hl(Vw,{checked:!1}),d3=F.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:i,...r}=t,s=NZ(Vw,n);return w.jsx(Vi,{present:i||gg(s.checked)||s.checked===!0,children:w.jsx(Dt.span,{...r,ref:e,"data-state":Uw(s.checked)})})});d3.displayName=Vw;var FZ="MenuSeparator",f3=F.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return w.jsx(Dt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});f3.displayName=FZ;var OZ="MenuArrow",p3=F.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=Sx(n);return w.jsx(yx,{...r,...i,ref:e})});p3.displayName=OZ;var BZ="MenuSub",[Tae,m3]=Hl(BZ),bh="MenuSubTrigger",g3=F.forwardRef((t,e)=>{const n=Xl(bh,t.__scopeMenu),i=bf(bh,t.__scopeMenu),r=m3(bh,t.__scopeMenu),s=Fw(bh,t.__scopeMenu),a=F.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,d={__scopeMenu:t.__scopeMenu},f=F.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return F.useEffect(()=>f,[f]),F.useEffect(()=>{const x=l.current;return()=>{window.clearTimeout(x),u(null)}},[l,u]),w.jsx(Dw,{asChild:!0,...d,children:w.jsx(s3,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":y3(n.open),...t,ref:Rb(e,r.onTriggerChange),onClick:x=>{var v;(v=t.onClick)==null||v.call(t,x),!(t.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:it(t.onPointerMove,Fd(x=>{s.onItemEnter(x),!x.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:it(t.onPointerLeave,Fd(x=>{var y,C;f();const v=(y=n.content)==null?void 0:y.getBoundingClientRect();if(v){const k=(C=n.content)==null?void 0:C.dataset.side,P=k==="right",S=P?-5:5,R=v[P?"left":"right"],L=v[P?"right":"left"];s.onPointerGraceIntentChange({area:[{x:x.clientX+S,y:x.clientY},{x:R,y:v.top},{x:L,y:v.top},{x:L,y:v.bottom},{x:R,y:v.bottom}],side:k}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(x),x.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:it(t.onKeyDown,x=>{var y;const v=s.searchRef.current!=="";t.disabled||v&&x.key===" "||vZ[i.dir].includes(x.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),x.preventDefault())})})})});g3.displayName=bh;var x3="MenuSubContent",v3=F.forwardRef((t,e)=>{const n=t3(zr,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,s=Xl(zr,t.__scopeMenu),a=bf(zr,t.__scopeMenu),l=m3(x3,t.__scopeMenu),u=F.useRef(null),d=sn(e,u);return w.jsx(Nd.Provider,{scope:t.__scopeMenu,children:w.jsx(Vi,{present:i||s.open,children:w.jsx(Nd.Slot,{scope:t.__scopeMenu,children:w.jsx(Ow,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var x;a.isUsingKeyboardRef.current&&((x=u.current)==null||x.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:it(t.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:it(t.onEscapeKeyDown,f=>{a.onClose(),f.preventDefault()}),onKeyDown:it(t.onKeyDown,f=>{var y;const x=f.currentTarget.contains(f.target),v=yZ[a.dir].includes(f.key);x&&v&&(s.onOpenChange(!1),(y=l.trigger)==null||y.focus(),f.preventDefault())})})})})})});v3.displayName=x3;function y3(t){return t?"open":"closed"}function gg(t){return t==="indeterminate"}function Uw(t){return gg(t)?"indeterminate":t?"checked":"unchecked"}function VZ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function UZ(t,e){return t.map((n,i)=>t[(e+i)%t.length])}function zZ(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=UZ(t,Math.max(s,0));r.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return u!==n?u:void 0}function WZ(t,e){const{x:n,y:i}=t;let r=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s].x,u=e[s].y,d=e[a].x,f=e[a].y;u>i!=f>i&&n<(d-l)*(i-u)/(f-u)+l&&(r=!r)}return r}function jZ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return WZ(n,e)}function Fd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var HZ=e3,XZ=Dw,GZ=n3,YZ=i3,$Z=Bw,ZZ=r3,KZ=Mx,QZ=a3,qZ=l3,JZ=u3,eK=d3,tK=f3,nK=p3,iK=g3,rK=v3,Cx="Menubar",[E1,sK,aK]=yf(Cx),[_3,Pae]=bs(Cx,[aK,wx]),Qi=wZ(),b3=wx(),[oK,zw]=_3(Cx),w3=F.forwardRef((t,e)=>{const{__scopeMenubar:n,value:i,onValueChange:r,defaultValue:s,loop:a=!0,dir:l,...u}=t,d=uf(l),f=b3(n),[x="",v]=wo({prop:i,onChange:r,defaultProp:s}),[y,C]=F.useState(null);return w.jsx(oK,{scope:n,value:x,onMenuOpen:F.useCallback(k=>{v(k),C(k)},[v]),onMenuClose:F.useCallback(()=>v(""),[v]),onMenuToggle:F.useCallback(k=>{v(P=>P?"":k),C(k)},[v]),dir:d,loop:a,children:w.jsx(E1.Provider,{scope:n,children:w.jsx(E1.Slot,{scope:n,children:w.jsx(KL,{asChild:!0,...f,orientation:"horizontal",loop:a,dir:d,currentTabStopId:y,onCurrentTabStopIdChange:C,children:w.jsx(Dt.div,{role:"menubar",...u,ref:e})})})})})});w3.displayName=Cx;var Ww="MenubarMenu",[lK,S3]=_3(Ww),M3=t=>{const{__scopeMenubar:e,value:n,...i}=t,r=Ur(),s=n||r||"LEGACY_REACT_AUTO_VALUE",a=zw(Ww,e),l=Qi(e),u=F.useRef(null),d=F.useRef(!1),f=a.value===s;return F.useEffect(()=>{f||(d.current=!1)},[f]),w.jsx(lK,{scope:e,value:s,triggerId:Ur(),triggerRef:u,contentId:Ur(),wasKeyboardTriggerOpenRef:d,children:w.jsx(HZ,{...l,open:f,onOpenChange:x=>{x||a.onMenuClose()},modal:!1,dir:a.dir,...i})})};M3.displayName=Ww;var A1="MenubarTrigger",C3=F.forwardRef((t,e)=>{const{__scopeMenubar:n,disabled:i=!1,...r}=t,s=b3(n),a=Qi(n),l=zw(A1,n),u=S3(A1,n),d=F.useRef(null),f=sn(e,d,u.triggerRef),[x,v]=F.useState(!1),y=l.value===u.value;return w.jsx(E1.ItemSlot,{scope:n,value:u.value,disabled:i,children:w.jsx(QL,{asChild:!0,...s,focusable:!i,tabStopId:u.value,children:w.jsx(XZ,{asChild:!0,...a,children:w.jsx(Dt.button,{type:"button",role:"menuitem",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":y,"aria-controls":y?u.contentId:void 0,"data-highlighted":x?"":void 0,"data-state":y?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:f,onPointerDown:it(t.onPointerDown,C=>{!i&&C.button===0&&C.ctrlKey===!1&&(l.onMenuOpen(u.value),y||C.preventDefault())}),onPointerEnter:it(t.onPointerEnter,()=>{var k;!!l.value&&!y&&(l.onMenuOpen(u.value),(k=d.current)==null||k.focus())}),onKeyDown:it(t.onKeyDown,C=>{i||(["Enter"," "].includes(C.key)&&l.onMenuToggle(u.value),C.key==="ArrowDown"&&l.onMenuOpen(u.value),["Enter"," ","ArrowDown"].includes(C.key)&&(u.wasKeyboardTriggerOpenRef.current=!0,C.preventDefault()))}),onFocus:it(t.onFocus,()=>v(!0)),onBlur:it(t.onBlur,()=>v(!1))})})})})});C3.displayName=A1;var cK="MenubarPortal",T3=t=>{const{__scopeMenubar:e,...n}=t,i=Qi(e);return w.jsx(GZ,{...i,...n})};T3.displayName=cK;var k1="MenubarContent",P3=F.forwardRef((t,e)=>{const{__scopeMenubar:n,align:i="start",...r}=t,s=Qi(n),a=zw(k1,n),l=S3(k1,n),u=sK(n),d=F.useRef(!1);return w.jsx(YZ,{id:l.contentId,"aria-labelledby":l.triggerId,"data-radix-menubar-content":"",...s,...r,ref:e,align:i,onCloseAutoFocus:it(t.onCloseAutoFocus,f=>{var v;!!!a.value&&!d.current&&((v=l.triggerRef.current)==null||v.focus()),d.current=!1,f.preventDefault()}),onFocusOutside:it(t.onFocusOutside,f=>{const x=f.target;u().some(y=>{var C;return(C=y.ref.current)==null?void 0:C.contains(x)})&&f.preventDefault()}),onInteractOutside:it(t.onInteractOutside,()=>{d.current=!0}),onEntryFocus:f=>{l.wasKeyboardTriggerOpenRef.current||f.preventDefault()},onKeyDown:it(t.onKeyDown,f=>{if(["ArrowRight","ArrowLeft"].includes(f.key)){const x=f.target,v=x.hasAttribute("data-radix-menubar-subtrigger"),y=x.closest("[data-radix-menubar-content]")!==f.currentTarget,k=(a.dir==="rtl"?"ArrowRight":"ArrowLeft")===f.key;if(!k&&v||y&&k)return;let R=u().filter(W=>!W.disabled).map(W=>W.value);k&&R.reverse();const L=R.indexOf(l.value);R=a.loop?MK(R,L+1):R.slice(L+1);const[D]=R;D&&a.onMenuOpen(D)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});P3.displayName=k1;var uK="MenubarGroup",hK=F.forwardRef((t,e)=>{const{__scopeMenubar:n,...i}=t,r=Qi(n);return w.jsx($Z,{...r,...i,ref:e})});hK.displayName=uK;var dK="MenubarLabel",E3=F.forwardRef((t,e)=>{const{__scopeMenubar:n,...i}=t,r=Qi(n);return w.jsx(ZZ,{...r,...i,ref:e})});E3.displayName=dK;var fK="MenubarItem",A3=F.forwardRef((t,e)=>{const{__scopeMenubar:n,...i}=t,r=Qi(n);return w.jsx(KZ,{...r,...i,ref:e})});A3.displayName=fK;var pK="MenubarCheckboxItem",k3=F.forwardRef((t,e)=>{const{__scopeMenubar:n,...i}=t,r=Qi(n);return w.jsx(QZ,{...r,...i,ref:e})});k3.displayName=pK;var mK="MenubarRadioGroup",gK=F.forwardRef((t,e)=>{const{__scopeMenubar:n,...i}=t,r=Qi(n);return w.jsx(qZ,{...r,...i,ref:e})});gK.displayName=mK;var xK="MenubarRadioItem",R3=F.forwardRef((t,e)=>{const{__scopeMenubar:n,...i}=t,r=Qi(n);return w.jsx(JZ,{...r,...i,ref:e})});R3.displayName=xK;var vK="MenubarItemIndicator",I3=F.forwardRef((t,e)=>{const{__scopeMenubar:n,...i}=t,r=Qi(n);return w.jsx(eK,{...r,...i,ref:e})});I3.displayName=vK;var yK="MenubarSeparator",L3=F.forwardRef((t,e)=>{const{__scopeMenubar:n,...i}=t,r=Qi(n);return w.jsx(tK,{...r,...i,ref:e})});L3.displayName=yK;var _K="MenubarArrow",bK=F.forwardRef((t,e)=>{const{__scopeMenubar:n,...i}=t,r=Qi(n);return w.jsx(nK,{...r,...i,ref:e})});bK.displayName=_K;var wK="MenubarSubTrigger",D3=F.forwardRef((t,e)=>{const{__scopeMenubar:n,...i}=t,r=Qi(n);return w.jsx(iK,{"data-radix-menubar-subtrigger":"",...r,...i,ref:e})});D3.displayName=wK;var SK="MenubarSubContent",N3=F.forwardRef((t,e)=>{const{__scopeMenubar:n,...i}=t,r=Qi(n);return w.jsx(rK,{...r,"data-radix-menubar-content":"",...i,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});N3.displayName=SK;function MK(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var F3=w3,CK=M3,O3=C3,TK=T3,B3=P3,V3=E3,U3=A3,z3=k3,W3=R3,j3=I3,H3=L3,X3=D3,G3=N3;const FT=CK,Y3=F.forwardRef(({className:t,...e},n)=>w.jsx(F3,{ref:n,className:Pt("flex h-9 items-center space-x-1 rounded-md border border-slate-200 bg-white p-1 shadow-sm dark:border-slate-800 dark:bg-slate-900",t),...e}));Y3.displayName=F3.displayName;const R1=F.forwardRef(({className:t,...e},n)=>w.jsx(O3,{ref:n,className:Pt("flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-slate-100 focus:text-slate-900 data-[state=open]:bg-slate-100 data-[state=open]:text-slate-900 dark:focus:bg-slate-800 dark:focus:text-slate-50 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-50",t),...e}));R1.displayName=O3.displayName;const PK=F.forwardRef(({className:t,inset:e,children:n,...i},r)=>w.jsxs(X3,{ref:r,className:Pt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[state=open]:bg-slate-100 data-[state=open]:text-slate-900 dark:focus:bg-slate-800 dark:focus:text-slate-50 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-50",e&&"pl-8",t),...i,children:[n,w.jsx(qk,{className:"ml-auto h-4 w-4"})]}));PK.displayName=X3.displayName;const EK=F.forwardRef(({className:t,...e},n)=>w.jsx(G3,{ref:n,className:Pt("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...e}));EK.displayName=G3.displayName;const I1=F.forwardRef(({className:t,align:e="start",alignOffset:n=-4,sideOffset:i=8,...r},s)=>w.jsx(TK,{children:w.jsx(B3,{ref:s,align:e,alignOffset:n,sideOffset:i,className:Pt("z-50 min-w-[12rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...r})}));I1.displayName=B3.displayName;const wh=F.forwardRef(({className:t,inset:e,...n},i)=>w.jsx(U3,{ref:i,className:Pt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",e&&"pl-8",t),...n}));wh.displayName=U3.displayName;const AK=F.forwardRef(({className:t,children:e,checked:n,...i},r)=>w.jsxs(z3,{ref:r,className:Pt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),checked:n,...i,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(j3,{children:w.jsx(Qk,{className:"h-4 w-4"})})}),e]}));AK.displayName=z3.displayName;const kK=F.forwardRef(({className:t,children:e,...n},i)=>w.jsxs(W3,{ref:i,className:Pt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),...n,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(j3,{children:w.jsx(Tz,{className:"h-4 w-4 fill-current"})})}),e]}));kK.displayName=W3.displayName;const RK=F.forwardRef(({className:t,inset:e,...n},i)=>w.jsx(V3,{ref:i,className:Pt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));RK.displayName=V3.displayName;const IK=F.forwardRef(({className:t,...e},n)=>w.jsx(H3,{ref:n,className:Pt("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",t),...e}));IK.displayName=H3.displayName;const LK={token:null,user:null,userProfile:null,isAuthenticated:!1};let $3=tr({name:"Auth",initialState:LK,reducers:{setToken:(t,e)=>{t.token=e.payload},clearToken:t=>{t.token=null},setProfile:(t,e)=>{t.userProfile=e.payload},setUser:(t,e)=>{t.user=e.payload},clearUser:t=>{t.user=null},setIsAuthenticated:(t,e)=>{t.isAuthenticated=e.payload},clearAuth(t){t.token=null,t.user=null,t.userProfile=null,t.isAuthenticated=!1}}});const{setToken:jw,clearToken:Eae,setProfile:Tx,setUser:Px,clearUser:Aae,setIsAuthenticated:Hw,clearAuth:Z3}=$3.actions,K3=t=>t.auth.userProfile,Xw=t=>t.auth.isAuthenticated,Ex=t=>t.auth.user,DK=$3.reducer,NK=()=>{const t=Xr(),e=un(Ex),n=un(K3),i=()=>{t(`/user/${e==null?void 0:e.id}/profile`)};return w.jsxs(Y3,{className:"h-10 border-none overflow-none",children:[w.jsxs(FT,{children:[w.jsx(R1,{className:"p-0 w-12 h-12 flex justify-center items-center",children:w.jsx("div",{className:"cursor-pointer",children:w.jsx(zz,{})})}),w.jsxs(I1,{children:[w.jsxs(wh,{children:[w.jsx(uz,{className:"w-5 h-5 mr-2"}),"Notifications"]}),w.jsxs(wh,{children:[w.jsx(Iz,{className:"w-5 h-5 mr-2"}),"Alerts"]}),w.jsxs(wh,{children:[w.jsx(kz,{className:"w-5 h-5 mr-2"}),"Messages"]})]})]}),w.jsxs(FT,{children:[w.jsx(R1,{children:w.jsx("div",{className:"cursor-pointer flex align-center items-center justify-center",children:w.jsx($A,{name:(e==null?void 0:e.username)||(n==null?void 0:n.firstName)+" "+(n==null?void 0:n.lastName),size:"sm",avatarColor:n==null?void 0:n.avatarColor})})}),w.jsx(I1,{children:w.jsxs(wh,{onClick:i,children:[w.jsx(Fz,{className:"w-5 h-5 mr-2"}),"Profile Settings"]})})]})]})},Q3=()=>{const t=un(Xw);return w.jsxs("div",{className:"flex flex-row justify-between p-2 text-slate-600 bg-slate-100 min-w-full fixed bottom-0 text-md text-right dark:bg-slate-900 dark:text-slate-300",children:[t?w.jsx(NK,{}):w.jsx(w.Fragment,{}),w.jsxs("div",{className:"flex flex-row space-x-4",children:[w.jsx("div",{className:"flex flex-row align-center justify-center items-center",children:w.jsx(kre,{})}),w.jsx(NU,{})]})]})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Gw="166",FK=0,OT=1,OK=2,q3=1,BK=2,ia=3,ko=0,hr=1,la=2,go=0,Qc=1,BT=2,VT=3,UT=4,VK=5,rl=100,UK=101,zK=102,WK=103,jK=104,HK=200,XK=201,GK=202,YK=203,L1=204,D1=205,$K=206,ZK=207,KK=208,QK=209,qK=210,JK=211,eQ=212,tQ=213,nQ=214,iQ=0,rQ=1,sQ=2,xg=3,aQ=4,oQ=5,lQ=6,cQ=7,Yw=0,uQ=1,hQ=2,xo=0,dQ=1,fQ=2,pQ=3,mQ=4,gQ=5,xQ=6,vQ=7,J3=300,vu=301,yu=302,N1=303,F1=304,Ax=306,O1=1e3,fl=1001,B1=1002,Br=1003,yQ=1004,pp=1005,rs=1006,hv=1007,pl=1008,Ta=1009,eD=1010,tD=1011,Od=1012,$w=1013,Nl=1014,da=1015,wf=1016,Zw=1017,Kw=1018,_u=1020,nD=35902,iD=1021,rD=1022,os=1023,sD=1024,aD=1025,qc=1026,bu=1027,oD=1028,Qw=1029,lD=1030,qw=1031,Jw=1033,cm=33776,um=33777,hm=33778,dm=33779,V1=35840,U1=35841,z1=35842,W1=35843,j1=36196,H1=37492,X1=37496,G1=37808,Y1=37809,$1=37810,Z1=37811,K1=37812,Q1=37813,q1=37814,J1=37815,e_=37816,t_=37817,n_=37818,i_=37819,r_=37820,s_=37821,fm=36492,a_=36494,o_=36495,cD=36283,l_=36284,c_=36285,u_=36286,_Q=3200,bQ=3201,uD=0,wQ=1,qa="",Ts="srgb",zo="srgb-linear",eS="display-p3",kx="display-p3-linear",vg="linear",Dn="srgb",yg="rec709",_g="p3",nc=7680,zT=519,SQ=512,MQ=513,CQ=514,hD=515,TQ=516,PQ=517,EQ=518,AQ=519,WT=35044,jT="300 es",fa=2e3,bg=2001;class Bu{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}const ki=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],dv=Math.PI/180,wg=180/Math.PI;function Vu(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ki[t&255]+ki[t>>8&255]+ki[t>>16&255]+ki[t>>24&255]+"-"+ki[e&255]+ki[e>>8&255]+"-"+ki[e>>16&15|64]+ki[e>>24&255]+"-"+ki[n&63|128]+ki[n>>8&255]+"-"+ki[n>>16&255]+ki[n>>24&255]+ki[i&255]+ki[i>>8&255]+ki[i>>16&255]+ki[i>>24&255]).toLowerCase()}function Li(t,e,n){return Math.max(e,Math.min(n,t))}function kQ(t,e){return(t%e+e)%e}function fv(t,e,n){return(1-n)*t+n*e}function ah(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ji(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class mt{constructor(e=0,n=0){mt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Li(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class nn{constructor(e,n,i,r,s,a,l,u,d){nn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,a,l,u,d)}set(e,n,i,r,s,a,l,u,d){const f=this.elements;return f[0]=e,f[1]=r,f[2]=l,f[3]=n,f[4]=s,f[5]=u,f[6]=i,f[7]=a,f[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,a=i[0],l=i[3],u=i[6],d=i[1],f=i[4],x=i[7],v=i[2],y=i[5],C=i[8],k=r[0],P=r[3],S=r[6],R=r[1],L=r[4],D=r[7],W=r[2],z=r[5],j=r[8];return s[0]=a*k+l*R+u*W,s[3]=a*P+l*L+u*z,s[6]=a*S+l*D+u*j,s[1]=d*k+f*R+x*W,s[4]=d*P+f*L+x*z,s[7]=d*S+f*D+x*j,s[2]=v*k+y*R+C*W,s[5]=v*P+y*L+C*z,s[8]=v*S+y*D+C*j,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],f=e[8];return n*a*f-n*l*d-i*s*f+i*l*u+r*s*d-r*a*u}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],f=e[8],x=f*a-l*d,v=l*u-f*s,y=d*s-a*u,C=n*x+i*v+r*y;if(C===0)return this.set(0,0,0,0,0,0,0,0,0);const k=1/C;return e[0]=x*k,e[1]=(r*d-f*i)*k,e[2]=(l*i-r*a)*k,e[3]=v*k,e[4]=(f*n-r*u)*k,e[5]=(r*s-l*n)*k,e[6]=y*k,e[7]=(i*u-d*n)*k,e[8]=(a*n-i*s)*k,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,a,l){const u=Math.cos(s),d=Math.sin(s);return this.set(i*u,i*d,-i*(u*a+d*l)+a+e,-r*d,r*u,-r*(-d*a+u*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(pv.makeScale(e,n)),this}rotate(e){return this.premultiply(pv.makeRotation(-e)),this}translate(e,n){return this.premultiply(pv.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const pv=new nn;function dD(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Sg(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function RQ(){const t=Sg("canvas");return t.style.display="block",t}const HT={};function fD(t){t in HT||(HT[t]=!0,console.warn(t))}function IQ(t,e,n){return new Promise(function(i,r){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:i()}}setTimeout(s,n)})}const XT=new nn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),GT=new nn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),mp={[zo]:{transfer:vg,primaries:yg,toReference:t=>t,fromReference:t=>t},[Ts]:{transfer:Dn,primaries:yg,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[kx]:{transfer:vg,primaries:_g,toReference:t=>t.applyMatrix3(GT),fromReference:t=>t.applyMatrix3(XT)},[eS]:{transfer:Dn,primaries:_g,toReference:t=>t.convertSRGBToLinear().applyMatrix3(GT),fromReference:t=>t.applyMatrix3(XT).convertLinearToSRGB()}},LQ=new Set([zo,kx]),Pn={enabled:!0,_workingColorSpace:zo,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!LQ.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=mp[e].toReference,r=mp[n].fromReference;return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return mp[t].primaries},getTransfer:function(t){return t===qa?vg:mp[t].transfer}};function Jc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function mv(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let ic;class DQ{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{ic===void 0&&(ic=Sg("canvas")),ic.width=e.width,ic.height=e.height;const i=ic.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=ic}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Sg("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=Jc(s[a]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Jc(n[i]/255)*255):n[i]=Jc(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let NQ=0;class pD{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:NQ++}),this.uuid=Vu(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,l=r.length;a<l;a++)r[a].isDataTexture?s.push(gv(r[a].image)):s.push(gv(r[a]))}else s=gv(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function gv(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?DQ.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let FQ=0;class dr extends Bu{constructor(e=dr.DEFAULT_IMAGE,n=dr.DEFAULT_MAPPING,i=fl,r=fl,s=rs,a=pl,l=os,u=Ta,d=dr.DEFAULT_ANISOTROPY,f=qa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:FQ++}),this.uuid=Vu(),this.name="",this.source=new pD(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=u,this.offset=new mt(0,0),this.repeat=new mt(1,1),this.center=new mt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==J3)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case O1:e.x=e.x-Math.floor(e.x);break;case fl:e.x=e.x<0?0:1;break;case B1:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case O1:e.y=e.y-Math.floor(e.y);break;case fl:e.y=e.y<0?0:1;break;case B1:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}dr.DEFAULT_IMAGE=null;dr.DEFAULT_MAPPING=J3;dr.DEFAULT_ANISOTROPY=1;class Nn{constructor(e=0,n=0,i=0,r=1){Nn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*n+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*n+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*n+a[7]*i+a[11]*r+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const u=e.elements,d=u[0],f=u[4],x=u[8],v=u[1],y=u[5],C=u[9],k=u[2],P=u[6],S=u[10];if(Math.abs(f-v)<.01&&Math.abs(x-k)<.01&&Math.abs(C-P)<.01){if(Math.abs(f+v)<.1&&Math.abs(x+k)<.1&&Math.abs(C+P)<.1&&Math.abs(d+y+S-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const L=(d+1)/2,D=(y+1)/2,W=(S+1)/2,z=(f+v)/4,j=(x+k)/4,Z=(C+P)/4;return L>D&&L>W?L<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(L),r=z/i,s=j/i):D>W?D<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(D),i=z/r,s=Z/r):W<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(W),i=j/s,r=Z/s),this.set(i,r,s,n),this}let R=Math.sqrt((P-C)*(P-C)+(x-k)*(x-k)+(v-f)*(v-f));return Math.abs(R)<.001&&(R=1),this.x=(P-C)/R,this.y=(x-k)/R,this.z=(v-f)/R,this.w=Math.acos((d+y+S-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class OQ extends Bu{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Nn(0,0,e,n),this.scissorTest=!1,this.viewport=new Nn(0,0,e,n);const r={width:e,height:n,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:rs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new dr(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let l=0;l<a;l++)this.textures[l]=s.clone(),this.textures[l].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new pD(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Fl extends OQ{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class mD extends dr{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Br,this.minFilter=Br,this.wrapR=fl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class BQ extends dr{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Br,this.minFilter=Br,this.wrapR=fl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Sf{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,a,l){let u=i[r+0],d=i[r+1],f=i[r+2],x=i[r+3];const v=s[a+0],y=s[a+1],C=s[a+2],k=s[a+3];if(l===0){e[n+0]=u,e[n+1]=d,e[n+2]=f,e[n+3]=x;return}if(l===1){e[n+0]=v,e[n+1]=y,e[n+2]=C,e[n+3]=k;return}if(x!==k||u!==v||d!==y||f!==C){let P=1-l;const S=u*v+d*y+f*C+x*k,R=S>=0?1:-1,L=1-S*S;if(L>Number.EPSILON){const W=Math.sqrt(L),z=Math.atan2(W,S*R);P=Math.sin(P*z)/W,l=Math.sin(l*z)/W}const D=l*R;if(u=u*P+v*D,d=d*P+y*D,f=f*P+C*D,x=x*P+k*D,P===1-l){const W=1/Math.sqrt(u*u+d*d+f*f+x*x);u*=W,d*=W,f*=W,x*=W}}e[n]=u,e[n+1]=d,e[n+2]=f,e[n+3]=x}static multiplyQuaternionsFlat(e,n,i,r,s,a){const l=i[r],u=i[r+1],d=i[r+2],f=i[r+3],x=s[a],v=s[a+1],y=s[a+2],C=s[a+3];return e[n]=l*C+f*x+u*y-d*v,e[n+1]=u*C+f*v+d*x-l*y,e[n+2]=d*C+f*y+l*v-u*x,e[n+3]=f*C-l*x-u*v-d*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,s=e._z,a=e._order,l=Math.cos,u=Math.sin,d=l(i/2),f=l(r/2),x=l(s/2),v=u(i/2),y=u(r/2),C=u(s/2);switch(a){case"XYZ":this._x=v*f*x+d*y*C,this._y=d*y*x-v*f*C,this._z=d*f*C+v*y*x,this._w=d*f*x-v*y*C;break;case"YXZ":this._x=v*f*x+d*y*C,this._y=d*y*x-v*f*C,this._z=d*f*C-v*y*x,this._w=d*f*x+v*y*C;break;case"ZXY":this._x=v*f*x-d*y*C,this._y=d*y*x+v*f*C,this._z=d*f*C+v*y*x,this._w=d*f*x-v*y*C;break;case"ZYX":this._x=v*f*x-d*y*C,this._y=d*y*x+v*f*C,this._z=d*f*C-v*y*x,this._w=d*f*x+v*y*C;break;case"YZX":this._x=v*f*x+d*y*C,this._y=d*y*x+v*f*C,this._z=d*f*C-v*y*x,this._w=d*f*x-v*y*C;break;case"XZY":this._x=v*f*x-d*y*C,this._y=d*y*x-v*f*C,this._z=d*f*C+v*y*x,this._w=d*f*x+v*y*C;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],a=n[1],l=n[5],u=n[9],d=n[2],f=n[6],x=n[10],v=i+l+x;if(v>0){const y=.5/Math.sqrt(v+1);this._w=.25/y,this._x=(f-u)*y,this._y=(s-d)*y,this._z=(a-r)*y}else if(i>l&&i>x){const y=2*Math.sqrt(1+i-l-x);this._w=(f-u)/y,this._x=.25*y,this._y=(r+a)/y,this._z=(s+d)/y}else if(l>x){const y=2*Math.sqrt(1+l-i-x);this._w=(s-d)/y,this._x=(r+a)/y,this._y=.25*y,this._z=(u+f)/y}else{const y=2*Math.sqrt(1+x-i-l);this._w=(a-r)/y,this._x=(s+d)/y,this._y=(u+f)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Li(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,a=e._w,l=n._x,u=n._y,d=n._z,f=n._w;return this._x=i*f+a*l+r*d-s*u,this._y=r*f+a*u+s*l-i*d,this._z=s*f+a*d+i*u-r*l,this._w=a*f-i*l-r*u-s*d,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let l=a*e._w+i*e._x+r*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const u=1-l*l;if(u<=Number.EPSILON){const y=1-n;return this._w=y*a+n*this._w,this._x=y*i+n*this._x,this._y=y*r+n*this._y,this._z=y*s+n*this._z,this.normalize(),this}const d=Math.sqrt(u),f=Math.atan2(d,l),x=Math.sin((1-n)*f)/d,v=Math.sin(n*f)/d;return this._w=a*x+this._w*v,this._x=i*x+this._x*v,this._y=r*x+this._y*v,this._z=s*x+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ae{constructor(e=0,n=0,i=0){Ae.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(YT.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(YT.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,a=e.y,l=e.z,u=e.w,d=2*(a*r-l*i),f=2*(l*n-s*r),x=2*(s*i-a*n);return this.x=n+u*d+a*x-l*f,this.y=i+u*f+l*d-s*x,this.z=r+u*x+s*f-a*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,a=n.x,l=n.y,u=n.z;return this.x=r*u-s*l,this.y=s*a-i*u,this.z=i*l-r*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return xv.copy(this).projectOnVector(e),this.sub(xv)}reflect(e){return this.sub(xv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Li(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const xv=new Ae,YT=new Sf;class Mf{constructor(e=new Ae(1/0,1/0,1/0),n=new Ae(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(qr.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(qr.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=qr.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=s.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,qr):qr.fromBufferAttribute(s,a),qr.applyMatrix4(e.matrixWorld),this.expandByPoint(qr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),gp.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),gp.copy(i.boundingBox)),gp.applyMatrix4(e.matrixWorld),this.union(gp)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,qr),qr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(oh),xp.subVectors(this.max,oh),rc.subVectors(e.a,oh),sc.subVectors(e.b,oh),ac.subVectors(e.c,oh),Ba.subVectors(sc,rc),Va.subVectors(ac,sc),Go.subVectors(rc,ac);let n=[0,-Ba.z,Ba.y,0,-Va.z,Va.y,0,-Go.z,Go.y,Ba.z,0,-Ba.x,Va.z,0,-Va.x,Go.z,0,-Go.x,-Ba.y,Ba.x,0,-Va.y,Va.x,0,-Go.y,Go.x,0];return!vv(n,rc,sc,ac,xp)||(n=[1,0,0,0,1,0,0,0,1],!vv(n,rc,sc,ac,xp))?!1:(vp.crossVectors(Ba,Va),n=[vp.x,vp.y,vp.z],vv(n,rc,sc,ac,xp))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,qr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(qr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ks[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ks[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ks[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ks[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ks[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ks[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ks[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ks[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ks),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ks=[new Ae,new Ae,new Ae,new Ae,new Ae,new Ae,new Ae,new Ae],qr=new Ae,gp=new Mf,rc=new Ae,sc=new Ae,ac=new Ae,Ba=new Ae,Va=new Ae,Go=new Ae,oh=new Ae,xp=new Ae,vp=new Ae,Yo=new Ae;function vv(t,e,n,i,r){for(let s=0,a=t.length-3;s<=a;s+=3){Yo.fromArray(t,s);const l=r.x*Math.abs(Yo.x)+r.y*Math.abs(Yo.y)+r.z*Math.abs(Yo.z),u=e.dot(Yo),d=n.dot(Yo),f=i.dot(Yo);if(Math.max(-Math.max(u,d,f),Math.min(u,d,f))>l)return!1}return!0}const VQ=new Mf,lh=new Ae,yv=new Ae;class tS{constructor(e=new Ae,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):VQ.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;lh.subVectors(e,this.center);const n=lh.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(lh,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(yv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(lh.copy(e.center).add(yv)),this.expandByPoint(lh.copy(e.center).sub(yv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Qs=new Ae,_v=new Ae,yp=new Ae,Ua=new Ae,bv=new Ae,_p=new Ae,wv=new Ae;class UQ{constructor(e=new Ae,n=new Ae(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Qs)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Qs.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Qs.copy(this.origin).addScaledVector(this.direction,n),Qs.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){_v.copy(e).add(n).multiplyScalar(.5),yp.copy(n).sub(e).normalize(),Ua.copy(this.origin).sub(_v);const s=e.distanceTo(n)*.5,a=-this.direction.dot(yp),l=Ua.dot(this.direction),u=-Ua.dot(yp),d=Ua.lengthSq(),f=Math.abs(1-a*a);let x,v,y,C;if(f>0)if(x=a*u-l,v=a*l-u,C=s*f,x>=0)if(v>=-C)if(v<=C){const k=1/f;x*=k,v*=k,y=x*(x+a*v+2*l)+v*(a*x+v+2*u)+d}else v=s,x=Math.max(0,-(a*v+l)),y=-x*x+v*(v+2*u)+d;else v=-s,x=Math.max(0,-(a*v+l)),y=-x*x+v*(v+2*u)+d;else v<=-C?(x=Math.max(0,-(-a*s+l)),v=x>0?-s:Math.min(Math.max(-s,-u),s),y=-x*x+v*(v+2*u)+d):v<=C?(x=0,v=Math.min(Math.max(-s,-u),s),y=v*(v+2*u)+d):(x=Math.max(0,-(a*s+l)),v=x>0?s:Math.min(Math.max(-s,-u),s),y=-x*x+v*(v+2*u)+d);else v=a>0?-s:s,x=Math.max(0,-(a*v+l)),y=-x*x+v*(v+2*u)+d;return i&&i.copy(this.origin).addScaledVector(this.direction,x),r&&r.copy(_v).addScaledVector(yp,v),y}intersectSphere(e,n){Qs.subVectors(e.center,this.origin);const i=Qs.dot(this.direction),r=Qs.dot(Qs)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),l=i-a,u=i+a;return u<0?null:l<0?this.at(u,n):this.at(l,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,a,l,u;const d=1/this.direction.x,f=1/this.direction.y,x=1/this.direction.z,v=this.origin;return d>=0?(i=(e.min.x-v.x)*d,r=(e.max.x-v.x)*d):(i=(e.max.x-v.x)*d,r=(e.min.x-v.x)*d),f>=0?(s=(e.min.y-v.y)*f,a=(e.max.y-v.y)*f):(s=(e.max.y-v.y)*f,a=(e.min.y-v.y)*f),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),x>=0?(l=(e.min.z-v.z)*x,u=(e.max.z-v.z)*x):(l=(e.max.z-v.z)*x,u=(e.min.z-v.z)*x),i>u||l>r)||((l>i||i!==i)&&(i=l),(u<r||r!==r)&&(r=u),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,Qs)!==null}intersectTriangle(e,n,i,r,s){bv.subVectors(n,e),_p.subVectors(i,e),wv.crossVectors(bv,_p);let a=this.direction.dot(wv),l;if(a>0){if(r)return null;l=1}else if(a<0)l=-1,a=-a;else return null;Ua.subVectors(this.origin,e);const u=l*this.direction.dot(_p.crossVectors(Ua,_p));if(u<0)return null;const d=l*this.direction.dot(bv.cross(Ua));if(d<0||u+d>a)return null;const f=-l*Ua.dot(wv);return f<0?null:this.at(f/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Xn{constructor(e,n,i,r,s,a,l,u,d,f,x,v,y,C,k,P){Xn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,a,l,u,d,f,x,v,y,C,k,P)}set(e,n,i,r,s,a,l,u,d,f,x,v,y,C,k,P){const S=this.elements;return S[0]=e,S[4]=n,S[8]=i,S[12]=r,S[1]=s,S[5]=a,S[9]=l,S[13]=u,S[2]=d,S[6]=f,S[10]=x,S[14]=v,S[3]=y,S[7]=C,S[11]=k,S[15]=P,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xn().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/oc.setFromMatrixColumn(e,0).length(),s=1/oc.setFromMatrixColumn(e,1).length(),a=1/oc.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),l=Math.sin(i),u=Math.cos(r),d=Math.sin(r),f=Math.cos(s),x=Math.sin(s);if(e.order==="XYZ"){const v=a*f,y=a*x,C=l*f,k=l*x;n[0]=u*f,n[4]=-u*x,n[8]=d,n[1]=y+C*d,n[5]=v-k*d,n[9]=-l*u,n[2]=k-v*d,n[6]=C+y*d,n[10]=a*u}else if(e.order==="YXZ"){const v=u*f,y=u*x,C=d*f,k=d*x;n[0]=v+k*l,n[4]=C*l-y,n[8]=a*d,n[1]=a*x,n[5]=a*f,n[9]=-l,n[2]=y*l-C,n[6]=k+v*l,n[10]=a*u}else if(e.order==="ZXY"){const v=u*f,y=u*x,C=d*f,k=d*x;n[0]=v-k*l,n[4]=-a*x,n[8]=C+y*l,n[1]=y+C*l,n[5]=a*f,n[9]=k-v*l,n[2]=-a*d,n[6]=l,n[10]=a*u}else if(e.order==="ZYX"){const v=a*f,y=a*x,C=l*f,k=l*x;n[0]=u*f,n[4]=C*d-y,n[8]=v*d+k,n[1]=u*x,n[5]=k*d+v,n[9]=y*d-C,n[2]=-d,n[6]=l*u,n[10]=a*u}else if(e.order==="YZX"){const v=a*u,y=a*d,C=l*u,k=l*d;n[0]=u*f,n[4]=k-v*x,n[8]=C*x+y,n[1]=x,n[5]=a*f,n[9]=-l*f,n[2]=-d*f,n[6]=y*x+C,n[10]=v-k*x}else if(e.order==="XZY"){const v=a*u,y=a*d,C=l*u,k=l*d;n[0]=u*f,n[4]=-x,n[8]=d*f,n[1]=v*x+k,n[5]=a*f,n[9]=y*x-C,n[2]=C*x-y,n[6]=l*f,n[10]=k*x+v}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(zQ,e,WQ)}lookAt(e,n,i){const r=this.elements;return pr.subVectors(e,n),pr.lengthSq()===0&&(pr.z=1),pr.normalize(),za.crossVectors(i,pr),za.lengthSq()===0&&(Math.abs(i.z)===1?pr.x+=1e-4:pr.z+=1e-4,pr.normalize(),za.crossVectors(i,pr)),za.normalize(),bp.crossVectors(pr,za),r[0]=za.x,r[4]=bp.x,r[8]=pr.x,r[1]=za.y,r[5]=bp.y,r[9]=pr.y,r[2]=za.z,r[6]=bp.z,r[10]=pr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,a=i[0],l=i[4],u=i[8],d=i[12],f=i[1],x=i[5],v=i[9],y=i[13],C=i[2],k=i[6],P=i[10],S=i[14],R=i[3],L=i[7],D=i[11],W=i[15],z=r[0],j=r[4],Z=r[8],$=r[12],H=r[1],q=r[5],ce=r[9],le=r[13],me=r[2],we=r[6],Se=r[10],ge=r[14],ie=r[3],_e=r[7],Te=r[11],ee=r[15];return s[0]=a*z+l*H+u*me+d*ie,s[4]=a*j+l*q+u*we+d*_e,s[8]=a*Z+l*ce+u*Se+d*Te,s[12]=a*$+l*le+u*ge+d*ee,s[1]=f*z+x*H+v*me+y*ie,s[5]=f*j+x*q+v*we+y*_e,s[9]=f*Z+x*ce+v*Se+y*Te,s[13]=f*$+x*le+v*ge+y*ee,s[2]=C*z+k*H+P*me+S*ie,s[6]=C*j+k*q+P*we+S*_e,s[10]=C*Z+k*ce+P*Se+S*Te,s[14]=C*$+k*le+P*ge+S*ee,s[3]=R*z+L*H+D*me+W*ie,s[7]=R*j+L*q+D*we+W*_e,s[11]=R*Z+L*ce+D*Se+W*Te,s[15]=R*$+L*le+D*ge+W*ee,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],a=e[1],l=e[5],u=e[9],d=e[13],f=e[2],x=e[6],v=e[10],y=e[14],C=e[3],k=e[7],P=e[11],S=e[15];return C*(+s*u*x-r*d*x-s*l*v+i*d*v+r*l*y-i*u*y)+k*(+n*u*y-n*d*v+s*a*v-r*a*y+r*d*f-s*u*f)+P*(+n*d*x-n*l*y-s*a*x+i*a*y+s*l*f-i*d*f)+S*(-r*l*f-n*u*x+n*l*v+r*a*x-i*a*v+i*u*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],f=e[8],x=e[9],v=e[10],y=e[11],C=e[12],k=e[13],P=e[14],S=e[15],R=x*P*d-k*v*d+k*u*y-l*P*y-x*u*S+l*v*S,L=C*v*d-f*P*d-C*u*y+a*P*y+f*u*S-a*v*S,D=f*k*d-C*x*d+C*l*y-a*k*y-f*l*S+a*x*S,W=C*x*u-f*k*u-C*l*v+a*k*v+f*l*P-a*x*P,z=n*R+i*L+r*D+s*W;if(z===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const j=1/z;return e[0]=R*j,e[1]=(k*v*s-x*P*s-k*r*y+i*P*y+x*r*S-i*v*S)*j,e[2]=(l*P*s-k*u*s+k*r*d-i*P*d-l*r*S+i*u*S)*j,e[3]=(x*u*s-l*v*s-x*r*d+i*v*d+l*r*y-i*u*y)*j,e[4]=L*j,e[5]=(f*P*s-C*v*s+C*r*y-n*P*y-f*r*S+n*v*S)*j,e[6]=(C*u*s-a*P*s-C*r*d+n*P*d+a*r*S-n*u*S)*j,e[7]=(a*v*s-f*u*s+f*r*d-n*v*d-a*r*y+n*u*y)*j,e[8]=D*j,e[9]=(C*x*s-f*k*s-C*i*y+n*k*y+f*i*S-n*x*S)*j,e[10]=(a*k*s-C*l*s+C*i*d-n*k*d-a*i*S+n*l*S)*j,e[11]=(f*l*s-a*x*s-f*i*d+n*x*d+a*i*y-n*l*y)*j,e[12]=W*j,e[13]=(f*k*r-C*x*r+C*i*v-n*k*v-f*i*P+n*x*P)*j,e[14]=(C*l*r-a*k*r-C*i*u+n*k*u+a*i*P-n*l*P)*j,e[15]=(a*x*r-f*l*r+f*i*u-n*x*u-a*i*v+n*l*v)*j,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,a=e.x,l=e.y,u=e.z,d=s*a,f=s*l;return this.set(d*a+i,d*l-r*u,d*u+r*l,0,d*l+r*u,f*l+i,f*u-r*a,0,d*u-r*l,f*u+r*a,s*u*u+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,a=n._y,l=n._z,u=n._w,d=s+s,f=a+a,x=l+l,v=s*d,y=s*f,C=s*x,k=a*f,P=a*x,S=l*x,R=u*d,L=u*f,D=u*x,W=i.x,z=i.y,j=i.z;return r[0]=(1-(k+S))*W,r[1]=(y+D)*W,r[2]=(C-L)*W,r[3]=0,r[4]=(y-D)*z,r[5]=(1-(v+S))*z,r[6]=(P+R)*z,r[7]=0,r[8]=(C+L)*j,r[9]=(P-R)*j,r[10]=(1-(v+k))*j,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=oc.set(r[0],r[1],r[2]).length();const a=oc.set(r[4],r[5],r[6]).length(),l=oc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Jr.copy(this);const d=1/s,f=1/a,x=1/l;return Jr.elements[0]*=d,Jr.elements[1]*=d,Jr.elements[2]*=d,Jr.elements[4]*=f,Jr.elements[5]*=f,Jr.elements[6]*=f,Jr.elements[8]*=x,Jr.elements[9]*=x,Jr.elements[10]*=x,n.setFromRotationMatrix(Jr),i.x=s,i.y=a,i.z=l,this}makePerspective(e,n,i,r,s,a,l=fa){const u=this.elements,d=2*s/(n-e),f=2*s/(i-r),x=(n+e)/(n-e),v=(i+r)/(i-r);let y,C;if(l===fa)y=-(a+s)/(a-s),C=-2*a*s/(a-s);else if(l===bg)y=-a/(a-s),C=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=d,u[4]=0,u[8]=x,u[12]=0,u[1]=0,u[5]=f,u[9]=v,u[13]=0,u[2]=0,u[6]=0,u[10]=y,u[14]=C,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,i,r,s,a,l=fa){const u=this.elements,d=1/(n-e),f=1/(i-r),x=1/(a-s),v=(n+e)*d,y=(i+r)*f;let C,k;if(l===fa)C=(a+s)*x,k=-2*x;else if(l===bg)C=s*x,k=-1*x;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*d,u[4]=0,u[8]=0,u[12]=-v,u[1]=0,u[5]=2*f,u[9]=0,u[13]=-y,u[2]=0,u[6]=0,u[10]=k,u[14]=-C,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const oc=new Ae,Jr=new Xn,zQ=new Ae(0,0,0),WQ=new Ae(1,1,1),za=new Ae,bp=new Ae,pr=new Ae,$T=new Xn,ZT=new Sf;class Hs{constructor(e=0,n=0,i=0,r=Hs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],l=r[8],u=r[1],d=r[5],f=r[9],x=r[2],v=r[6],y=r[10];switch(n){case"XYZ":this._y=Math.asin(Li(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,y),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(v,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Li(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(l,y),this._z=Math.atan2(u,d)):(this._y=Math.atan2(-x,s),this._z=0);break;case"ZXY":this._x=Math.asin(Li(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-x,y),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(u,s));break;case"ZYX":this._y=Math.asin(-Li(x,-1,1)),Math.abs(x)<.9999999?(this._x=Math.atan2(v,y),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(Li(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-f,d),this._y=Math.atan2(-x,s)):(this._x=0,this._y=Math.atan2(l,y));break;case"XZY":this._z=Math.asin(-Li(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(v,d),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-f,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return $T.makeRotationFromQuaternion(e),this.setFromRotationMatrix($T,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return ZT.setFromEuler(this),this.setFromQuaternion(ZT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Hs.DEFAULT_ORDER="XYZ";class gD{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let jQ=0;const KT=new Ae,lc=new Sf,qs=new Xn,wp=new Ae,ch=new Ae,HQ=new Ae,XQ=new Sf,QT=new Ae(1,0,0),qT=new Ae(0,1,0),JT=new Ae(0,0,1),e2={type:"added"},GQ={type:"removed"},cc={type:"childadded",child:null},Sv={type:"childremoved",child:null};class Fi extends Bu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:jQ++}),this.uuid=Vu(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Fi.DEFAULT_UP.clone();const e=new Ae,n=new Hs,i=new Sf,r=new Ae(1,1,1);function s(){i.setFromEuler(n,!1)}function a(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Xn},normalMatrix:{value:new nn}}),this.matrix=new Xn,this.matrixWorld=new Xn,this.matrixAutoUpdate=Fi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Fi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new gD,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return lc.setFromAxisAngle(e,n),this.quaternion.multiply(lc),this}rotateOnWorldAxis(e,n){return lc.setFromAxisAngle(e,n),this.quaternion.premultiply(lc),this}rotateX(e){return this.rotateOnAxis(QT,e)}rotateY(e){return this.rotateOnAxis(qT,e)}rotateZ(e){return this.rotateOnAxis(JT,e)}translateOnAxis(e,n){return KT.copy(e).applyQuaternion(this.quaternion),this.position.add(KT.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(QT,e)}translateY(e){return this.translateOnAxis(qT,e)}translateZ(e){return this.translateOnAxis(JT,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(qs.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?wp.copy(e):wp.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),ch.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?qs.lookAt(ch,wp,this.up):qs.lookAt(wp,ch,this.up),this.quaternion.setFromRotationMatrix(qs),r&&(qs.extractRotation(r.matrixWorld),lc.setFromRotationMatrix(qs),this.quaternion.premultiply(lc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(e2),cc.child=e,this.dispatchEvent(cc),cc.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(GQ),Sv.child=e,this.dispatchEvent(Sv),Sv.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),qs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),qs.multiply(e.parent.matrixWorld)),e.applyMatrix4(qs),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(e2),cc.child=e,this.dispatchEvent(cc),cc.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ch,e,HQ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ch,XQ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let d=0,f=u.length;d<f;d++){const x=u[d];s(e.shapes,x)}else s(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,d=this.material.length;u<d;u++)l.push(s(e.materials,this.material[u]));r.material=l}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];r.animations.push(s(e.animations,u))}}if(n){const l=a(e.geometries),u=a(e.materials),d=a(e.textures),f=a(e.images),x=a(e.shapes),v=a(e.skeletons),y=a(e.animations),C=a(e.nodes);l.length>0&&(i.geometries=l),u.length>0&&(i.materials=u),d.length>0&&(i.textures=d),f.length>0&&(i.images=f),x.length>0&&(i.shapes=x),v.length>0&&(i.skeletons=v),y.length>0&&(i.animations=y),C.length>0&&(i.nodes=C)}return i.object=r,i;function a(l){const u=[];for(const d in l){const f=l[d];delete f.metadata,u.push(f)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Fi.DEFAULT_UP=new Ae(0,1,0);Fi.DEFAULT_MATRIX_AUTO_UPDATE=!0;Fi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const es=new Ae,Js=new Ae,Mv=new Ae,ea=new Ae,uc=new Ae,hc=new Ae,t2=new Ae,Cv=new Ae,Tv=new Ae,Pv=new Ae;class ks{constructor(e=new Ae,n=new Ae,i=new Ae){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),es.subVectors(e,n),r.cross(es);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){es.subVectors(r,n),Js.subVectors(i,n),Mv.subVectors(e,n);const a=es.dot(es),l=es.dot(Js),u=es.dot(Mv),d=Js.dot(Js),f=Js.dot(Mv),x=a*d-l*l;if(x===0)return s.set(0,0,0),null;const v=1/x,y=(d*u-l*f)*v,C=(a*f-l*u)*v;return s.set(1-y-C,C,y)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,ea)===null?!1:ea.x>=0&&ea.y>=0&&ea.x+ea.y<=1}static getInterpolation(e,n,i,r,s,a,l,u){return this.getBarycoord(e,n,i,r,ea)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(s,ea.x),u.addScaledVector(a,ea.y),u.addScaledVector(l,ea.z),u)}static isFrontFacing(e,n,i,r){return es.subVectors(i,n),Js.subVectors(e,n),es.cross(Js).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return es.subVectors(this.c,this.b),Js.subVectors(this.a,this.b),es.cross(Js).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ks.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ks.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,s){return ks.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return ks.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ks.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let a,l;uc.subVectors(r,i),hc.subVectors(s,i),Cv.subVectors(e,i);const u=uc.dot(Cv),d=hc.dot(Cv);if(u<=0&&d<=0)return n.copy(i);Tv.subVectors(e,r);const f=uc.dot(Tv),x=hc.dot(Tv);if(f>=0&&x<=f)return n.copy(r);const v=u*x-f*d;if(v<=0&&u>=0&&f<=0)return a=u/(u-f),n.copy(i).addScaledVector(uc,a);Pv.subVectors(e,s);const y=uc.dot(Pv),C=hc.dot(Pv);if(C>=0&&y<=C)return n.copy(s);const k=y*d-u*C;if(k<=0&&d>=0&&C<=0)return l=d/(d-C),n.copy(i).addScaledVector(hc,l);const P=f*C-y*x;if(P<=0&&x-f>=0&&y-C>=0)return t2.subVectors(s,r),l=(x-f)/(x-f+(y-C)),n.copy(r).addScaledVector(t2,l);const S=1/(P+k+v);return a=k*S,l=v*S,n.copy(i).addScaledVector(uc,a).addScaledVector(hc,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const xD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Wa={h:0,s:0,l:0},Sp={h:0,s:0,l:0};function Ev(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class gn{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Ts){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Pn.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=Pn.workingColorSpace){return this.r=e,this.g=n,this.b=i,Pn.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=Pn.workingColorSpace){if(e=kQ(e,1),n=Li(n,0,1),i=Li(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,a=2*i-s;this.r=Ev(a,s,e+1/3),this.g=Ev(a,s,e),this.b=Ev(a,s,e-1/3)}return Pn.toWorkingColorSpace(this,r),this}setStyle(e,n=Ts){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],l=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Ts){const i=xD[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Jc(e.r),this.g=Jc(e.g),this.b=Jc(e.b),this}copyLinearToSRGB(e){return this.r=mv(e.r),this.g=mv(e.g),this.b=mv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ts){return Pn.fromWorkingColorSpace(Ri.copy(this),e),Math.round(Li(Ri.r*255,0,255))*65536+Math.round(Li(Ri.g*255,0,255))*256+Math.round(Li(Ri.b*255,0,255))}getHexString(e=Ts){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Pn.workingColorSpace){Pn.fromWorkingColorSpace(Ri.copy(this),n);const i=Ri.r,r=Ri.g,s=Ri.b,a=Math.max(i,r,s),l=Math.min(i,r,s);let u,d;const f=(l+a)/2;if(l===a)u=0,d=0;else{const x=a-l;switch(d=f<=.5?x/(a+l):x/(2-a-l),a){case i:u=(r-s)/x+(r<s?6:0);break;case r:u=(s-i)/x+2;break;case s:u=(i-r)/x+4;break}u/=6}return e.h=u,e.s=d,e.l=f,e}getRGB(e,n=Pn.workingColorSpace){return Pn.fromWorkingColorSpace(Ri.copy(this),n),e.r=Ri.r,e.g=Ri.g,e.b=Ri.b,e}getStyle(e=Ts){Pn.fromWorkingColorSpace(Ri.copy(this),e);const n=Ri.r,i=Ri.g,r=Ri.b;return e!==Ts?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(Wa),this.setHSL(Wa.h+e,Wa.s+n,Wa.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Wa),e.getHSL(Sp);const i=fv(Wa.h,Sp.h,n),r=fv(Wa.s,Sp.s,n),s=fv(Wa.l,Sp.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ri=new gn;gn.NAMES=xD;let YQ=0;class Cf extends Bu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:YQ++}),this.uuid=Vu(),this.name="",this.type="Material",this.blending=Qc,this.side=ko,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=L1,this.blendDst=D1,this.blendEquation=rl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new gn(0,0,0),this.blendAlpha=0,this.depthFunc=xg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=zT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=nc,this.stencilZFail=nc,this.stencilZPass=nc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Qc&&(i.blending=this.blending),this.side!==ko&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==L1&&(i.blendSrc=this.blendSrc),this.blendDst!==D1&&(i.blendDst=this.blendDst),this.blendEquation!==rl&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==xg&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==zT&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==nc&&(i.stencilFail=this.stencilFail),this.stencilZFail!==nc&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==nc&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const l in s){const u=s[l];delete u.metadata,a.push(u)}return a}if(n){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class vD extends Cf{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new gn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Hs,this.combine=Yw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ni=new Ae,Mp=new mt;class Fs{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=WT,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=da,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return fD("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Mp.fromBufferAttribute(this,n),Mp.applyMatrix3(e),this.setXY(n,Mp.x,Mp.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)ni.fromBufferAttribute(this,n),ni.applyMatrix3(e),this.setXYZ(n,ni.x,ni.y,ni.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)ni.fromBufferAttribute(this,n),ni.applyMatrix4(e),this.setXYZ(n,ni.x,ni.y,ni.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)ni.fromBufferAttribute(this,n),ni.applyNormalMatrix(e),this.setXYZ(n,ni.x,ni.y,ni.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)ni.fromBufferAttribute(this,n),ni.transformDirection(e),this.setXYZ(n,ni.x,ni.y,ni.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=ah(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Ji(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ah(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ji(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ah(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ji(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ah(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ji(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ah(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ji(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Ji(n,this.array),i=Ji(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Ji(n,this.array),i=Ji(i,this.array),r=Ji(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=Ji(n,this.array),i=Ji(i,this.array),r=Ji(r,this.array),s=Ji(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==WT&&(e.usage=this.usage),e}}class yD extends Fs{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class _D extends Fs{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class Wr extends Fs{constructor(e,n,i){super(new Float32Array(e),n,i)}}let $Q=0;const Ir=new Xn,Av=new Fi,dc=new Ae,mr=new Mf,uh=new Mf,pi=new Ae;class ka extends Bu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:$Q++}),this.uuid=Vu(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(dD(e)?_D:yD)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new nn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ir.makeRotationFromQuaternion(e),this.applyMatrix4(Ir),this}rotateX(e){return Ir.makeRotationX(e),this.applyMatrix4(Ir),this}rotateY(e){return Ir.makeRotationY(e),this.applyMatrix4(Ir),this}rotateZ(e){return Ir.makeRotationZ(e),this.applyMatrix4(Ir),this}translate(e,n,i){return Ir.makeTranslation(e,n,i),this.applyMatrix4(Ir),this}scale(e,n,i){return Ir.makeScale(e,n,i),this.applyMatrix4(Ir),this}lookAt(e){return Av.lookAt(e),Av.updateMatrix(),this.applyMatrix4(Av.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(dc).negate(),this.translate(dc.x,dc.y,dc.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Wr(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Mf);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Ae(-1/0,-1/0,-1/0),new Ae(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];mr.setFromBufferAttribute(s),this.morphTargetsRelative?(pi.addVectors(this.boundingBox.min,mr.min),this.boundingBox.expandByPoint(pi),pi.addVectors(this.boundingBox.max,mr.max),this.boundingBox.expandByPoint(pi)):(this.boundingBox.expandByPoint(mr.min),this.boundingBox.expandByPoint(mr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new tS);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Ae,1/0);return}if(e){const i=this.boundingSphere.center;if(mr.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const l=n[s];uh.setFromBufferAttribute(l),this.morphTargetsRelative?(pi.addVectors(mr.min,uh.min),mr.expandByPoint(pi),pi.addVectors(mr.max,uh.max),mr.expandByPoint(pi)):(mr.expandByPoint(uh.min),mr.expandByPoint(uh.max))}mr.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)pi.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(pi));if(n)for(let s=0,a=n.length;s<a;s++){const l=n[s],u=this.morphTargetsRelative;for(let d=0,f=l.count;d<f;d++)pi.fromBufferAttribute(l,d),u&&(dc.fromBufferAttribute(e,d),pi.add(dc)),r=Math.max(r,i.distanceToSquared(pi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Fs(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),l=[],u=[];for(let Z=0;Z<i.count;Z++)l[Z]=new Ae,u[Z]=new Ae;const d=new Ae,f=new Ae,x=new Ae,v=new mt,y=new mt,C=new mt,k=new Ae,P=new Ae;function S(Z,$,H){d.fromBufferAttribute(i,Z),f.fromBufferAttribute(i,$),x.fromBufferAttribute(i,H),v.fromBufferAttribute(s,Z),y.fromBufferAttribute(s,$),C.fromBufferAttribute(s,H),f.sub(d),x.sub(d),y.sub(v),C.sub(v);const q=1/(y.x*C.y-C.x*y.y);isFinite(q)&&(k.copy(f).multiplyScalar(C.y).addScaledVector(x,-y.y).multiplyScalar(q),P.copy(x).multiplyScalar(y.x).addScaledVector(f,-C.x).multiplyScalar(q),l[Z].add(k),l[$].add(k),l[H].add(k),u[Z].add(P),u[$].add(P),u[H].add(P))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let Z=0,$=R.length;Z<$;++Z){const H=R[Z],q=H.start,ce=H.count;for(let le=q,me=q+ce;le<me;le+=3)S(e.getX(le+0),e.getX(le+1),e.getX(le+2))}const L=new Ae,D=new Ae,W=new Ae,z=new Ae;function j(Z){W.fromBufferAttribute(r,Z),z.copy(W);const $=l[Z];L.copy($),L.sub(W.multiplyScalar(W.dot($))).normalize(),D.crossVectors(z,$);const q=D.dot(u[Z])<0?-1:1;a.setXYZW(Z,L.x,L.y,L.z,q)}for(let Z=0,$=R.length;Z<$;++Z){const H=R[Z],q=H.start,ce=H.count;for(let le=q,me=q+ce;le<me;le+=3)j(e.getX(le+0)),j(e.getX(le+1)),j(e.getX(le+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Fs(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let v=0,y=i.count;v<y;v++)i.setXYZ(v,0,0,0);const r=new Ae,s=new Ae,a=new Ae,l=new Ae,u=new Ae,d=new Ae,f=new Ae,x=new Ae;if(e)for(let v=0,y=e.count;v<y;v+=3){const C=e.getX(v+0),k=e.getX(v+1),P=e.getX(v+2);r.fromBufferAttribute(n,C),s.fromBufferAttribute(n,k),a.fromBufferAttribute(n,P),f.subVectors(a,s),x.subVectors(r,s),f.cross(x),l.fromBufferAttribute(i,C),u.fromBufferAttribute(i,k),d.fromBufferAttribute(i,P),l.add(f),u.add(f),d.add(f),i.setXYZ(C,l.x,l.y,l.z),i.setXYZ(k,u.x,u.y,u.z),i.setXYZ(P,d.x,d.y,d.z)}else for(let v=0,y=n.count;v<y;v+=3)r.fromBufferAttribute(n,v+0),s.fromBufferAttribute(n,v+1),a.fromBufferAttribute(n,v+2),f.subVectors(a,s),x.subVectors(r,s),f.cross(x),i.setXYZ(v+0,f.x,f.y,f.z),i.setXYZ(v+1,f.x,f.y,f.z),i.setXYZ(v+2,f.x,f.y,f.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)pi.fromBufferAttribute(e,n),pi.normalize(),e.setXYZ(n,pi.x,pi.y,pi.z)}toNonIndexed(){function e(l,u){const d=l.array,f=l.itemSize,x=l.normalized,v=new d.constructor(u.length*f);let y=0,C=0;for(let k=0,P=u.length;k<P;k++){l.isInterleavedBufferAttribute?y=u[k]*l.data.stride+l.offset:y=u[k]*f;for(let S=0;S<f;S++)v[C++]=d[y++]}return new Fs(v,f,x)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new ka,i=this.index.array,r=this.attributes;for(const l in r){const u=r[l],d=e(u,i);n.setAttribute(l,d)}const s=this.morphAttributes;for(const l in s){const u=[],d=s[l];for(let f=0,x=d.length;f<x;f++){const v=d[f],y=e(v,i);u.push(y)}n.morphAttributes[l]=u}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,u=a.length;l<u;l++){const d=a[l];n.addGroup(d.start,d.count,d.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const d in u)u[d]!==void 0&&(e[d]=u[d]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const u in i){const d=i[u];e.data.attributes[u]=d.toJSON(e.data)}const r={};let s=!1;for(const u in this.morphAttributes){const d=this.morphAttributes[u],f=[];for(let x=0,v=d.length;x<v;x++){const y=d[x];f.push(y.toJSON(e.data))}f.length>0&&(r[u]=f,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const d in r){const f=r[d];this.setAttribute(d,f.clone(n))}const s=e.morphAttributes;for(const d in s){const f=[],x=s[d];for(let v=0,y=x.length;v<y;v++)f.push(x[v].clone(n));this.morphAttributes[d]=f}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let d=0,f=a.length;d<f;d++){const x=a[d];this.addGroup(x.start,x.count,x.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const n2=new Xn,$o=new UQ,Cp=new tS,i2=new Ae,fc=new Ae,pc=new Ae,mc=new Ae,kv=new Ae,Tp=new Ae,Pp=new mt,Ep=new mt,Ap=new mt,r2=new Ae,s2=new Ae,a2=new Ae,kp=new Ae,Rp=new Ae;class rr extends Fi{constructor(e=new ka,n=new vD){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(s&&l){Tp.set(0,0,0);for(let u=0,d=s.length;u<d;u++){const f=l[u],x=s[u];f!==0&&(kv.fromBufferAttribute(x,e),a?Tp.addScaledVector(kv,f):Tp.addScaledVector(kv.sub(n),f))}n.add(Tp)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Cp.copy(i.boundingSphere),Cp.applyMatrix4(s),$o.copy(e.ray).recast(e.near),!(Cp.containsPoint($o.origin)===!1&&($o.intersectSphere(Cp,i2)===null||$o.origin.distanceToSquared(i2)>(e.far-e.near)**2))&&(n2.copy(s).invert(),$o.copy(e.ray).applyMatrix4(n2),!(i.boundingBox!==null&&$o.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,$o)))}_computeIntersections(e,n,i){let r;const s=this.geometry,a=this.material,l=s.index,u=s.attributes.position,d=s.attributes.uv,f=s.attributes.uv1,x=s.attributes.normal,v=s.groups,y=s.drawRange;if(l!==null)if(Array.isArray(a))for(let C=0,k=v.length;C<k;C++){const P=v[C],S=a[P.materialIndex],R=Math.max(P.start,y.start),L=Math.min(l.count,Math.min(P.start+P.count,y.start+y.count));for(let D=R,W=L;D<W;D+=3){const z=l.getX(D),j=l.getX(D+1),Z=l.getX(D+2);r=Ip(this,S,e,i,d,f,x,z,j,Z),r&&(r.faceIndex=Math.floor(D/3),r.face.materialIndex=P.materialIndex,n.push(r))}}else{const C=Math.max(0,y.start),k=Math.min(l.count,y.start+y.count);for(let P=C,S=k;P<S;P+=3){const R=l.getX(P),L=l.getX(P+1),D=l.getX(P+2);r=Ip(this,a,e,i,d,f,x,R,L,D),r&&(r.faceIndex=Math.floor(P/3),n.push(r))}}else if(u!==void 0)if(Array.isArray(a))for(let C=0,k=v.length;C<k;C++){const P=v[C],S=a[P.materialIndex],R=Math.max(P.start,y.start),L=Math.min(u.count,Math.min(P.start+P.count,y.start+y.count));for(let D=R,W=L;D<W;D+=3){const z=D,j=D+1,Z=D+2;r=Ip(this,S,e,i,d,f,x,z,j,Z),r&&(r.faceIndex=Math.floor(D/3),r.face.materialIndex=P.materialIndex,n.push(r))}}else{const C=Math.max(0,y.start),k=Math.min(u.count,y.start+y.count);for(let P=C,S=k;P<S;P+=3){const R=P,L=P+1,D=P+2;r=Ip(this,a,e,i,d,f,x,R,L,D),r&&(r.faceIndex=Math.floor(P/3),n.push(r))}}}}function ZQ(t,e,n,i,r,s,a,l){let u;if(e.side===hr?u=i.intersectTriangle(a,s,r,!0,l):u=i.intersectTriangle(r,s,a,e.side===ko,l),u===null)return null;Rp.copy(l),Rp.applyMatrix4(t.matrixWorld);const d=n.ray.origin.distanceTo(Rp);return d<n.near||d>n.far?null:{distance:d,point:Rp.clone(),object:t}}function Ip(t,e,n,i,r,s,a,l,u,d){t.getVertexPosition(l,fc),t.getVertexPosition(u,pc),t.getVertexPosition(d,mc);const f=ZQ(t,e,n,i,fc,pc,mc,kp);if(f){r&&(Pp.fromBufferAttribute(r,l),Ep.fromBufferAttribute(r,u),Ap.fromBufferAttribute(r,d),f.uv=ks.getInterpolation(kp,fc,pc,mc,Pp,Ep,Ap,new mt)),s&&(Pp.fromBufferAttribute(s,l),Ep.fromBufferAttribute(s,u),Ap.fromBufferAttribute(s,d),f.uv1=ks.getInterpolation(kp,fc,pc,mc,Pp,Ep,Ap,new mt)),a&&(r2.fromBufferAttribute(a,l),s2.fromBufferAttribute(a,u),a2.fromBufferAttribute(a,d),f.normal=ks.getInterpolation(kp,fc,pc,mc,r2,s2,a2,new Ae),f.normal.dot(i.direction)>0&&f.normal.multiplyScalar(-1));const x={a:l,b:u,c:d,normal:new Ae,materialIndex:0};ks.getNormal(fc,pc,mc,x.normal),f.face=x}return f}class Tf extends ka{constructor(e=1,n=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const l=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const u=[],d=[],f=[],x=[];let v=0,y=0;C("z","y","x",-1,-1,i,n,e,a,s,0),C("z","y","x",1,-1,i,n,-e,a,s,1),C("x","z","y",1,1,e,i,n,r,a,2),C("x","z","y",1,-1,e,i,-n,r,a,3),C("x","y","z",1,-1,e,n,i,r,s,4),C("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(u),this.setAttribute("position",new Wr(d,3)),this.setAttribute("normal",new Wr(f,3)),this.setAttribute("uv",new Wr(x,2));function C(k,P,S,R,L,D,W,z,j,Z,$){const H=D/j,q=W/Z,ce=D/2,le=W/2,me=z/2,we=j+1,Se=Z+1;let ge=0,ie=0;const _e=new Ae;for(let Te=0;Te<Se;Te++){const ee=Te*q-le;for(let He=0;He<we;He++){const Ue=He*H-ce;_e[k]=Ue*R,_e[P]=ee*L,_e[S]=me,d.push(_e.x,_e.y,_e.z),_e[k]=0,_e[P]=0,_e[S]=z>0?1:-1,f.push(_e.x,_e.y,_e.z),x.push(He/j),x.push(1-Te/Z),ge+=1}}for(let Te=0;Te<Z;Te++)for(let ee=0;ee<j;ee++){const He=v+ee+we*Te,Ue=v+ee+we*(Te+1),K=v+(ee+1)+we*(Te+1),oe=v+(ee+1)+we*Te;u.push(He,Ue,oe),u.push(Ue,K,oe),ie+=6}l.addGroup(y,ie,$),y+=ie,v+=ge}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function wu(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function zi(t){const e={};for(let n=0;n<t.length;n++){const i=wu(t[n]);for(const r in i)e[r]=i[r]}return e}function KQ(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function bD(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Pn.workingColorSpace}const QQ={clone:wu,merge:zi};var qQ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,JQ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ro extends Cf{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=qQ,this.fragmentShader=JQ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=wu(e.uniforms),this.uniformsGroups=KQ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?n.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[r]={type:"m4",value:a.toArray()}:n.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class wD extends Fi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Xn,this.projectionMatrix=new Xn,this.projectionMatrixInverse=new Xn,this.coordinateSystem=fa}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ja=new Ae,o2=new mt,l2=new mt;class ir extends wD{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=wg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(dv*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return wg*2*Math.atan(Math.tan(dv*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){ja.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ja.x,ja.y).multiplyScalar(-e/ja.z),ja.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(ja.x,ja.y).multiplyScalar(-e/ja.z)}getViewSize(e,n){return this.getViewBounds(e,o2,l2),n.subVectors(l2,o2)}setViewOffset(e,n,i,r,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(dv*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const u=a.fullWidth,d=a.fullHeight;s+=a.offsetX*r/u,n-=a.offsetY*i/d,r*=a.width/u,i*=a.height/d}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const gc=-90,xc=1;class eq extends Fi{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new ir(gc,xc,e,n);r.layers=this.layers,this.add(r);const s=new ir(gc,xc,e,n);s.layers=this.layers,this.add(s);const a=new ir(gc,xc,e,n);a.layers=this.layers,this.add(a);const l=new ir(gc,xc,e,n);l.layers=this.layers,this.add(l);const u=new ir(gc,xc,e,n);u.layers=this.layers,this.add(u);const d=new ir(gc,xc,e,n);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,a,l,u]=n;for(const d of n)this.remove(d);if(e===fa)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===bg)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of n)this.add(d),d.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,l,u,d,f]=this.children,x=e.getRenderTarget(),v=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),C=e.xr.enabled;e.xr.enabled=!1;const k=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,s),e.setRenderTarget(i,1,r),e.render(n,a),e.setRenderTarget(i,2,r),e.render(n,l),e.setRenderTarget(i,3,r),e.render(n,u),e.setRenderTarget(i,4,r),e.render(n,d),i.texture.generateMipmaps=k,e.setRenderTarget(i,5,r),e.render(n,f),e.setRenderTarget(x,v,y),e.xr.enabled=C,i.texture.needsPMREMUpdate=!0}}class SD extends dr{constructor(e,n,i,r,s,a,l,u,d,f){e=e!==void 0?e:[],n=n!==void 0?n:vu,super(e,n,i,r,s,a,l,u,d,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class tq extends Fl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new SD(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:rs}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Tf(5,5,5),s=new Ro({name:"CubemapFromEquirect",uniforms:wu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:hr,blending:go});s.uniforms.tEquirect.value=n;const a=new rr(r,s),l=n.minFilter;return n.minFilter===pl&&(n.minFilter=rs),new eq(1,10,this).update(e,a),n.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,i,r);e.setRenderTarget(s)}}const Rv=new Ae,nq=new Ae,iq=new nn;class nl{constructor(e=new Ae(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=Rv.subVectors(i,n).cross(nq.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(Rv),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||iq.getNormalMatrix(e),r=this.coplanarPoint(Rv).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Zo=new tS,Lp=new Ae;class nS{constructor(e=new nl,n=new nl,i=new nl,r=new nl,s=new nl,a=new nl){this.planes=[e,n,i,r,s,a]}set(e,n,i,r,s,a){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(i),l[3].copy(r),l[4].copy(s),l[5].copy(a),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=fa){const i=this.planes,r=e.elements,s=r[0],a=r[1],l=r[2],u=r[3],d=r[4],f=r[5],x=r[6],v=r[7],y=r[8],C=r[9],k=r[10],P=r[11],S=r[12],R=r[13],L=r[14],D=r[15];if(i[0].setComponents(u-s,v-d,P-y,D-S).normalize(),i[1].setComponents(u+s,v+d,P+y,D+S).normalize(),i[2].setComponents(u+a,v+f,P+C,D+R).normalize(),i[3].setComponents(u-a,v-f,P-C,D-R).normalize(),i[4].setComponents(u-l,v-x,P-k,D-L).normalize(),n===fa)i[5].setComponents(u+l,v+x,P+k,D+L).normalize();else if(n===bg)i[5].setComponents(l,x,k,L).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Zo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Zo.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Zo)}intersectsSprite(e){return Zo.center.set(0,0,0),Zo.radius=.7071067811865476,Zo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Zo)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(Lp.x=r.normal.x>0?e.max.x:e.min.x,Lp.y=r.normal.y>0?e.max.y:e.min.y,Lp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Lp)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function MD(){let t=null,e=!1,n=null,i=null;function r(s,a){n(s,a),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function rq(t){const e=new WeakMap;function n(l,u){const d=l.array,f=l.usage,x=d.byteLength,v=t.createBuffer();t.bindBuffer(u,v),t.bufferData(u,d,f),l.onUploadCallback();let y;if(d instanceof Float32Array)y=t.FLOAT;else if(d instanceof Uint16Array)l.isFloat16BufferAttribute?y=t.HALF_FLOAT:y=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)y=t.SHORT;else if(d instanceof Uint32Array)y=t.UNSIGNED_INT;else if(d instanceof Int32Array)y=t.INT;else if(d instanceof Int8Array)y=t.BYTE;else if(d instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:v,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:l.version,size:x}}function i(l,u,d){const f=u.array,x=u._updateRange,v=u.updateRanges;if(t.bindBuffer(d,l),x.count===-1&&v.length===0&&t.bufferSubData(d,0,f),v.length!==0){for(let y=0,C=v.length;y<C;y++){const k=v[y];t.bufferSubData(d,k.start*f.BYTES_PER_ELEMENT,f,k.start,k.count)}u.clearUpdateRanges()}x.count!==-1&&(t.bufferSubData(d,x.offset*f.BYTES_PER_ELEMENT,f,x.offset,x.count),x.count=-1),u.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function s(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(t.deleteBuffer(u.buffer),e.delete(l))}function a(l,u){if(l.isGLBufferAttribute){const f=e.get(l);(!f||f.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}l.isInterleavedBufferAttribute&&(l=l.data);const d=e.get(l);if(d===void 0)e.set(l,n(l,u));else if(d.version<l.version){if(d.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(d.buffer,l,u),d.version=l.version}}return{get:r,remove:s,update:a}}class Rx extends ka{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,a=n/2,l=Math.floor(i),u=Math.floor(r),d=l+1,f=u+1,x=e/l,v=n/u,y=[],C=[],k=[],P=[];for(let S=0;S<f;S++){const R=S*v-a;for(let L=0;L<d;L++){const D=L*x-s;C.push(D,-R,0),k.push(0,0,1),P.push(L/l),P.push(1-S/u)}}for(let S=0;S<u;S++)for(let R=0;R<l;R++){const L=R+d*S,D=R+d*(S+1),W=R+1+d*(S+1),z=R+1+d*S;y.push(L,D,z),y.push(D,W,z)}this.setIndex(y),this.setAttribute("position",new Wr(C,3)),this.setAttribute("normal",new Wr(k,3)),this.setAttribute("uv",new Wr(P,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rx(e.width,e.height,e.widthSegments,e.heightSegments)}}var sq=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,aq=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,oq=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,lq=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cq=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,uq=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,hq=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,dq=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,fq=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,pq=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,mq=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,gq=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,xq=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,vq=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,yq=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,_q=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,bq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,wq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Sq=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Mq=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Cq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Tq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Pq=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Eq=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Aq=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,kq=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Rq=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Iq=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Lq=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Dq=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Nq="gl_FragColor = linearToOutputTexel( gl_FragColor );",Fq=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Oq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Bq=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Vq=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Uq=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,zq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Wq=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,jq=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Hq=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Xq=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Gq=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Yq=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,$q=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Zq=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Kq=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Qq=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,qq=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Jq=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,eJ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,tJ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,nJ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,iJ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,rJ=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,sJ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,aJ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,oJ=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,lJ=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,cJ=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,uJ=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,hJ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,dJ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,fJ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,pJ=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,mJ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,gJ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,xJ=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,vJ=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,yJ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,_J=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,bJ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,wJ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,SJ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,MJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,CJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,TJ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,PJ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,EJ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,AJ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,kJ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,RJ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,IJ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,LJ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,DJ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,NJ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,FJ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,OJ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,BJ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,VJ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,UJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,zJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,WJ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,jJ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,HJ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,XJ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,GJ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,YJ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,$J=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ZJ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,KJ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,QJ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,qJ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,JJ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,eee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,tee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,nee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,iee=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ree=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,see=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oee=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cee=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uee=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,hee=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,dee=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fee=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,pee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,mee=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,gee=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xee=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vee=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,yee=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_ee=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bee=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wee=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,See=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mee=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Cee=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Tee=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pee=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Eee=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Aee=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kee=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ree=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Iee=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Lee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Dee=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nee=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Fee=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Oee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,tn={alphahash_fragment:sq,alphahash_pars_fragment:aq,alphamap_fragment:oq,alphamap_pars_fragment:lq,alphatest_fragment:cq,alphatest_pars_fragment:uq,aomap_fragment:hq,aomap_pars_fragment:dq,batching_pars_vertex:fq,batching_vertex:pq,begin_vertex:mq,beginnormal_vertex:gq,bsdfs:xq,iridescence_fragment:vq,bumpmap_pars_fragment:yq,clipping_planes_fragment:_q,clipping_planes_pars_fragment:bq,clipping_planes_pars_vertex:wq,clipping_planes_vertex:Sq,color_fragment:Mq,color_pars_fragment:Cq,color_pars_vertex:Tq,color_vertex:Pq,common:Eq,cube_uv_reflection_fragment:Aq,defaultnormal_vertex:kq,displacementmap_pars_vertex:Rq,displacementmap_vertex:Iq,emissivemap_fragment:Lq,emissivemap_pars_fragment:Dq,colorspace_fragment:Nq,colorspace_pars_fragment:Fq,envmap_fragment:Oq,envmap_common_pars_fragment:Bq,envmap_pars_fragment:Vq,envmap_pars_vertex:Uq,envmap_physical_pars_fragment:Qq,envmap_vertex:zq,fog_vertex:Wq,fog_pars_vertex:jq,fog_fragment:Hq,fog_pars_fragment:Xq,gradientmap_pars_fragment:Gq,lightmap_pars_fragment:Yq,lights_lambert_fragment:$q,lights_lambert_pars_fragment:Zq,lights_pars_begin:Kq,lights_toon_fragment:qq,lights_toon_pars_fragment:Jq,lights_phong_fragment:eJ,lights_phong_pars_fragment:tJ,lights_physical_fragment:nJ,lights_physical_pars_fragment:iJ,lights_fragment_begin:rJ,lights_fragment_maps:sJ,lights_fragment_end:aJ,logdepthbuf_fragment:oJ,logdepthbuf_pars_fragment:lJ,logdepthbuf_pars_vertex:cJ,logdepthbuf_vertex:uJ,map_fragment:hJ,map_pars_fragment:dJ,map_particle_fragment:fJ,map_particle_pars_fragment:pJ,metalnessmap_fragment:mJ,metalnessmap_pars_fragment:gJ,morphinstance_vertex:xJ,morphcolor_vertex:vJ,morphnormal_vertex:yJ,morphtarget_pars_vertex:_J,morphtarget_vertex:bJ,normal_fragment_begin:wJ,normal_fragment_maps:SJ,normal_pars_fragment:MJ,normal_pars_vertex:CJ,normal_vertex:TJ,normalmap_pars_fragment:PJ,clearcoat_normal_fragment_begin:EJ,clearcoat_normal_fragment_maps:AJ,clearcoat_pars_fragment:kJ,iridescence_pars_fragment:RJ,opaque_fragment:IJ,packing:LJ,premultiplied_alpha_fragment:DJ,project_vertex:NJ,dithering_fragment:FJ,dithering_pars_fragment:OJ,roughnessmap_fragment:BJ,roughnessmap_pars_fragment:VJ,shadowmap_pars_fragment:UJ,shadowmap_pars_vertex:zJ,shadowmap_vertex:WJ,shadowmask_pars_fragment:jJ,skinbase_vertex:HJ,skinning_pars_vertex:XJ,skinning_vertex:GJ,skinnormal_vertex:YJ,specularmap_fragment:$J,specularmap_pars_fragment:ZJ,tonemapping_fragment:KJ,tonemapping_pars_fragment:QJ,transmission_fragment:qJ,transmission_pars_fragment:JJ,uv_pars_fragment:eee,uv_pars_vertex:tee,uv_vertex:nee,worldpos_vertex:iee,background_vert:ree,background_frag:see,backgroundCube_vert:aee,backgroundCube_frag:oee,cube_vert:lee,cube_frag:cee,depth_vert:uee,depth_frag:hee,distanceRGBA_vert:dee,distanceRGBA_frag:fee,equirect_vert:pee,equirect_frag:mee,linedashed_vert:gee,linedashed_frag:xee,meshbasic_vert:vee,meshbasic_frag:yee,meshlambert_vert:_ee,meshlambert_frag:bee,meshmatcap_vert:wee,meshmatcap_frag:See,meshnormal_vert:Mee,meshnormal_frag:Cee,meshphong_vert:Tee,meshphong_frag:Pee,meshphysical_vert:Eee,meshphysical_frag:Aee,meshtoon_vert:kee,meshtoon_frag:Ree,points_vert:Iee,points_frag:Lee,shadow_vert:Dee,shadow_frag:Nee,sprite_vert:Fee,sprite_frag:Oee},pt={common:{diffuse:{value:new gn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new nn}},envmap:{envMap:{value:null},envMapRotation:{value:new nn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new nn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new nn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new nn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new nn},normalScale:{value:new mt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new nn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new nn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new nn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new nn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new gn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new gn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0},uvTransform:{value:new nn}},sprite:{diffuse:{value:new gn(16777215)},opacity:{value:1},center:{value:new mt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}}},Ps={basic:{uniforms:zi([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.fog]),vertexShader:tn.meshbasic_vert,fragmentShader:tn.meshbasic_frag},lambert:{uniforms:zi([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new gn(0)}}]),vertexShader:tn.meshlambert_vert,fragmentShader:tn.meshlambert_frag},phong:{uniforms:zi([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new gn(0)},specular:{value:new gn(1118481)},shininess:{value:30}}]),vertexShader:tn.meshphong_vert,fragmentShader:tn.meshphong_frag},standard:{uniforms:zi([pt.common,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.roughnessmap,pt.metalnessmap,pt.fog,pt.lights,{emissive:{value:new gn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:tn.meshphysical_vert,fragmentShader:tn.meshphysical_frag},toon:{uniforms:zi([pt.common,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.gradientmap,pt.fog,pt.lights,{emissive:{value:new gn(0)}}]),vertexShader:tn.meshtoon_vert,fragmentShader:tn.meshtoon_frag},matcap:{uniforms:zi([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,{matcap:{value:null}}]),vertexShader:tn.meshmatcap_vert,fragmentShader:tn.meshmatcap_frag},points:{uniforms:zi([pt.points,pt.fog]),vertexShader:tn.points_vert,fragmentShader:tn.points_frag},dashed:{uniforms:zi([pt.common,pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:tn.linedashed_vert,fragmentShader:tn.linedashed_frag},depth:{uniforms:zi([pt.common,pt.displacementmap]),vertexShader:tn.depth_vert,fragmentShader:tn.depth_frag},normal:{uniforms:zi([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,{opacity:{value:1}}]),vertexShader:tn.meshnormal_vert,fragmentShader:tn.meshnormal_frag},sprite:{uniforms:zi([pt.sprite,pt.fog]),vertexShader:tn.sprite_vert,fragmentShader:tn.sprite_frag},background:{uniforms:{uvTransform:{value:new nn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:tn.background_vert,fragmentShader:tn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new nn}},vertexShader:tn.backgroundCube_vert,fragmentShader:tn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:tn.cube_vert,fragmentShader:tn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:tn.equirect_vert,fragmentShader:tn.equirect_frag},distanceRGBA:{uniforms:zi([pt.common,pt.displacementmap,{referencePosition:{value:new Ae},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:tn.distanceRGBA_vert,fragmentShader:tn.distanceRGBA_frag},shadow:{uniforms:zi([pt.lights,pt.fog,{color:{value:new gn(0)},opacity:{value:1}}]),vertexShader:tn.shadow_vert,fragmentShader:tn.shadow_frag}};Ps.physical={uniforms:zi([Ps.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new nn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new nn},clearcoatNormalScale:{value:new mt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new nn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new nn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new nn},sheen:{value:0},sheenColor:{value:new gn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new nn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new nn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new nn},transmissionSamplerSize:{value:new mt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new nn},attenuationDistance:{value:0},attenuationColor:{value:new gn(0)},specularColor:{value:new gn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new nn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new nn},anisotropyVector:{value:new mt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new nn}}]),vertexShader:tn.meshphysical_vert,fragmentShader:tn.meshphysical_frag};const Dp={r:0,b:0,g:0},Ko=new Hs,Bee=new Xn;function Vee(t,e,n,i,r,s,a){const l=new gn(0);let u=s===!0?0:1,d,f,x=null,v=0,y=null;function C(R){let L=R.isScene===!0?R.background:null;return L&&L.isTexture&&(L=(R.backgroundBlurriness>0?n:e).get(L)),L}function k(R){let L=!1;const D=C(R);D===null?S(l,u):D&&D.isColor&&(S(D,1),L=!0);const W=t.xr.getEnvironmentBlendMode();W==="additive"?i.buffers.color.setClear(0,0,0,1,a):W==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(t.autoClear||L)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function P(R,L){const D=C(L);D&&(D.isCubeTexture||D.mapping===Ax)?(f===void 0&&(f=new rr(new Tf(1,1,1),new Ro({name:"BackgroundCubeMaterial",uniforms:wu(Ps.backgroundCube.uniforms),vertexShader:Ps.backgroundCube.vertexShader,fragmentShader:Ps.backgroundCube.fragmentShader,side:hr,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(W,z,j){this.matrixWorld.copyPosition(j.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(f)),Ko.copy(L.backgroundRotation),Ko.x*=-1,Ko.y*=-1,Ko.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Ko.y*=-1,Ko.z*=-1),f.material.uniforms.envMap.value=D,f.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=L.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(Bee.makeRotationFromEuler(Ko)),f.material.toneMapped=Pn.getTransfer(D.colorSpace)!==Dn,(x!==D||v!==D.version||y!==t.toneMapping)&&(f.material.needsUpdate=!0,x=D,v=D.version,y=t.toneMapping),f.layers.enableAll(),R.unshift(f,f.geometry,f.material,0,0,null)):D&&D.isTexture&&(d===void 0&&(d=new rr(new Rx(2,2),new Ro({name:"BackgroundMaterial",uniforms:wu(Ps.background.uniforms),vertexShader:Ps.background.vertexShader,fragmentShader:Ps.background.fragmentShader,side:ko,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=D,d.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,d.material.toneMapped=Pn.getTransfer(D.colorSpace)!==Dn,D.matrixAutoUpdate===!0&&D.updateMatrix(),d.material.uniforms.uvTransform.value.copy(D.matrix),(x!==D||v!==D.version||y!==t.toneMapping)&&(d.material.needsUpdate=!0,x=D,v=D.version,y=t.toneMapping),d.layers.enableAll(),R.unshift(d,d.geometry,d.material,0,0,null))}function S(R,L){R.getRGB(Dp,bD(t)),i.buffers.color.setClear(Dp.r,Dp.g,Dp.b,L,a)}return{getClearColor:function(){return l},setClearColor:function(R,L=1){l.set(R),u=L,S(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(R){u=R,S(l,u)},render:k,addToRenderList:P}}function Uee(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=v(null);let s=r,a=!1;function l(H,q,ce,le,me){let we=!1;const Se=x(le,ce,q);s!==Se&&(s=Se,d(s.object)),we=y(H,le,ce,me),we&&C(H,le,ce,me),me!==null&&e.update(me,t.ELEMENT_ARRAY_BUFFER),(we||a)&&(a=!1,D(H,q,ce,le),me!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(me).buffer))}function u(){return t.createVertexArray()}function d(H){return t.bindVertexArray(H)}function f(H){return t.deleteVertexArray(H)}function x(H,q,ce){const le=ce.wireframe===!0;let me=i[H.id];me===void 0&&(me={},i[H.id]=me);let we=me[q.id];we===void 0&&(we={},me[q.id]=we);let Se=we[le];return Se===void 0&&(Se=v(u()),we[le]=Se),Se}function v(H){const q=[],ce=[],le=[];for(let me=0;me<n;me++)q[me]=0,ce[me]=0,le[me]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:ce,attributeDivisors:le,object:H,attributes:{},index:null}}function y(H,q,ce,le){const me=s.attributes,we=q.attributes;let Se=0;const ge=ce.getAttributes();for(const ie in ge)if(ge[ie].location>=0){const Te=me[ie];let ee=we[ie];if(ee===void 0&&(ie==="instanceMatrix"&&H.instanceMatrix&&(ee=H.instanceMatrix),ie==="instanceColor"&&H.instanceColor&&(ee=H.instanceColor)),Te===void 0||Te.attribute!==ee||ee&&Te.data!==ee.data)return!0;Se++}return s.attributesNum!==Se||s.index!==le}function C(H,q,ce,le){const me={},we=q.attributes;let Se=0;const ge=ce.getAttributes();for(const ie in ge)if(ge[ie].location>=0){let Te=we[ie];Te===void 0&&(ie==="instanceMatrix"&&H.instanceMatrix&&(Te=H.instanceMatrix),ie==="instanceColor"&&H.instanceColor&&(Te=H.instanceColor));const ee={};ee.attribute=Te,Te&&Te.data&&(ee.data=Te.data),me[ie]=ee,Se++}s.attributes=me,s.attributesNum=Se,s.index=le}function k(){const H=s.newAttributes;for(let q=0,ce=H.length;q<ce;q++)H[q]=0}function P(H){S(H,0)}function S(H,q){const ce=s.newAttributes,le=s.enabledAttributes,me=s.attributeDivisors;ce[H]=1,le[H]===0&&(t.enableVertexAttribArray(H),le[H]=1),me[H]!==q&&(t.vertexAttribDivisor(H,q),me[H]=q)}function R(){const H=s.newAttributes,q=s.enabledAttributes;for(let ce=0,le=q.length;ce<le;ce++)q[ce]!==H[ce]&&(t.disableVertexAttribArray(ce),q[ce]=0)}function L(H,q,ce,le,me,we,Se){Se===!0?t.vertexAttribIPointer(H,q,ce,me,we):t.vertexAttribPointer(H,q,ce,le,me,we)}function D(H,q,ce,le){k();const me=le.attributes,we=ce.getAttributes(),Se=q.defaultAttributeValues;for(const ge in we){const ie=we[ge];if(ie.location>=0){let _e=me[ge];if(_e===void 0&&(ge==="instanceMatrix"&&H.instanceMatrix&&(_e=H.instanceMatrix),ge==="instanceColor"&&H.instanceColor&&(_e=H.instanceColor)),_e!==void 0){const Te=_e.normalized,ee=_e.itemSize,He=e.get(_e);if(He===void 0)continue;const Ue=He.buffer,K=He.type,oe=He.bytesPerElement,be=K===t.INT||K===t.UNSIGNED_INT||_e.gpuType===$w;if(_e.isInterleavedBufferAttribute){const ue=_e.data,Pe=ue.stride,Ee=_e.offset;if(ue.isInstancedInterleavedBuffer){for(let ze=0;ze<ie.locationSize;ze++)S(ie.location+ze,ue.meshPerAttribute);H.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let ze=0;ze<ie.locationSize;ze++)P(ie.location+ze);t.bindBuffer(t.ARRAY_BUFFER,Ue);for(let ze=0;ze<ie.locationSize;ze++)L(ie.location+ze,ee/ie.locationSize,K,Te,Pe*oe,(Ee+ee/ie.locationSize*ze)*oe,be)}else{if(_e.isInstancedBufferAttribute){for(let ue=0;ue<ie.locationSize;ue++)S(ie.location+ue,_e.meshPerAttribute);H.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let ue=0;ue<ie.locationSize;ue++)P(ie.location+ue);t.bindBuffer(t.ARRAY_BUFFER,Ue);for(let ue=0;ue<ie.locationSize;ue++)L(ie.location+ue,ee/ie.locationSize,K,Te,ee*oe,ee/ie.locationSize*ue*oe,be)}}else if(Se!==void 0){const Te=Se[ge];if(Te!==void 0)switch(Te.length){case 2:t.vertexAttrib2fv(ie.location,Te);break;case 3:t.vertexAttrib3fv(ie.location,Te);break;case 4:t.vertexAttrib4fv(ie.location,Te);break;default:t.vertexAttrib1fv(ie.location,Te)}}}}R()}function W(){Z();for(const H in i){const q=i[H];for(const ce in q){const le=q[ce];for(const me in le)f(le[me].object),delete le[me];delete q[ce]}delete i[H]}}function z(H){if(i[H.id]===void 0)return;const q=i[H.id];for(const ce in q){const le=q[ce];for(const me in le)f(le[me].object),delete le[me];delete q[ce]}delete i[H.id]}function j(H){for(const q in i){const ce=i[q];if(ce[H.id]===void 0)continue;const le=ce[H.id];for(const me in le)f(le[me].object),delete le[me];delete ce[H.id]}}function Z(){$(),a=!0,s!==r&&(s=r,d(s.object))}function $(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:Z,resetDefaultState:$,dispose:W,releaseStatesOfGeometry:z,releaseStatesOfProgram:j,initAttributes:k,enableAttribute:P,disableUnusedAttributes:R}}function zee(t,e,n){let i;function r(d){i=d}function s(d,f){t.drawArrays(i,d,f),n.update(f,i,1)}function a(d,f,x){x!==0&&(t.drawArraysInstanced(i,d,f,x),n.update(f,i,x))}function l(d,f,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,d,0,f,0,x);let y=0;for(let C=0;C<x;C++)y+=f[C];n.update(y,i,1)}function u(d,f,x,v){if(x===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let C=0;C<d.length;C++)a(d[C],f[C],v[C]);else{y.multiDrawArraysInstancedWEBGL(i,d,0,f,0,v,0,x);let C=0;for(let k=0;k<x;k++)C+=f[k];for(let k=0;k<v.length;k++)n.update(C,i,v[k])}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function Wee(t,e,n,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const z=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(z.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(z){return!(z!==os&&i.convert(z)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(z){const j=z===wf&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(z!==Ta&&i.convert(z)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&z!==da&&!j)}function u(z){if(z==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";z="mediump"}return z==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=n.precision!==void 0?n.precision:"highp";const f=u(d);f!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",f,"instead."),d=f);const x=n.logarithmicDepthBuffer===!0,v=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),C=t.getParameter(t.MAX_TEXTURE_SIZE),k=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),P=t.getParameter(t.MAX_VERTEX_ATTRIBS),S=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),R=t.getParameter(t.MAX_VARYING_VECTORS),L=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),D=y>0,W=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:u,textureFormatReadable:a,textureTypeReadable:l,precision:d,logarithmicDepthBuffer:x,maxTextures:v,maxVertexTextures:y,maxTextureSize:C,maxCubemapSize:k,maxAttributes:P,maxVertexUniforms:S,maxVaryings:R,maxFragmentUniforms:L,vertexTextures:D,maxSamples:W}}function jee(t){const e=this;let n=null,i=0,r=!1,s=!1;const a=new nl,l=new nn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(x,v){const y=x.length!==0||v||i!==0||r;return r=v,i=x.length,y},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(x,v){n=f(x,v,0)},this.setState=function(x,v,y){const C=x.clippingPlanes,k=x.clipIntersection,P=x.clipShadows,S=t.get(x);if(!r||C===null||C.length===0||s&&!P)s?f(null):d();else{const R=s?0:i,L=R*4;let D=S.clippingState||null;u.value=D,D=f(C,v,L,y);for(let W=0;W!==L;++W)D[W]=n[W];S.clippingState=D,this.numIntersection=k?this.numPlanes:0,this.numPlanes+=R}};function d(){u.value!==n&&(u.value=n,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function f(x,v,y,C){const k=x!==null?x.length:0;let P=null;if(k!==0){if(P=u.value,C!==!0||P===null){const S=y+k*4,R=v.matrixWorldInverse;l.getNormalMatrix(R),(P===null||P.length<S)&&(P=new Float32Array(S));for(let L=0,D=y;L!==k;++L,D+=4)a.copy(x[L]).applyMatrix4(R,l),a.normal.toArray(P,D),P[D+3]=a.constant}u.value=P,u.needsUpdate=!0}return e.numPlanes=k,e.numIntersection=0,P}}function Hee(t){let e=new WeakMap;function n(a,l){return l===N1?a.mapping=vu:l===F1&&(a.mapping=yu),a}function i(a){if(a&&a.isTexture){const l=a.mapping;if(l===N1||l===F1)if(e.has(a)){const u=e.get(a).texture;return n(u,a.mapping)}else{const u=a.image;if(u&&u.height>0){const d=new tq(u.height);return d.fromEquirectangularTexture(t,a),e.set(a,d),a.addEventListener("dispose",r),n(d.texture,a.mapping)}else return null}}return a}function r(a){const l=a.target;l.removeEventListener("dispose",r);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Xee extends wD{constructor(e=-1,n=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,l=r+n,u=r-n;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=d*this.view.offsetX,a=s+d*this.view.width,l-=f*this.view.offsetY,u=l-f*this.view.height}this.projectionMatrix.makeOrthographic(s,a,l,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Nc=4,c2=[.125,.215,.35,.446,.526,.582],sl=20,Iv=new Xee,u2=new gn;let Lv=null,Dv=0,Nv=0,Fv=!1;const il=(1+Math.sqrt(5))/2,vc=1/il,h2=[new Ae(-il,vc,0),new Ae(il,vc,0),new Ae(-vc,0,il),new Ae(vc,0,il),new Ae(0,il,-vc),new Ae(0,il,vc),new Ae(-1,1,-1),new Ae(1,1,-1),new Ae(-1,1,1),new Ae(1,1,1)];class d2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){Lv=this._renderer.getRenderTarget(),Dv=this._renderer.getActiveCubeFace(),Nv=this._renderer.getActiveMipmapLevel(),Fv=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=m2(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=p2(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Lv,Dv,Nv),this._renderer.xr.enabled=Fv,e.scissorTest=!1,Np(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===vu||e.mapping===yu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Lv=this._renderer.getRenderTarget(),Dv=this._renderer.getActiveCubeFace(),Nv=this._renderer.getActiveMipmapLevel(),Fv=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:rs,minFilter:rs,generateMipmaps:!1,type:wf,format:os,colorSpace:zo,depthBuffer:!1},r=f2(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=f2(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Gee(s)),this._blurMaterial=Yee(s,e,n)}return r}_compileMaterial(e){const n=new rr(this._lodPlanes[0],e);this._renderer.compile(n,Iv)}_sceneToCubeUV(e,n,i,r){const l=new ir(90,1,n,i),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],f=this._renderer,x=f.autoClear,v=f.toneMapping;f.getClearColor(u2),f.toneMapping=xo,f.autoClear=!1;const y=new vD({name:"PMREM.Background",side:hr,depthWrite:!1,depthTest:!1}),C=new rr(new Tf,y);let k=!1;const P=e.background;P?P.isColor&&(y.color.copy(P),e.background=null,k=!0):(y.color.copy(u2),k=!0);for(let S=0;S<6;S++){const R=S%3;R===0?(l.up.set(0,u[S],0),l.lookAt(d[S],0,0)):R===1?(l.up.set(0,0,u[S]),l.lookAt(0,d[S],0)):(l.up.set(0,u[S],0),l.lookAt(0,0,d[S]));const L=this._cubeSize;Np(r,R*L,S>2?L:0,L,L),f.setRenderTarget(r),k&&f.render(C,l),f.render(e,l)}C.geometry.dispose(),C.material.dispose(),f.toneMapping=v,f.autoClear=x,e.background=P}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===vu||e.mapping===yu;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=m2()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=p2());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new rr(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const u=this._cubeSize;Np(n,0,0,3*u,2*u),i.setRenderTarget(n),i.render(a,Iv)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),l=h2[(r-s-1)%h2.length];this._blur(e,s-1,s,a,l)}n.autoClear=i}_blur(e,n,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,a,l){const u=this._renderer,d=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,x=new rr(this._lodPlanes[r],d),v=d.uniforms,y=this._sizeLods[i]-1,C=isFinite(s)?Math.PI/(2*y):2*Math.PI/(2*sl-1),k=s/C,P=isFinite(s)?1+Math.floor(f*k):sl;P>sl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${P} samples when the maximum is set to ${sl}`);const S=[];let R=0;for(let j=0;j<sl;++j){const Z=j/k,$=Math.exp(-Z*Z/2);S.push($),j===0?R+=$:j<P&&(R+=2*$)}for(let j=0;j<S.length;j++)S[j]=S[j]/R;v.envMap.value=e.texture,v.samples.value=P,v.weights.value=S,v.latitudinal.value=a==="latitudinal",l&&(v.poleAxis.value=l);const{_lodMax:L}=this;v.dTheta.value=C,v.mipInt.value=L-i;const D=this._sizeLods[r],W=3*D*(r>L-Nc?r-L+Nc:0),z=4*(this._cubeSize-D);Np(n,W,z,3*D,2*D),u.setRenderTarget(n),u.render(x,Iv)}}function Gee(t){const e=[],n=[],i=[];let r=t;const s=t-Nc+1+c2.length;for(let a=0;a<s;a++){const l=Math.pow(2,r);n.push(l);let u=1/l;a>t-Nc?u=c2[a-t+Nc-1]:a===0&&(u=0),i.push(u);const d=1/(l-2),f=-d,x=1+d,v=[f,f,x,f,x,x,f,f,x,x,f,x],y=6,C=6,k=3,P=2,S=1,R=new Float32Array(k*C*y),L=new Float32Array(P*C*y),D=new Float32Array(S*C*y);for(let z=0;z<y;z++){const j=z%3*2/3-1,Z=z>2?0:-1,$=[j,Z,0,j+2/3,Z,0,j+2/3,Z+1,0,j,Z,0,j+2/3,Z+1,0,j,Z+1,0];R.set($,k*C*z),L.set(v,P*C*z);const H=[z,z,z,z,z,z];D.set(H,S*C*z)}const W=new ka;W.setAttribute("position",new Fs(R,k)),W.setAttribute("uv",new Fs(L,P)),W.setAttribute("faceIndex",new Fs(D,S)),e.push(W),r>Nc&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function f2(t,e,n){const i=new Fl(t,e,n);return i.texture.mapping=Ax,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Np(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function Yee(t,e,n){const i=new Float32Array(sl),r=new Ae(0,1,0);return new Ro({name:"SphericalGaussianBlur",defines:{n:sl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:iS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:go,depthTest:!1,depthWrite:!1})}function p2(){return new Ro({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:iS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:go,depthTest:!1,depthWrite:!1})}function m2(){return new Ro({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:iS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:go,depthTest:!1,depthWrite:!1})}function iS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $ee(t){let e=new WeakMap,n=null;function i(l){if(l&&l.isTexture){const u=l.mapping,d=u===N1||u===F1,f=u===vu||u===yu;if(d||f){let x=e.get(l);const v=x!==void 0?x.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==v)return n===null&&(n=new d2(t)),x=d?n.fromEquirectangular(l,x):n.fromCubemap(l,x),x.texture.pmremVersion=l.pmremVersion,e.set(l,x),x.texture;if(x!==void 0)return x.texture;{const y=l.image;return d&&y&&y.height>0||f&&y&&r(y)?(n===null&&(n=new d2(t)),x=d?n.fromEquirectangular(l):n.fromCubemap(l),x.texture.pmremVersion=l.pmremVersion,e.set(l,x),l.addEventListener("dispose",s),x.texture):null}}}return l}function r(l){let u=0;const d=6;for(let f=0;f<d;f++)l[f]!==void 0&&u++;return u===d}function s(l){const u=l.target;u.removeEventListener("dispose",s);const d=e.get(u);d!==void 0&&(e.delete(u),d.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:a}}function Zee(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&fD("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Kee(t,e,n,i){const r={},s=new WeakMap;function a(x){const v=x.target;v.index!==null&&e.remove(v.index);for(const C in v.attributes)e.remove(v.attributes[C]);for(const C in v.morphAttributes){const k=v.morphAttributes[C];for(let P=0,S=k.length;P<S;P++)e.remove(k[P])}v.removeEventListener("dispose",a),delete r[v.id];const y=s.get(v);y&&(e.remove(y),s.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,n.memory.geometries--}function l(x,v){return r[v.id]===!0||(v.addEventListener("dispose",a),r[v.id]=!0,n.memory.geometries++),v}function u(x){const v=x.attributes;for(const C in v)e.update(v[C],t.ARRAY_BUFFER);const y=x.morphAttributes;for(const C in y){const k=y[C];for(let P=0,S=k.length;P<S;P++)e.update(k[P],t.ARRAY_BUFFER)}}function d(x){const v=[],y=x.index,C=x.attributes.position;let k=0;if(y!==null){const R=y.array;k=y.version;for(let L=0,D=R.length;L<D;L+=3){const W=R[L+0],z=R[L+1],j=R[L+2];v.push(W,z,z,j,j,W)}}else if(C!==void 0){const R=C.array;k=C.version;for(let L=0,D=R.length/3-1;L<D;L+=3){const W=L+0,z=L+1,j=L+2;v.push(W,z,z,j,j,W)}}else return;const P=new(dD(v)?_D:yD)(v,1);P.version=k;const S=s.get(x);S&&e.remove(S),s.set(x,P)}function f(x){const v=s.get(x);if(v){const y=x.index;y!==null&&v.version<y.version&&d(x)}else d(x);return s.get(x)}return{get:l,update:u,getWireframeAttribute:f}}function Qee(t,e,n){let i;function r(v){i=v}let s,a;function l(v){s=v.type,a=v.bytesPerElement}function u(v,y){t.drawElements(i,y,s,v*a),n.update(y,i,1)}function d(v,y,C){C!==0&&(t.drawElementsInstanced(i,y,s,v*a,C),n.update(y,i,C))}function f(v,y,C){if(C===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,y,0,s,v,0,C);let P=0;for(let S=0;S<C;S++)P+=y[S];n.update(P,i,1)}function x(v,y,C,k){if(C===0)return;const P=e.get("WEBGL_multi_draw");if(P===null)for(let S=0;S<v.length;S++)d(v[S]/a,y[S],k[S]);else{P.multiDrawElementsInstancedWEBGL(i,y,0,s,v,0,k,0,C);let S=0;for(let R=0;R<C;R++)S+=y[R];for(let R=0;R<k.length;R++)n.update(S,i,k[R])}}this.setMode=r,this.setIndex=l,this.render=u,this.renderInstances=d,this.renderMultiDraw=f,this.renderMultiDrawInstances=x}function qee(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,l){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=l*(s/3);break;case t.LINES:n.lines+=l*(s/2);break;case t.LINE_STRIP:n.lines+=l*(s-1);break;case t.LINE_LOOP:n.lines+=l*s;break;case t.POINTS:n.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function Jee(t,e,n){const i=new WeakMap,r=new Nn;function s(a,l,u){const d=a.morphTargetInfluences,f=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,x=f!==void 0?f.length:0;let v=i.get(l);if(v===void 0||v.count!==x){let H=function(){Z.dispose(),i.delete(l),l.removeEventListener("dispose",H)};var y=H;v!==void 0&&v.texture.dispose();const C=l.morphAttributes.position!==void 0,k=l.morphAttributes.normal!==void 0,P=l.morphAttributes.color!==void 0,S=l.morphAttributes.position||[],R=l.morphAttributes.normal||[],L=l.morphAttributes.color||[];let D=0;C===!0&&(D=1),k===!0&&(D=2),P===!0&&(D=3);let W=l.attributes.position.count*D,z=1;W>e.maxTextureSize&&(z=Math.ceil(W/e.maxTextureSize),W=e.maxTextureSize);const j=new Float32Array(W*z*4*x),Z=new mD(j,W,z,x);Z.type=da,Z.needsUpdate=!0;const $=D*4;for(let q=0;q<x;q++){const ce=S[q],le=R[q],me=L[q],we=W*z*4*q;for(let Se=0;Se<ce.count;Se++){const ge=Se*$;C===!0&&(r.fromBufferAttribute(ce,Se),j[we+ge+0]=r.x,j[we+ge+1]=r.y,j[we+ge+2]=r.z,j[we+ge+3]=0),k===!0&&(r.fromBufferAttribute(le,Se),j[we+ge+4]=r.x,j[we+ge+5]=r.y,j[we+ge+6]=r.z,j[we+ge+7]=0),P===!0&&(r.fromBufferAttribute(me,Se),j[we+ge+8]=r.x,j[we+ge+9]=r.y,j[we+ge+10]=r.z,j[we+ge+11]=me.itemSize===4?r.w:1)}}v={count:x,texture:Z,size:new mt(W,z)},i.set(l,v),l.addEventListener("dispose",H)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)u.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let C=0;for(let P=0;P<d.length;P++)C+=d[P];const k=l.morphTargetsRelative?1:1-C;u.getUniforms().setValue(t,"morphTargetBaseInfluence",k),u.getUniforms().setValue(t,"morphTargetInfluences",d)}u.getUniforms().setValue(t,"morphTargetsTexture",v.texture,n),u.getUniforms().setValue(t,"morphTargetsTextureSize",v.size)}return{update:s}}function ete(t,e,n,i){let r=new WeakMap;function s(u){const d=i.render.frame,f=u.geometry,x=e.get(u,f);if(r.get(x)!==d&&(e.update(x),r.set(x,d)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),r.get(u)!==d&&(n.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,t.ARRAY_BUFFER),r.set(u,d))),u.isSkinnedMesh){const v=u.skeleton;r.get(v)!==d&&(v.update(),r.set(v,d))}return x}function a(){r=new WeakMap}function l(u){const d=u.target;d.removeEventListener("dispose",l),n.remove(d.instanceMatrix),d.instanceColor!==null&&n.remove(d.instanceColor)}return{update:s,dispose:a}}class CD extends dr{constructor(e,n,i,r,s,a,l,u,d,f=qc){if(f!==qc&&f!==bu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&f===qc&&(i=Nl),i===void 0&&f===bu&&(i=_u),super(null,r,s,a,l,u,f,i,d),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=l!==void 0?l:Br,this.minFilter=u!==void 0?u:Br,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const TD=new dr,g2=new CD(1,1),PD=new mD,ED=new BQ,AD=new SD,x2=[],v2=[],y2=new Float32Array(16),_2=new Float32Array(9),b2=new Float32Array(4);function Uu(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=x2[r];if(s===void 0&&(s=new Float32Array(r),x2[r]=s),e!==0){i.toArray(s,0);for(let a=1,l=0;a!==e;++a)l+=n,t[a].toArray(s,l)}return s}function ci(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function ui(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function Ix(t,e){let n=v2[e];n===void 0&&(n=new Int32Array(e),v2[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function tte(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function nte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ci(n,e))return;t.uniform2fv(this.addr,e),ui(n,e)}}function ite(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ci(n,e))return;t.uniform3fv(this.addr,e),ui(n,e)}}function rte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ci(n,e))return;t.uniform4fv(this.addr,e),ui(n,e)}}function ste(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(ci(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ui(n,e)}else{if(ci(n,i))return;b2.set(i),t.uniformMatrix2fv(this.addr,!1,b2),ui(n,i)}}function ate(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(ci(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ui(n,e)}else{if(ci(n,i))return;_2.set(i),t.uniformMatrix3fv(this.addr,!1,_2),ui(n,i)}}function ote(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(ci(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ui(n,e)}else{if(ci(n,i))return;y2.set(i),t.uniformMatrix4fv(this.addr,!1,y2),ui(n,i)}}function lte(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function cte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ci(n,e))return;t.uniform2iv(this.addr,e),ui(n,e)}}function ute(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ci(n,e))return;t.uniform3iv(this.addr,e),ui(n,e)}}function hte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ci(n,e))return;t.uniform4iv(this.addr,e),ui(n,e)}}function dte(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function fte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ci(n,e))return;t.uniform2uiv(this.addr,e),ui(n,e)}}function pte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ci(n,e))return;t.uniform3uiv(this.addr,e),ui(n,e)}}function mte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ci(n,e))return;t.uniform4uiv(this.addr,e),ui(n,e)}}function gte(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let s;this.type===t.SAMPLER_2D_SHADOW?(g2.compareFunction=hD,s=g2):s=TD,n.setTexture2D(e||s,r)}function xte(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||ED,r)}function vte(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||AD,r)}function yte(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||PD,r)}function _te(t){switch(t){case 5126:return tte;case 35664:return nte;case 35665:return ite;case 35666:return rte;case 35674:return ste;case 35675:return ate;case 35676:return ote;case 5124:case 35670:return lte;case 35667:case 35671:return cte;case 35668:case 35672:return ute;case 35669:case 35673:return hte;case 5125:return dte;case 36294:return fte;case 36295:return pte;case 36296:return mte;case 35678:case 36198:case 36298:case 36306:case 35682:return gte;case 35679:case 36299:case 36307:return xte;case 35680:case 36300:case 36308:case 36293:return vte;case 36289:case 36303:case 36311:case 36292:return yte}}function bte(t,e){t.uniform1fv(this.addr,e)}function wte(t,e){const n=Uu(e,this.size,2);t.uniform2fv(this.addr,n)}function Ste(t,e){const n=Uu(e,this.size,3);t.uniform3fv(this.addr,n)}function Mte(t,e){const n=Uu(e,this.size,4);t.uniform4fv(this.addr,n)}function Cte(t,e){const n=Uu(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Tte(t,e){const n=Uu(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Pte(t,e){const n=Uu(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Ete(t,e){t.uniform1iv(this.addr,e)}function Ate(t,e){t.uniform2iv(this.addr,e)}function kte(t,e){t.uniform3iv(this.addr,e)}function Rte(t,e){t.uniform4iv(this.addr,e)}function Ite(t,e){t.uniform1uiv(this.addr,e)}function Lte(t,e){t.uniform2uiv(this.addr,e)}function Dte(t,e){t.uniform3uiv(this.addr,e)}function Nte(t,e){t.uniform4uiv(this.addr,e)}function Fte(t,e,n){const i=this.cache,r=e.length,s=Ix(n,r);ci(i,s)||(t.uniform1iv(this.addr,s),ui(i,s));for(let a=0;a!==r;++a)n.setTexture2D(e[a]||TD,s[a])}function Ote(t,e,n){const i=this.cache,r=e.length,s=Ix(n,r);ci(i,s)||(t.uniform1iv(this.addr,s),ui(i,s));for(let a=0;a!==r;++a)n.setTexture3D(e[a]||ED,s[a])}function Bte(t,e,n){const i=this.cache,r=e.length,s=Ix(n,r);ci(i,s)||(t.uniform1iv(this.addr,s),ui(i,s));for(let a=0;a!==r;++a)n.setTextureCube(e[a]||AD,s[a])}function Vte(t,e,n){const i=this.cache,r=e.length,s=Ix(n,r);ci(i,s)||(t.uniform1iv(this.addr,s),ui(i,s));for(let a=0;a!==r;++a)n.setTexture2DArray(e[a]||PD,s[a])}function Ute(t){switch(t){case 5126:return bte;case 35664:return wte;case 35665:return Ste;case 35666:return Mte;case 35674:return Cte;case 35675:return Tte;case 35676:return Pte;case 5124:case 35670:return Ete;case 35667:case 35671:return Ate;case 35668:case 35672:return kte;case 35669:case 35673:return Rte;case 5125:return Ite;case 36294:return Lte;case 36295:return Dte;case 36296:return Nte;case 35678:case 36198:case 36298:case 36306:case 35682:return Fte;case 35679:case 36299:case 36307:return Ote;case 35680:case 36300:case 36308:case 36293:return Bte;case 36289:case 36303:case 36311:case 36292:return Vte}}class zte{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=_te(n.type)}}class Wte{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Ute(n.type)}}class jte{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const l=r[s];l.setValue(e,n[l.id],i)}}}const Ov=/(\w+)(\])?(\[|\.)?/g;function w2(t,e){t.seq.push(e),t.map[e.id]=e}function Hte(t,e,n){const i=t.name,r=i.length;for(Ov.lastIndex=0;;){const s=Ov.exec(i),a=Ov.lastIndex;let l=s[1];const u=s[2]==="]",d=s[3];if(u&&(l=l|0),d===void 0||d==="["&&a+2===r){w2(n,d===void 0?new zte(l,t,e):new Wte(l,t,e));break}else{let x=n.map[l];x===void 0&&(x=new jte(l),w2(n,x)),n=x}}}class pm{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),a=e.getUniformLocation(n,s.name);Hte(s,a,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,a=n.length;s!==a;++s){const l=n[s],u=i[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in n&&i.push(a)}return i}}function S2(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const Xte=37297;let Gte=0;function Yte(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=r;a<s;a++){const l=a+1;i.push(`${l===e?">":" "} ${l}: ${n[a]}`)}return i.join(`
`)}function $te(t){const e=Pn.getPrimaries(Pn.workingColorSpace),n=Pn.getPrimaries(t);let i;switch(e===n?i="":e===_g&&n===yg?i="LinearDisplayP3ToLinearSRGB":e===yg&&n===_g&&(i="LinearSRGBToLinearDisplayP3"),t){case zo:case kx:return[i,"LinearTransferOETF"];case Ts:case eS:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}function M2(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+Yte(t.getShaderSource(e),a)}else return r}function Zte(t,e){const n=$te(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Kte(t,e){let n;switch(e){case dQ:n="Linear";break;case fQ:n="Reinhard";break;case pQ:n="OptimizedCineon";break;case mQ:n="ACESFilmic";break;case xQ:n="AgX";break;case vQ:n="Neutral";break;case gQ:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Qte(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Sh).join(`
`)}function qte(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function Jte(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),a=s.name;let l=1;s.type===t.FLOAT_MAT2&&(l=2),s.type===t.FLOAT_MAT3&&(l=3),s.type===t.FLOAT_MAT4&&(l=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:l}}return n}function Sh(t){return t!==""}function C2(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function T2(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ene=/^[ \t]*#include +<([\w\d./]+)>/gm;function h_(t){return t.replace(ene,nne)}const tne=new Map;function nne(t,e){let n=tn[e];if(n===void 0){const i=tne.get(e);if(i!==void 0)n=tn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return h_(n)}const ine=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function P2(t){return t.replace(ine,rne)}function rne(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function E2(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function sne(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===q3?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===BK?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ia&&(e="SHADOWMAP_TYPE_VSM"),e}function ane(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case vu:case yu:e="ENVMAP_TYPE_CUBE";break;case Ax:e="ENVMAP_TYPE_CUBE_UV";break}return e}function one(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case yu:e="ENVMAP_MODE_REFRACTION";break}return e}function lne(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Yw:e="ENVMAP_BLENDING_MULTIPLY";break;case uQ:e="ENVMAP_BLENDING_MIX";break;case hQ:e="ENVMAP_BLENDING_ADD";break}return e}function cne(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function une(t,e,n,i){const r=t.getContext(),s=n.defines;let a=n.vertexShader,l=n.fragmentShader;const u=sne(n),d=ane(n),f=one(n),x=lne(n),v=cne(n),y=Qte(n),C=qte(s),k=r.createProgram();let P,S,R=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(P=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,C].filter(Sh).join(`
`),P.length>0&&(P+=`
`),S=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,C].filter(Sh).join(`
`),S.length>0&&(S+=`
`)):(P=[E2(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,C,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Sh).join(`
`),S=[E2(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,C,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",n.envMap?"#define "+x:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==xo?"#define TONE_MAPPING":"",n.toneMapping!==xo?tn.tonemapping_pars_fragment:"",n.toneMapping!==xo?Kte("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",tn.colorspace_pars_fragment,Zte("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Sh).join(`
`)),a=h_(a),a=C2(a,n),a=T2(a,n),l=h_(l),l=C2(l,n),l=T2(l,n),a=P2(a),l=P2(l),n.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,P=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+P,S=["#define varying in",n.glslVersion===jT?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===jT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const L=R+P+a,D=R+S+l,W=S2(r,r.VERTEX_SHADER,L),z=S2(r,r.FRAGMENT_SHADER,D);r.attachShader(k,W),r.attachShader(k,z),n.index0AttributeName!==void 0?r.bindAttribLocation(k,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(k,0,"position"),r.linkProgram(k);function j(q){if(t.debug.checkShaderErrors){const ce=r.getProgramInfoLog(k).trim(),le=r.getShaderInfoLog(W).trim(),me=r.getShaderInfoLog(z).trim();let we=!0,Se=!0;if(r.getProgramParameter(k,r.LINK_STATUS)===!1)if(we=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,k,W,z);else{const ge=M2(r,W,"vertex"),ie=M2(r,z,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(k,r.VALIDATE_STATUS)+`

Material Name: `+q.name+`
Material Type: `+q.type+`

Program Info Log: `+ce+`
`+ge+`
`+ie)}else ce!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ce):(le===""||me==="")&&(Se=!1);Se&&(q.diagnostics={runnable:we,programLog:ce,vertexShader:{log:le,prefix:P},fragmentShader:{log:me,prefix:S}})}r.deleteShader(W),r.deleteShader(z),Z=new pm(r,k),$=Jte(r,k)}let Z;this.getUniforms=function(){return Z===void 0&&j(this),Z};let $;this.getAttributes=function(){return $===void 0&&j(this),$};let H=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return H===!1&&(H=r.getProgramParameter(k,Xte)),H},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(k),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Gte++,this.cacheKey=e,this.usedTimes=1,this.program=k,this.vertexShader=W,this.fragmentShader=z,this}let hne=0;class dne{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new fne(e),n.set(e,i)),i}}class fne{constructor(e){this.id=hne++,this.code=e,this.usedTimes=0}}function pne(t,e,n,i,r,s,a){const l=new gD,u=new dne,d=new Set,f=[],x=r.logarithmicDepthBuffer,v=r.vertexTextures;let y=r.precision;const C={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function k($){return d.add($),$===0?"uv":`uv${$}`}function P($,H,q,ce,le){const me=ce.fog,we=le.geometry,Se=$.isMeshStandardMaterial?ce.environment:null,ge=($.isMeshStandardMaterial?n:e).get($.envMap||Se),ie=ge&&ge.mapping===Ax?ge.image.height:null,_e=C[$.type];$.precision!==null&&(y=r.getMaxPrecision($.precision),y!==$.precision&&console.warn("THREE.WebGLProgram.getParameters:",$.precision,"not supported, using",y,"instead."));const Te=we.morphAttributes.position||we.morphAttributes.normal||we.morphAttributes.color,ee=Te!==void 0?Te.length:0;let He=0;we.morphAttributes.position!==void 0&&(He=1),we.morphAttributes.normal!==void 0&&(He=2),we.morphAttributes.color!==void 0&&(He=3);let Ue,K,oe,be;if(_e){const Wt=Ps[_e];Ue=Wt.vertexShader,K=Wt.fragmentShader}else Ue=$.vertexShader,K=$.fragmentShader,u.update($),oe=u.getVertexShaderID($),be=u.getFragmentShaderID($);const ue=t.getRenderTarget(),Pe=le.isInstancedMesh===!0,Ee=le.isBatchedMesh===!0,ze=!!$.map,Ze=!!$.matcap,ne=!!ge,Oe=!!$.aoMap,Ne=!!$.lightMap,De=!!$.bumpMap,Ve=!!$.normalMap,$e=!!$.displacementMap,rt=!!$.emissiveMap,ht=!!$.metalnessMap,fe=!!$.roughnessMap,te=$.anisotropy>0,Fe=$.clearcoat>0,Qe=$.dispersion>0,Ye=$.iridescence>0,Ke=$.sheen>0,ct=$.transmission>0,at=te&&!!$.anisotropyMap,bt=Fe&&!!$.clearcoatMap,jt=Fe&&!!$.clearcoatNormalMap,Je=Fe&&!!$.clearcoatRoughnessMap,nt=Ye&&!!$.iridescenceMap,Ct=Ye&&!!$.iridescenceThicknessMap,Tt=Ke&&!!$.sheenColorMap,St=Ke&&!!$.sheenRoughnessMap,Ht=!!$.specularMap,Jt=!!$.specularColorMap,U=!!$.specularIntensityMap,V=ct&&!!$.transmissionMap,J=ct&&!!$.thicknessMap,he=!!$.gradientMap,Me=!!$.alphaMap,Ie=$.alphaTest>0,ke=!!$.alphaHash,ot=!!$.extensions;let Et=xo;$.toneMapped&&(ue===null||ue.isXRRenderTarget===!0)&&(Et=t.toneMapping);const yt={shaderID:_e,shaderType:$.type,shaderName:$.name,vertexShader:Ue,fragmentShader:K,defines:$.defines,customVertexShaderID:oe,customFragmentShaderID:be,isRawShaderMaterial:$.isRawShaderMaterial===!0,glslVersion:$.glslVersion,precision:y,batching:Ee,batchingColor:Ee&&le._colorsTexture!==null,instancing:Pe,instancingColor:Pe&&le.instanceColor!==null,instancingMorph:Pe&&le.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:ue===null?t.outputColorSpace:ue.isXRRenderTarget===!0?ue.texture.colorSpace:zo,alphaToCoverage:!!$.alphaToCoverage,map:ze,matcap:Ze,envMap:ne,envMapMode:ne&&ge.mapping,envMapCubeUVHeight:ie,aoMap:Oe,lightMap:Ne,bumpMap:De,normalMap:Ve,displacementMap:v&&$e,emissiveMap:rt,normalMapObjectSpace:Ve&&$.normalMapType===wQ,normalMapTangentSpace:Ve&&$.normalMapType===uD,metalnessMap:ht,roughnessMap:fe,anisotropy:te,anisotropyMap:at,clearcoat:Fe,clearcoatMap:bt,clearcoatNormalMap:jt,clearcoatRoughnessMap:Je,dispersion:Qe,iridescence:Ye,iridescenceMap:nt,iridescenceThicknessMap:Ct,sheen:Ke,sheenColorMap:Tt,sheenRoughnessMap:St,specularMap:Ht,specularColorMap:Jt,specularIntensityMap:U,transmission:ct,transmissionMap:V,thicknessMap:J,gradientMap:he,opaque:$.transparent===!1&&$.blending===Qc&&$.alphaToCoverage===!1,alphaMap:Me,alphaTest:Ie,alphaHash:ke,combine:$.combine,mapUv:ze&&k($.map.channel),aoMapUv:Oe&&k($.aoMap.channel),lightMapUv:Ne&&k($.lightMap.channel),bumpMapUv:De&&k($.bumpMap.channel),normalMapUv:Ve&&k($.normalMap.channel),displacementMapUv:$e&&k($.displacementMap.channel),emissiveMapUv:rt&&k($.emissiveMap.channel),metalnessMapUv:ht&&k($.metalnessMap.channel),roughnessMapUv:fe&&k($.roughnessMap.channel),anisotropyMapUv:at&&k($.anisotropyMap.channel),clearcoatMapUv:bt&&k($.clearcoatMap.channel),clearcoatNormalMapUv:jt&&k($.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Je&&k($.clearcoatRoughnessMap.channel),iridescenceMapUv:nt&&k($.iridescenceMap.channel),iridescenceThicknessMapUv:Ct&&k($.iridescenceThicknessMap.channel),sheenColorMapUv:Tt&&k($.sheenColorMap.channel),sheenRoughnessMapUv:St&&k($.sheenRoughnessMap.channel),specularMapUv:Ht&&k($.specularMap.channel),specularColorMapUv:Jt&&k($.specularColorMap.channel),specularIntensityMapUv:U&&k($.specularIntensityMap.channel),transmissionMapUv:V&&k($.transmissionMap.channel),thicknessMapUv:J&&k($.thicknessMap.channel),alphaMapUv:Me&&k($.alphaMap.channel),vertexTangents:!!we.attributes.tangent&&(Ve||te),vertexColors:$.vertexColors,vertexAlphas:$.vertexColors===!0&&!!we.attributes.color&&we.attributes.color.itemSize===4,pointsUvs:le.isPoints===!0&&!!we.attributes.uv&&(ze||Me),fog:!!me,useFog:$.fog===!0,fogExp2:!!me&&me.isFogExp2,flatShading:$.flatShading===!0,sizeAttenuation:$.sizeAttenuation===!0,logarithmicDepthBuffer:x,skinning:le.isSkinnedMesh===!0,morphTargets:we.morphAttributes.position!==void 0,morphNormals:we.morphAttributes.normal!==void 0,morphColors:we.morphAttributes.color!==void 0,morphTargetsCount:ee,morphTextureStride:He,numDirLights:H.directional.length,numPointLights:H.point.length,numSpotLights:H.spot.length,numSpotLightMaps:H.spotLightMap.length,numRectAreaLights:H.rectArea.length,numHemiLights:H.hemi.length,numDirLightShadows:H.directionalShadowMap.length,numPointLightShadows:H.pointShadowMap.length,numSpotLightShadows:H.spotShadowMap.length,numSpotLightShadowsWithMaps:H.numSpotLightShadowsWithMaps,numLightProbes:H.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:$.dithering,shadowMapEnabled:t.shadowMap.enabled&&q.length>0,shadowMapType:t.shadowMap.type,toneMapping:Et,decodeVideoTexture:ze&&$.map.isVideoTexture===!0&&Pn.getTransfer($.map.colorSpace)===Dn,premultipliedAlpha:$.premultipliedAlpha,doubleSided:$.side===la,flipSided:$.side===hr,useDepthPacking:$.depthPacking>=0,depthPacking:$.depthPacking||0,index0AttributeName:$.index0AttributeName,extensionClipCullDistance:ot&&$.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ot&&$.extensions.multiDraw===!0||Ee)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:$.customProgramCacheKey()};return yt.vertexUv1s=d.has(1),yt.vertexUv2s=d.has(2),yt.vertexUv3s=d.has(3),d.clear(),yt}function S($){const H=[];if($.shaderID?H.push($.shaderID):(H.push($.customVertexShaderID),H.push($.customFragmentShaderID)),$.defines!==void 0)for(const q in $.defines)H.push(q),H.push($.defines[q]);return $.isRawShaderMaterial===!1&&(R(H,$),L(H,$),H.push(t.outputColorSpace)),H.push($.customProgramCacheKey),H.join()}function R($,H){$.push(H.precision),$.push(H.outputColorSpace),$.push(H.envMapMode),$.push(H.envMapCubeUVHeight),$.push(H.mapUv),$.push(H.alphaMapUv),$.push(H.lightMapUv),$.push(H.aoMapUv),$.push(H.bumpMapUv),$.push(H.normalMapUv),$.push(H.displacementMapUv),$.push(H.emissiveMapUv),$.push(H.metalnessMapUv),$.push(H.roughnessMapUv),$.push(H.anisotropyMapUv),$.push(H.clearcoatMapUv),$.push(H.clearcoatNormalMapUv),$.push(H.clearcoatRoughnessMapUv),$.push(H.iridescenceMapUv),$.push(H.iridescenceThicknessMapUv),$.push(H.sheenColorMapUv),$.push(H.sheenRoughnessMapUv),$.push(H.specularMapUv),$.push(H.specularColorMapUv),$.push(H.specularIntensityMapUv),$.push(H.transmissionMapUv),$.push(H.thicknessMapUv),$.push(H.combine),$.push(H.fogExp2),$.push(H.sizeAttenuation),$.push(H.morphTargetsCount),$.push(H.morphAttributeCount),$.push(H.numDirLights),$.push(H.numPointLights),$.push(H.numSpotLights),$.push(H.numSpotLightMaps),$.push(H.numHemiLights),$.push(H.numRectAreaLights),$.push(H.numDirLightShadows),$.push(H.numPointLightShadows),$.push(H.numSpotLightShadows),$.push(H.numSpotLightShadowsWithMaps),$.push(H.numLightProbes),$.push(H.shadowMapType),$.push(H.toneMapping),$.push(H.numClippingPlanes),$.push(H.numClipIntersection),$.push(H.depthPacking)}function L($,H){l.disableAll(),H.supportsVertexTextures&&l.enable(0),H.instancing&&l.enable(1),H.instancingColor&&l.enable(2),H.instancingMorph&&l.enable(3),H.matcap&&l.enable(4),H.envMap&&l.enable(5),H.normalMapObjectSpace&&l.enable(6),H.normalMapTangentSpace&&l.enable(7),H.clearcoat&&l.enable(8),H.iridescence&&l.enable(9),H.alphaTest&&l.enable(10),H.vertexColors&&l.enable(11),H.vertexAlphas&&l.enable(12),H.vertexUv1s&&l.enable(13),H.vertexUv2s&&l.enable(14),H.vertexUv3s&&l.enable(15),H.vertexTangents&&l.enable(16),H.anisotropy&&l.enable(17),H.alphaHash&&l.enable(18),H.batching&&l.enable(19),H.dispersion&&l.enable(20),H.batchingColor&&l.enable(21),$.push(l.mask),l.disableAll(),H.fog&&l.enable(0),H.useFog&&l.enable(1),H.flatShading&&l.enable(2),H.logarithmicDepthBuffer&&l.enable(3),H.skinning&&l.enable(4),H.morphTargets&&l.enable(5),H.morphNormals&&l.enable(6),H.morphColors&&l.enable(7),H.premultipliedAlpha&&l.enable(8),H.shadowMapEnabled&&l.enable(9),H.doubleSided&&l.enable(10),H.flipSided&&l.enable(11),H.useDepthPacking&&l.enable(12),H.dithering&&l.enable(13),H.transmission&&l.enable(14),H.sheen&&l.enable(15),H.opaque&&l.enable(16),H.pointsUvs&&l.enable(17),H.decodeVideoTexture&&l.enable(18),H.alphaToCoverage&&l.enable(19),$.push(l.mask)}function D($){const H=C[$.type];let q;if(H){const ce=Ps[H];q=QQ.clone(ce.uniforms)}else q=$.uniforms;return q}function W($,H){let q;for(let ce=0,le=f.length;ce<le;ce++){const me=f[ce];if(me.cacheKey===H){q=me,++q.usedTimes;break}}return q===void 0&&(q=new une(t,H,$,s),f.push(q)),q}function z($){if(--$.usedTimes===0){const H=f.indexOf($);f[H]=f[f.length-1],f.pop(),$.destroy()}}function j($){u.remove($)}function Z(){u.dispose()}return{getParameters:P,getProgramCacheKey:S,getUniforms:D,acquireProgram:W,releaseProgram:z,releaseShaderCache:j,programs:f,dispose:Z}}function mne(){let t=new WeakMap;function e(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function n(s){t.delete(s)}function i(s,a,l){t.get(s)[a]=l}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function gne(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function A2(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function k2(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function a(x,v,y,C,k,P){let S=t[e];return S===void 0?(S={id:x.id,object:x,geometry:v,material:y,groupOrder:C,renderOrder:x.renderOrder,z:k,group:P},t[e]=S):(S.id=x.id,S.object=x,S.geometry=v,S.material=y,S.groupOrder=C,S.renderOrder=x.renderOrder,S.z=k,S.group=P),e++,S}function l(x,v,y,C,k,P){const S=a(x,v,y,C,k,P);y.transmission>0?i.push(S):y.transparent===!0?r.push(S):n.push(S)}function u(x,v,y,C,k,P){const S=a(x,v,y,C,k,P);y.transmission>0?i.unshift(S):y.transparent===!0?r.unshift(S):n.unshift(S)}function d(x,v){n.length>1&&n.sort(x||gne),i.length>1&&i.sort(v||A2),r.length>1&&r.sort(v||A2)}function f(){for(let x=e,v=t.length;x<v;x++){const y=t[x];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:l,unshift:u,finish:f,sort:d}}function xne(){let t=new WeakMap;function e(i,r){const s=t.get(i);let a;return s===void 0?(a=new k2,t.set(i,[a])):r>=s.length?(a=new k2,s.push(a)):a=s[r],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function vne(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Ae,color:new gn};break;case"SpotLight":n={position:new Ae,direction:new Ae,color:new gn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Ae,color:new gn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Ae,skyColor:new gn,groundColor:new gn};break;case"RectAreaLight":n={color:new gn,position:new Ae,halfWidth:new Ae,halfHeight:new Ae};break}return t[e.id]=n,n}}}function yne(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let _ne=0;function bne(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function wne(t){const e=new vne,n=yne(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)i.probe.push(new Ae);const r=new Ae,s=new Xn,a=new Xn;function l(d){let f=0,x=0,v=0;for(let $=0;$<9;$++)i.probe[$].set(0,0,0);let y=0,C=0,k=0,P=0,S=0,R=0,L=0,D=0,W=0,z=0,j=0;d.sort(bne);for(let $=0,H=d.length;$<H;$++){const q=d[$],ce=q.color,le=q.intensity,me=q.distance,we=q.shadow&&q.shadow.map?q.shadow.map.texture:null;if(q.isAmbientLight)f+=ce.r*le,x+=ce.g*le,v+=ce.b*le;else if(q.isLightProbe){for(let Se=0;Se<9;Se++)i.probe[Se].addScaledVector(q.sh.coefficients[Se],le);j++}else if(q.isDirectionalLight){const Se=e.get(q);if(Se.color.copy(q.color).multiplyScalar(q.intensity),q.castShadow){const ge=q.shadow,ie=n.get(q);ie.shadowIntensity=ge.intensity,ie.shadowBias=ge.bias,ie.shadowNormalBias=ge.normalBias,ie.shadowRadius=ge.radius,ie.shadowMapSize=ge.mapSize,i.directionalShadow[y]=ie,i.directionalShadowMap[y]=we,i.directionalShadowMatrix[y]=q.shadow.matrix,R++}i.directional[y]=Se,y++}else if(q.isSpotLight){const Se=e.get(q);Se.position.setFromMatrixPosition(q.matrixWorld),Se.color.copy(ce).multiplyScalar(le),Se.distance=me,Se.coneCos=Math.cos(q.angle),Se.penumbraCos=Math.cos(q.angle*(1-q.penumbra)),Se.decay=q.decay,i.spot[k]=Se;const ge=q.shadow;if(q.map&&(i.spotLightMap[W]=q.map,W++,ge.updateMatrices(q),q.castShadow&&z++),i.spotLightMatrix[k]=ge.matrix,q.castShadow){const ie=n.get(q);ie.shadowIntensity=ge.intensity,ie.shadowBias=ge.bias,ie.shadowNormalBias=ge.normalBias,ie.shadowRadius=ge.radius,ie.shadowMapSize=ge.mapSize,i.spotShadow[k]=ie,i.spotShadowMap[k]=we,D++}k++}else if(q.isRectAreaLight){const Se=e.get(q);Se.color.copy(ce).multiplyScalar(le),Se.halfWidth.set(q.width*.5,0,0),Se.halfHeight.set(0,q.height*.5,0),i.rectArea[P]=Se,P++}else if(q.isPointLight){const Se=e.get(q);if(Se.color.copy(q.color).multiplyScalar(q.intensity),Se.distance=q.distance,Se.decay=q.decay,q.castShadow){const ge=q.shadow,ie=n.get(q);ie.shadowIntensity=ge.intensity,ie.shadowBias=ge.bias,ie.shadowNormalBias=ge.normalBias,ie.shadowRadius=ge.radius,ie.shadowMapSize=ge.mapSize,ie.shadowCameraNear=ge.camera.near,ie.shadowCameraFar=ge.camera.far,i.pointShadow[C]=ie,i.pointShadowMap[C]=we,i.pointShadowMatrix[C]=q.shadow.matrix,L++}i.point[C]=Se,C++}else if(q.isHemisphereLight){const Se=e.get(q);Se.skyColor.copy(q.color).multiplyScalar(le),Se.groundColor.copy(q.groundColor).multiplyScalar(le),i.hemi[S]=Se,S++}}P>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_FLOAT_1,i.rectAreaLTC2=pt.LTC_FLOAT_2):(i.rectAreaLTC1=pt.LTC_HALF_1,i.rectAreaLTC2=pt.LTC_HALF_2)),i.ambient[0]=f,i.ambient[1]=x,i.ambient[2]=v;const Z=i.hash;(Z.directionalLength!==y||Z.pointLength!==C||Z.spotLength!==k||Z.rectAreaLength!==P||Z.hemiLength!==S||Z.numDirectionalShadows!==R||Z.numPointShadows!==L||Z.numSpotShadows!==D||Z.numSpotMaps!==W||Z.numLightProbes!==j)&&(i.directional.length=y,i.spot.length=k,i.rectArea.length=P,i.point.length=C,i.hemi.length=S,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=L,i.pointShadowMap.length=L,i.spotShadow.length=D,i.spotShadowMap.length=D,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=L,i.spotLightMatrix.length=D+W-z,i.spotLightMap.length=W,i.numSpotLightShadowsWithMaps=z,i.numLightProbes=j,Z.directionalLength=y,Z.pointLength=C,Z.spotLength=k,Z.rectAreaLength=P,Z.hemiLength=S,Z.numDirectionalShadows=R,Z.numPointShadows=L,Z.numSpotShadows=D,Z.numSpotMaps=W,Z.numLightProbes=j,i.version=_ne++)}function u(d,f){let x=0,v=0,y=0,C=0,k=0;const P=f.matrixWorldInverse;for(let S=0,R=d.length;S<R;S++){const L=d[S];if(L.isDirectionalLight){const D=i.directional[x];D.direction.setFromMatrixPosition(L.matrixWorld),r.setFromMatrixPosition(L.target.matrixWorld),D.direction.sub(r),D.direction.transformDirection(P),x++}else if(L.isSpotLight){const D=i.spot[y];D.position.setFromMatrixPosition(L.matrixWorld),D.position.applyMatrix4(P),D.direction.setFromMatrixPosition(L.matrixWorld),r.setFromMatrixPosition(L.target.matrixWorld),D.direction.sub(r),D.direction.transformDirection(P),y++}else if(L.isRectAreaLight){const D=i.rectArea[C];D.position.setFromMatrixPosition(L.matrixWorld),D.position.applyMatrix4(P),a.identity(),s.copy(L.matrixWorld),s.premultiply(P),a.extractRotation(s),D.halfWidth.set(L.width*.5,0,0),D.halfHeight.set(0,L.height*.5,0),D.halfWidth.applyMatrix4(a),D.halfHeight.applyMatrix4(a),C++}else if(L.isPointLight){const D=i.point[v];D.position.setFromMatrixPosition(L.matrixWorld),D.position.applyMatrix4(P),v++}else if(L.isHemisphereLight){const D=i.hemi[k];D.direction.setFromMatrixPosition(L.matrixWorld),D.direction.transformDirection(P),k++}}}return{setup:l,setupView:u,state:i}}function R2(t){const e=new wne(t),n=[],i=[];function r(f){d.camera=f,n.length=0,i.length=0}function s(f){n.push(f)}function a(f){i.push(f)}function l(){e.setup(n)}function u(f){e.setupView(n,f)}const d={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:d,setupLights:l,setupLightsView:u,pushLight:s,pushShadow:a}}function Sne(t){let e=new WeakMap;function n(r,s=0){const a=e.get(r);let l;return a===void 0?(l=new R2(t),e.set(r,[l])):s>=a.length?(l=new R2(t),a.push(l)):l=a[s],l}function i(){e=new WeakMap}return{get:n,dispose:i}}class Mne extends Cf{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=_Q,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Cne extends Cf{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Tne=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Pne=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Ene(t,e,n){let i=new nS;const r=new mt,s=new mt,a=new Nn,l=new Mne({depthPacking:bQ}),u=new Cne,d={},f=n.maxTextureSize,x={[ko]:hr,[hr]:ko,[la]:la},v=new Ro({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new mt},radius:{value:4}},vertexShader:Tne,fragmentShader:Pne}),y=v.clone();y.defines.HORIZONTAL_PASS=1;const C=new ka;C.setAttribute("position",new Fs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const k=new rr(C,v),P=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=q3;let S=this.type;this.render=function(z,j,Z){if(P.enabled===!1||P.autoUpdate===!1&&P.needsUpdate===!1||z.length===0)return;const $=t.getRenderTarget(),H=t.getActiveCubeFace(),q=t.getActiveMipmapLevel(),ce=t.state;ce.setBlending(go),ce.buffers.color.setClear(1,1,1,1),ce.buffers.depth.setTest(!0),ce.setScissorTest(!1);const le=S!==ia&&this.type===ia,me=S===ia&&this.type!==ia;for(let we=0,Se=z.length;we<Se;we++){const ge=z[we],ie=ge.shadow;if(ie===void 0){console.warn("THREE.WebGLShadowMap:",ge,"has no shadow.");continue}if(ie.autoUpdate===!1&&ie.needsUpdate===!1)continue;r.copy(ie.mapSize);const _e=ie.getFrameExtents();if(r.multiply(_e),s.copy(ie.mapSize),(r.x>f||r.y>f)&&(r.x>f&&(s.x=Math.floor(f/_e.x),r.x=s.x*_e.x,ie.mapSize.x=s.x),r.y>f&&(s.y=Math.floor(f/_e.y),r.y=s.y*_e.y,ie.mapSize.y=s.y)),ie.map===null||le===!0||me===!0){const ee=this.type!==ia?{minFilter:Br,magFilter:Br}:{};ie.map!==null&&ie.map.dispose(),ie.map=new Fl(r.x,r.y,ee),ie.map.texture.name=ge.name+".shadowMap",ie.camera.updateProjectionMatrix()}t.setRenderTarget(ie.map),t.clear();const Te=ie.getViewportCount();for(let ee=0;ee<Te;ee++){const He=ie.getViewport(ee);a.set(s.x*He.x,s.y*He.y,s.x*He.z,s.y*He.w),ce.viewport(a),ie.updateMatrices(ge,ee),i=ie.getFrustum(),D(j,Z,ie.camera,ge,this.type)}ie.isPointLightShadow!==!0&&this.type===ia&&R(ie,Z),ie.needsUpdate=!1}S=this.type,P.needsUpdate=!1,t.setRenderTarget($,H,q)};function R(z,j){const Z=e.update(k);v.defines.VSM_SAMPLES!==z.blurSamples&&(v.defines.VSM_SAMPLES=z.blurSamples,y.defines.VSM_SAMPLES=z.blurSamples,v.needsUpdate=!0,y.needsUpdate=!0),z.mapPass===null&&(z.mapPass=new Fl(r.x,r.y)),v.uniforms.shadow_pass.value=z.map.texture,v.uniforms.resolution.value=z.mapSize,v.uniforms.radius.value=z.radius,t.setRenderTarget(z.mapPass),t.clear(),t.renderBufferDirect(j,null,Z,v,k,null),y.uniforms.shadow_pass.value=z.mapPass.texture,y.uniforms.resolution.value=z.mapSize,y.uniforms.radius.value=z.radius,t.setRenderTarget(z.map),t.clear(),t.renderBufferDirect(j,null,Z,y,k,null)}function L(z,j,Z,$){let H=null;const q=Z.isPointLight===!0?z.customDistanceMaterial:z.customDepthMaterial;if(q!==void 0)H=q;else if(H=Z.isPointLight===!0?u:l,t.localClippingEnabled&&j.clipShadows===!0&&Array.isArray(j.clippingPlanes)&&j.clippingPlanes.length!==0||j.displacementMap&&j.displacementScale!==0||j.alphaMap&&j.alphaTest>0||j.map&&j.alphaTest>0){const ce=H.uuid,le=j.uuid;let me=d[ce];me===void 0&&(me={},d[ce]=me);let we=me[le];we===void 0&&(we=H.clone(),me[le]=we,j.addEventListener("dispose",W)),H=we}if(H.visible=j.visible,H.wireframe=j.wireframe,$===ia?H.side=j.shadowSide!==null?j.shadowSide:j.side:H.side=j.shadowSide!==null?j.shadowSide:x[j.side],H.alphaMap=j.alphaMap,H.alphaTest=j.alphaTest,H.map=j.map,H.clipShadows=j.clipShadows,H.clippingPlanes=j.clippingPlanes,H.clipIntersection=j.clipIntersection,H.displacementMap=j.displacementMap,H.displacementScale=j.displacementScale,H.displacementBias=j.displacementBias,H.wireframeLinewidth=j.wireframeLinewidth,H.linewidth=j.linewidth,Z.isPointLight===!0&&H.isMeshDistanceMaterial===!0){const ce=t.properties.get(H);ce.light=Z}return H}function D(z,j,Z,$,H){if(z.visible===!1)return;if(z.layers.test(j.layers)&&(z.isMesh||z.isLine||z.isPoints)&&(z.castShadow||z.receiveShadow&&H===ia)&&(!z.frustumCulled||i.intersectsObject(z))){z.modelViewMatrix.multiplyMatrices(Z.matrixWorldInverse,z.matrixWorld);const le=e.update(z),me=z.material;if(Array.isArray(me)){const we=le.groups;for(let Se=0,ge=we.length;Se<ge;Se++){const ie=we[Se],_e=me[ie.materialIndex];if(_e&&_e.visible){const Te=L(z,_e,$,H);z.onBeforeShadow(t,z,j,Z,le,Te,ie),t.renderBufferDirect(Z,null,le,Te,z,ie),z.onAfterShadow(t,z,j,Z,le,Te,ie)}}}else if(me.visible){const we=L(z,me,$,H);z.onBeforeShadow(t,z,j,Z,le,we,null),t.renderBufferDirect(Z,null,le,we,z,null),z.onAfterShadow(t,z,j,Z,le,we,null)}}const ce=z.children;for(let le=0,me=ce.length;le<me;le++)D(ce[le],j,Z,$,H)}function W(z){z.target.removeEventListener("dispose",W);for(const Z in d){const $=d[Z],H=z.target.uuid;H in $&&($[H].dispose(),delete $[H])}}}function Ane(t){function e(){let V=!1;const J=new Nn;let he=null;const Me=new Nn(0,0,0,0);return{setMask:function(Ie){he!==Ie&&!V&&(t.colorMask(Ie,Ie,Ie,Ie),he=Ie)},setLocked:function(Ie){V=Ie},setClear:function(Ie,ke,ot,Et,yt){yt===!0&&(Ie*=Et,ke*=Et,ot*=Et),J.set(Ie,ke,ot,Et),Me.equals(J)===!1&&(t.clearColor(Ie,ke,ot,Et),Me.copy(J))},reset:function(){V=!1,he=null,Me.set(-1,0,0,0)}}}function n(){let V=!1,J=null,he=null,Me=null;return{setTest:function(Ie){Ie?be(t.DEPTH_TEST):ue(t.DEPTH_TEST)},setMask:function(Ie){J!==Ie&&!V&&(t.depthMask(Ie),J=Ie)},setFunc:function(Ie){if(he!==Ie){switch(Ie){case iQ:t.depthFunc(t.NEVER);break;case rQ:t.depthFunc(t.ALWAYS);break;case sQ:t.depthFunc(t.LESS);break;case xg:t.depthFunc(t.LEQUAL);break;case aQ:t.depthFunc(t.EQUAL);break;case oQ:t.depthFunc(t.GEQUAL);break;case lQ:t.depthFunc(t.GREATER);break;case cQ:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}he=Ie}},setLocked:function(Ie){V=Ie},setClear:function(Ie){Me!==Ie&&(t.clearDepth(Ie),Me=Ie)},reset:function(){V=!1,J=null,he=null,Me=null}}}function i(){let V=!1,J=null,he=null,Me=null,Ie=null,ke=null,ot=null,Et=null,yt=null;return{setTest:function(Wt){V||(Wt?be(t.STENCIL_TEST):ue(t.STENCIL_TEST))},setMask:function(Wt){J!==Wt&&!V&&(t.stencilMask(Wt),J=Wt)},setFunc:function(Wt,on,yn){(he!==Wt||Me!==on||Ie!==yn)&&(t.stencilFunc(Wt,on,yn),he=Wt,Me=on,Ie=yn)},setOp:function(Wt,on,yn){(ke!==Wt||ot!==on||Et!==yn)&&(t.stencilOp(Wt,on,yn),ke=Wt,ot=on,Et=yn)},setLocked:function(Wt){V=Wt},setClear:function(Wt){yt!==Wt&&(t.clearStencil(Wt),yt=Wt)},reset:function(){V=!1,J=null,he=null,Me=null,Ie=null,ke=null,ot=null,Et=null,yt=null}}}const r=new e,s=new n,a=new i,l=new WeakMap,u=new WeakMap;let d={},f={},x=new WeakMap,v=[],y=null,C=!1,k=null,P=null,S=null,R=null,L=null,D=null,W=null,z=new gn(0,0,0),j=0,Z=!1,$=null,H=null,q=null,ce=null,le=null;const me=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let we=!1,Se=0;const ge=t.getParameter(t.VERSION);ge.indexOf("WebGL")!==-1?(Se=parseFloat(/^WebGL (\d)/.exec(ge)[1]),we=Se>=1):ge.indexOf("OpenGL ES")!==-1&&(Se=parseFloat(/^OpenGL ES (\d)/.exec(ge)[1]),we=Se>=2);let ie=null,_e={};const Te=t.getParameter(t.SCISSOR_BOX),ee=t.getParameter(t.VIEWPORT),He=new Nn().fromArray(Te),Ue=new Nn().fromArray(ee);function K(V,J,he,Me){const Ie=new Uint8Array(4),ke=t.createTexture();t.bindTexture(V,ke),t.texParameteri(V,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(V,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ot=0;ot<he;ot++)V===t.TEXTURE_3D||V===t.TEXTURE_2D_ARRAY?t.texImage3D(J,0,t.RGBA,1,1,Me,0,t.RGBA,t.UNSIGNED_BYTE,Ie):t.texImage2D(J+ot,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ie);return ke}const oe={};oe[t.TEXTURE_2D]=K(t.TEXTURE_2D,t.TEXTURE_2D,1),oe[t.TEXTURE_CUBE_MAP]=K(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),oe[t.TEXTURE_2D_ARRAY]=K(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),oe[t.TEXTURE_3D]=K(t.TEXTURE_3D,t.TEXTURE_3D,1,1),r.setClear(0,0,0,1),s.setClear(1),a.setClear(0),be(t.DEPTH_TEST),s.setFunc(xg),De(!1),Ve(OT),be(t.CULL_FACE),Oe(go);function be(V){d[V]!==!0&&(t.enable(V),d[V]=!0)}function ue(V){d[V]!==!1&&(t.disable(V),d[V]=!1)}function Pe(V,J){return f[V]!==J?(t.bindFramebuffer(V,J),f[V]=J,V===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=J),V===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=J),!0):!1}function Ee(V,J){let he=v,Me=!1;if(V){he=x.get(J),he===void 0&&(he=[],x.set(J,he));const Ie=V.textures;if(he.length!==Ie.length||he[0]!==t.COLOR_ATTACHMENT0){for(let ke=0,ot=Ie.length;ke<ot;ke++)he[ke]=t.COLOR_ATTACHMENT0+ke;he.length=Ie.length,Me=!0}}else he[0]!==t.BACK&&(he[0]=t.BACK,Me=!0);Me&&t.drawBuffers(he)}function ze(V){return y!==V?(t.useProgram(V),y=V,!0):!1}const Ze={[rl]:t.FUNC_ADD,[UK]:t.FUNC_SUBTRACT,[zK]:t.FUNC_REVERSE_SUBTRACT};Ze[WK]=t.MIN,Ze[jK]=t.MAX;const ne={[HK]:t.ZERO,[XK]:t.ONE,[GK]:t.SRC_COLOR,[L1]:t.SRC_ALPHA,[qK]:t.SRC_ALPHA_SATURATE,[KK]:t.DST_COLOR,[$K]:t.DST_ALPHA,[YK]:t.ONE_MINUS_SRC_COLOR,[D1]:t.ONE_MINUS_SRC_ALPHA,[QK]:t.ONE_MINUS_DST_COLOR,[ZK]:t.ONE_MINUS_DST_ALPHA,[JK]:t.CONSTANT_COLOR,[eQ]:t.ONE_MINUS_CONSTANT_COLOR,[tQ]:t.CONSTANT_ALPHA,[nQ]:t.ONE_MINUS_CONSTANT_ALPHA};function Oe(V,J,he,Me,Ie,ke,ot,Et,yt,Wt){if(V===go){C===!0&&(ue(t.BLEND),C=!1);return}if(C===!1&&(be(t.BLEND),C=!0),V!==VK){if(V!==k||Wt!==Z){if((P!==rl||L!==rl)&&(t.blendEquation(t.FUNC_ADD),P=rl,L=rl),Wt)switch(V){case Qc:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case BT:t.blendFunc(t.ONE,t.ONE);break;case VT:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case UT:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}else switch(V){case Qc:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case BT:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case VT:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case UT:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}S=null,R=null,D=null,W=null,z.set(0,0,0),j=0,k=V,Z=Wt}return}Ie=Ie||J,ke=ke||he,ot=ot||Me,(J!==P||Ie!==L)&&(t.blendEquationSeparate(Ze[J],Ze[Ie]),P=J,L=Ie),(he!==S||Me!==R||ke!==D||ot!==W)&&(t.blendFuncSeparate(ne[he],ne[Me],ne[ke],ne[ot]),S=he,R=Me,D=ke,W=ot),(Et.equals(z)===!1||yt!==j)&&(t.blendColor(Et.r,Et.g,Et.b,yt),z.copy(Et),j=yt),k=V,Z=!1}function Ne(V,J){V.side===la?ue(t.CULL_FACE):be(t.CULL_FACE);let he=V.side===hr;J&&(he=!he),De(he),V.blending===Qc&&V.transparent===!1?Oe(go):Oe(V.blending,V.blendEquation,V.blendSrc,V.blendDst,V.blendEquationAlpha,V.blendSrcAlpha,V.blendDstAlpha,V.blendColor,V.blendAlpha,V.premultipliedAlpha),s.setFunc(V.depthFunc),s.setTest(V.depthTest),s.setMask(V.depthWrite),r.setMask(V.colorWrite);const Me=V.stencilWrite;a.setTest(Me),Me&&(a.setMask(V.stencilWriteMask),a.setFunc(V.stencilFunc,V.stencilRef,V.stencilFuncMask),a.setOp(V.stencilFail,V.stencilZFail,V.stencilZPass)),rt(V.polygonOffset,V.polygonOffsetFactor,V.polygonOffsetUnits),V.alphaToCoverage===!0?be(t.SAMPLE_ALPHA_TO_COVERAGE):ue(t.SAMPLE_ALPHA_TO_COVERAGE)}function De(V){$!==V&&(V?t.frontFace(t.CW):t.frontFace(t.CCW),$=V)}function Ve(V){V!==FK?(be(t.CULL_FACE),V!==H&&(V===OT?t.cullFace(t.BACK):V===OK?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ue(t.CULL_FACE),H=V}function $e(V){V!==q&&(we&&t.lineWidth(V),q=V)}function rt(V,J,he){V?(be(t.POLYGON_OFFSET_FILL),(ce!==J||le!==he)&&(t.polygonOffset(J,he),ce=J,le=he)):ue(t.POLYGON_OFFSET_FILL)}function ht(V){V?be(t.SCISSOR_TEST):ue(t.SCISSOR_TEST)}function fe(V){V===void 0&&(V=t.TEXTURE0+me-1),ie!==V&&(t.activeTexture(V),ie=V)}function te(V,J,he){he===void 0&&(ie===null?he=t.TEXTURE0+me-1:he=ie);let Me=_e[he];Me===void 0&&(Me={type:void 0,texture:void 0},_e[he]=Me),(Me.type!==V||Me.texture!==J)&&(ie!==he&&(t.activeTexture(he),ie=he),t.bindTexture(V,J||oe[V]),Me.type=V,Me.texture=J)}function Fe(){const V=_e[ie];V!==void 0&&V.type!==void 0&&(t.bindTexture(V.type,null),V.type=void 0,V.texture=void 0)}function Qe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ye(){try{t.compressedTexImage3D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ke(){try{t.texSubImage2D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function ct(){try{t.texSubImage3D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function at(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function bt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function jt(){try{t.texStorage2D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Je(){try{t.texStorage3D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function nt(){try{t.texImage2D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ct(){try{t.texImage3D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Tt(V){He.equals(V)===!1&&(t.scissor(V.x,V.y,V.z,V.w),He.copy(V))}function St(V){Ue.equals(V)===!1&&(t.viewport(V.x,V.y,V.z,V.w),Ue.copy(V))}function Ht(V,J){let he=u.get(J);he===void 0&&(he=new WeakMap,u.set(J,he));let Me=he.get(V);Me===void 0&&(Me=t.getUniformBlockIndex(J,V.name),he.set(V,Me))}function Jt(V,J){const Me=u.get(J).get(V);l.get(J)!==Me&&(t.uniformBlockBinding(J,Me,V.__bindingPointIndex),l.set(J,Me))}function U(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},ie=null,_e={},f={},x=new WeakMap,v=[],y=null,C=!1,k=null,P=null,S=null,R=null,L=null,D=null,W=null,z=new gn(0,0,0),j=0,Z=!1,$=null,H=null,q=null,ce=null,le=null,He.set(0,0,t.canvas.width,t.canvas.height),Ue.set(0,0,t.canvas.width,t.canvas.height),r.reset(),s.reset(),a.reset()}return{buffers:{color:r,depth:s,stencil:a},enable:be,disable:ue,bindFramebuffer:Pe,drawBuffers:Ee,useProgram:ze,setBlending:Oe,setMaterial:Ne,setFlipSided:De,setCullFace:Ve,setLineWidth:$e,setPolygonOffset:rt,setScissorTest:ht,activeTexture:fe,bindTexture:te,unbindTexture:Fe,compressedTexImage2D:Qe,compressedTexImage3D:Ye,texImage2D:nt,texImage3D:Ct,updateUBOMapping:Ht,uniformBlockBinding:Jt,texStorage2D:jt,texStorage3D:Je,texSubImage2D:Ke,texSubImage3D:ct,compressedTexSubImage2D:at,compressedTexSubImage3D:bt,scissor:Tt,viewport:St,reset:U}}function I2(t,e,n,i){const r=kne(i);switch(n){case iD:return t*e;case sD:return t*e;case aD:return t*e*2;case oD:return t*e/r.components*r.byteLength;case Qw:return t*e/r.components*r.byteLength;case lD:return t*e*2/r.components*r.byteLength;case qw:return t*e*2/r.components*r.byteLength;case rD:return t*e*3/r.components*r.byteLength;case os:return t*e*4/r.components*r.byteLength;case Jw:return t*e*4/r.components*r.byteLength;case cm:case um:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case hm:case dm:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case U1:case W1:return Math.max(t,16)*Math.max(e,8)/4;case V1:case z1:return Math.max(t,8)*Math.max(e,8)/2;case j1:case H1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case X1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case G1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Y1:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case $1:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Z1:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case K1:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Q1:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case q1:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case J1:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case e_:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case t_:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case n_:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case i_:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case r_:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case s_:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case fm:case a_:case o_:return Math.ceil(t/4)*Math.ceil(e/4)*16;case cD:case l_:return Math.ceil(t/4)*Math.ceil(e/4)*8;case c_:case u_:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function kne(t){switch(t){case Ta:case eD:return{byteLength:1,components:1};case Od:case tD:case wf:return{byteLength:2,components:1};case Zw:case Kw:return{byteLength:2,components:4};case Nl:case $w:case da:return{byteLength:4,components:1};case nD:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}function Rne(t,e,n,i,r,s,a){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new mt,f=new WeakMap;let x;const v=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function C(fe,te){return y?new OffscreenCanvas(fe,te):Sg("canvas")}function k(fe,te,Fe){let Qe=1;const Ye=ht(fe);if((Ye.width>Fe||Ye.height>Fe)&&(Qe=Fe/Math.max(Ye.width,Ye.height)),Qe<1)if(typeof HTMLImageElement<"u"&&fe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&fe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&fe instanceof ImageBitmap||typeof VideoFrame<"u"&&fe instanceof VideoFrame){const Ke=Math.floor(Qe*Ye.width),ct=Math.floor(Qe*Ye.height);x===void 0&&(x=C(Ke,ct));const at=te?C(Ke,ct):x;return at.width=Ke,at.height=ct,at.getContext("2d").drawImage(fe,0,0,Ke,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ye.width+"x"+Ye.height+") to ("+Ke+"x"+ct+")."),at}else return"data"in fe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ye.width+"x"+Ye.height+")."),fe;return fe}function P(fe){return fe.generateMipmaps&&fe.minFilter!==Br&&fe.minFilter!==rs}function S(fe){t.generateMipmap(fe)}function R(fe,te,Fe,Qe,Ye=!1){if(fe!==null){if(t[fe]!==void 0)return t[fe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+fe+"'")}let Ke=te;if(te===t.RED&&(Fe===t.FLOAT&&(Ke=t.R32F),Fe===t.HALF_FLOAT&&(Ke=t.R16F),Fe===t.UNSIGNED_BYTE&&(Ke=t.R8)),te===t.RED_INTEGER&&(Fe===t.UNSIGNED_BYTE&&(Ke=t.R8UI),Fe===t.UNSIGNED_SHORT&&(Ke=t.R16UI),Fe===t.UNSIGNED_INT&&(Ke=t.R32UI),Fe===t.BYTE&&(Ke=t.R8I),Fe===t.SHORT&&(Ke=t.R16I),Fe===t.INT&&(Ke=t.R32I)),te===t.RG&&(Fe===t.FLOAT&&(Ke=t.RG32F),Fe===t.HALF_FLOAT&&(Ke=t.RG16F),Fe===t.UNSIGNED_BYTE&&(Ke=t.RG8)),te===t.RG_INTEGER&&(Fe===t.UNSIGNED_BYTE&&(Ke=t.RG8UI),Fe===t.UNSIGNED_SHORT&&(Ke=t.RG16UI),Fe===t.UNSIGNED_INT&&(Ke=t.RG32UI),Fe===t.BYTE&&(Ke=t.RG8I),Fe===t.SHORT&&(Ke=t.RG16I),Fe===t.INT&&(Ke=t.RG32I)),te===t.RGB&&Fe===t.UNSIGNED_INT_5_9_9_9_REV&&(Ke=t.RGB9_E5),te===t.RGBA){const ct=Ye?vg:Pn.getTransfer(Qe);Fe===t.FLOAT&&(Ke=t.RGBA32F),Fe===t.HALF_FLOAT&&(Ke=t.RGBA16F),Fe===t.UNSIGNED_BYTE&&(Ke=ct===Dn?t.SRGB8_ALPHA8:t.RGBA8),Fe===t.UNSIGNED_SHORT_4_4_4_4&&(Ke=t.RGBA4),Fe===t.UNSIGNED_SHORT_5_5_5_1&&(Ke=t.RGB5_A1)}return(Ke===t.R16F||Ke===t.R32F||Ke===t.RG16F||Ke===t.RG32F||Ke===t.RGBA16F||Ke===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ke}function L(fe,te){let Fe;return fe?te===null||te===Nl||te===_u?Fe=t.DEPTH24_STENCIL8:te===da?Fe=t.DEPTH32F_STENCIL8:te===Od&&(Fe=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):te===null||te===Nl||te===_u?Fe=t.DEPTH_COMPONENT24:te===da?Fe=t.DEPTH_COMPONENT32F:te===Od&&(Fe=t.DEPTH_COMPONENT16),Fe}function D(fe,te){return P(fe)===!0||fe.isFramebufferTexture&&fe.minFilter!==Br&&fe.minFilter!==rs?Math.log2(Math.max(te.width,te.height))+1:fe.mipmaps!==void 0&&fe.mipmaps.length>0?fe.mipmaps.length:fe.isCompressedTexture&&Array.isArray(fe.image)?te.mipmaps.length:1}function W(fe){const te=fe.target;te.removeEventListener("dispose",W),j(te),te.isVideoTexture&&f.delete(te)}function z(fe){const te=fe.target;te.removeEventListener("dispose",z),$(te)}function j(fe){const te=i.get(fe);if(te.__webglInit===void 0)return;const Fe=fe.source,Qe=v.get(Fe);if(Qe){const Ye=Qe[te.__cacheKey];Ye.usedTimes--,Ye.usedTimes===0&&Z(fe),Object.keys(Qe).length===0&&v.delete(Fe)}i.remove(fe)}function Z(fe){const te=i.get(fe);t.deleteTexture(te.__webglTexture);const Fe=fe.source,Qe=v.get(Fe);delete Qe[te.__cacheKey],a.memory.textures--}function $(fe){const te=i.get(fe);if(fe.depthTexture&&fe.depthTexture.dispose(),fe.isWebGLCubeRenderTarget)for(let Qe=0;Qe<6;Qe++){if(Array.isArray(te.__webglFramebuffer[Qe]))for(let Ye=0;Ye<te.__webglFramebuffer[Qe].length;Ye++)t.deleteFramebuffer(te.__webglFramebuffer[Qe][Ye]);else t.deleteFramebuffer(te.__webglFramebuffer[Qe]);te.__webglDepthbuffer&&t.deleteRenderbuffer(te.__webglDepthbuffer[Qe])}else{if(Array.isArray(te.__webglFramebuffer))for(let Qe=0;Qe<te.__webglFramebuffer.length;Qe++)t.deleteFramebuffer(te.__webglFramebuffer[Qe]);else t.deleteFramebuffer(te.__webglFramebuffer);if(te.__webglDepthbuffer&&t.deleteRenderbuffer(te.__webglDepthbuffer),te.__webglMultisampledFramebuffer&&t.deleteFramebuffer(te.__webglMultisampledFramebuffer),te.__webglColorRenderbuffer)for(let Qe=0;Qe<te.__webglColorRenderbuffer.length;Qe++)te.__webglColorRenderbuffer[Qe]&&t.deleteRenderbuffer(te.__webglColorRenderbuffer[Qe]);te.__webglDepthRenderbuffer&&t.deleteRenderbuffer(te.__webglDepthRenderbuffer)}const Fe=fe.textures;for(let Qe=0,Ye=Fe.length;Qe<Ye;Qe++){const Ke=i.get(Fe[Qe]);Ke.__webglTexture&&(t.deleteTexture(Ke.__webglTexture),a.memory.textures--),i.remove(Fe[Qe])}i.remove(fe)}let H=0;function q(){H=0}function ce(){const fe=H;return fe>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+fe+" texture units while this GPU supports only "+r.maxTextures),H+=1,fe}function le(fe){const te=[];return te.push(fe.wrapS),te.push(fe.wrapT),te.push(fe.wrapR||0),te.push(fe.magFilter),te.push(fe.minFilter),te.push(fe.anisotropy),te.push(fe.internalFormat),te.push(fe.format),te.push(fe.type),te.push(fe.generateMipmaps),te.push(fe.premultiplyAlpha),te.push(fe.flipY),te.push(fe.unpackAlignment),te.push(fe.colorSpace),te.join()}function me(fe,te){const Fe=i.get(fe);if(fe.isVideoTexture&&$e(fe),fe.isRenderTargetTexture===!1&&fe.version>0&&Fe.__version!==fe.version){const Qe=fe.image;if(Qe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Qe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ue(Fe,fe,te);return}}n.bindTexture(t.TEXTURE_2D,Fe.__webglTexture,t.TEXTURE0+te)}function we(fe,te){const Fe=i.get(fe);if(fe.version>0&&Fe.__version!==fe.version){Ue(Fe,fe,te);return}n.bindTexture(t.TEXTURE_2D_ARRAY,Fe.__webglTexture,t.TEXTURE0+te)}function Se(fe,te){const Fe=i.get(fe);if(fe.version>0&&Fe.__version!==fe.version){Ue(Fe,fe,te);return}n.bindTexture(t.TEXTURE_3D,Fe.__webglTexture,t.TEXTURE0+te)}function ge(fe,te){const Fe=i.get(fe);if(fe.version>0&&Fe.__version!==fe.version){K(Fe,fe,te);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Fe.__webglTexture,t.TEXTURE0+te)}const ie={[O1]:t.REPEAT,[fl]:t.CLAMP_TO_EDGE,[B1]:t.MIRRORED_REPEAT},_e={[Br]:t.NEAREST,[yQ]:t.NEAREST_MIPMAP_NEAREST,[pp]:t.NEAREST_MIPMAP_LINEAR,[rs]:t.LINEAR,[hv]:t.LINEAR_MIPMAP_NEAREST,[pl]:t.LINEAR_MIPMAP_LINEAR},Te={[SQ]:t.NEVER,[AQ]:t.ALWAYS,[MQ]:t.LESS,[hD]:t.LEQUAL,[CQ]:t.EQUAL,[EQ]:t.GEQUAL,[TQ]:t.GREATER,[PQ]:t.NOTEQUAL};function ee(fe,te){if(te.type===da&&e.has("OES_texture_float_linear")===!1&&(te.magFilter===rs||te.magFilter===hv||te.magFilter===pp||te.magFilter===pl||te.minFilter===rs||te.minFilter===hv||te.minFilter===pp||te.minFilter===pl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(fe,t.TEXTURE_WRAP_S,ie[te.wrapS]),t.texParameteri(fe,t.TEXTURE_WRAP_T,ie[te.wrapT]),(fe===t.TEXTURE_3D||fe===t.TEXTURE_2D_ARRAY)&&t.texParameteri(fe,t.TEXTURE_WRAP_R,ie[te.wrapR]),t.texParameteri(fe,t.TEXTURE_MAG_FILTER,_e[te.magFilter]),t.texParameteri(fe,t.TEXTURE_MIN_FILTER,_e[te.minFilter]),te.compareFunction&&(t.texParameteri(fe,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(fe,t.TEXTURE_COMPARE_FUNC,Te[te.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(te.magFilter===Br||te.minFilter!==pp&&te.minFilter!==pl||te.type===da&&e.has("OES_texture_float_linear")===!1)return;if(te.anisotropy>1||i.get(te).__currentAnisotropy){const Fe=e.get("EXT_texture_filter_anisotropic");t.texParameterf(fe,Fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(te.anisotropy,r.getMaxAnisotropy())),i.get(te).__currentAnisotropy=te.anisotropy}}}function He(fe,te){let Fe=!1;fe.__webglInit===void 0&&(fe.__webglInit=!0,te.addEventListener("dispose",W));const Qe=te.source;let Ye=v.get(Qe);Ye===void 0&&(Ye={},v.set(Qe,Ye));const Ke=le(te);if(Ke!==fe.__cacheKey){Ye[Ke]===void 0&&(Ye[Ke]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,Fe=!0),Ye[Ke].usedTimes++;const ct=Ye[fe.__cacheKey];ct!==void 0&&(Ye[fe.__cacheKey].usedTimes--,ct.usedTimes===0&&Z(te)),fe.__cacheKey=Ke,fe.__webglTexture=Ye[Ke].texture}return Fe}function Ue(fe,te,Fe){let Qe=t.TEXTURE_2D;(te.isDataArrayTexture||te.isCompressedArrayTexture)&&(Qe=t.TEXTURE_2D_ARRAY),te.isData3DTexture&&(Qe=t.TEXTURE_3D);const Ye=He(fe,te),Ke=te.source;n.bindTexture(Qe,fe.__webglTexture,t.TEXTURE0+Fe);const ct=i.get(Ke);if(Ke.version!==ct.__version||Ye===!0){n.activeTexture(t.TEXTURE0+Fe);const at=Pn.getPrimaries(Pn.workingColorSpace),bt=te.colorSpace===qa?null:Pn.getPrimaries(te.colorSpace),jt=te.colorSpace===qa||at===bt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,te.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,te.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,jt);let Je=k(te.image,!1,r.maxTextureSize);Je=rt(te,Je);const nt=s.convert(te.format,te.colorSpace),Ct=s.convert(te.type);let Tt=R(te.internalFormat,nt,Ct,te.colorSpace,te.isVideoTexture);ee(Qe,te);let St;const Ht=te.mipmaps,Jt=te.isVideoTexture!==!0,U=ct.__version===void 0||Ye===!0,V=Ke.dataReady,J=D(te,Je);if(te.isDepthTexture)Tt=L(te.format===bu,te.type),U&&(Jt?n.texStorage2D(t.TEXTURE_2D,1,Tt,Je.width,Je.height):n.texImage2D(t.TEXTURE_2D,0,Tt,Je.width,Je.height,0,nt,Ct,null));else if(te.isDataTexture)if(Ht.length>0){Jt&&U&&n.texStorage2D(t.TEXTURE_2D,J,Tt,Ht[0].width,Ht[0].height);for(let he=0,Me=Ht.length;he<Me;he++)St=Ht[he],Jt?V&&n.texSubImage2D(t.TEXTURE_2D,he,0,0,St.width,St.height,nt,Ct,St.data):n.texImage2D(t.TEXTURE_2D,he,Tt,St.width,St.height,0,nt,Ct,St.data);te.generateMipmaps=!1}else Jt?(U&&n.texStorage2D(t.TEXTURE_2D,J,Tt,Je.width,Je.height),V&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Je.width,Je.height,nt,Ct,Je.data)):n.texImage2D(t.TEXTURE_2D,0,Tt,Je.width,Je.height,0,nt,Ct,Je.data);else if(te.isCompressedTexture)if(te.isCompressedArrayTexture){Jt&&U&&n.texStorage3D(t.TEXTURE_2D_ARRAY,J,Tt,Ht[0].width,Ht[0].height,Je.depth);for(let he=0,Me=Ht.length;he<Me;he++)if(St=Ht[he],te.format!==os)if(nt!==null)if(Jt){if(V)if(te.layerUpdates.size>0){const Ie=I2(St.width,St.height,te.format,te.type);for(const ke of te.layerUpdates){const ot=St.data.subarray(ke*Ie/St.data.BYTES_PER_ELEMENT,(ke+1)*Ie/St.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,he,0,0,ke,St.width,St.height,1,nt,ot,0,0)}te.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,he,0,0,0,St.width,St.height,Je.depth,nt,St.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,he,Tt,St.width,St.height,Je.depth,0,St.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Jt?V&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,he,0,0,0,St.width,St.height,Je.depth,nt,Ct,St.data):n.texImage3D(t.TEXTURE_2D_ARRAY,he,Tt,St.width,St.height,Je.depth,0,nt,Ct,St.data)}else{Jt&&U&&n.texStorage2D(t.TEXTURE_2D,J,Tt,Ht[0].width,Ht[0].height);for(let he=0,Me=Ht.length;he<Me;he++)St=Ht[he],te.format!==os?nt!==null?Jt?V&&n.compressedTexSubImage2D(t.TEXTURE_2D,he,0,0,St.width,St.height,nt,St.data):n.compressedTexImage2D(t.TEXTURE_2D,he,Tt,St.width,St.height,0,St.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Jt?V&&n.texSubImage2D(t.TEXTURE_2D,he,0,0,St.width,St.height,nt,Ct,St.data):n.texImage2D(t.TEXTURE_2D,he,Tt,St.width,St.height,0,nt,Ct,St.data)}else if(te.isDataArrayTexture)if(Jt){if(U&&n.texStorage3D(t.TEXTURE_2D_ARRAY,J,Tt,Je.width,Je.height,Je.depth),V)if(te.layerUpdates.size>0){const he=I2(Je.width,Je.height,te.format,te.type);for(const Me of te.layerUpdates){const Ie=Je.data.subarray(Me*he/Je.data.BYTES_PER_ELEMENT,(Me+1)*he/Je.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Me,Je.width,Je.height,1,nt,Ct,Ie)}te.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Je.width,Je.height,Je.depth,nt,Ct,Je.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Tt,Je.width,Je.height,Je.depth,0,nt,Ct,Je.data);else if(te.isData3DTexture)Jt?(U&&n.texStorage3D(t.TEXTURE_3D,J,Tt,Je.width,Je.height,Je.depth),V&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Je.width,Je.height,Je.depth,nt,Ct,Je.data)):n.texImage3D(t.TEXTURE_3D,0,Tt,Je.width,Je.height,Je.depth,0,nt,Ct,Je.data);else if(te.isFramebufferTexture){if(U)if(Jt)n.texStorage2D(t.TEXTURE_2D,J,Tt,Je.width,Je.height);else{let he=Je.width,Me=Je.height;for(let Ie=0;Ie<J;Ie++)n.texImage2D(t.TEXTURE_2D,Ie,Tt,he,Me,0,nt,Ct,null),he>>=1,Me>>=1}}else if(Ht.length>0){if(Jt&&U){const he=ht(Ht[0]);n.texStorage2D(t.TEXTURE_2D,J,Tt,he.width,he.height)}for(let he=0,Me=Ht.length;he<Me;he++)St=Ht[he],Jt?V&&n.texSubImage2D(t.TEXTURE_2D,he,0,0,nt,Ct,St):n.texImage2D(t.TEXTURE_2D,he,Tt,nt,Ct,St);te.generateMipmaps=!1}else if(Jt){if(U){const he=ht(Je);n.texStorage2D(t.TEXTURE_2D,J,Tt,he.width,he.height)}V&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,nt,Ct,Je)}else n.texImage2D(t.TEXTURE_2D,0,Tt,nt,Ct,Je);P(te)&&S(Qe),ct.__version=Ke.version,te.onUpdate&&te.onUpdate(te)}fe.__version=te.version}function K(fe,te,Fe){if(te.image.length!==6)return;const Qe=He(fe,te),Ye=te.source;n.bindTexture(t.TEXTURE_CUBE_MAP,fe.__webglTexture,t.TEXTURE0+Fe);const Ke=i.get(Ye);if(Ye.version!==Ke.__version||Qe===!0){n.activeTexture(t.TEXTURE0+Fe);const ct=Pn.getPrimaries(Pn.workingColorSpace),at=te.colorSpace===qa?null:Pn.getPrimaries(te.colorSpace),bt=te.colorSpace===qa||ct===at?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,te.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,te.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,bt);const jt=te.isCompressedTexture||te.image[0].isCompressedTexture,Je=te.image[0]&&te.image[0].isDataTexture,nt=[];for(let Me=0;Me<6;Me++)!jt&&!Je?nt[Me]=k(te.image[Me],!0,r.maxCubemapSize):nt[Me]=Je?te.image[Me].image:te.image[Me],nt[Me]=rt(te,nt[Me]);const Ct=nt[0],Tt=s.convert(te.format,te.colorSpace),St=s.convert(te.type),Ht=R(te.internalFormat,Tt,St,te.colorSpace),Jt=te.isVideoTexture!==!0,U=Ke.__version===void 0||Qe===!0,V=Ye.dataReady;let J=D(te,Ct);ee(t.TEXTURE_CUBE_MAP,te);let he;if(jt){Jt&&U&&n.texStorage2D(t.TEXTURE_CUBE_MAP,J,Ht,Ct.width,Ct.height);for(let Me=0;Me<6;Me++){he=nt[Me].mipmaps;for(let Ie=0;Ie<he.length;Ie++){const ke=he[Ie];te.format!==os?Tt!==null?Jt?V&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Ie,0,0,ke.width,ke.height,Tt,ke.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Ie,Ht,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Jt?V&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Ie,0,0,ke.width,ke.height,Tt,St,ke.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Ie,Ht,ke.width,ke.height,0,Tt,St,ke.data)}}}else{if(he=te.mipmaps,Jt&&U){he.length>0&&J++;const Me=ht(nt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,J,Ht,Me.width,Me.height)}for(let Me=0;Me<6;Me++)if(Je){Jt?V&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,0,0,nt[Me].width,nt[Me].height,Tt,St,nt[Me].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,Ht,nt[Me].width,nt[Me].height,0,Tt,St,nt[Me].data);for(let Ie=0;Ie<he.length;Ie++){const ot=he[Ie].image[Me].image;Jt?V&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Ie+1,0,0,ot.width,ot.height,Tt,St,ot.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Ie+1,Ht,ot.width,ot.height,0,Tt,St,ot.data)}}else{Jt?V&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,0,0,Tt,St,nt[Me]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,Ht,Tt,St,nt[Me]);for(let Ie=0;Ie<he.length;Ie++){const ke=he[Ie];Jt?V&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Ie+1,0,0,Tt,St,ke.image[Me]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Ie+1,Ht,Tt,St,ke.image[Me])}}}P(te)&&S(t.TEXTURE_CUBE_MAP),Ke.__version=Ye.version,te.onUpdate&&te.onUpdate(te)}fe.__version=te.version}function oe(fe,te,Fe,Qe,Ye,Ke){const ct=s.convert(Fe.format,Fe.colorSpace),at=s.convert(Fe.type),bt=R(Fe.internalFormat,ct,at,Fe.colorSpace);if(!i.get(te).__hasExternalTextures){const Je=Math.max(1,te.width>>Ke),nt=Math.max(1,te.height>>Ke);Ye===t.TEXTURE_3D||Ye===t.TEXTURE_2D_ARRAY?n.texImage3D(Ye,Ke,bt,Je,nt,te.depth,0,ct,at,null):n.texImage2D(Ye,Ke,bt,Je,nt,0,ct,at,null)}n.bindFramebuffer(t.FRAMEBUFFER,fe),Ve(te)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Qe,Ye,i.get(Fe).__webglTexture,0,De(te)):(Ye===t.TEXTURE_2D||Ye>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ye<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Qe,Ye,i.get(Fe).__webglTexture,Ke),n.bindFramebuffer(t.FRAMEBUFFER,null)}function be(fe,te,Fe){if(t.bindRenderbuffer(t.RENDERBUFFER,fe),te.depthBuffer){const Qe=te.depthTexture,Ye=Qe&&Qe.isDepthTexture?Qe.type:null,Ke=L(te.stencilBuffer,Ye),ct=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,at=De(te);Ve(te)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,at,Ke,te.width,te.height):Fe?t.renderbufferStorageMultisample(t.RENDERBUFFER,at,Ke,te.width,te.height):t.renderbufferStorage(t.RENDERBUFFER,Ke,te.width,te.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ct,t.RENDERBUFFER,fe)}else{const Qe=te.textures;for(let Ye=0;Ye<Qe.length;Ye++){const Ke=Qe[Ye],ct=s.convert(Ke.format,Ke.colorSpace),at=s.convert(Ke.type),bt=R(Ke.internalFormat,ct,at,Ke.colorSpace),jt=De(te);Fe&&Ve(te)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,jt,bt,te.width,te.height):Ve(te)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,jt,bt,te.width,te.height):t.renderbufferStorage(t.RENDERBUFFER,bt,te.width,te.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ue(fe,te){if(te&&te.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,fe),!(te.depthTexture&&te.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(te.depthTexture).__webglTexture||te.depthTexture.image.width!==te.width||te.depthTexture.image.height!==te.height)&&(te.depthTexture.image.width=te.width,te.depthTexture.image.height=te.height,te.depthTexture.needsUpdate=!0),me(te.depthTexture,0);const Qe=i.get(te.depthTexture).__webglTexture,Ye=De(te);if(te.depthTexture.format===qc)Ve(te)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Qe,0,Ye):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Qe,0);else if(te.depthTexture.format===bu)Ve(te)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Qe,0,Ye):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Qe,0);else throw new Error("Unknown depthTexture format")}function Pe(fe){const te=i.get(fe),Fe=fe.isWebGLCubeRenderTarget===!0;if(fe.depthTexture&&!te.__autoAllocateDepthBuffer){if(Fe)throw new Error("target.depthTexture not supported in Cube render targets");ue(te.__webglFramebuffer,fe)}else if(Fe){te.__webglDepthbuffer=[];for(let Qe=0;Qe<6;Qe++)n.bindFramebuffer(t.FRAMEBUFFER,te.__webglFramebuffer[Qe]),te.__webglDepthbuffer[Qe]=t.createRenderbuffer(),be(te.__webglDepthbuffer[Qe],fe,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,te.__webglFramebuffer),te.__webglDepthbuffer=t.createRenderbuffer(),be(te.__webglDepthbuffer,fe,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ee(fe,te,Fe){const Qe=i.get(fe);te!==void 0&&oe(Qe.__webglFramebuffer,fe,fe.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Fe!==void 0&&Pe(fe)}function ze(fe){const te=fe.texture,Fe=i.get(fe),Qe=i.get(te);fe.addEventListener("dispose",z);const Ye=fe.textures,Ke=fe.isWebGLCubeRenderTarget===!0,ct=Ye.length>1;if(ct||(Qe.__webglTexture===void 0&&(Qe.__webglTexture=t.createTexture()),Qe.__version=te.version,a.memory.textures++),Ke){Fe.__webglFramebuffer=[];for(let at=0;at<6;at++)if(te.mipmaps&&te.mipmaps.length>0){Fe.__webglFramebuffer[at]=[];for(let bt=0;bt<te.mipmaps.length;bt++)Fe.__webglFramebuffer[at][bt]=t.createFramebuffer()}else Fe.__webglFramebuffer[at]=t.createFramebuffer()}else{if(te.mipmaps&&te.mipmaps.length>0){Fe.__webglFramebuffer=[];for(let at=0;at<te.mipmaps.length;at++)Fe.__webglFramebuffer[at]=t.createFramebuffer()}else Fe.__webglFramebuffer=t.createFramebuffer();if(ct)for(let at=0,bt=Ye.length;at<bt;at++){const jt=i.get(Ye[at]);jt.__webglTexture===void 0&&(jt.__webglTexture=t.createTexture(),a.memory.textures++)}if(fe.samples>0&&Ve(fe)===!1){Fe.__webglMultisampledFramebuffer=t.createFramebuffer(),Fe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Fe.__webglMultisampledFramebuffer);for(let at=0;at<Ye.length;at++){const bt=Ye[at];Fe.__webglColorRenderbuffer[at]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Fe.__webglColorRenderbuffer[at]);const jt=s.convert(bt.format,bt.colorSpace),Je=s.convert(bt.type),nt=R(bt.internalFormat,jt,Je,bt.colorSpace,fe.isXRRenderTarget===!0),Ct=De(fe);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ct,nt,fe.width,fe.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+at,t.RENDERBUFFER,Fe.__webglColorRenderbuffer[at])}t.bindRenderbuffer(t.RENDERBUFFER,null),fe.depthBuffer&&(Fe.__webglDepthRenderbuffer=t.createRenderbuffer(),be(Fe.__webglDepthRenderbuffer,fe,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ke){n.bindTexture(t.TEXTURE_CUBE_MAP,Qe.__webglTexture),ee(t.TEXTURE_CUBE_MAP,te);for(let at=0;at<6;at++)if(te.mipmaps&&te.mipmaps.length>0)for(let bt=0;bt<te.mipmaps.length;bt++)oe(Fe.__webglFramebuffer[at][bt],fe,te,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+at,bt);else oe(Fe.__webglFramebuffer[at],fe,te,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+at,0);P(te)&&S(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ct){for(let at=0,bt=Ye.length;at<bt;at++){const jt=Ye[at],Je=i.get(jt);n.bindTexture(t.TEXTURE_2D,Je.__webglTexture),ee(t.TEXTURE_2D,jt),oe(Fe.__webglFramebuffer,fe,jt,t.COLOR_ATTACHMENT0+at,t.TEXTURE_2D,0),P(jt)&&S(t.TEXTURE_2D)}n.unbindTexture()}else{let at=t.TEXTURE_2D;if((fe.isWebGL3DRenderTarget||fe.isWebGLArrayRenderTarget)&&(at=fe.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(at,Qe.__webglTexture),ee(at,te),te.mipmaps&&te.mipmaps.length>0)for(let bt=0;bt<te.mipmaps.length;bt++)oe(Fe.__webglFramebuffer[bt],fe,te,t.COLOR_ATTACHMENT0,at,bt);else oe(Fe.__webglFramebuffer,fe,te,t.COLOR_ATTACHMENT0,at,0);P(te)&&S(at),n.unbindTexture()}fe.depthBuffer&&Pe(fe)}function Ze(fe){const te=fe.textures;for(let Fe=0,Qe=te.length;Fe<Qe;Fe++){const Ye=te[Fe];if(P(Ye)){const Ke=fe.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,ct=i.get(Ye).__webglTexture;n.bindTexture(Ke,ct),S(Ke),n.unbindTexture()}}}const ne=[],Oe=[];function Ne(fe){if(fe.samples>0){if(Ve(fe)===!1){const te=fe.textures,Fe=fe.width,Qe=fe.height;let Ye=t.COLOR_BUFFER_BIT;const Ke=fe.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ct=i.get(fe),at=te.length>1;if(at)for(let bt=0;bt<te.length;bt++)n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+bt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+bt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let bt=0;bt<te.length;bt++){if(fe.resolveDepthBuffer&&(fe.depthBuffer&&(Ye|=t.DEPTH_BUFFER_BIT),fe.stencilBuffer&&fe.resolveStencilBuffer&&(Ye|=t.STENCIL_BUFFER_BIT)),at){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ct.__webglColorRenderbuffer[bt]);const jt=i.get(te[bt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,jt,0)}t.blitFramebuffer(0,0,Fe,Qe,0,0,Fe,Qe,Ye,t.NEAREST),u===!0&&(ne.length=0,Oe.length=0,ne.push(t.COLOR_ATTACHMENT0+bt),fe.depthBuffer&&fe.resolveDepthBuffer===!1&&(ne.push(Ke),Oe.push(Ke),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Oe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ne))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),at)for(let bt=0;bt<te.length;bt++){n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+bt,t.RENDERBUFFER,ct.__webglColorRenderbuffer[bt]);const jt=i.get(te[bt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+bt,t.TEXTURE_2D,jt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(fe.depthBuffer&&fe.resolveDepthBuffer===!1&&u){const te=fe.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[te])}}}function De(fe){return Math.min(r.maxSamples,fe.samples)}function Ve(fe){const te=i.get(fe);return fe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&te.__useRenderToTexture!==!1}function $e(fe){const te=a.render.frame;f.get(fe)!==te&&(f.set(fe,te),fe.update())}function rt(fe,te){const Fe=fe.colorSpace,Qe=fe.format,Ye=fe.type;return fe.isCompressedTexture===!0||fe.isVideoTexture===!0||Fe!==zo&&Fe!==qa&&(Pn.getTransfer(Fe)===Dn?(Qe!==os||Ye!==Ta)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Fe)),te}function ht(fe){return typeof HTMLImageElement<"u"&&fe instanceof HTMLImageElement?(d.width=fe.naturalWidth||fe.width,d.height=fe.naturalHeight||fe.height):typeof VideoFrame<"u"&&fe instanceof VideoFrame?(d.width=fe.displayWidth,d.height=fe.displayHeight):(d.width=fe.width,d.height=fe.height),d}this.allocateTextureUnit=ce,this.resetTextureUnits=q,this.setTexture2D=me,this.setTexture2DArray=we,this.setTexture3D=Se,this.setTextureCube=ge,this.rebindTextures=Ee,this.setupRenderTarget=ze,this.updateRenderTargetMipmap=Ze,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=Pe,this.setupFrameBufferTexture=oe,this.useMultisampledRTT=Ve}function Ine(t,e){function n(i,r=qa){let s;const a=Pn.getTransfer(r);if(i===Ta)return t.UNSIGNED_BYTE;if(i===Zw)return t.UNSIGNED_SHORT_4_4_4_4;if(i===Kw)return t.UNSIGNED_SHORT_5_5_5_1;if(i===nD)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===eD)return t.BYTE;if(i===tD)return t.SHORT;if(i===Od)return t.UNSIGNED_SHORT;if(i===$w)return t.INT;if(i===Nl)return t.UNSIGNED_INT;if(i===da)return t.FLOAT;if(i===wf)return t.HALF_FLOAT;if(i===iD)return t.ALPHA;if(i===rD)return t.RGB;if(i===os)return t.RGBA;if(i===sD)return t.LUMINANCE;if(i===aD)return t.LUMINANCE_ALPHA;if(i===qc)return t.DEPTH_COMPONENT;if(i===bu)return t.DEPTH_STENCIL;if(i===oD)return t.RED;if(i===Qw)return t.RED_INTEGER;if(i===lD)return t.RG;if(i===qw)return t.RG_INTEGER;if(i===Jw)return t.RGBA_INTEGER;if(i===cm||i===um||i===hm||i===dm)if(a===Dn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===cm)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===um)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===hm)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===dm)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===cm)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===um)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===hm)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===dm)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===V1||i===U1||i===z1||i===W1)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===V1)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===U1)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===z1)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===W1)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===j1||i===H1||i===X1)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===j1||i===H1)return a===Dn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===X1)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===G1||i===Y1||i===$1||i===Z1||i===K1||i===Q1||i===q1||i===J1||i===e_||i===t_||i===n_||i===i_||i===r_||i===s_)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===G1)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Y1)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===$1)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Z1)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===K1)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Q1)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===q1)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===J1)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===e_)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===t_)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===n_)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===i_)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===r_)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===s_)return a===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===fm||i===a_||i===o_)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===fm)return a===Dn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===a_)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===o_)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===cD||i===l_||i===c_||i===u_)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===fm)return s.COMPRESSED_RED_RGTC1_EXT;if(i===l_)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===c_)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===u_)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===_u?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}class Lne extends ir{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}let Fp=class extends Fi{constructor(){super(),this.isGroup=!0,this.type="Group"}};const Dne={type:"move"};class Bv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Fp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Fp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ae,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ae),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Fp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ae,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ae),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,a=null;const l=this._targetRay,u=this._grip,d=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(d&&e.hand){a=!0;for(const k of e.hand.values()){const P=n.getJointPose(k,i),S=this._getHandJoint(d,k);P!==null&&(S.matrix.fromArray(P.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=P.radius),S.visible=P!==null}const f=d.joints["index-finger-tip"],x=d.joints["thumb-tip"],v=f.position.distanceTo(x.position),y=.02,C=.005;d.inputState.pinching&&v>y+C?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&v<=y-C&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(Dne)))}return l!==null&&(l.visible=r!==null),u!==null&&(u.visible=s!==null),d!==null&&(d.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Fp;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}const Nne=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Fne=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class One{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const r=new dr,s=e.properties.get(r);s.__webglTexture=n.texture,(n.depthNear!=i.depthNear||n.depthFar!=i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new Ro({vertexShader:Nne,fragmentShader:Fne,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new rr(new Rx(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Bne extends Bu{constructor(e,n){super();const i=this;let r=null,s=1,a=null,l="local-floor",u=1,d=null,f=null,x=null,v=null,y=null,C=null;const k=new One,P=n.getContextAttributes();let S=null,R=null;const L=[],D=[],W=new mt;let z=null;const j=new ir;j.layers.enable(1),j.viewport=new Nn;const Z=new ir;Z.layers.enable(2),Z.viewport=new Nn;const $=[j,Z],H=new Lne;H.layers.enable(1),H.layers.enable(2);let q=null,ce=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(K){let oe=L[K];return oe===void 0&&(oe=new Bv,L[K]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function(K){let oe=L[K];return oe===void 0&&(oe=new Bv,L[K]=oe),oe.getGripSpace()},this.getHand=function(K){let oe=L[K];return oe===void 0&&(oe=new Bv,L[K]=oe),oe.getHandSpace()};function le(K){const oe=D.indexOf(K.inputSource);if(oe===-1)return;const be=L[oe];be!==void 0&&(be.update(K.inputSource,K.frame,d||a),be.dispatchEvent({type:K.type,data:K.inputSource}))}function me(){r.removeEventListener("select",le),r.removeEventListener("selectstart",le),r.removeEventListener("selectend",le),r.removeEventListener("squeeze",le),r.removeEventListener("squeezestart",le),r.removeEventListener("squeezeend",le),r.removeEventListener("end",me),r.removeEventListener("inputsourceschange",we);for(let K=0;K<L.length;K++){const oe=D[K];oe!==null&&(D[K]=null,L[K].disconnect(oe))}q=null,ce=null,k.reset(),e.setRenderTarget(S),y=null,v=null,x=null,r=null,R=null,Ue.stop(),i.isPresenting=!1,e.setPixelRatio(z),e.setSize(W.width,W.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(K){s=K,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(K){l=K,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||a},this.setReferenceSpace=function(K){d=K},this.getBaseLayer=function(){return v!==null?v:y},this.getBinding=function(){return x},this.getFrame=function(){return C},this.getSession=function(){return r},this.setSession=async function(K){if(r=K,r!==null){if(S=e.getRenderTarget(),r.addEventListener("select",le),r.addEventListener("selectstart",le),r.addEventListener("selectend",le),r.addEventListener("squeeze",le),r.addEventListener("squeezestart",le),r.addEventListener("squeezeend",le),r.addEventListener("end",me),r.addEventListener("inputsourceschange",we),P.xrCompatible!==!0&&await n.makeXRCompatible(),z=e.getPixelRatio(),e.getSize(W),r.renderState.layers===void 0){const oe={antialias:P.antialias,alpha:!0,depth:P.depth,stencil:P.stencil,framebufferScaleFactor:s};y=new XRWebGLLayer(r,n,oe),r.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),R=new Fl(y.framebufferWidth,y.framebufferHeight,{format:os,type:Ta,colorSpace:e.outputColorSpace,stencilBuffer:P.stencil})}else{let oe=null,be=null,ue=null;P.depth&&(ue=P.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,oe=P.stencil?bu:qc,be=P.stencil?_u:Nl);const Pe={colorFormat:n.RGBA8,depthFormat:ue,scaleFactor:s};x=new XRWebGLBinding(r,n),v=x.createProjectionLayer(Pe),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),R=new Fl(v.textureWidth,v.textureHeight,{format:os,type:Ta,depthTexture:new CD(v.textureWidth,v.textureHeight,be,void 0,void 0,void 0,void 0,void 0,void 0,oe),stencilBuffer:P.stencil,colorSpace:e.outputColorSpace,samples:P.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1})}R.isXRRenderTarget=!0,this.setFoveation(u),d=null,a=await r.requestReferenceSpace(l),Ue.setContext(r),Ue.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return k.getDepthTexture()};function we(K){for(let oe=0;oe<K.removed.length;oe++){const be=K.removed[oe],ue=D.indexOf(be);ue>=0&&(D[ue]=null,L[ue].disconnect(be))}for(let oe=0;oe<K.added.length;oe++){const be=K.added[oe];let ue=D.indexOf(be);if(ue===-1){for(let Ee=0;Ee<L.length;Ee++)if(Ee>=D.length){D.push(be),ue=Ee;break}else if(D[Ee]===null){D[Ee]=be,ue=Ee;break}if(ue===-1)break}const Pe=L[ue];Pe&&Pe.connect(be)}}const Se=new Ae,ge=new Ae;function ie(K,oe,be){Se.setFromMatrixPosition(oe.matrixWorld),ge.setFromMatrixPosition(be.matrixWorld);const ue=Se.distanceTo(ge),Pe=oe.projectionMatrix.elements,Ee=be.projectionMatrix.elements,ze=Pe[14]/(Pe[10]-1),Ze=Pe[14]/(Pe[10]+1),ne=(Pe[9]+1)/Pe[5],Oe=(Pe[9]-1)/Pe[5],Ne=(Pe[8]-1)/Pe[0],De=(Ee[8]+1)/Ee[0],Ve=ze*Ne,$e=ze*De,rt=ue/(-Ne+De),ht=rt*-Ne;oe.matrixWorld.decompose(K.position,K.quaternion,K.scale),K.translateX(ht),K.translateZ(rt),K.matrixWorld.compose(K.position,K.quaternion,K.scale),K.matrixWorldInverse.copy(K.matrixWorld).invert();const fe=ze+rt,te=Ze+rt,Fe=Ve-ht,Qe=$e+(ue-ht),Ye=ne*Ze/te*fe,Ke=Oe*Ze/te*fe;K.projectionMatrix.makePerspective(Fe,Qe,Ye,Ke,fe,te),K.projectionMatrixInverse.copy(K.projectionMatrix).invert()}function _e(K,oe){oe===null?K.matrixWorld.copy(K.matrix):K.matrixWorld.multiplyMatrices(oe.matrixWorld,K.matrix),K.matrixWorldInverse.copy(K.matrixWorld).invert()}this.updateCamera=function(K){if(r===null)return;k.texture!==null&&(K.near=k.depthNear,K.far=k.depthFar),H.near=Z.near=j.near=K.near,H.far=Z.far=j.far=K.far,(q!==H.near||ce!==H.far)&&(r.updateRenderState({depthNear:H.near,depthFar:H.far}),q=H.near,ce=H.far,j.near=q,j.far=ce,Z.near=q,Z.far=ce,j.updateProjectionMatrix(),Z.updateProjectionMatrix(),K.updateProjectionMatrix());const oe=K.parent,be=H.cameras;_e(H,oe);for(let ue=0;ue<be.length;ue++)_e(be[ue],oe);be.length===2?ie(H,j,Z):H.projectionMatrix.copy(j.projectionMatrix),Te(K,H,oe)};function Te(K,oe,be){be===null?K.matrix.copy(oe.matrixWorld):(K.matrix.copy(be.matrixWorld),K.matrix.invert(),K.matrix.multiply(oe.matrixWorld)),K.matrix.decompose(K.position,K.quaternion,K.scale),K.updateMatrixWorld(!0),K.projectionMatrix.copy(oe.projectionMatrix),K.projectionMatrixInverse.copy(oe.projectionMatrixInverse),K.isPerspectiveCamera&&(K.fov=wg*2*Math.atan(1/K.projectionMatrix.elements[5]),K.zoom=1)}this.getCamera=function(){return H},this.getFoveation=function(){if(!(v===null&&y===null))return u},this.setFoveation=function(K){u=K,v!==null&&(v.fixedFoveation=K),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=K)},this.hasDepthSensing=function(){return k.texture!==null},this.getDepthSensingMesh=function(){return k.getMesh(H)};let ee=null;function He(K,oe){if(f=oe.getViewerPose(d||a),C=oe,f!==null){const be=f.views;y!==null&&(e.setRenderTargetFramebuffer(R,y.framebuffer),e.setRenderTarget(R));let ue=!1;be.length!==H.cameras.length&&(H.cameras.length=0,ue=!0);for(let Ee=0;Ee<be.length;Ee++){const ze=be[Ee];let Ze=null;if(y!==null)Ze=y.getViewport(ze);else{const Oe=x.getViewSubImage(v,ze);Ze=Oe.viewport,Ee===0&&(e.setRenderTargetTextures(R,Oe.colorTexture,v.ignoreDepthValues?void 0:Oe.depthStencilTexture),e.setRenderTarget(R))}let ne=$[Ee];ne===void 0&&(ne=new ir,ne.layers.enable(Ee),ne.viewport=new Nn,$[Ee]=ne),ne.matrix.fromArray(ze.transform.matrix),ne.matrix.decompose(ne.position,ne.quaternion,ne.scale),ne.projectionMatrix.fromArray(ze.projectionMatrix),ne.projectionMatrixInverse.copy(ne.projectionMatrix).invert(),ne.viewport.set(Ze.x,Ze.y,Ze.width,Ze.height),Ee===0&&(H.matrix.copy(ne.matrix),H.matrix.decompose(H.position,H.quaternion,H.scale)),ue===!0&&H.cameras.push(ne)}const Pe=r.enabledFeatures;if(Pe&&Pe.includes("depth-sensing")){const Ee=x.getDepthInformation(be[0]);Ee&&Ee.isValid&&Ee.texture&&k.init(e,Ee,r.renderState)}}for(let be=0;be<L.length;be++){const ue=D[be],Pe=L[be];ue!==null&&Pe!==void 0&&Pe.update(ue,oe,d||a)}ee&&ee(K,oe),oe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:oe}),C=null}const Ue=new MD;Ue.setAnimationLoop(He),this.setAnimationLoop=function(K){ee=K},this.dispose=function(){}}}const Qo=new Hs,Vne=new Xn;function Une(t,e){function n(P,S){P.matrixAutoUpdate===!0&&P.updateMatrix(),S.value.copy(P.matrix)}function i(P,S){S.color.getRGB(P.fogColor.value,bD(t)),S.isFog?(P.fogNear.value=S.near,P.fogFar.value=S.far):S.isFogExp2&&(P.fogDensity.value=S.density)}function r(P,S,R,L,D){S.isMeshBasicMaterial||S.isMeshLambertMaterial?s(P,S):S.isMeshToonMaterial?(s(P,S),x(P,S)):S.isMeshPhongMaterial?(s(P,S),f(P,S)):S.isMeshStandardMaterial?(s(P,S),v(P,S),S.isMeshPhysicalMaterial&&y(P,S,D)):S.isMeshMatcapMaterial?(s(P,S),C(P,S)):S.isMeshDepthMaterial?s(P,S):S.isMeshDistanceMaterial?(s(P,S),k(P,S)):S.isMeshNormalMaterial?s(P,S):S.isLineBasicMaterial?(a(P,S),S.isLineDashedMaterial&&l(P,S)):S.isPointsMaterial?u(P,S,R,L):S.isSpriteMaterial?d(P,S):S.isShadowMaterial?(P.color.value.copy(S.color),P.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function s(P,S){P.opacity.value=S.opacity,S.color&&P.diffuse.value.copy(S.color),S.emissive&&P.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(P.map.value=S.map,n(S.map,P.mapTransform)),S.alphaMap&&(P.alphaMap.value=S.alphaMap,n(S.alphaMap,P.alphaMapTransform)),S.bumpMap&&(P.bumpMap.value=S.bumpMap,n(S.bumpMap,P.bumpMapTransform),P.bumpScale.value=S.bumpScale,S.side===hr&&(P.bumpScale.value*=-1)),S.normalMap&&(P.normalMap.value=S.normalMap,n(S.normalMap,P.normalMapTransform),P.normalScale.value.copy(S.normalScale),S.side===hr&&P.normalScale.value.negate()),S.displacementMap&&(P.displacementMap.value=S.displacementMap,n(S.displacementMap,P.displacementMapTransform),P.displacementScale.value=S.displacementScale,P.displacementBias.value=S.displacementBias),S.emissiveMap&&(P.emissiveMap.value=S.emissiveMap,n(S.emissiveMap,P.emissiveMapTransform)),S.specularMap&&(P.specularMap.value=S.specularMap,n(S.specularMap,P.specularMapTransform)),S.alphaTest>0&&(P.alphaTest.value=S.alphaTest);const R=e.get(S),L=R.envMap,D=R.envMapRotation;L&&(P.envMap.value=L,Qo.copy(D),Qo.x*=-1,Qo.y*=-1,Qo.z*=-1,L.isCubeTexture&&L.isRenderTargetTexture===!1&&(Qo.y*=-1,Qo.z*=-1),P.envMapRotation.value.setFromMatrix4(Vne.makeRotationFromEuler(Qo)),P.flipEnvMap.value=L.isCubeTexture&&L.isRenderTargetTexture===!1?-1:1,P.reflectivity.value=S.reflectivity,P.ior.value=S.ior,P.refractionRatio.value=S.refractionRatio),S.lightMap&&(P.lightMap.value=S.lightMap,P.lightMapIntensity.value=S.lightMapIntensity,n(S.lightMap,P.lightMapTransform)),S.aoMap&&(P.aoMap.value=S.aoMap,P.aoMapIntensity.value=S.aoMapIntensity,n(S.aoMap,P.aoMapTransform))}function a(P,S){P.diffuse.value.copy(S.color),P.opacity.value=S.opacity,S.map&&(P.map.value=S.map,n(S.map,P.mapTransform))}function l(P,S){P.dashSize.value=S.dashSize,P.totalSize.value=S.dashSize+S.gapSize,P.scale.value=S.scale}function u(P,S,R,L){P.diffuse.value.copy(S.color),P.opacity.value=S.opacity,P.size.value=S.size*R,P.scale.value=L*.5,S.map&&(P.map.value=S.map,n(S.map,P.uvTransform)),S.alphaMap&&(P.alphaMap.value=S.alphaMap,n(S.alphaMap,P.alphaMapTransform)),S.alphaTest>0&&(P.alphaTest.value=S.alphaTest)}function d(P,S){P.diffuse.value.copy(S.color),P.opacity.value=S.opacity,P.rotation.value=S.rotation,S.map&&(P.map.value=S.map,n(S.map,P.mapTransform)),S.alphaMap&&(P.alphaMap.value=S.alphaMap,n(S.alphaMap,P.alphaMapTransform)),S.alphaTest>0&&(P.alphaTest.value=S.alphaTest)}function f(P,S){P.specular.value.copy(S.specular),P.shininess.value=Math.max(S.shininess,1e-4)}function x(P,S){S.gradientMap&&(P.gradientMap.value=S.gradientMap)}function v(P,S){P.metalness.value=S.metalness,S.metalnessMap&&(P.metalnessMap.value=S.metalnessMap,n(S.metalnessMap,P.metalnessMapTransform)),P.roughness.value=S.roughness,S.roughnessMap&&(P.roughnessMap.value=S.roughnessMap,n(S.roughnessMap,P.roughnessMapTransform)),S.envMap&&(P.envMapIntensity.value=S.envMapIntensity)}function y(P,S,R){P.ior.value=S.ior,S.sheen>0&&(P.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),P.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(P.sheenColorMap.value=S.sheenColorMap,n(S.sheenColorMap,P.sheenColorMapTransform)),S.sheenRoughnessMap&&(P.sheenRoughnessMap.value=S.sheenRoughnessMap,n(S.sheenRoughnessMap,P.sheenRoughnessMapTransform))),S.clearcoat>0&&(P.clearcoat.value=S.clearcoat,P.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(P.clearcoatMap.value=S.clearcoatMap,n(S.clearcoatMap,P.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(P.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,n(S.clearcoatRoughnessMap,P.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(P.clearcoatNormalMap.value=S.clearcoatNormalMap,n(S.clearcoatNormalMap,P.clearcoatNormalMapTransform),P.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===hr&&P.clearcoatNormalScale.value.negate())),S.dispersion>0&&(P.dispersion.value=S.dispersion),S.iridescence>0&&(P.iridescence.value=S.iridescence,P.iridescenceIOR.value=S.iridescenceIOR,P.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],P.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(P.iridescenceMap.value=S.iridescenceMap,n(S.iridescenceMap,P.iridescenceMapTransform)),S.iridescenceThicknessMap&&(P.iridescenceThicknessMap.value=S.iridescenceThicknessMap,n(S.iridescenceThicknessMap,P.iridescenceThicknessMapTransform))),S.transmission>0&&(P.transmission.value=S.transmission,P.transmissionSamplerMap.value=R.texture,P.transmissionSamplerSize.value.set(R.width,R.height),S.transmissionMap&&(P.transmissionMap.value=S.transmissionMap,n(S.transmissionMap,P.transmissionMapTransform)),P.thickness.value=S.thickness,S.thicknessMap&&(P.thicknessMap.value=S.thicknessMap,n(S.thicknessMap,P.thicknessMapTransform)),P.attenuationDistance.value=S.attenuationDistance,P.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(P.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(P.anisotropyMap.value=S.anisotropyMap,n(S.anisotropyMap,P.anisotropyMapTransform))),P.specularIntensity.value=S.specularIntensity,P.specularColor.value.copy(S.specularColor),S.specularColorMap&&(P.specularColorMap.value=S.specularColorMap,n(S.specularColorMap,P.specularColorMapTransform)),S.specularIntensityMap&&(P.specularIntensityMap.value=S.specularIntensityMap,n(S.specularIntensityMap,P.specularIntensityMapTransform))}function C(P,S){S.matcap&&(P.matcap.value=S.matcap)}function k(P,S){const R=e.get(S).light;P.referencePosition.value.setFromMatrixPosition(R.matrixWorld),P.nearDistance.value=R.shadow.camera.near,P.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function zne(t,e,n,i){let r={},s={},a=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function u(R,L){const D=L.program;i.uniformBlockBinding(R,D)}function d(R,L){let D=r[R.id];D===void 0&&(C(R),D=f(R),r[R.id]=D,R.addEventListener("dispose",P));const W=L.program;i.updateUBOMapping(R,W);const z=e.render.frame;s[R.id]!==z&&(v(R),s[R.id]=z)}function f(R){const L=x();R.__bindingPointIndex=L;const D=t.createBuffer(),W=R.__size,z=R.usage;return t.bindBuffer(t.UNIFORM_BUFFER,D),t.bufferData(t.UNIFORM_BUFFER,W,z),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,L,D),D}function x(){for(let R=0;R<l;R++)if(a.indexOf(R)===-1)return a.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(R){const L=r[R.id],D=R.uniforms,W=R.__cache;t.bindBuffer(t.UNIFORM_BUFFER,L);for(let z=0,j=D.length;z<j;z++){const Z=Array.isArray(D[z])?D[z]:[D[z]];for(let $=0,H=Z.length;$<H;$++){const q=Z[$];if(y(q,z,$,W)===!0){const ce=q.__offset,le=Array.isArray(q.value)?q.value:[q.value];let me=0;for(let we=0;we<le.length;we++){const Se=le[we],ge=k(Se);typeof Se=="number"||typeof Se=="boolean"?(q.__data[0]=Se,t.bufferSubData(t.UNIFORM_BUFFER,ce+me,q.__data)):Se.isMatrix3?(q.__data[0]=Se.elements[0],q.__data[1]=Se.elements[1],q.__data[2]=Se.elements[2],q.__data[3]=0,q.__data[4]=Se.elements[3],q.__data[5]=Se.elements[4],q.__data[6]=Se.elements[5],q.__data[7]=0,q.__data[8]=Se.elements[6],q.__data[9]=Se.elements[7],q.__data[10]=Se.elements[8],q.__data[11]=0):(Se.toArray(q.__data,me),me+=ge.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,ce,q.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function y(R,L,D,W){const z=R.value,j=L+"_"+D;if(W[j]===void 0)return typeof z=="number"||typeof z=="boolean"?W[j]=z:W[j]=z.clone(),!0;{const Z=W[j];if(typeof z=="number"||typeof z=="boolean"){if(Z!==z)return W[j]=z,!0}else if(Z.equals(z)===!1)return Z.copy(z),!0}return!1}function C(R){const L=R.uniforms;let D=0;const W=16;for(let j=0,Z=L.length;j<Z;j++){const $=Array.isArray(L[j])?L[j]:[L[j]];for(let H=0,q=$.length;H<q;H++){const ce=$[H],le=Array.isArray(ce.value)?ce.value:[ce.value];for(let me=0,we=le.length;me<we;me++){const Se=le[me],ge=k(Se),ie=D%W;ie!==0&&W-ie<ge.boundary&&(D+=W-ie),ce.__data=new Float32Array(ge.storage/Float32Array.BYTES_PER_ELEMENT),ce.__offset=D,D+=ge.storage}}}const z=D%W;return z>0&&(D+=W-z),R.__size=D,R.__cache={},this}function k(R){const L={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(L.boundary=4,L.storage=4):R.isVector2?(L.boundary=8,L.storage=8):R.isVector3||R.isColor?(L.boundary=16,L.storage=12):R.isVector4?(L.boundary=16,L.storage=16):R.isMatrix3?(L.boundary=48,L.storage=48):R.isMatrix4?(L.boundary=64,L.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),L}function P(R){const L=R.target;L.removeEventListener("dispose",P);const D=a.indexOf(L.__bindingPointIndex);a.splice(D,1),t.deleteBuffer(r[L.id]),delete r[L.id],delete s[L.id]}function S(){for(const R in r)t.deleteBuffer(r[R]);a=[],r={},s={}}return{bind:u,update:d,dispose:S}}class Wne{constructor(e={}){const{canvas:n=RQ(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:d=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:x=!1}=e;this.isWebGLRenderer=!0;let v;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=i.getContextAttributes().alpha}else v=a;const y=new Uint32Array(4),C=new Int32Array(4);let k=null,P=null;const S=[],R=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ts,this.toneMapping=xo,this.toneMappingExposure=1;const L=this;let D=!1,W=0,z=0,j=null,Z=-1,$=null;const H=new Nn,q=new Nn;let ce=null;const le=new gn(0);let me=0,we=n.width,Se=n.height,ge=1,ie=null,_e=null;const Te=new Nn(0,0,we,Se),ee=new Nn(0,0,we,Se);let He=!1;const Ue=new nS;let K=!1,oe=!1;const be=new Xn,ue=new Ae,Pe=new Nn,Ee={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ze=!1;function Ze(){return j===null?ge:1}let ne=i;function Oe(I,M){return n.getContext(I,M)}try{const I={alpha:!0,depth:r,stencil:s,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:d,powerPreference:f,failIfMajorPerformanceCaveat:x};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Gw}`),n.addEventListener("webglcontextlost",he,!1),n.addEventListener("webglcontextrestored",Me,!1),n.addEventListener("webglcontextcreationerror",Ie,!1),ne===null){const M="webgl2";if(ne=Oe(M,I),ne===null)throw Oe(M)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(I){throw console.error("THREE.WebGLRenderer: "+I.message),I}let Ne,De,Ve,$e,rt,ht,fe,te,Fe,Qe,Ye,Ke,ct,at,bt,jt,Je,nt,Ct,Tt,St,Ht,Jt,U;function V(){Ne=new Zee(ne),Ne.init(),Ht=new Ine(ne,Ne),De=new Wee(ne,Ne,e,Ht),Ve=new Ane(ne),$e=new qee(ne),rt=new mne,ht=new Rne(ne,Ne,Ve,rt,De,Ht,$e),fe=new Hee(L),te=new $ee(L),Fe=new rq(ne),Jt=new Uee(ne,Fe),Qe=new Kee(ne,Fe,$e,Jt),Ye=new ete(ne,Qe,Fe,$e),Ct=new Jee(ne,De,ht),jt=new jee(rt),Ke=new pne(L,fe,te,Ne,De,Jt,jt),ct=new Une(L,rt),at=new xne,bt=new Sne(Ne),nt=new Vee(L,fe,te,Ve,Ye,v,u),Je=new Ene(L,Ye,De),U=new zne(ne,$e,De,Ve),Tt=new zee(ne,Ne,$e),St=new Qee(ne,Ne,$e),$e.programs=Ke.programs,L.capabilities=De,L.extensions=Ne,L.properties=rt,L.renderLists=at,L.shadowMap=Je,L.state=Ve,L.info=$e}V();const J=new Bne(L,ne);this.xr=J,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const I=Ne.get("WEBGL_lose_context");I&&I.loseContext()},this.forceContextRestore=function(){const I=Ne.get("WEBGL_lose_context");I&&I.restoreContext()},this.getPixelRatio=function(){return ge},this.setPixelRatio=function(I){I!==void 0&&(ge=I,this.setSize(we,Se,!1))},this.getSize=function(I){return I.set(we,Se)},this.setSize=function(I,M,b=!0){if(J.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}we=I,Se=M,n.width=Math.floor(I*ge),n.height=Math.floor(M*ge),b===!0&&(n.style.width=I+"px",n.style.height=M+"px"),this.setViewport(0,0,I,M)},this.getDrawingBufferSize=function(I){return I.set(we*ge,Se*ge).floor()},this.setDrawingBufferSize=function(I,M,b){we=I,Se=M,ge=b,n.width=Math.floor(I*b),n.height=Math.floor(M*b),this.setViewport(0,0,I,M)},this.getCurrentViewport=function(I){return I.copy(H)},this.getViewport=function(I){return I.copy(Te)},this.setViewport=function(I,M,b,T){I.isVector4?Te.set(I.x,I.y,I.z,I.w):Te.set(I,M,b,T),Ve.viewport(H.copy(Te).multiplyScalar(ge).round())},this.getScissor=function(I){return I.copy(ee)},this.setScissor=function(I,M,b,T){I.isVector4?ee.set(I.x,I.y,I.z,I.w):ee.set(I,M,b,T),Ve.scissor(q.copy(ee).multiplyScalar(ge).round())},this.getScissorTest=function(){return He},this.setScissorTest=function(I){Ve.setScissorTest(He=I)},this.setOpaqueSort=function(I){ie=I},this.setTransparentSort=function(I){_e=I},this.getClearColor=function(I){return I.copy(nt.getClearColor())},this.setClearColor=function(){nt.setClearColor.apply(nt,arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha.apply(nt,arguments)},this.clear=function(I=!0,M=!0,b=!0){let T=0;if(I){let A=!1;if(j!==null){const m=j.texture.format;A=m===Jw||m===qw||m===Qw}if(A){const m=j.texture.type,B=m===Ta||m===Nl||m===Od||m===_u||m===Zw||m===Kw,X=nt.getClearColor(),Y=nt.getClearAlpha(),O=X.r,Q=X.g,G=X.b;B?(y[0]=O,y[1]=Q,y[2]=G,y[3]=Y,ne.clearBufferuiv(ne.COLOR,0,y)):(C[0]=O,C[1]=Q,C[2]=G,C[3]=Y,ne.clearBufferiv(ne.COLOR,0,C))}else T|=ne.COLOR_BUFFER_BIT}M&&(T|=ne.DEPTH_BUFFER_BIT),b&&(T|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(T)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",he,!1),n.removeEventListener("webglcontextrestored",Me,!1),n.removeEventListener("webglcontextcreationerror",Ie,!1),at.dispose(),bt.dispose(),rt.dispose(),fe.dispose(),te.dispose(),Ye.dispose(),Jt.dispose(),U.dispose(),Ke.dispose(),J.dispose(),J.removeEventListener("sessionstart",yn),J.removeEventListener("sessionend",bn),Bn.stop()};function he(I){I.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function Me(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1;const I=$e.autoReset,M=Je.enabled,b=Je.autoUpdate,T=Je.needsUpdate,A=Je.type;V(),$e.autoReset=I,Je.enabled=M,Je.autoUpdate=b,Je.needsUpdate=T,Je.type=A}function Ie(I){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",I.statusMessage)}function ke(I){const M=I.target;M.removeEventListener("dispose",ke),ot(M)}function ot(I){Et(I),rt.remove(I)}function Et(I){const M=rt.get(I).programs;M!==void 0&&(M.forEach(function(b){Ke.releaseProgram(b)}),I.isShaderMaterial&&Ke.releaseShaderCache(I))}this.renderBufferDirect=function(I,M,b,T,A,m){M===null&&(M=Ee);const B=A.isMesh&&A.matrixWorld.determinant()<0,X=_(I,M,b,T,A);Ve.setMaterial(T,B);let Y=b.index,O=1;if(T.wireframe===!0){if(Y=Qe.getWireframeAttribute(b),Y===void 0)return;O=2}const Q=b.drawRange,G=b.attributes.position;let re=Q.start*O,pe=(Q.start+Q.count)*O;m!==null&&(re=Math.max(re,m.start*O),pe=Math.min(pe,(m.start+m.count)*O)),Y!==null?(re=Math.max(re,0),pe=Math.min(pe,Y.count)):G!=null&&(re=Math.max(re,0),pe=Math.min(pe,G.count));const se=pe-re;if(se<0||se===1/0)return;Jt.setup(A,T,X,b,Y);let Le,Be=Tt;if(Y!==null&&(Le=Fe.get(Y),Be=St,Be.setIndex(Le)),A.isMesh)T.wireframe===!0?(Ve.setLineWidth(T.wireframeLinewidth*Ze()),Be.setMode(ne.LINES)):Be.setMode(ne.TRIANGLES);else if(A.isLine){let xe=T.linewidth;xe===void 0&&(xe=1),Ve.setLineWidth(xe*Ze()),A.isLineSegments?Be.setMode(ne.LINES):A.isLineLoop?Be.setMode(ne.LINE_LOOP):Be.setMode(ne.LINE_STRIP)}else A.isPoints?Be.setMode(ne.POINTS):A.isSprite&&Be.setMode(ne.TRIANGLES);if(A.isBatchedMesh)if(A._multiDrawInstances!==null)Be.renderMultiDrawInstances(A._multiDrawStarts,A._multiDrawCounts,A._multiDrawCount,A._multiDrawInstances);else if(Ne.get("WEBGL_multi_draw"))Be.renderMultiDraw(A._multiDrawStarts,A._multiDrawCounts,A._multiDrawCount);else{const xe=A._multiDrawStarts,Ce=A._multiDrawCounts,ye=A._multiDrawCount,ve=Y?Fe.get(Y).bytesPerElement:1,ae=rt.get(T).currentProgram.getUniforms();for(let Re=0;Re<ye;Re++)ae.setValue(ne,"_gl_DrawID",Re),Be.render(xe[Re]/ve,Ce[Re])}else if(A.isInstancedMesh)Be.renderInstances(re,se,A.count);else if(b.isInstancedBufferGeometry){const xe=b._maxInstanceCount!==void 0?b._maxInstanceCount:1/0,Ce=Math.min(b.instanceCount,xe);Be.renderInstances(re,se,Ce)}else Be.render(re,se)};function yt(I,M,b){I.transparent===!0&&I.side===la&&I.forceSinglePass===!1?(I.side=hr,I.needsUpdate=!0,h(I,M,b),I.side=ko,I.needsUpdate=!0,h(I,M,b),I.side=la):h(I,M,b)}this.compile=function(I,M,b=null){b===null&&(b=I),P=bt.get(b),P.init(M),R.push(P),b.traverseVisible(function(A){A.isLight&&A.layers.test(M.layers)&&(P.pushLight(A),A.castShadow&&P.pushShadow(A))}),I!==b&&I.traverseVisible(function(A){A.isLight&&A.layers.test(M.layers)&&(P.pushLight(A),A.castShadow&&P.pushShadow(A))}),P.setupLights();const T=new Set;return I.traverse(function(A){const m=A.material;if(m)if(Array.isArray(m))for(let B=0;B<m.length;B++){const X=m[B];yt(X,b,A),T.add(X)}else yt(m,b,A),T.add(m)}),R.pop(),P=null,T},this.compileAsync=function(I,M,b=null){const T=this.compile(I,M,b);return new Promise(A=>{function m(){if(T.forEach(function(B){rt.get(B).currentProgram.isReady()&&T.delete(B)}),T.size===0){A(I);return}setTimeout(m,10)}Ne.get("KHR_parallel_shader_compile")!==null?m():setTimeout(m,10)})};let Wt=null;function on(I){Wt&&Wt(I)}function yn(){Bn.stop()}function bn(){Bn.start()}const Bn=new MD;Bn.setAnimationLoop(on),typeof self<"u"&&Bn.setContext(self),this.setAnimationLoop=function(I){Wt=I,J.setAnimationLoop(I),I===null?Bn.stop():Bn.start()},J.addEventListener("sessionstart",yn),J.addEventListener("sessionend",bn),this.render=function(I,M){if(M!==void 0&&M.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(D===!0)return;if(I.matrixWorldAutoUpdate===!0&&I.updateMatrixWorld(),M.parent===null&&M.matrixWorldAutoUpdate===!0&&M.updateMatrixWorld(),J.enabled===!0&&J.isPresenting===!0&&(J.cameraAutoUpdate===!0&&J.updateCamera(M),M=J.getCamera()),I.isScene===!0&&I.onBeforeRender(L,I,M,j),P=bt.get(I,R.length),P.init(M),R.push(P),be.multiplyMatrices(M.projectionMatrix,M.matrixWorldInverse),Ue.setFromProjectionMatrix(be),oe=this.localClippingEnabled,K=jt.init(this.clippingPlanes,oe),k=at.get(I,S.length),k.init(),S.push(k),J.enabled===!0&&J.isPresenting===!0){const m=L.xr.getDepthSensingMesh();m!==null&&Kn(m,M,-1/0,L.sortObjects)}Kn(I,M,0,L.sortObjects),k.finish(),L.sortObjects===!0&&k.sort(ie,_e),ze=J.enabled===!1||J.isPresenting===!1||J.hasDepthSensing()===!1,ze&&nt.addToRenderList(k,I),this.info.render.frame++,K===!0&&jt.beginShadows();const b=P.state.shadowsArray;Je.render(b,I,M),K===!0&&jt.endShadows(),this.info.autoReset===!0&&this.info.reset();const T=k.opaque,A=k.transmissive;if(P.setupLights(),M.isArrayCamera){const m=M.cameras;if(A.length>0)for(let B=0,X=m.length;B<X;B++){const Y=m[B];hn(T,A,I,Y)}ze&&nt.render(I);for(let B=0,X=m.length;B<X;B++){const Y=m[B];xt(k,I,Y,Y.viewport)}}else A.length>0&&hn(T,A,I,M),ze&&nt.render(I),xt(k,I,M);j!==null&&(ht.updateMultisampleRenderTarget(j),ht.updateRenderTargetMipmap(j)),I.isScene===!0&&I.onAfterRender(L,I,M),Jt.resetDefaultState(),Z=-1,$=null,R.pop(),R.length>0?(P=R[R.length-1],K===!0&&jt.setGlobalState(L.clippingPlanes,P.state.camera)):P=null,S.pop(),S.length>0?k=S[S.length-1]:k=null};function Kn(I,M,b,T){if(I.visible===!1)return;if(I.layers.test(M.layers)){if(I.isGroup)b=I.renderOrder;else if(I.isLOD)I.autoUpdate===!0&&I.update(M);else if(I.isLight)P.pushLight(I),I.castShadow&&P.pushShadow(I);else if(I.isSprite){if(!I.frustumCulled||Ue.intersectsSprite(I)){T&&Pe.setFromMatrixPosition(I.matrixWorld).applyMatrix4(be);const B=Ye.update(I),X=I.material;X.visible&&k.push(I,B,X,b,Pe.z,null)}}else if((I.isMesh||I.isLine||I.isPoints)&&(!I.frustumCulled||Ue.intersectsObject(I))){const B=Ye.update(I),X=I.material;if(T&&(I.boundingSphere!==void 0?(I.boundingSphere===null&&I.computeBoundingSphere(),Pe.copy(I.boundingSphere.center)):(B.boundingSphere===null&&B.computeBoundingSphere(),Pe.copy(B.boundingSphere.center)),Pe.applyMatrix4(I.matrixWorld).applyMatrix4(be)),Array.isArray(X)){const Y=B.groups;for(let O=0,Q=Y.length;O<Q;O++){const G=Y[O],re=X[G.materialIndex];re&&re.visible&&k.push(I,B,re,b,Pe.z,G)}}else X.visible&&k.push(I,B,X,b,Pe.z,null)}}const m=I.children;for(let B=0,X=m.length;B<X;B++)Kn(m[B],M,b,T)}function xt(I,M,b,T){const A=I.opaque,m=I.transmissive,B=I.transparent;P.setupLightsView(b),K===!0&&jt.setGlobalState(L.clippingPlanes,b),T&&Ve.viewport(H.copy(T)),A.length>0&&o(A,M,b),m.length>0&&o(m,M,b),B.length>0&&o(B,M,b),Ve.buffers.depth.setTest(!0),Ve.buffers.depth.setMask(!0),Ve.buffers.color.setMask(!0),Ve.setPolygonOffset(!1)}function hn(I,M,b,T){if((b.isScene===!0?b.overrideMaterial:null)!==null)return;P.state.transmissionRenderTarget[T.id]===void 0&&(P.state.transmissionRenderTarget[T.id]=new Fl(1,1,{generateMipmaps:!0,type:Ne.has("EXT_color_buffer_half_float")||Ne.has("EXT_color_buffer_float")?wf:Ta,minFilter:pl,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Pn.workingColorSpace}));const m=P.state.transmissionRenderTarget[T.id],B=T.viewport||H;m.setSize(B.z,B.w);const X=L.getRenderTarget();L.setRenderTarget(m),L.getClearColor(le),me=L.getClearAlpha(),me<1&&L.setClearColor(16777215,.5),ze?nt.render(b):L.clear();const Y=L.toneMapping;L.toneMapping=xo;const O=T.viewport;if(T.viewport!==void 0&&(T.viewport=void 0),P.setupLightsView(T),K===!0&&jt.setGlobalState(L.clippingPlanes,T),o(I,b,T),ht.updateMultisampleRenderTarget(m),ht.updateRenderTargetMipmap(m),Ne.has("WEBGL_multisampled_render_to_texture")===!1){let Q=!1;for(let G=0,re=M.length;G<re;G++){const pe=M[G],se=pe.object,Le=pe.geometry,Be=pe.material,xe=pe.group;if(Be.side===la&&se.layers.test(T.layers)){const Ce=Be.side;Be.side=hr,Be.needsUpdate=!0,g(se,b,T,Le,Be,xe),Be.side=Ce,Be.needsUpdate=!0,Q=!0}}Q===!0&&(ht.updateMultisampleRenderTarget(m),ht.updateRenderTargetMipmap(m))}L.setRenderTarget(X),L.setClearColor(le,me),O!==void 0&&(T.viewport=O),L.toneMapping=Y}function o(I,M,b){const T=M.isScene===!0?M.overrideMaterial:null;for(let A=0,m=I.length;A<m;A++){const B=I[A],X=B.object,Y=B.geometry,O=T===null?B.material:T,Q=B.group;X.layers.test(b.layers)&&g(X,M,b,Y,O,Q)}}function g(I,M,b,T,A,m){I.onBeforeRender(L,M,b,T,A,m),I.modelViewMatrix.multiplyMatrices(b.matrixWorldInverse,I.matrixWorld),I.normalMatrix.getNormalMatrix(I.modelViewMatrix),A.transparent===!0&&A.side===la&&A.forceSinglePass===!1?(A.side=hr,A.needsUpdate=!0,L.renderBufferDirect(b,M,T,A,I,m),A.side=ko,A.needsUpdate=!0,L.renderBufferDirect(b,M,T,A,I,m),A.side=la):L.renderBufferDirect(b,M,T,A,I,m),I.onAfterRender(L,M,b,T,A,m)}function h(I,M,b){M.isScene!==!0&&(M=Ee);const T=rt.get(I),A=P.state.lights,m=P.state.shadowsArray,B=A.state.version,X=Ke.getParameters(I,A.state,m,M,b),Y=Ke.getProgramCacheKey(X);let O=T.programs;T.environment=I.isMeshStandardMaterial?M.environment:null,T.fog=M.fog,T.envMap=(I.isMeshStandardMaterial?te:fe).get(I.envMap||T.environment),T.envMapRotation=T.environment!==null&&I.envMap===null?M.environmentRotation:I.envMapRotation,O===void 0&&(I.addEventListener("dispose",ke),O=new Map,T.programs=O);let Q=O.get(Y);if(Q!==void 0){if(T.currentProgram===Q&&T.lightsStateVersion===B)return p(I,X),Q}else X.uniforms=Ke.getUniforms(I),I.onBeforeCompile(X,L),Q=Ke.acquireProgram(X,Y),O.set(Y,Q),T.uniforms=X.uniforms;const G=T.uniforms;return(!I.isShaderMaterial&&!I.isRawShaderMaterial||I.clipping===!0)&&(G.clippingPlanes=jt.uniform),p(I,X),T.needsLights=N(I),T.lightsStateVersion=B,T.needsLights&&(G.ambientLightColor.value=A.state.ambient,G.lightProbe.value=A.state.probe,G.directionalLights.value=A.state.directional,G.directionalLightShadows.value=A.state.directionalShadow,G.spotLights.value=A.state.spot,G.spotLightShadows.value=A.state.spotShadow,G.rectAreaLights.value=A.state.rectArea,G.ltc_1.value=A.state.rectAreaLTC1,G.ltc_2.value=A.state.rectAreaLTC2,G.pointLights.value=A.state.point,G.pointLightShadows.value=A.state.pointShadow,G.hemisphereLights.value=A.state.hemi,G.directionalShadowMap.value=A.state.directionalShadowMap,G.directionalShadowMatrix.value=A.state.directionalShadowMatrix,G.spotShadowMap.value=A.state.spotShadowMap,G.spotLightMatrix.value=A.state.spotLightMatrix,G.spotLightMap.value=A.state.spotLightMap,G.pointShadowMap.value=A.state.pointShadowMap,G.pointShadowMatrix.value=A.state.pointShadowMatrix),T.currentProgram=Q,T.uniformsList=null,Q}function c(I){if(I.uniformsList===null){const M=I.currentProgram.getUniforms();I.uniformsList=pm.seqWithValue(M.seq,I.uniforms)}return I.uniformsList}function p(I,M){const b=rt.get(I);b.outputColorSpace=M.outputColorSpace,b.batching=M.batching,b.batchingColor=M.batchingColor,b.instancing=M.instancing,b.instancingColor=M.instancingColor,b.instancingMorph=M.instancingMorph,b.skinning=M.skinning,b.morphTargets=M.morphTargets,b.morphNormals=M.morphNormals,b.morphColors=M.morphColors,b.morphTargetsCount=M.morphTargetsCount,b.numClippingPlanes=M.numClippingPlanes,b.numIntersection=M.numClipIntersection,b.vertexAlphas=M.vertexAlphas,b.vertexTangents=M.vertexTangents,b.toneMapping=M.toneMapping}function _(I,M,b,T,A){M.isScene!==!0&&(M=Ee),ht.resetTextureUnits();const m=M.fog,B=T.isMeshStandardMaterial?M.environment:null,X=j===null?L.outputColorSpace:j.isXRRenderTarget===!0?j.texture.colorSpace:zo,Y=(T.isMeshStandardMaterial?te:fe).get(T.envMap||B),O=T.vertexColors===!0&&!!b.attributes.color&&b.attributes.color.itemSize===4,Q=!!b.attributes.tangent&&(!!T.normalMap||T.anisotropy>0),G=!!b.morphAttributes.position,re=!!b.morphAttributes.normal,pe=!!b.morphAttributes.color;let se=xo;T.toneMapped&&(j===null||j.isXRRenderTarget===!0)&&(se=L.toneMapping);const Le=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,Be=Le!==void 0?Le.length:0,xe=rt.get(T),Ce=P.state.lights;if(K===!0&&(oe===!0||I!==$)){const Rt=I===$&&T.id===Z;jt.setState(T,I,Rt)}let ye=!1;T.version===xe.__version?(xe.needsLights&&xe.lightsStateVersion!==Ce.state.version||xe.outputColorSpace!==X||A.isBatchedMesh&&xe.batching===!1||!A.isBatchedMesh&&xe.batching===!0||A.isBatchedMesh&&xe.batchingColor===!0&&A.colorTexture===null||A.isBatchedMesh&&xe.batchingColor===!1&&A.colorTexture!==null||A.isInstancedMesh&&xe.instancing===!1||!A.isInstancedMesh&&xe.instancing===!0||A.isSkinnedMesh&&xe.skinning===!1||!A.isSkinnedMesh&&xe.skinning===!0||A.isInstancedMesh&&xe.instancingColor===!0&&A.instanceColor===null||A.isInstancedMesh&&xe.instancingColor===!1&&A.instanceColor!==null||A.isInstancedMesh&&xe.instancingMorph===!0&&A.morphTexture===null||A.isInstancedMesh&&xe.instancingMorph===!1&&A.morphTexture!==null||xe.envMap!==Y||T.fog===!0&&xe.fog!==m||xe.numClippingPlanes!==void 0&&(xe.numClippingPlanes!==jt.numPlanes||xe.numIntersection!==jt.numIntersection)||xe.vertexAlphas!==O||xe.vertexTangents!==Q||xe.morphTargets!==G||xe.morphNormals!==re||xe.morphColors!==pe||xe.toneMapping!==se||xe.morphTargetsCount!==Be)&&(ye=!0):(ye=!0,xe.__version=T.version);let ve=xe.currentProgram;ye===!0&&(ve=h(T,M,A));let ae=!1,Re=!1,je=!1;const de=ve.getUniforms(),At=xe.uniforms;if(Ve.useProgram(ve.program)&&(ae=!0,Re=!0,je=!0),T.id!==Z&&(Z=T.id,Re=!0),ae||$!==I){de.setValue(ne,"projectionMatrix",I.projectionMatrix),de.setValue(ne,"viewMatrix",I.matrixWorldInverse);const Rt=de.map.cameraPosition;Rt!==void 0&&Rt.setValue(ne,ue.setFromMatrixPosition(I.matrixWorld)),De.logarithmicDepthBuffer&&de.setValue(ne,"logDepthBufFC",2/(Math.log(I.far+1)/Math.LN2)),(T.isMeshPhongMaterial||T.isMeshToonMaterial||T.isMeshLambertMaterial||T.isMeshBasicMaterial||T.isMeshStandardMaterial||T.isShaderMaterial)&&de.setValue(ne,"isOrthographic",I.isOrthographicCamera===!0),$!==I&&($=I,Re=!0,je=!0)}if(A.isSkinnedMesh){de.setOptional(ne,A,"bindMatrix"),de.setOptional(ne,A,"bindMatrixInverse");const Rt=A.skeleton;Rt&&(Rt.boneTexture===null&&Rt.computeBoneTexture(),de.setValue(ne,"boneTexture",Rt.boneTexture,ht))}A.isBatchedMesh&&(de.setOptional(ne,A,"batchingTexture"),de.setValue(ne,"batchingTexture",A._matricesTexture,ht),de.setOptional(ne,A,"batchingIdTexture"),de.setValue(ne,"batchingIdTexture",A._indirectTexture,ht),de.setOptional(ne,A,"batchingColorTexture"),A._colorsTexture!==null&&de.setValue(ne,"batchingColorTexture",A._colorsTexture,ht));const Lt=b.morphAttributes;if((Lt.position!==void 0||Lt.normal!==void 0||Lt.color!==void 0)&&Ct.update(A,b,ve),(Re||xe.receiveShadow!==A.receiveShadow)&&(xe.receiveShadow=A.receiveShadow,de.setValue(ne,"receiveShadow",A.receiveShadow)),T.isMeshGouraudMaterial&&T.envMap!==null&&(At.envMap.value=Y,At.flipEnvMap.value=Y.isCubeTexture&&Y.isRenderTargetTexture===!1?-1:1),T.isMeshStandardMaterial&&T.envMap===null&&M.environment!==null&&(At.envMapIntensity.value=M.environmentIntensity),Re&&(de.setValue(ne,"toneMappingExposure",L.toneMappingExposure),xe.needsLights&&E(At,je),m&&T.fog===!0&&ct.refreshFogUniforms(At,m),ct.refreshMaterialUniforms(At,T,ge,Se,P.state.transmissionRenderTarget[I.id]),pm.upload(ne,c(xe),At,ht)),T.isShaderMaterial&&T.uniformsNeedUpdate===!0&&(pm.upload(ne,c(xe),At,ht),T.uniformsNeedUpdate=!1),T.isSpriteMaterial&&de.setValue(ne,"center",A.center),de.setValue(ne,"modelViewMatrix",A.modelViewMatrix),de.setValue(ne,"normalMatrix",A.normalMatrix),de.setValue(ne,"modelMatrix",A.matrixWorld),T.isShaderMaterial||T.isRawShaderMaterial){const Rt=T.uniformsGroups;for(let Qt=0,lt=Rt.length;Qt<lt;Qt++){const wn=Rt[Qt];U.update(wn,ve),U.bind(wn,ve)}}return ve}function E(I,M){I.ambientLightColor.needsUpdate=M,I.lightProbe.needsUpdate=M,I.directionalLights.needsUpdate=M,I.directionalLightShadows.needsUpdate=M,I.pointLights.needsUpdate=M,I.pointLightShadows.needsUpdate=M,I.spotLights.needsUpdate=M,I.spotLightShadows.needsUpdate=M,I.rectAreaLights.needsUpdate=M,I.hemisphereLights.needsUpdate=M}function N(I){return I.isMeshLambertMaterial||I.isMeshToonMaterial||I.isMeshPhongMaterial||I.isMeshStandardMaterial||I.isShadowMaterial||I.isShaderMaterial&&I.lights===!0}this.getActiveCubeFace=function(){return W},this.getActiveMipmapLevel=function(){return z},this.getRenderTarget=function(){return j},this.setRenderTargetTextures=function(I,M,b){rt.get(I.texture).__webglTexture=M,rt.get(I.depthTexture).__webglTexture=b;const T=rt.get(I);T.__hasExternalTextures=!0,T.__autoAllocateDepthBuffer=b===void 0,T.__autoAllocateDepthBuffer||Ne.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),T.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(I,M){const b=rt.get(I);b.__webglFramebuffer=M,b.__useDefaultFramebuffer=M===void 0},this.setRenderTarget=function(I,M=0,b=0){j=I,W=M,z=b;let T=!0,A=null,m=!1,B=!1;if(I){const Y=rt.get(I);Y.__useDefaultFramebuffer!==void 0?(Ve.bindFramebuffer(ne.FRAMEBUFFER,null),T=!1):Y.__webglFramebuffer===void 0?ht.setupRenderTarget(I):Y.__hasExternalTextures&&ht.rebindTextures(I,rt.get(I.texture).__webglTexture,rt.get(I.depthTexture).__webglTexture);const O=I.texture;(O.isData3DTexture||O.isDataArrayTexture||O.isCompressedArrayTexture)&&(B=!0);const Q=rt.get(I).__webglFramebuffer;I.isWebGLCubeRenderTarget?(Array.isArray(Q[M])?A=Q[M][b]:A=Q[M],m=!0):I.samples>0&&ht.useMultisampledRTT(I)===!1?A=rt.get(I).__webglMultisampledFramebuffer:Array.isArray(Q)?A=Q[b]:A=Q,H.copy(I.viewport),q.copy(I.scissor),ce=I.scissorTest}else H.copy(Te).multiplyScalar(ge).floor(),q.copy(ee).multiplyScalar(ge).floor(),ce=He;if(Ve.bindFramebuffer(ne.FRAMEBUFFER,A)&&T&&Ve.drawBuffers(I,A),Ve.viewport(H),Ve.scissor(q),Ve.setScissorTest(ce),m){const Y=rt.get(I.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+M,Y.__webglTexture,b)}else if(B){const Y=rt.get(I.texture),O=M||0;ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Y.__webglTexture,b||0,O)}Z=-1},this.readRenderTargetPixels=function(I,M,b,T,A,m,B){if(!(I&&I.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let X=rt.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&B!==void 0&&(X=X[B]),X){Ve.bindFramebuffer(ne.FRAMEBUFFER,X);try{const Y=I.texture,O=Y.format,Q=Y.type;if(!De.textureFormatReadable(O)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!De.textureTypeReadable(Q)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}M>=0&&M<=I.width-T&&b>=0&&b<=I.height-A&&ne.readPixels(M,b,T,A,Ht.convert(O),Ht.convert(Q),m)}finally{const Y=j!==null?rt.get(j).__webglFramebuffer:null;Ve.bindFramebuffer(ne.FRAMEBUFFER,Y)}}},this.readRenderTargetPixelsAsync=async function(I,M,b,T,A,m,B){if(!(I&&I.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let X=rt.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&B!==void 0&&(X=X[B]),X){Ve.bindFramebuffer(ne.FRAMEBUFFER,X);try{const Y=I.texture,O=Y.format,Q=Y.type;if(!De.textureFormatReadable(O))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!De.textureTypeReadable(Q))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(M>=0&&M<=I.width-T&&b>=0&&b<=I.height-A){const G=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,G),ne.bufferData(ne.PIXEL_PACK_BUFFER,m.byteLength,ne.STREAM_READ),ne.readPixels(M,b,T,A,Ht.convert(O),Ht.convert(Q),0),ne.flush();const re=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);await IQ(ne,re,4);try{ne.bindBuffer(ne.PIXEL_PACK_BUFFER,G),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,m)}finally{ne.deleteBuffer(G),ne.deleteSync(re)}return m}}finally{const Y=j!==null?rt.get(j).__webglFramebuffer:null;Ve.bindFramebuffer(ne.FRAMEBUFFER,Y)}}},this.copyFramebufferToTexture=function(I,M=null,b=0){I.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),M=arguments[0]||null,I=arguments[1]);const T=Math.pow(2,-b),A=Math.floor(I.image.width*T),m=Math.floor(I.image.height*T),B=M!==null?M.x:0,X=M!==null?M.y:0;ht.setTexture2D(I,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,b,0,0,B,X,A,m),Ve.unbindTexture()},this.copyTextureToTexture=function(I,M,b=null,T=null,A=0){I.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),T=arguments[0]||null,I=arguments[1],M=arguments[2],A=arguments[3]||0,b=null);let m,B,X,Y,O,Q;b!==null?(m=b.max.x-b.min.x,B=b.max.y-b.min.y,X=b.min.x,Y=b.min.y):(m=I.image.width,B=I.image.height,X=0,Y=0),T!==null?(O=T.x,Q=T.y):(O=0,Q=0);const G=Ht.convert(M.format),re=Ht.convert(M.type);ht.setTexture2D(M,0),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,M.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,M.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,M.unpackAlignment);const pe=ne.getParameter(ne.UNPACK_ROW_LENGTH),se=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),Le=ne.getParameter(ne.UNPACK_SKIP_PIXELS),Be=ne.getParameter(ne.UNPACK_SKIP_ROWS),xe=ne.getParameter(ne.UNPACK_SKIP_IMAGES),Ce=I.isCompressedTexture?I.mipmaps[A]:I.image;ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Ce.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Ce.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,X),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Y),I.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,A,O,Q,m,B,G,re,Ce.data):I.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,A,O,Q,Ce.width,Ce.height,G,Ce.data):ne.texSubImage2D(ne.TEXTURE_2D,A,O,Q,m,B,G,re,Ce),ne.pixelStorei(ne.UNPACK_ROW_LENGTH,pe),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,se),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,Le),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Be),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,xe),A===0&&M.generateMipmaps&&ne.generateMipmap(ne.TEXTURE_2D),Ve.unbindTexture()},this.copyTextureToTexture3D=function(I,M,b=null,T=null,A=0){I.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),b=arguments[0]||null,T=arguments[1]||null,I=arguments[2],M=arguments[3],A=arguments[4]||0);let m,B,X,Y,O,Q,G,re,pe;const se=I.isCompressedTexture?I.mipmaps[A]:I.image;b!==null?(m=b.max.x-b.min.x,B=b.max.y-b.min.y,X=b.max.z-b.min.z,Y=b.min.x,O=b.min.y,Q=b.min.z):(m=se.width,B=se.height,X=se.depth,Y=0,O=0,Q=0),T!==null?(G=T.x,re=T.y,pe=T.z):(G=0,re=0,pe=0);const Le=Ht.convert(M.format),Be=Ht.convert(M.type);let xe;if(M.isData3DTexture)ht.setTexture3D(M,0),xe=ne.TEXTURE_3D;else if(M.isDataArrayTexture||M.isCompressedArrayTexture)ht.setTexture2DArray(M,0),xe=ne.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,M.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,M.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,M.unpackAlignment);const Ce=ne.getParameter(ne.UNPACK_ROW_LENGTH),ye=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),ve=ne.getParameter(ne.UNPACK_SKIP_PIXELS),ae=ne.getParameter(ne.UNPACK_SKIP_ROWS),Re=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,se.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,se.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,Y),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,O),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Q),I.isDataTexture||I.isData3DTexture?ne.texSubImage3D(xe,A,G,re,pe,m,B,X,Le,Be,se.data):M.isCompressedArrayTexture?ne.compressedTexSubImage3D(xe,A,G,re,pe,m,B,X,Le,se.data):ne.texSubImage3D(xe,A,G,re,pe,m,B,X,Le,Be,se),ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Ce),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,ye),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,ve),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,ae),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Re),A===0&&M.generateMipmaps&&ne.generateMipmap(xe),Ve.unbindTexture()},this.initRenderTarget=function(I){rt.get(I).__webglFramebuffer===void 0&&ht.setupRenderTarget(I)},this.initTexture=function(I){I.isCubeTexture?ht.setTextureCube(I,0):I.isData3DTexture?ht.setTexture3D(I,0):I.isDataArrayTexture||I.isCompressedArrayTexture?ht.setTexture2DArray(I,0):ht.setTexture2D(I,0),Ve.unbindTexture()},this.resetState=function(){W=0,z=0,j=null,Ve.reset(),Jt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return fa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===eS?"display-p3":"srgb",n.unpackColorSpace=Pn.workingColorSpace===kx?"display-p3":"srgb"}}class jne extends Fi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Hs,this.environmentIntensity=1,this.environmentRotation=new Hs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Ys{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const s=i.length;let a;n?a=n:a=e*i[s-1];let l=0,u=s-1,d;for(;l<=u;)if(r=Math.floor(l+(u-l)/2),d=i[r]-a,d<0)l=r+1;else if(d>0)u=r-1;else{u=r;break}if(r=u,i[r]===a)return r/(s-1);const f=i[r],v=i[r+1]-f,y=(a-f)/v;return(r+y)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),l=this.getPoint(s),u=n||(a.isVector2?new mt:new Ae);return u.copy(l).sub(a).normalize(),u}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new Ae,r=[],s=[],a=[],l=new Ae,u=new Xn;for(let y=0;y<=e;y++){const C=y/e;r[y]=this.getTangentAt(C,new Ae)}s[0]=new Ae,a[0]=new Ae;let d=Number.MAX_VALUE;const f=Math.abs(r[0].x),x=Math.abs(r[0].y),v=Math.abs(r[0].z);f<=d&&(d=f,i.set(1,0,0)),x<=d&&(d=x,i.set(0,1,0)),v<=d&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],l),a[0].crossVectors(r[0],s[0]);for(let y=1;y<=e;y++){if(s[y]=s[y-1].clone(),a[y]=a[y-1].clone(),l.crossVectors(r[y-1],r[y]),l.length()>Number.EPSILON){l.normalize();const C=Math.acos(Li(r[y-1].dot(r[y]),-1,1));s[y].applyMatrix4(u.makeRotationAxis(l,C))}a[y].crossVectors(r[y],s[y])}if(n===!0){let y=Math.acos(Li(s[0].dot(s[e]),-1,1));y/=e,r[0].dot(l.crossVectors(s[0],s[e]))>0&&(y=-y);for(let C=1;C<=e;C++)s[C].applyMatrix4(u.makeRotationAxis(r[C],y*C)),a[C].crossVectors(r[C],s[C])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class rS extends Ys{constructor(e=0,n=0,i=1,r=1,s=0,a=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=l,this.aRotation=u}getPoint(e,n=new mt){const i=n,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const l=this.aStartAngle+e*s;let u=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const f=Math.cos(this.aRotation),x=Math.sin(this.aRotation),v=u-this.aX,y=d-this.aY;u=v*f-y*x+this.aX,d=v*x+y*f+this.aY}return i.set(u,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Hne extends rS{constructor(e,n,i,r,s,a){super(e,n,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function sS(){let t=0,e=0,n=0,i=0;function r(s,a,l,u){t=s,e=l,n=-3*s+3*a-2*l-u,i=2*s-2*a+l+u}return{initCatmullRom:function(s,a,l,u,d){r(a,l,d*(l-s),d*(u-a))},initNonuniformCatmullRom:function(s,a,l,u,d,f,x){let v=(a-s)/d-(l-s)/(d+f)+(l-a)/f,y=(l-a)/f-(u-a)/(f+x)+(u-l)/x;v*=f,y*=f,r(a,l,v,y)},calc:function(s){const a=s*s,l=a*s;return t+e*s+n*a+i*l}}}const Op=new Ae,Vv=new sS,Uv=new sS,zv=new sS;class Xne extends Ys{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new Ae){const i=n,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let l=Math.floor(a),u=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:u===0&&l===s-1&&(l=s-2,u=1);let d,f;this.closed||l>0?d=r[(l-1)%s]:(Op.subVectors(r[0],r[1]).add(r[0]),d=Op);const x=r[l%s],v=r[(l+1)%s];if(this.closed||l+2<s?f=r[(l+2)%s]:(Op.subVectors(r[s-1],r[s-2]).add(r[s-1]),f=Op),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let C=Math.pow(d.distanceToSquared(x),y),k=Math.pow(x.distanceToSquared(v),y),P=Math.pow(v.distanceToSquared(f),y);k<1e-4&&(k=1),C<1e-4&&(C=k),P<1e-4&&(P=k),Vv.initNonuniformCatmullRom(d.x,x.x,v.x,f.x,C,k,P),Uv.initNonuniformCatmullRom(d.y,x.y,v.y,f.y,C,k,P),zv.initNonuniformCatmullRom(d.z,x.z,v.z,f.z,C,k,P)}else this.curveType==="catmullrom"&&(Vv.initCatmullRom(d.x,x.x,v.x,f.x,this.tension),Uv.initCatmullRom(d.y,x.y,v.y,f.y,this.tension),zv.initCatmullRom(d.z,x.z,v.z,f.z,this.tension));return i.set(Vv.calc(u),Uv.calc(u),zv.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new Ae().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function L2(t,e,n,i,r){const s=(i-e)*.5,a=(r-n)*.5,l=t*t,u=t*l;return(2*n-2*i+s+a)*u+(-3*n+3*i-2*s-a)*l+s*t+n}function Gne(t,e){const n=1-t;return n*n*e}function Yne(t,e){return 2*(1-t)*t*e}function $ne(t,e){return t*t*e}function Uh(t,e,n,i){return Gne(t,e)+Yne(t,n)+$ne(t,i)}function Zne(t,e){const n=1-t;return n*n*n*e}function Kne(t,e){const n=1-t;return 3*n*n*t*e}function Qne(t,e){return 3*(1-t)*t*t*e}function qne(t,e){return t*t*t*e}function zh(t,e,n,i,r){return Zne(t,e)+Kne(t,n)+Qne(t,i)+qne(t,r)}class kD extends Ys{constructor(e=new mt,n=new mt,i=new mt,r=new mt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new mt){const i=n,r=this.v0,s=this.v1,a=this.v2,l=this.v3;return i.set(zh(e,r.x,s.x,a.x,l.x),zh(e,r.y,s.y,a.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Jne extends Ys{constructor(e=new Ae,n=new Ae,i=new Ae,r=new Ae){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new Ae){const i=n,r=this.v0,s=this.v1,a=this.v2,l=this.v3;return i.set(zh(e,r.x,s.x,a.x,l.x),zh(e,r.y,s.y,a.y,l.y),zh(e,r.z,s.z,a.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class RD extends Ys{constructor(e=new mt,n=new mt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new mt){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new mt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class eie extends Ys{constructor(e=new Ae,n=new Ae){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Ae){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ae){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ID extends Ys{constructor(e=new mt,n=new mt,i=new mt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new mt){const i=n,r=this.v0,s=this.v1,a=this.v2;return i.set(Uh(e,r.x,s.x,a.x),Uh(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tie extends Ys{constructor(e=new Ae,n=new Ae,i=new Ae){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Ae){const i=n,r=this.v0,s=this.v1,a=this.v2;return i.set(Uh(e,r.x,s.x,a.x),Uh(e,r.y,s.y,a.y),Uh(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LD extends Ys{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new mt){const i=n,r=this.points,s=(r.length-1)*e,a=Math.floor(s),l=s-a,u=r[a===0?a:a-1],d=r[a],f=r[a>r.length-2?r.length-1:a+1],x=r[a>r.length-3?r.length-1:a+2];return i.set(L2(l,u.x,d.x,f.x,x.x),L2(l,u.y,d.y,f.y,x.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new mt().fromArray(r))}return this}}var d_=Object.freeze({__proto__:null,ArcCurve:Hne,CatmullRomCurve3:Xne,CubicBezierCurve:kD,CubicBezierCurve3:Jne,EllipseCurve:rS,LineCurve:RD,LineCurve3:eie,QuadraticBezierCurve:ID,QuadraticBezierCurve3:tie,SplineCurve:LD});class nie extends Ys{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new d_[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,l=this.curves[s],u=l.getLength(),d=u===0?0:1-a/u;return l.getPointAt(d,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],l=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,u=a.getPoints(l);for(let d=0;d<u.length;d++){const f=u[d];i&&i.equals(f)||(n.push(f),i=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new d_[r.type]().fromJSON(r))}return this}}class f_ extends nie{constructor(e){super(),this.type="Path",this.currentPoint=new mt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new RD(this.currentPoint.clone(),new mt(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new ID(this.currentPoint.clone(),new mt(e,n),new mt(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,a){const l=new kD(this.currentPoint.clone(),new mt(e,n),new mt(i,r),new mt(s,a));return this.curves.push(l),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new LD(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,a){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+l,n+u,i,r,s,a),this}absarc(e,n,i,r,s,a){return this.absellipse(e,n,i,i,r,s,a),this}ellipse(e,n,i,r,s,a,l,u){const d=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+d,n+f,i,r,s,a,l,u),this}absellipse(e,n,i,r,s,a,l,u){const d=new rS(e,n,i,r,s,a,l,u);if(this.curves.length>0){const x=d.getPoint(0);x.equals(this.currentPoint)||this.lineTo(x.x,x.y)}this.curves.push(d);const f=d.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Wh extends f_{constructor(e){super(e),this.uuid=Vu(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new f_().fromJSON(r))}return this}}const iie={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=DD(t,0,r,n,!0);const a=[];if(!s||s.next===s.prev)return a;let l,u,d,f,x,v,y;if(i&&(s=lie(t,e,s,n)),t.length>80*n){l=d=t[0],u=f=t[1];for(let C=n;C<r;C+=n)x=t[C],v=t[C+1],x<l&&(l=x),v<u&&(u=v),x>d&&(d=x),v>f&&(f=v);y=Math.max(d-l,f-u),y=y!==0?32767/y:0}return Bd(s,a,n,l,u,y,0),a}};function DD(t,e,n,i,r){let s,a;if(r===yie(t,e,n,i)>0)for(s=e;s<n;s+=i)a=D2(s,t[s],t[s+1],a);else for(s=n-i;s>=e;s-=i)a=D2(s,t[s],t[s+1],a);return a&&Lx(a,a.next)&&(Ud(a),a=a.next),a}function Ol(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(Lx(n,n.next)||jn(n.prev,n,n.next)===0)){if(Ud(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function Bd(t,e,n,i,r,s,a){if(!t)return;!a&&s&&fie(t,i,r,s);let l=t,u,d;for(;t.prev!==t.next;){if(u=t.prev,d=t.next,s?sie(t,i,r,s):rie(t)){e.push(u.i/n|0),e.push(t.i/n|0),e.push(d.i/n|0),Ud(t),t=d.next,l=d.next;continue}if(t=d,t===l){a?a===1?(t=aie(Ol(t),e,n),Bd(t,e,n,i,r,s,2)):a===2&&oie(t,e,n,i,r,s):Bd(Ol(t),e,n,i,r,s,1);break}}}function rie(t){const e=t.prev,n=t,i=t.next;if(jn(e,n,i)>=0)return!1;const r=e.x,s=n.x,a=i.x,l=e.y,u=n.y,d=i.y,f=r<s?r<a?r:a:s<a?s:a,x=l<u?l<d?l:d:u<d?u:d,v=r>s?r>a?r:a:s>a?s:a,y=l>u?l>d?l:d:u>d?u:d;let C=i.next;for(;C!==e;){if(C.x>=f&&C.x<=v&&C.y>=x&&C.y<=y&&Fc(r,l,s,u,a,d,C.x,C.y)&&jn(C.prev,C,C.next)>=0)return!1;C=C.next}return!0}function sie(t,e,n,i){const r=t.prev,s=t,a=t.next;if(jn(r,s,a)>=0)return!1;const l=r.x,u=s.x,d=a.x,f=r.y,x=s.y,v=a.y,y=l<u?l<d?l:d:u<d?u:d,C=f<x?f<v?f:v:x<v?x:v,k=l>u?l>d?l:d:u>d?u:d,P=f>x?f>v?f:v:x>v?x:v,S=p_(y,C,e,n,i),R=p_(k,P,e,n,i);let L=t.prevZ,D=t.nextZ;for(;L&&L.z>=S&&D&&D.z<=R;){if(L.x>=y&&L.x<=k&&L.y>=C&&L.y<=P&&L!==r&&L!==a&&Fc(l,f,u,x,d,v,L.x,L.y)&&jn(L.prev,L,L.next)>=0||(L=L.prevZ,D.x>=y&&D.x<=k&&D.y>=C&&D.y<=P&&D!==r&&D!==a&&Fc(l,f,u,x,d,v,D.x,D.y)&&jn(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;L&&L.z>=S;){if(L.x>=y&&L.x<=k&&L.y>=C&&L.y<=P&&L!==r&&L!==a&&Fc(l,f,u,x,d,v,L.x,L.y)&&jn(L.prev,L,L.next)>=0)return!1;L=L.prevZ}for(;D&&D.z<=R;){if(D.x>=y&&D.x<=k&&D.y>=C&&D.y<=P&&D!==r&&D!==a&&Fc(l,f,u,x,d,v,D.x,D.y)&&jn(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function aie(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!Lx(r,s)&&ND(r,i,i.next,s)&&Vd(r,s)&&Vd(s,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(s.i/n|0),Ud(i),Ud(i.next),i=t=s),i=i.next}while(i!==t);return Ol(i)}function oie(t,e,n,i,r,s){let a=t;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&gie(a,l)){let u=FD(a,l);a=Ol(a,a.next),u=Ol(u,u.next),Bd(a,e,n,i,r,s,0),Bd(u,e,n,i,r,s,0);return}l=l.next}a=a.next}while(a!==t)}function lie(t,e,n,i){const r=[];let s,a,l,u,d;for(s=0,a=e.length;s<a;s++)l=e[s]*i,u=s<a-1?e[s+1]*i:t.length,d=DD(t,l,u,i,!1),d===d.next&&(d.steiner=!0),r.push(mie(d));for(r.sort(cie),s=0;s<r.length;s++)n=uie(r[s],n);return n}function cie(t,e){return t.x-e.x}function uie(t,e){const n=hie(t,e);if(!n)return e;const i=FD(n,t);return Ol(i,i.next),Ol(n,n.next)}function hie(t,e){let n=e,i=-1/0,r;const s=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const v=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(v<=s&&v>i&&(i=v,r=n.x<n.next.x?n:n.next,v===s))return r}n=n.next}while(n!==e);if(!r)return null;const l=r,u=r.x,d=r.y;let f=1/0,x;n=r;do s>=n.x&&n.x>=u&&s!==n.x&&Fc(a<d?s:i,a,u,d,a<d?i:s,a,n.x,n.y)&&(x=Math.abs(a-n.y)/(s-n.x),Vd(n,t)&&(x<f||x===f&&(n.x>r.x||n.x===r.x&&die(r,n)))&&(r=n,f=x)),n=n.next;while(n!==l);return r}function die(t,e){return jn(t.prev,t,e.prev)<0&&jn(e.next,t,t.next)<0}function fie(t,e,n,i){let r=t;do r.z===0&&(r.z=p_(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,pie(r)}function pie(t){let e,n,i,r,s,a,l,u,d=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,i=n,l=0,e=0;e<d&&(l++,i=i.nextZ,!!i);e++);for(u=d;l>0||u>0&&i;)l!==0&&(u===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,l--):(r=i,i=i.nextZ,u--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,d*=2}while(a>1);return t}function p_(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function mie(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Fc(t,e,n,i,r,s,a,l){return(r-a)*(e-l)>=(t-a)*(s-l)&&(t-a)*(i-l)>=(n-a)*(e-l)&&(n-a)*(s-l)>=(r-a)*(i-l)}function gie(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!xie(t,e)&&(Vd(t,e)&&Vd(e,t)&&vie(t,e)&&(jn(t.prev,t,e.prev)||jn(t,e.prev,e))||Lx(t,e)&&jn(t.prev,t,t.next)>0&&jn(e.prev,e,e.next)>0)}function jn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Lx(t,e){return t.x===e.x&&t.y===e.y}function ND(t,e,n,i){const r=Vp(jn(t,e,n)),s=Vp(jn(t,e,i)),a=Vp(jn(n,i,t)),l=Vp(jn(n,i,e));return!!(r!==s&&a!==l||r===0&&Bp(t,n,e)||s===0&&Bp(t,i,e)||a===0&&Bp(n,t,i)||l===0&&Bp(n,e,i))}function Bp(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Vp(t){return t>0?1:t<0?-1:0}function xie(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&ND(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Vd(t,e){return jn(t.prev,t,t.next)<0?jn(t,e,t.next)>=0&&jn(t,t.prev,e)>=0:jn(t,e,t.prev)<0||jn(t,t.next,e)<0}function vie(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function FD(t,e){const n=new m_(t.i,t.x,t.y),i=new m_(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function D2(t,e,n,i){const r=new m_(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Ud(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function m_(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function yie(t,e,n,i){let r=0;for(let s=e,a=n-i;s<n;s+=i)r+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return r}class eu{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return eu.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];N2(e),F2(i,e);let a=e.length;n.forEach(N2);for(let u=0;u<n.length;u++)r.push(a),a+=n[u].length,F2(i,n[u]);const l=iie.triangulate(i,r);for(let u=0;u<l.length;u+=3)s.push(l.slice(u,u+3));return s}}function N2(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function F2(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Dx extends ka{constructor(e=new Wh([new mt(.5,.5),new mt(-.5,.5),new mt(-.5,-.5),new mt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let l=0,u=e.length;l<u;l++){const d=e[l];a(d)}this.setAttribute("position",new Wr(r,3)),this.setAttribute("uv",new Wr(s,2)),this.computeVertexNormals();function a(l){const u=[],d=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,x=n.depth!==void 0?n.depth:1;let v=n.bevelEnabled!==void 0?n.bevelEnabled:!0,y=n.bevelThickness!==void 0?n.bevelThickness:.2,C=n.bevelSize!==void 0?n.bevelSize:y-.1,k=n.bevelOffset!==void 0?n.bevelOffset:0,P=n.bevelSegments!==void 0?n.bevelSegments:3;const S=n.extrudePath,R=n.UVGenerator!==void 0?n.UVGenerator:_ie;let L,D=!1,W,z,j,Z;S&&(L=S.getSpacedPoints(f),D=!0,v=!1,W=S.computeFrenetFrames(f,!1),z=new Ae,j=new Ae,Z=new Ae),v||(P=0,y=0,C=0,k=0);const $=l.extractPoints(d);let H=$.shape;const q=$.holes;if(!eu.isClockWise(H)){H=H.reverse();for(let ne=0,Oe=q.length;ne<Oe;ne++){const Ne=q[ne];eu.isClockWise(Ne)&&(q[ne]=Ne.reverse())}}const le=eu.triangulateShape(H,q),me=H;for(let ne=0,Oe=q.length;ne<Oe;ne++){const Ne=q[ne];H=H.concat(Ne)}function we(ne,Oe,Ne){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),ne.clone().addScaledVector(Oe,Ne)}const Se=H.length,ge=le.length;function ie(ne,Oe,Ne){let De,Ve,$e;const rt=ne.x-Oe.x,ht=ne.y-Oe.y,fe=Ne.x-ne.x,te=Ne.y-ne.y,Fe=rt*rt+ht*ht,Qe=rt*te-ht*fe;if(Math.abs(Qe)>Number.EPSILON){const Ye=Math.sqrt(Fe),Ke=Math.sqrt(fe*fe+te*te),ct=Oe.x-ht/Ye,at=Oe.y+rt/Ye,bt=Ne.x-te/Ke,jt=Ne.y+fe/Ke,Je=((bt-ct)*te-(jt-at)*fe)/(rt*te-ht*fe);De=ct+rt*Je-ne.x,Ve=at+ht*Je-ne.y;const nt=De*De+Ve*Ve;if(nt<=2)return new mt(De,Ve);$e=Math.sqrt(nt/2)}else{let Ye=!1;rt>Number.EPSILON?fe>Number.EPSILON&&(Ye=!0):rt<-Number.EPSILON?fe<-Number.EPSILON&&(Ye=!0):Math.sign(ht)===Math.sign(te)&&(Ye=!0),Ye?(De=-ht,Ve=rt,$e=Math.sqrt(Fe)):(De=rt,Ve=ht,$e=Math.sqrt(Fe/2))}return new mt(De/$e,Ve/$e)}const _e=[];for(let ne=0,Oe=me.length,Ne=Oe-1,De=ne+1;ne<Oe;ne++,Ne++,De++)Ne===Oe&&(Ne=0),De===Oe&&(De=0),_e[ne]=ie(me[ne],me[Ne],me[De]);const Te=[];let ee,He=_e.concat();for(let ne=0,Oe=q.length;ne<Oe;ne++){const Ne=q[ne];ee=[];for(let De=0,Ve=Ne.length,$e=Ve-1,rt=De+1;De<Ve;De++,$e++,rt++)$e===Ve&&($e=0),rt===Ve&&(rt=0),ee[De]=ie(Ne[De],Ne[$e],Ne[rt]);Te.push(ee),He=He.concat(ee)}for(let ne=0;ne<P;ne++){const Oe=ne/P,Ne=y*Math.cos(Oe*Math.PI/2),De=C*Math.sin(Oe*Math.PI/2)+k;for(let Ve=0,$e=me.length;Ve<$e;Ve++){const rt=we(me[Ve],_e[Ve],De);ue(rt.x,rt.y,-Ne)}for(let Ve=0,$e=q.length;Ve<$e;Ve++){const rt=q[Ve];ee=Te[Ve];for(let ht=0,fe=rt.length;ht<fe;ht++){const te=we(rt[ht],ee[ht],De);ue(te.x,te.y,-Ne)}}}const Ue=C+k;for(let ne=0;ne<Se;ne++){const Oe=v?we(H[ne],He[ne],Ue):H[ne];D?(j.copy(W.normals[0]).multiplyScalar(Oe.x),z.copy(W.binormals[0]).multiplyScalar(Oe.y),Z.copy(L[0]).add(j).add(z),ue(Z.x,Z.y,Z.z)):ue(Oe.x,Oe.y,0)}for(let ne=1;ne<=f;ne++)for(let Oe=0;Oe<Se;Oe++){const Ne=v?we(H[Oe],He[Oe],Ue):H[Oe];D?(j.copy(W.normals[ne]).multiplyScalar(Ne.x),z.copy(W.binormals[ne]).multiplyScalar(Ne.y),Z.copy(L[ne]).add(j).add(z),ue(Z.x,Z.y,Z.z)):ue(Ne.x,Ne.y,x/f*ne)}for(let ne=P-1;ne>=0;ne--){const Oe=ne/P,Ne=y*Math.cos(Oe*Math.PI/2),De=C*Math.sin(Oe*Math.PI/2)+k;for(let Ve=0,$e=me.length;Ve<$e;Ve++){const rt=we(me[Ve],_e[Ve],De);ue(rt.x,rt.y,x+Ne)}for(let Ve=0,$e=q.length;Ve<$e;Ve++){const rt=q[Ve];ee=Te[Ve];for(let ht=0,fe=rt.length;ht<fe;ht++){const te=we(rt[ht],ee[ht],De);D?ue(te.x,te.y+L[f-1].y,L[f-1].x+Ne):ue(te.x,te.y,x+Ne)}}}K(),oe();function K(){const ne=r.length/3;if(v){let Oe=0,Ne=Se*Oe;for(let De=0;De<ge;De++){const Ve=le[De];Pe(Ve[2]+Ne,Ve[1]+Ne,Ve[0]+Ne)}Oe=f+P*2,Ne=Se*Oe;for(let De=0;De<ge;De++){const Ve=le[De];Pe(Ve[0]+Ne,Ve[1]+Ne,Ve[2]+Ne)}}else{for(let Oe=0;Oe<ge;Oe++){const Ne=le[Oe];Pe(Ne[2],Ne[1],Ne[0])}for(let Oe=0;Oe<ge;Oe++){const Ne=le[Oe];Pe(Ne[0]+Se*f,Ne[1]+Se*f,Ne[2]+Se*f)}}i.addGroup(ne,r.length/3-ne,0)}function oe(){const ne=r.length/3;let Oe=0;be(me,Oe),Oe+=me.length;for(let Ne=0,De=q.length;Ne<De;Ne++){const Ve=q[Ne];be(Ve,Oe),Oe+=Ve.length}i.addGroup(ne,r.length/3-ne,1)}function be(ne,Oe){let Ne=ne.length;for(;--Ne>=0;){const De=Ne;let Ve=Ne-1;Ve<0&&(Ve=ne.length-1);for(let $e=0,rt=f+P*2;$e<rt;$e++){const ht=Se*$e,fe=Se*($e+1),te=Oe+De+ht,Fe=Oe+Ve+ht,Qe=Oe+Ve+fe,Ye=Oe+De+fe;Ee(te,Fe,Qe,Ye)}}}function ue(ne,Oe,Ne){u.push(ne),u.push(Oe),u.push(Ne)}function Pe(ne,Oe,Ne){ze(ne),ze(Oe),ze(Ne);const De=r.length/3,Ve=R.generateTopUV(i,r,De-3,De-2,De-1);Ze(Ve[0]),Ze(Ve[1]),Ze(Ve[2])}function Ee(ne,Oe,Ne,De){ze(ne),ze(Oe),ze(De),ze(Oe),ze(Ne),ze(De);const Ve=r.length/3,$e=R.generateSideWallUV(i,r,Ve-6,Ve-3,Ve-2,Ve-1);Ze($e[0]),Ze($e[1]),Ze($e[3]),Ze($e[1]),Ze($e[2]),Ze($e[3])}function ze(ne){r.push(u[ne*3+0]),r.push(u[ne*3+1]),r.push(u[ne*3+2])}function Ze(ne){s.push(ne.x),s.push(ne.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return bie(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const l=n[e.shapes[s]];i.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new d_[r.type]().fromJSON(r)),new Dx(i,e.options)}}const _ie={generateTopUV:function(t,e,n,i,r){const s=e[n*3],a=e[n*3+1],l=e[i*3],u=e[i*3+1],d=e[r*3],f=e[r*3+1];return[new mt(s,a),new mt(l,u),new mt(d,f)]},generateSideWallUV:function(t,e,n,i,r,s){const a=e[n*3],l=e[n*3+1],u=e[n*3+2],d=e[i*3],f=e[i*3+1],x=e[i*3+2],v=e[r*3],y=e[r*3+1],C=e[r*3+2],k=e[s*3],P=e[s*3+1],S=e[s*3+2];return Math.abs(l-f)<Math.abs(a-d)?[new mt(a,1-u),new mt(d,1-x),new mt(v,1-C),new mt(k,1-S)]:[new mt(l,1-u),new mt(f,1-x),new mt(y,1-C),new mt(P,1-S)]}};function bie(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class aS extends ka{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:l},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const u=Math.min(a+l,Math.PI);let d=0;const f=[],x=new Ae,v=new Ae,y=[],C=[],k=[],P=[];for(let S=0;S<=i;S++){const R=[],L=S/i;let D=0;S===0&&a===0?D=.5/n:S===i&&u===Math.PI&&(D=-.5/n);for(let W=0;W<=n;W++){const z=W/n;x.x=-e*Math.cos(r+z*s)*Math.sin(a+L*l),x.y=e*Math.cos(a+L*l),x.z=e*Math.sin(r+z*s)*Math.sin(a+L*l),C.push(x.x,x.y,x.z),v.copy(x).normalize(),k.push(v.x,v.y,v.z),P.push(z+D,1-L),R.push(d++)}f.push(R)}for(let S=0;S<i;S++)for(let R=0;R<n;R++){const L=f[S][R+1],D=f[S][R],W=f[S+1][R],z=f[S+1][R+1];(S!==0||a>0)&&y.push(L,D,z),(S!==i-1||u<Math.PI)&&y.push(D,W,z)}this.setIndex(y),this.setAttribute("position",new Wr(C,3)),this.setAttribute("normal",new Wr(k,3)),this.setAttribute("uv",new Wr(P,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new aS(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class hh extends Cf{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new gn(16777215),this.specular=new gn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uD,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Hs,this.combine=Yw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const O2={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class wie{constructor(e,n,i){const r=this;let s=!1,a=0,l=0,u;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(f){l++,s===!1&&r.onStart!==void 0&&r.onStart(f,a,l),s=!0},this.itemEnd=function(f){a++,r.onProgress!==void 0&&r.onProgress(f,a,l),a===l&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(f){r.onError!==void 0&&r.onError(f)},this.resolveURL=function(f){return u?u(f):f},this.setURLModifier=function(f){return u=f,this},this.addHandler=function(f,x){return d.push(f,x),this},this.removeHandler=function(f){const x=d.indexOf(f);return x!==-1&&d.splice(x,2),this},this.getHandler=function(f){for(let x=0,v=d.length;x<v;x+=2){const y=d[x],C=d[x+1];if(y.global&&(y.lastIndex=0),y.test(f))return C}return null}}}const Sie=new wie;class oS{constructor(e){this.manager=e!==void 0?e:Sie,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}oS.DEFAULT_MATERIAL_NAME="__DEFAULT";const ta={};class Mie extends Error{constructor(e,n){super(e),this.response=n}}class Cie extends oS{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=O2.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(ta[e]!==void 0){ta[e].push({onLoad:n,onProgress:i,onError:r});return}ta[e]=[],ta[e].push({onLoad:n,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,u=this.responseType;fetch(a).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const f=ta[e],x=d.body.getReader(),v=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),y=v?parseInt(v):0,C=y!==0;let k=0;const P=new ReadableStream({start(S){R();function R(){x.read().then(({done:L,value:D})=>{if(L)S.close();else{k+=D.byteLength;const W=new ProgressEvent("progress",{lengthComputable:C,loaded:k,total:y});for(let z=0,j=f.length;z<j;z++){const Z=f[z];Z.onProgress&&Z.onProgress(W)}S.enqueue(D),R()}},L=>{S.error(L)})}}});return new Response(P)}else throw new Mie(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(u){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(f=>new DOMParser().parseFromString(f,l));case"json":return d.json();default:if(l===void 0)return d.text();{const x=/charset="?([^;"\s]*)"?/i.exec(l),v=x&&x[1]?x[1].toLowerCase():void 0,y=new TextDecoder(v);return d.arrayBuffer().then(C=>y.decode(C))}}}).then(d=>{O2.add(e,d);const f=ta[e];delete ta[e];for(let x=0,v=f.length;x<v;x++){const y=f[x];y.onLoad&&y.onLoad(d)}}).catch(d=>{const f=ta[e];if(f===void 0)throw this.manager.itemError(e),d;delete ta[e];for(let x=0,v=f.length;x<v;x++){const y=f[x];y.onError&&y.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class OD extends Fi{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new gn(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}const Wv=new Xn,B2=new Ae,V2=new Ae;class BD{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new mt(512,512),this.map=null,this.mapPass=null,this.matrix=new Xn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new nS,this._frameExtents=new mt(1,1),this._viewportCount=1,this._viewports=[new Nn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;B2.setFromMatrixPosition(e.matrixWorld),n.position.copy(B2),V2.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(V2),n.updateMatrixWorld(),Wv.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Wv),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Wv)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Tie extends BD{constructor(){super(new ir(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=wg*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Pie extends OD{constructor(e,n,i=0,r=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Fi.DEFAULT_UP),this.updateMatrix(),this.target=new Fi,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new Tie}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const U2=new Xn,dh=new Ae,jv=new Ae;class Eie extends BD{constructor(){super(new ir(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new mt(4,2),this._viewportCount=6,this._viewports=[new Nn(2,1,1,1),new Nn(0,1,1,1),new Nn(3,1,1,1),new Nn(1,1,1,1),new Nn(3,0,1,1),new Nn(1,0,1,1)],this._cubeDirections=[new Ae(1,0,0),new Ae(-1,0,0),new Ae(0,0,1),new Ae(0,0,-1),new Ae(0,1,0),new Ae(0,-1,0)],this._cubeUps=[new Ae(0,1,0),new Ae(0,1,0),new Ae(0,1,0),new Ae(0,1,0),new Ae(0,0,1),new Ae(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),dh.setFromMatrixPosition(e.matrixWorld),i.position.copy(dh),jv.copy(i.position),jv.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(jv),i.updateMatrixWorld(),r.makeTranslation(-dh.x,-dh.y,-dh.z),U2.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(U2)}}class Aie extends OD{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Eie}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class kie{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=z2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=z2();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function z2(){return(typeof performance>"u"?Date:performance).now()}class Rie{constructor(){this.type="ShapePath",this.color=new gn,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new f_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,a){return this.currentPath.bezierCurveTo(e,n,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(S){const R=[];for(let L=0,D=S.length;L<D;L++){const W=S[L],z=new Wh;z.curves=W.curves,R.push(z)}return R}function i(S,R){const L=R.length;let D=!1;for(let W=L-1,z=0;z<L;W=z++){let j=R[W],Z=R[z],$=Z.x-j.x,H=Z.y-j.y;if(Math.abs(H)>Number.EPSILON){if(H<0&&(j=R[z],$=-$,Z=R[W],H=-H),S.y<j.y||S.y>Z.y)continue;if(S.y===j.y){if(S.x===j.x)return!0}else{const q=H*(S.x-j.x)-$*(S.y-j.y);if(q===0)return!0;if(q<0)continue;D=!D}}else{if(S.y!==j.y)continue;if(Z.x<=S.x&&S.x<=j.x||j.x<=S.x&&S.x<=Z.x)return!0}}return D}const r=eu.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,l,u;const d=[];if(s.length===1)return l=s[0],u=new Wh,u.curves=l.curves,d.push(u),d;let f=!r(s[0].getPoints());f=e?!f:f;const x=[],v=[];let y=[],C=0,k;v[C]=void 0,y[C]=[];for(let S=0,R=s.length;S<R;S++)l=s[S],k=l.getPoints(),a=r(k),a=e?!a:a,a?(!f&&v[C]&&C++,v[C]={s:new Wh,p:k},v[C].s.curves=l.curves,f&&C++,y[C]=[]):y[C].push({h:l,p:k[0]});if(!v[0])return n(s);if(v.length>1){let S=!1,R=0;for(let L=0,D=v.length;L<D;L++)x[L]=[];for(let L=0,D=v.length;L<D;L++){const W=y[L];for(let z=0;z<W.length;z++){const j=W[z];let Z=!0;for(let $=0;$<v.length;$++)i(j.p,v[$].p)&&(L!==$&&R++,Z?(Z=!1,x[$].push(j)):S=!0);Z&&x[L].push(j)}}R>0&&S===!1&&(y=x)}let P;for(let S=0,R=v.length;S<R;S++){u=v[S].s,d.push(u),P=y[S];for(let L=0,D=P.length;L<D;L++)u.holes.push(P[L].h)}return d}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Gw}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Gw);class Iie extends oS{constructor(e){super(e)}load(e,n,i,r){const s=this,a=new Cie(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){const u=s.parse(JSON.parse(l));n&&n(u)},i,r)}parse(e){return new Lie(e)}}class Lie{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,n=100){const i=[],r=Die(e,n,this.data);for(let s=0,a=r.length;s<a;s++)i.push(...r[s].toShapes());return i}}function Die(t,e,n){const i=Array.from(t),r=e/n.resolution,s=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,a=[];let l=0,u=0;for(let d=0;d<i.length;d++){const f=i[d];if(f===`
`)l=0,u-=s;else{const x=Nie(f,r,l,u,n);l+=x.offsetX,a.push(x.path)}}return a}function Nie(t,e,n,i,r){const s=r.glyphs[t]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".");return}const a=new Rie;let l,u,d,f,x,v,y,C;if(s.o){const k=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let P=0,S=k.length;P<S;)switch(k[P++]){case"m":l=k[P++]*e+n,u=k[P++]*e+i,a.moveTo(l,u);break;case"l":l=k[P++]*e+n,u=k[P++]*e+i,a.lineTo(l,u);break;case"q":d=k[P++]*e+n,f=k[P++]*e+i,x=k[P++]*e+n,v=k[P++]*e+i,a.quadraticCurveTo(x,v,d,f);break;case"b":d=k[P++]*e+n,f=k[P++]*e+i,x=k[P++]*e+n,v=k[P++]*e+i,y=k[P++]*e+n,C=k[P++]*e+i,a.bezierCurveTo(x,v,y,C,d,f);break}}return{offsetX:s.ha*e,path:a}}class Hv extends Dx{constructor(e,n={}){const i=n.font;if(i===void 0)super();else{const r=i.generateShapes(e,n.size);n.depth===void 0&&n.height!==void 0&&console.warn("THREE.TextGeometry: .height is now depreciated. Please use .depth instead"),n.depth=n.depth!==void 0?n.depth:n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(r,n)}this.type="TextGeometry"}}const Fie=()=>{const t=un(Gg),e=F.useRef(null);return F.useEffect(()=>{const n=e.current;if(!n)return;const i=new jne,r=new ir(75,600/400,.1,1e3);r.position.z=10;let s=t?1976635:16317180;const a=new Wne({antialias:!0});a.setSize(600,400),a.setClearColor(s,1),n.appendChild(a.domElement);const l=()=>{a.render(i,r)},u=(f,x,v)=>{const y=new Wh,C=Math.PI*2/v;for(let k=0;k<v;k++){const P=k*C,S=P+C/2,R=(k+1)*C;y.lineTo(Math.cos(P)*f,Math.sin(P)*f),y.lineTo(Math.cos(S)*x,Math.sin(S)*x),y.lineTo(Math.cos(R)*f,Math.sin(R)*f)}return y.closePath(),y};return new Iie().load("/fonts/Lexend_Medium_Regular.json",f=>{const x=new Hv("HiGuard",{font:f,size:2.5,depth:.6,curveSegments:12,bevelEnabled:!0,bevelThickness:.05,bevelSize:.03,bevelOffset:0,bevelSegments:5});if(x.computeBoundingBox(),!x.boundingBox)return;const v=new hh({color:624005,specular:16777215,shininess:100}),y=new rr(x,v),C=x.boundingBox.max.x-x.boundingBox.min.x;y.position.set(-C/2,2,0),i.add(y);const k=new Hv("by HiQ-Apps",{font:f,size:.7,depth:0,curveSegments:12,bevelEnabled:!0,bevelThickness:.03,bevelSize:.02,bevelOffset:0,bevelSegments:3});if(k.computeBoundingBox(),!k.boundingBox)return;const P=new hh({color:624005,specular:16777215,shininess:100}),S=new rr(k,P);S.position.set(1.3,.5,0),i.add(S);const R=u(1.2,1.5,24),L={steps:2,depth:.3,bevelEnabled:!1},D=new Dx(R,L),W=new hh({color:0}),z=new rr(D,W);z.position.set(0,-2.5,0),i.add(z);const j=new Hv("R",{font:f,size:1,depth:.2,curveSegments:12,bevelEnabled:!0,bevelThickness:.03,bevelSize:.02,bevelOffset:0,bevelSegments:3}),Z=new hh({color:624005,specular:16777215,shininess:100}),$=new rr(j,Z);if(j.computeBoundingBox(),j.boundingBox){const ge=j.boundingBox.max.x-j.boundingBox.min.x,ie=j.boundingBox.max.y-j.boundingBox.min.y;$.position.set(-ge/2,-2.5-ie/2,.1),i.add($);const _e=new Aie(624005,30,10);_e.position.set(-.2- -ge/2,-2.5-ie/2,2),i.add(_e)}const H=new Pie(624005,50);H.position.set(0,0,10),H.angle=Math.PI/4,H.penumbra=.5,H.decay=2,H.distance=50,H.target.position.set(0,0,0),i.add(H),i.add(H.target);const q=6,ce=2.5,le=[[],[],[]];for(let ge=0;ge<3;ge++)for(let ie=0;ie<q;ie++){const _e=new aS(.1,20,32),Te=new hh({color:624005}),ee=new rr(_e,Te);ee.userData={phase:ie/q*Math.PI*2+ge/3*Math.PI*2/3},i.add(ee),le[ge].push(ee)}const me=(ge,ie,_e,Te)=>{ge.forEach(ee=>{const He=we.getElapsedTime()*.5+ee.userData.phase+ie,Ue=ce*Math.cos(He),K=-2.5+ce*Math.sin(He)*Math.cos(_e),oe=ce*Math.sin(He)*Math.sin(Te);!isNaN(Ue)&&!isNaN(K)&&!isNaN(oe)&&ee.position.set(Ue*Math.cos(Math.PI/2)-oe*Math.sin(Math.PI/2),K,Ue*Math.sin(Math.PI/2)+oe*Math.cos(Math.PI/2))})},we=new kie,Se=()=>{requestAnimationFrame(Se);const ge=we.getElapsedTime(),ie=15,_e=15,Te=ge*.5;H.position.x=ie*Math.cos(Te)/(1+Math.sin(Te)*Math.sin(Te)),H.position.y=_e*Math.sin(Te)*Math.cos(Te)/(1+Math.sin(Te)*Math.sin(Te)),z.rotation.z+=.003,me(le[0],0,-Math.PI/2,-Math.PI/2),me(le[1],0,Math.PI/6,Math.PI/6),me(le[2],0,-Math.PI/6,-Math.PI/6),l()};Se()}),()=>{n.removeChild(a.domElement)}},[t]),w.jsx("div",{ref:e,style:{width:"600px",height:"400px"}})},Nx=()=>{const t=Xr(),e=un(rR),n=()=>{t("/about")},i=()=>{t("/termsofservice")},r=()=>{t("/releases")},s=[w.jsx(Kt,{size:"sm",content:"About",variant:"sidenavbutton",onClick:n}),w.jsx(Kt,{size:"sm",content:"Terms of Service",variant:"sidenavbutton",onClick:i}),w.jsx(Kt,{size:"sm",content:"Releases",variant:"sidenavbutton",onClick:r})];return w.jsx("div",{className:"relative",children:w.jsx(sf,{isOpen:e,header:"Home",links:s})})},Oie=Il.injectEndpoints({endpoints:t=>({login:t.mutation({query:e=>({url:"/auth/login",method:"POST",body:e})}),register:t.mutation({query:e=>({url:"/auth/register",method:"POST",body:e})}),refreshAccessToken:t.query({query:()=>({url:"/auth/refresh",method:"GET"})}),verifyUser:t.mutation({query:e=>({url:"/verified/auth/check",method:"POST",body:e})}),getUserProfile:t.query({query:e=>({url:`users/${e}/profile`,method:"GET"}),providesTags:["UserProfile"]}),updateUserProfile:t.mutation({query:e=>({url:`users/${e.id}/profile`,method:"PUT",body:e}),invalidatesTags:["UserProfile"]})})}),{useLoginMutation:Bie,useRegisterMutation:Vie,useRefreshAccessTokenQuery:Uie,useVerifyUserMutation:VD,useGetUserProfileQuery:zie,useUpdateUserProfileMutation:Wie}=Oie,jie={hasError:!1,error:null,errorInfo:null},UD=tr({name:"errorBoundary",initialState:jie,reducers:{setError(t,e){t.hasError=!0,t.error=e.payload.error,t.errorInfo=e.payload.errorInfo},clearError(t){t.hasError=!1,t.error=null,t.errorInfo=null}}}),{setError:zD,clearError:Fx}=UD.actions,Hie=UD.reducer,Xie=()=>{const t=un(Ex),e=Xr(),n=Ki(),{toast:i}=kr(),{registerHandler:r,unregisterHandler:s}=aw(),[a,l]=F.useState({offset:0,limit:10}),[u]=VD(),{data:d,isLoading:f,isError:x,error:v}=EH({id:(t==null?void 0:t.id)||"",offset:a.offset,limit:a.limit},{skip:!(t!=null&&t.id)}),[y,{isSuccess:C,isError:k}]=RH();F.useEffect(()=>{n(x&&v?zD({error:v,errorInfo:{componentStack:"Error in useGetNamespacesByUserQuery"}}):Fx())},[x,v]),F.useEffect(()=>{C&&i({title:"Namespace deleted successfully"})},[C,i]),F.useEffect(()=>{k&&i({title:"Namespace deletion failed",description:"error"})},[k,i]);const P=D=>{e(`/namespace/${D}`)},S=async D=>{r(async W=>{try{n($c(!0)),await u(W).unwrap(),await y(D).unwrap(),n($c(!1)),s(),n(ds())}catch{n($c(!1)),n(ds()),i({title:"Failed to delete namespace"})}},()=>{n(ds())}),n(pu({modalType:"confirmation"}))},R=D=>w.jsx(Zm,{status:D});if(f)return w.jsx("div",{children:"Loading..."});if(!d||d.length===0)return w.jsx("div",{children:"No namespaces found."});const L=Object.keys(d[0]).map(D=>({header:ro(D),accessorKey:D,cell:W=>{const z=W.getValue(),j=typeof z=="boolean";return w.jsx("div",{onClick:()=>P(W.row.original.id),className:"p-2 align-middle text-center object-center cursor-pointer dark:text-slate-300 dark:bg-transparent",children:j?R(z):String(z)},D)}}));return L.push({header:"Delete",id:"actions",cell:({row:D})=>w.jsx("div",{className:"cursor-pointer flex justify-center",children:w.jsx("div",{onClick:()=>S(D.original.id),children:w.jsx($z,{})})})}),w.jsxs(w.Fragment,{children:[w.jsx(mk,{data:d,columns:L}),w.jsx(NI,{})]})},Pf=()=>{const t=Xr(),{id:e}=Ar(),n=()=>{t("/namespace/console")},i=()=>{t(`/namespace/${e}`)},r=()=>{t(`/namespace/${e}/logs`)},s=()=>{t(`/namespace/${e}/settings`)},a=()=>{t(`/namespace/${e}/metrics`)};let l;return e?l=[w.jsx(Kt,{content:"Console",size:"sm",variant:"sidenavbutton",onClick:n}),w.jsx(Kt,{content:"Details",size:"sm",variant:"sidenavbutton",onClick:i}),w.jsx(Kt,{content:"Logs",size:"sm",variant:"sidenavbutton",onClick:r}),w.jsx(Kt,{content:"Settings",size:"sm",variant:"sidenavbutton",onClick:s}),w.jsx(Kt,{content:"Metrics",size:"sm",variant:"sidenavbutton",onClick:a})]:l=[w.jsx(Kt,{content:"Console",size:"sm",variant:"sidenavbutton",onClick:n})],w.jsxs("div",{className:"relative",children:[w.jsx(sf,{isOpen:!0,header:"Namespace",links:l}),";"]})},Ox=({header:t})=>{const{id:e}=Ar();if(!e)throw new Error("Namespace ID is required");const n=un(IH(e));if(!n)return null;const{active:i,serviceName:r,environmentType:s,createdAt:a,updatedAt:l}=n,u=d=>{const f=un(ku);return new Date(d).toLocaleString("en-US",{timeZone:f})};return w.jsxs(Xs,{className:"flex flex-col mr-4 mb-4",children:[w.jsx(Ea,{children:w.jsxs("div",{className:"text-xl font-semibold flex flex-row items-center justify-start space-x-4",children:[i?w.jsx(Zm,{status:i}):w.jsx(Zm,{status:i})," ",w.jsxs("h1",{children:["Namespace: ",e]})]})}),w.jsxs(Oo,{children:[w.jsxs("div",{className:"flex flex-col justify-between lg:flex-row",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("div",{children:[w.jsx("span",{children:"Service Name: "}),w.jsx("span",{className:"underline underline-offset-4 decoration-default",children:r})]}),w.jsxs("div",{children:[w.jsx("span",{children:"Environment Type: "}),w.jsx("span",{className:"underline underline-offset-4 decoration-default",children:s})]})]}),w.jsxs("div",{className:"flex flex-col justify-end",children:[w.jsxs("div",{className:"text-nowrap",children:[w.jsx("span",{children:"Created At: "}),w.jsx("span",{className:"underline underline-offset-4 decoration-default",children:u(a)})]}),w.jsxs("div",{className:"text-nowrap",children:[w.jsx("span",{children:"Updated At: "}),w.jsx("span",{className:"underline underline-offset-4 m-b-0 decoration-default",children:u(l)})]})]})]}),w.jsx("div",{className:"flex mt-8 underline unline-offset-4 decoration-default",children:t?w.jsx("h1",{children:t}):w.jsx(w.Fragment,{})})]})]})},Gie=cn.object({email:cn.string().email(),password:cn.string().min(8)}),Yie=({onClose:t})=>{const e=Ki(),{toast:n}=kr(),{form:i,handleChange:r,validate:s,errors:a}=Bo({email:"",password:""},Gie),[l,{isSuccess:u,isLoading:d}]=Bie(),f=async x=>{if(x.preventDefault(),s())try{const v=await l(i).unwrap();e(jw(v.accessToken)),e(Px(v.user)),e(Tx(v.userProfile)),e(Hw(!0))}catch(v){console.error("Failed to login:",v)}};return F.useEffect(()=>{u&&(t(),n({title:"Login successful",description:`Welcome back, ${i.email}`}))},[u]),w.jsxs("form",{children:[w.jsxs("div",{className:"mb-4",children:[w.jsx(zn,{htmlFor:"email",text:"Email"}),w.jsx(ti,{id:"email",type:"email",value:i.email,name:"email",onChange:r}),a.errorMessages.email&&w.jsx("span",{className:"text-error text-sm",children:a.errorMessages.email})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx(zn,{htmlFor:"password",text:"Password"}),w.jsx(ti,{id:"password",type:"password",name:"password",value:i.password,onChange:r}),a.errorMessages.password&&w.jsx("span",{className:"text-error text-sm",children:a.errorMessages.password})]}),w.jsx(Kt,{size:"sm",onClick:f,variant:"accent",overrideStyles:"px-3",content:u?"Success":d?w.jsx(Bs,{className:"animate-ease-in-out-rotation"}):"Login"})]})},$ie=cn.object({email:cn.string().email("Invalid email address"),username:cn.string().min(3,"Username must be at least 3 characters long"),password:cn.string().min(8,"Password must be at least 8 characters long").refine(t=>/[a-zA-Z]/.test(t),"Password must contain at least one letter").refine(t=>/\d/.test(t),"Password must contain at least one number"),confirmPassword:cn.string().min(8,"Password must be at least 8 characters long")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),Zie=({onClose:t})=>{const e=Ki(),{toast:n}=kr(),{form:i,handleChange:r,validate:s,errors:a}=Bo({email:"",username:"",password:"",confirmPassword:""},$ie),[l,{data:u,isSuccess:d,isLoading:f,isError:x}]=Vie(),v=async y=>{if(y.preventDefault(),s())try{await l(i).unwrap()}catch(C){console.error("Failed to register:",C)}};return F.useEffect(()=>{d?(e(jw(u.accessToken)),e(Px(u.user)),e(Hw(!0)),e(Tx(u.userProfile)),t(),n({title:"Registration successful",description:`Welcome, ${i.username}`})):x&&(t(),n({title:"Error Registering User",description:"Please check the form and try again"}))},[d,x]),w.jsxs("form",{children:[w.jsxs("div",{className:"mb-4",children:[w.jsx(zn,{htmlFor:"email",text:"Email"}),w.jsx(ti,{type:"email",name:"email",value:i.email,onChange:r}),a.errorMessages.email&&w.jsx("span",{className:"text-error text-sm",children:a.errorMessages.email})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx(zn,{htmlFor:"username",text:"Username"}),w.jsx(ti,{type:"text",name:"username",value:i.username,onChange:r}),a.errorMessages.username&&w.jsx("span",{className:"text-error text-sm",children:a.errorMessages.username})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx(zn,{htmlFor:"password",text:"Password"}),w.jsx(ti,{type:"password",name:"password",value:i.password,onChange:r}),a.errorMessages.password&&w.jsx("span",{className:"text-error text-sm",children:a.errorMessages.password})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx(zn,{htmlFor:"confirmPassword",text:"Confirm Password"}),w.jsx(ti,{type:"password",name:"confirmPassword",value:i.confirmPassword,onChange:r}),a.errorMessages.confirmPassword&&w.jsx("span",{className:"text-error text-sm",children:a.errorMessages.confirmPassword})]}),w.jsx(Kt,{size:"sm",onClick:v,overrideStyles:"px-3",variant:"accent",content:d?"Success":f?w.jsx(Bs,{className:"animate-ease-in-out-rotation"}):"Login"})]})},WD=()=>{const{toast:t}=kr(),e=Xr(),n=Ki(),i=un(Xw),r=un(Gg),s=un(hx),a=un(dx),l=()=>{n(pu({modalType:"registration"}))},u=()=>{n(pu({modalType:"login"}))},d=()=>{n(ds())},f=()=>{e("/")},x=()=>{e("/namespace/console")},v=()=>{n(BV())},y=()=>{n(Z3()),t({title:"Logged out successfully"})},C=()=>{e("/documentation")};return w.jsxs("div",{className:"z-50 bg-slate-50 w-full sticky top-0 flex flex-row justify-between items-center dark:bg-slate-700",children:[w.jsxs("div",{className:"relative min-w-32",children:[w.jsx("img",{className:"cursor-pointer",onClick:f,src:A6,alt:"App Icon",width:"100px",height:"100px"}),w.jsx("span",{className:"absolute right-1.5 bottom-3 text-sm text-default",children:"BETA"})]}),w.jsxs("div",{className:"flex flex-row mx-2",children:[w.jsx(Kt,{image:r?L6:I6,onClick:f,variant:"navbutton"}),w.jsx(Kt,{content:"Docs",onClick:C,variant:"navbutton"}),i?w.jsxs(w.Fragment,{children:[w.jsx(Kt,{content:"Logout",onClick:y,variant:"navbutton"}),w.jsx(Kt,{content:"Namespace",onClick:x,variant:"navbutton"})]}):w.jsxs(w.Fragment,{children:[w.jsx(Kt,{content:"Login",onClick:u,variant:"navbutton",overrideStyles:i?"hidden":"mx-1"}),w.jsx(Kt,{content:"Register",onClick:l,variant:"navbutton",overrideStyles:i?"hidden":"mx-1"})]}),w.jsx(Kt,{image:r?k6:R6,onClick:v,variant:"navbutton",overrideStyles:"p-2"})]}),w.jsx(pd,{header:"Login",content:w.jsx(Yie,{onClose:d}),open:s&&a==="login",onClose:d,showConfirmButtons:!1}),w.jsx(pd,{header:"Register",content:w.jsx(Zie,{onClose:d}),open:s&&a==="registration",onClose:d,showConfirmButtons:!1})]})};function Kie(t){const e=F.useRef({value:t,previous:t});return F.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Qie="VisuallyHidden",Ef=F.forwardRef((t,e)=>w.jsx(Dt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ef.displayName=Qie;var qie=Ef,Jie=[" ","Enter","ArrowUp","ArrowDown"],ere=[" ","Enter"],Af="Select",[Bx,Vx,tre]=yf(Af),[zu,Rae]=bs(Af,[tre,Vo]),Ux=Vo(),[nre,Wo]=zu(Af),[ire,rre]=zu(Af),jD=t=>{const{__scopeSelect:e,children:n,open:i,defaultOpen:r,onOpenChange:s,value:a,defaultValue:l,onValueChange:u,dir:d,name:f,autoComplete:x,disabled:v,required:y}=t,C=Ux(e),[k,P]=F.useState(null),[S,R]=F.useState(null),[L,D]=F.useState(!1),W=uf(d),[z=!1,j]=wo({prop:i,defaultProp:r,onChange:s}),[Z,$]=wo({prop:a,defaultProp:l,onChange:u}),H=F.useRef(null),q=k?!!k.closest("form"):!0,[ce,le]=F.useState(new Set),me=Array.from(ce).map(we=>we.props.value).join(";");return w.jsx(xx,{...C,children:w.jsxs(nre,{required:y,scope:e,trigger:k,onTriggerChange:P,valueNode:S,onValueNodeChange:R,valueNodeHasChildren:L,onValueNodeHasChildrenChange:D,contentId:Ur(),value:Z,onValueChange:$,open:z,onOpenChange:j,dir:W,triggerPointerDownPosRef:H,disabled:v,children:[w.jsx(Bx.Provider,{scope:e,children:w.jsx(ire,{scope:t.__scopeSelect,onNativeOptionAdd:F.useCallback(we=>{le(Se=>new Set(Se).add(we))},[]),onNativeOptionRemove:F.useCallback(we=>{le(Se=>{const ge=new Set(Se);return ge.delete(we),ge})},[]),children:n})}),q?w.jsxs(mN,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:x,value:Z,onChange:we=>$(we.target.value),disabled:v,children:[Z===void 0?w.jsx("option",{value:""}):null,Array.from(ce)]},me):null]})})};jD.displayName=Af;var HD="SelectTrigger",XD=F.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:i=!1,...r}=t,s=Ux(n),a=Wo(HD,n),l=a.disabled||i,u=sn(e,a.onTriggerChange),d=Vx(n),[f,x,v]=gN(C=>{const k=d().filter(R=>!R.disabled),P=k.find(R=>R.value===a.value),S=xN(k,C,P);S!==void 0&&a.onValueChange(S.value)}),y=()=>{l||(a.onOpenChange(!0),v())};return w.jsx(ff,{asChild:!0,...s,children:w.jsx(Dt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pN(a.value)?"":void 0,...r,ref:u,onClick:it(r.onClick,C=>{C.currentTarget.focus()}),onPointerDown:it(r.onPointerDown,C=>{const k=C.target;k.hasPointerCapture(C.pointerId)&&k.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&(y(),a.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)},C.preventDefault())}),onKeyDown:it(r.onKeyDown,C=>{const k=f.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&x(C.key),!(k&&C.key===" ")&&Jie.includes(C.key)&&(y(),C.preventDefault())})})})});XD.displayName=HD;var GD="SelectValue",YD=F.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:r,children:s,placeholder:a="",...l}=t,u=Wo(GD,n),{onValueNodeHasChildrenChange:d}=u,f=s!==void 0,x=sn(e,u.onValueNodeChange);return Ti(()=>{d(f)},[d,f]),w.jsx(Dt.span,{...l,ref:x,style:{pointerEvents:"none"},children:pN(u.value)?w.jsx(w.Fragment,{children:a}):s})});YD.displayName=GD;var sre="SelectIcon",$D=F.forwardRef((t,e)=>{const{__scopeSelect:n,children:i,...r}=t;return w.jsx(Dt.span,{"aria-hidden":!0,...r,ref:e,children:i||""})});$D.displayName=sre;var are="SelectPortal",ZD=t=>w.jsx(Ru,{asChild:!0,...t});ZD.displayName=are;var Bl="SelectContent",KD=F.forwardRef((t,e)=>{const n=Wo(Bl,t.__scopeSelect),[i,r]=F.useState();if(Ti(()=>{r(new DocumentFragment)},[]),!n.open){const s=i;return s?No.createPortal(w.jsx(QD,{scope:t.__scopeSelect,children:w.jsx(Bx.Slot,{scope:t.__scopeSelect,children:w.jsx("div",{children:t.children})})}),s):null}return w.jsx(qD,{...t,ref:e})});KD.displayName=Bl;var aa=10,[QD,jo]=zu(Bl),ore="SelectContentImpl",qD=F.forwardRef((t,e)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:x,collisionBoundary:v,collisionPadding:y,sticky:C,hideWhenDetached:k,avoidCollisions:P,...S}=t,R=Wo(Bl,n),[L,D]=F.useState(null),[W,z]=F.useState(null),j=sn(e,ue=>D(ue)),[Z,$]=F.useState(null),[H,q]=F.useState(null),ce=Vx(n),[le,me]=F.useState(!1),we=F.useRef(!1);F.useEffect(()=>{if(L)return Qg(L)},[L]),Zg();const Se=F.useCallback(ue=>{const[Pe,...Ee]=ce().map(ne=>ne.ref.current),[ze]=Ee.slice(-1),Ze=document.activeElement;for(const ne of ue)if(ne===Ze||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===Pe&&W&&(W.scrollTop=0),ne===ze&&W&&(W.scrollTop=W.scrollHeight),ne==null||ne.focus(),document.activeElement!==Ze))return},[ce,W]),ge=F.useCallback(()=>Se([Z,L]),[Se,Z,L]);F.useEffect(()=>{le&&ge()},[le,ge]);const{onOpenChange:ie,triggerPointerDownPosRef:_e}=R;F.useEffect(()=>{if(L){let ue={x:0,y:0};const Pe=ze=>{var Ze,ne;ue={x:Math.abs(Math.round(ze.pageX)-(((Ze=_e.current)==null?void 0:Ze.x)??0)),y:Math.abs(Math.round(ze.pageY)-(((ne=_e.current)==null?void 0:ne.y)??0))}},Ee=ze=>{ue.x<=10&&ue.y<=10?ze.preventDefault():L.contains(ze.target)||ie(!1),document.removeEventListener("pointermove",Pe),_e.current=null};return _e.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[L,ie,_e]),F.useEffect(()=>{const ue=()=>ie(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[ie]);const[Te,ee]=gN(ue=>{const Pe=ce().filter(Ze=>!Ze.disabled),Ee=Pe.find(Ze=>Ze.ref.current===document.activeElement),ze=xN(Pe,ue,Ee);ze&&setTimeout(()=>ze.ref.current.focus())}),He=F.useCallback((ue,Pe,Ee)=>{const ze=!we.current&&!Ee;(R.value!==void 0&&R.value===Pe||ze)&&($(ue),ze&&(we.current=!0))},[R.value]),Ue=F.useCallback(()=>L==null?void 0:L.focus(),[L]),K=F.useCallback((ue,Pe,Ee)=>{const ze=!we.current&&!Ee;(R.value!==void 0&&R.value===Pe||ze)&&q(ue)},[R.value]),oe=i==="popper"?g_:JD,be=oe===g_?{side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:x,collisionBoundary:v,collisionPadding:y,sticky:C,hideWhenDetached:k,avoidCollisions:P}:{};return w.jsx(QD,{scope:n,content:L,viewport:W,onViewportChange:z,itemRefCallback:He,selectedItem:Z,onItemLeave:Ue,itemTextRefCallback:K,focusSelectedItem:ge,selectedItemText:H,position:i,isPositioned:le,searchRef:Te,children:w.jsx(nf,{as:ba,allowPinchZoom:!0,children:w.jsx(tf,{asChild:!0,trapped:R.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:it(r,ue=>{var Pe;(Pe=R.trigger)==null||Pe.focus({preventScroll:!0}),ue.preventDefault()}),children:w.jsx(zl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:w.jsx(oe,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:ue=>ue.preventDefault(),...S,...be,onPlaced:()=>me(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:it(S.onKeyDown,ue=>{const Pe=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!Pe&&ue.key.length===1&&ee(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let ze=ce().filter(Ze=>!Ze.disabled).map(Ze=>Ze.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Ze=ue.target,ne=ze.indexOf(Ze);ze=ze.slice(ne+1)}setTimeout(()=>Se(ze)),ue.preventDefault()}})})})})})})});qD.displayName=ore;var lre="SelectItemAlignedPosition",JD=F.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:i,...r}=t,s=Wo(Bl,n),a=jo(Bl,n),[l,u]=F.useState(null),[d,f]=F.useState(null),x=sn(e,j=>f(j)),v=Vx(n),y=F.useRef(!1),C=F.useRef(!0),{viewport:k,selectedItem:P,selectedItemText:S,focusSelectedItem:R}=a,L=F.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&k&&P&&S){const j=s.trigger.getBoundingClientRect(),Z=d.getBoundingClientRect(),$=s.valueNode.getBoundingClientRect(),H=S.getBoundingClientRect();if(s.dir!=="rtl"){const Ze=H.left-Z.left,ne=$.left-Ze,Oe=j.left-ne,Ne=j.width+Oe,De=Math.max(Ne,Z.width),Ve=window.innerWidth-aa,$e=m1(ne,[aa,Ve-De]);l.style.minWidth=Ne+"px",l.style.left=$e+"px"}else{const Ze=Z.right-H.right,ne=window.innerWidth-$.right-Ze,Oe=window.innerWidth-j.right-ne,Ne=j.width+Oe,De=Math.max(Ne,Z.width),Ve=window.innerWidth-aa,$e=m1(ne,[aa,Ve-De]);l.style.minWidth=Ne+"px",l.style.right=$e+"px"}const q=v(),ce=window.innerHeight-aa*2,le=k.scrollHeight,me=window.getComputedStyle(d),we=parseInt(me.borderTopWidth,10),Se=parseInt(me.paddingTop,10),ge=parseInt(me.borderBottomWidth,10),ie=parseInt(me.paddingBottom,10),_e=we+Se+le+ie+ge,Te=Math.min(P.offsetHeight*5,_e),ee=window.getComputedStyle(k),He=parseInt(ee.paddingTop,10),Ue=parseInt(ee.paddingBottom,10),K=j.top+j.height/2-aa,oe=ce-K,be=P.offsetHeight/2,ue=P.offsetTop+be,Pe=we+Se+ue,Ee=_e-Pe;if(Pe<=K){const Ze=P===q[q.length-1].ref.current;l.style.bottom="0px";const ne=d.clientHeight-k.offsetTop-k.offsetHeight,Oe=Math.max(oe,be+(Ze?Ue:0)+ne+ge),Ne=Pe+Oe;l.style.height=Ne+"px"}else{const Ze=P===q[0].ref.current;l.style.top="0px";const Oe=Math.max(K,we+k.offsetTop+(Ze?He:0)+be)+Ee;l.style.height=Oe+"px",k.scrollTop=Pe-K+k.offsetTop}l.style.margin=`${aa}px 0`,l.style.minHeight=Te+"px",l.style.maxHeight=ce+"px",i==null||i(),requestAnimationFrame(()=>y.current=!0)}},[v,s.trigger,s.valueNode,l,d,k,P,S,s.dir,i]);Ti(()=>L(),[L]);const[D,W]=F.useState();Ti(()=>{d&&W(window.getComputedStyle(d).zIndex)},[d]);const z=F.useCallback(j=>{j&&C.current===!0&&(L(),R==null||R(),C.current=!1)},[L,R]);return w.jsx(ure,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:z,children:w.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:w.jsx(Dt.div,{...r,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});JD.displayName=lre;var cre="SelectPopperPosition",g_=F.forwardRef((t,e)=>{const{__scopeSelect:n,align:i="start",collisionPadding:r=aa,...s}=t,a=Ux(n);return w.jsx(vx,{...a,...s,ref:e,align:i,collisionPadding:r,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});g_.displayName=cre;var[ure,lS]=zu(Bl,{}),x_="SelectViewport",eN=F.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:i,...r}=t,s=jo(x_,n),a=lS(x_,n),l=sn(e,s.onViewportChange),u=F.useRef(0);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),w.jsx(Bx.Slot,{scope:n,children:w.jsx(Dt.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:it(r.onScroll,d=>{const f=d.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:v}=a;if(v!=null&&v.current&&x){const y=Math.abs(u.current-f.scrollTop);if(y>0){const C=window.innerHeight-aa*2,k=parseFloat(x.style.minHeight),P=parseFloat(x.style.height),S=Math.max(k,P);if(S<C){const R=S+y,L=Math.min(C,R),D=R-L;x.style.height=L+"px",x.style.bottom==="0px"&&(f.scrollTop=D>0?D:0,x.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});eN.displayName=x_;var tN="SelectGroup",[hre,dre]=zu(tN),nN=F.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,r=Ur();return w.jsx(hre,{scope:n,id:r,children:w.jsx(Dt.div,{role:"group","aria-labelledby":r,...i,ref:e})})});nN.displayName=tN;var iN="SelectLabel",rN=F.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,r=dre(iN,n);return w.jsx(Dt.div,{id:r.id,...i,ref:e})});rN.displayName=iN;var Mg="SelectItem",[fre,sN]=zu(Mg),aN=F.forwardRef((t,e)=>{const{__scopeSelect:n,value:i,disabled:r=!1,textValue:s,...a}=t,l=Wo(Mg,n),u=jo(Mg,n),d=l.value===i,[f,x]=F.useState(s??""),[v,y]=F.useState(!1),C=sn(e,S=>{var R;return(R=u.itemRefCallback)==null?void 0:R.call(u,S,i,r)}),k=Ur(),P=()=>{r||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return w.jsx(fre,{scope:n,value:i,disabled:r,textId:k,isSelected:d,onItemTextChange:F.useCallback(S=>{x(R=>R||((S==null?void 0:S.textContent)??"").trim())},[]),children:w.jsx(Bx.ItemSlot,{scope:n,value:i,disabled:r,textValue:f,children:w.jsx(Dt.div,{role:"option","aria-labelledby":k,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:C,onFocus:it(a.onFocus,()=>y(!0)),onBlur:it(a.onBlur,()=>y(!1)),onPointerUp:it(a.onPointerUp,P),onPointerMove:it(a.onPointerMove,S=>{var R;r?(R=u.onItemLeave)==null||R.call(u):S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:it(a.onPointerLeave,S=>{var R;S.currentTarget===document.activeElement&&((R=u.onItemLeave)==null||R.call(u))}),onKeyDown:it(a.onKeyDown,S=>{var L;((L=u.searchRef)==null?void 0:L.current)!==""&&S.key===" "||(ere.includes(S.key)&&P(),S.key===" "&&S.preventDefault())})})})})});aN.displayName=Mg;var Mh="SelectItemText",oN=F.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:r,...s}=t,a=Wo(Mh,n),l=jo(Mh,n),u=sN(Mh,n),d=rre(Mh,n),[f,x]=F.useState(null),v=sn(e,S=>x(S),u.onItemTextChange,S=>{var R;return(R=l.itemTextRefCallback)==null?void 0:R.call(l,S,u.value,u.disabled)}),y=f==null?void 0:f.textContent,C=F.useMemo(()=>w.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:k,onNativeOptionRemove:P}=d;return Ti(()=>(k(C),()=>P(C)),[k,P,C]),w.jsxs(w.Fragment,{children:[w.jsx(Dt.span,{id:u.textId,...s,ref:v}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?No.createPortal(s.children,a.valueNode):null]})});oN.displayName=Mh;var lN="SelectItemIndicator",cN=F.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return sN(lN,n).isSelected?w.jsx(Dt.span,{"aria-hidden":!0,...i,ref:e}):null});cN.displayName=lN;var v_="SelectScrollUpButton",uN=F.forwardRef((t,e)=>{const n=jo(v_,t.__scopeSelect),i=lS(v_,t.__scopeSelect),[r,s]=F.useState(!1),a=sn(e,i.onScrollButtonChange);return Ti(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollTop>0;s(d)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?w.jsx(dN,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});uN.displayName=v_;var y_="SelectScrollDownButton",hN=F.forwardRef((t,e)=>{const n=jo(y_,t.__scopeSelect),i=lS(y_,t.__scopeSelect),[r,s]=F.useState(!1),a=sn(e,i.onScrollButtonChange);return Ti(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;s(f)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?w.jsx(dN,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});hN.displayName=y_;var dN=F.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:i,...r}=t,s=jo("SelectScrollButton",n),a=F.useRef(null),l=Vx(n),u=F.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return F.useEffect(()=>()=>u(),[u]),Ti(()=>{var f;const d=l().find(x=>x.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),w.jsx(Dt.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:it(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(i,50))}),onPointerMove:it(r.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),a.current===null&&(a.current=window.setInterval(i,50))}),onPointerLeave:it(r.onPointerLeave,()=>{u()})})}),pre="SelectSeparator",fN=F.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return w.jsx(Dt.div,{"aria-hidden":!0,...i,ref:e})});fN.displayName=pre;var __="SelectArrow",mre=F.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,r=Ux(n),s=Wo(__,n),a=jo(__,n);return s.open&&a.position==="popper"?w.jsx(yx,{...r,...i,ref:e}):null});mre.displayName=__;function pN(t){return t===""||t===void 0}var mN=F.forwardRef((t,e)=>{const{value:n,...i}=t,r=F.useRef(null),s=sn(e,r),a=Kie(n);return F.useEffect(()=>{const l=r.current,u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==n&&f){const x=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(x)}},[a,n]),w.jsx(Ef,{asChild:!0,children:w.jsx("select",{...i,ref:s,defaultValue:n})})});mN.displayName="BubbleSelect";function gN(t){const e=Wn(t),n=F.useRef(""),i=F.useRef(0),r=F.useCallback(a=>{const l=n.current+a;e(l),function u(d){n.current=d,window.clearTimeout(i.current),d!==""&&(i.current=window.setTimeout(()=>u(""),1e3))}(l)},[e]),s=F.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return F.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,r,s]}function xN(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=gre(t,Math.max(s,0));r.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return u!==n?u:void 0}function gre(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var xre=jD,vN=XD,vre=YD,yre=$D,_re=ZD,yN=KD,bre=eN,wre=nN,_N=rN,bN=aN,Sre=oN,Mre=cN,wN=uN,SN=hN,MN=fN;const CN=xre,Cre=wre,TN=vre,cS=F.forwardRef(({className:t,children:e,...n},i)=>w.jsxs(vN,{ref:i,className:Pt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-slate-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-slate-400 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-slate-300",t),...n,children:[e,w.jsx(yre,{asChild:!0,children:w.jsx(pz,{className:"h-4 w-4 opacity-50"})})]}));cS.displayName=vN.displayName;const PN=F.forwardRef(({className:t,...e},n)=>w.jsx(wN,{ref:n,className:Pt("flex cursor-default items-center justify-center py-1",t),...e,children:w.jsx(wz,{})}));PN.displayName=wN.displayName;const EN=F.forwardRef(({className:t,...e},n)=>w.jsx(SN,{ref:n,className:Pt("flex cursor-default items-center justify-center py-1",t),...e,children:w.jsx(xz,{})}));EN.displayName=SN.displayName;const uS=F.forwardRef(({className:t,children:e,position:n="popper",...i},r)=>w.jsx(_re,{children:w.jsxs(yN,{ref:r,className:Pt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[w.jsx(PN,{}),w.jsx(bre,{className:Pt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),w.jsx(EN,{})]})}));uS.displayName=yN.displayName;const Tre=F.forwardRef(({className:t,...e},n)=>w.jsx(_N,{ref:n,className:Pt("px-2 py-1.5 text-sm font-semibold",t),...e}));Tre.displayName=_N.displayName;const Oc=F.forwardRef(({className:t,children:e,...n},i)=>w.jsxs(bN,{ref:i,className:Pt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),...n,children:[w.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(Mre,{children:w.jsx(Qk,{className:"h-4 w-4"})})}),w.jsx(Sre,{children:e})]}));Oc.displayName=bN.displayName;const Pre=F.forwardRef(({className:t,...e},n)=>w.jsx(MN,{ref:n,className:Pt("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",t),...e}));Pre.displayName=MN.displayName;const Ere=()=>{const t=Ki(),e=n=>{t(Dj(n))};return w.jsxs(CN,{onValueChange:e,children:[w.jsx(cS,{className:"w-[180px]",children:w.jsx(TN,{placeholder:"Select a grouping"})}),w.jsx(uS,{children:w.jsxs(Cre,{children:[w.jsx(Oc,{value:"statusCode",children:"Status Code"}),w.jsx(Oc,{value:"message",children:"Error Message"}),w.jsx(Oc,{value:"line",children:"Line"}),w.jsx(Oc,{value:"tags",children:"Tag"})]})})]})},Are=["UTC","America/New_York","America/Los_Angeles","America/Chicago","America/Denver","Europe/London","Europe/Paris","Europe/Berlin","Asia/Tokyo","Asia/Shanghai","Asia/Singapore","Australia/Sydney","Australia/Melbourne"],kre=()=>{const t=Ki(),e=un(ku),n=i=>{t(LU(i))};return w.jsxs(CN,{onValueChange:n,children:[w.jsx(cS,{children:w.jsx(TN,{placeholder:e})}),w.jsx(uS,{className:"dark:bg-slate-700",children:Are.map(i=>w.jsx(Oc,{value:i,children:w.jsx("div",{className:"text-2xs dark:text-slate-100",children:i})},i))})]})},Rre=({tags:t})=>Array.isArray(t)?t.length===1?w.jsx("div",{className:"flex rounded-md border p-2",children:t.map((e,n)=>w.jsx(nm,{tagKey:e.tagKey,tagValue:e.tagValue,tagColor:e.tagColor},n))}):t.length>1?w.jsx(cx,{className:"h-[100px] w-full whitespace-nowrap rounded-md dark:bg-slate-900",children:t.map((e,n)=>w.jsx(nm,{tagKey:e.tagKey,tagValue:e.tagValue,tagColor:e.tagColor},n))}):w.jsx(w.Fragment,{}):w.jsx(nm,{tagKey:t.tagKey,tagValue:t.tagValue,tagColor:t.tagColor}),Ire=cn.object({tagKey:cn.string().max(20).min(1),tagValue:cn.string().max(20).min(1),errorId:cn.string().uuid(),tagColor:cn.string().max(7).min(6)}),Lre=Il.injectEndpoints({endpoints:t=>({createTag:t.mutation({query:e=>({url:"/tag/",method:"POST",body:e}),invalidatesTags:["ErrorDetail","NamespaceDetail","NamespaceErrors"]}),deleteTag:t.mutation({query:e=>({url:`/tag/${e}`,method:"DELETE"}),invalidatesTags:["ErrorDetail","NamespaceDetail","NamespaceErrors"]})})}),{useCreateTagMutation:Dre,useDeleteTagMutation:Nre}=Lre,Fre=({onClose:t})=>{const[e,n]=F.useState(""),{id:i}=Ar();if(!i)throw new Error("Error ID is required for tag manager");const{toast:r}=kr(),{form:s,setForm:a,handleChange:l,validate:u,errors:d}=Bo({tagKey:"",tagValue:"",errorId:i,tagColor:e},Ire),[f,{isSuccess:x,isError:v,isLoading:y}]=Dre(),C=async k=>{if(k.preventDefault(),u())try{await f(s).unwrap()}catch(P){console.error("Failed to create tag:",P)}};return F.useEffect(()=>{a(k=>({...k,tagColor:e}))},[e]),F.useEffect(()=>{x&&(t(),r({title:"Tag created successfully"}))},[x]),F.useEffect(()=>{v&&r({title:"Failed to create tag",description:"Please try again"})},[v]),w.jsxs("form",{children:[w.jsxs("div",{className:"mb-4",children:[w.jsx(zn,{htmlFor:"tagKey",text:"Key"}),w.jsx(ti,{type:"text",name:"tagKey",value:s.tagKey,onChange:l}),d.errorMessages.tagKey&&w.jsx("span",{className:"text-error text-sm",children:d.errorMessages.tagKey})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx(zn,{htmlFor:"tagValue",text:"Value"}),w.jsx(ti,{type:"text",name:"tagValue",value:s.tagValue,onChange:l}),d.errorMessages.tagValue&&w.jsx("span",{className:"text-error text-sm",children:d.errorMessages.tagValue})]}),w.jsx(wI,{selectedColor:e,setColor:n}),w.jsx(Kt,{size:"sm",onClick:C,variant:"accent",overrideStyles:"my-2 px-3",content:x?"Success":y?w.jsx(Bs,{className:"animate-ease-in-out-rotation"}):"Create Tag"})]})},Ore=({tags:t})=>{const{id:e}=Ar(),n=Ki(),i=un(hx),r=un(dx),{toast:s}=kr();if(!e)throw new Error("Error ID is required for tag manager");const a=()=>{n(pu({modalType:"createTag"}))},l=()=>{n(ds())},[u]=Nre(),d=async f=>{try{await u(f).unwrap(),s({title:"Tag deleted successfully"})}catch{s({title:"Failed to delete tag"})}};return w.jsxs("div",{className:"flex flex-col",children:[w.jsx(Kt,{content:"Create Tag",size:"sm",variant:"default",onClick:a,overrideStyles:"my-4 px-3"}),w.jsxs(cx,{className:"h-[100px] whitespace-nowrap rounded-md border",children:[t.length===0&&w.jsx("div",{className:"text-center text-2xs p-4",children:"No tags found"}),t.map(f=>w.jsxs("div",{className:"relative px-4",children:[w.jsx("div",{onClick:()=>d(f.id),className:"cursor-pointer text-2xs absolute h-5 w-5 bg-red-500 rounded-full right-3 top-0 flex justify-center items-center text-center font-semibold hover:bg-red-600 ",children:"X"},f.id),w.jsx(nm,{tagKey:f.tagKey,tagValue:f.tagValue,tagColor:f.tagColor})]},f.id))]}),w.jsx(pd,{header:"Create Tag",content:w.jsx(Fre,{onClose:l}),open:i&&r==="createTag",onClose:l,onConfirm:a})]})},Bre=cn.object({active:cn.boolean().nullable(),clientId:cn.string().length(36).nullable(),clientSecret:cn.string().nullable(),serviceName:cn.string().min(1).max(35).nullable(),environmentType:cn.string().min(1).max(35).nullable()});let Up;const Vre=new Uint8Array(16);function Ure(){if(!Up&&(Up=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Up))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Up(Vre)}const yi=[];for(let t=0;t<256;++t)yi.push((t+256).toString(16).slice(1));function zre(t,e=0){return yi[t[e+0]]+yi[t[e+1]]+yi[t[e+2]]+yi[t[e+3]]+"-"+yi[t[e+4]]+yi[t[e+5]]+"-"+yi[t[e+6]]+yi[t[e+7]]+"-"+yi[t[e+8]]+yi[t[e+9]]+"-"+yi[t[e+10]]+yi[t[e+11]]+yi[t[e+12]]+yi[t[e+13]]+yi[t[e+14]]+yi[t[e+15]]}const Wre=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),W2={randomUUID:Wre};function jre(t,e,n){if(W2.randomUUID&&!e&&!t)return W2.randomUUID();t=t||{};const i=t.random||(t.rng||Ure)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,zre(i)}const AN=()=>jre();var[zx,Iae]=bs("Tooltip",[Vo]),Wx=Vo(),kN="TooltipProvider",Hre=700,b_="tooltip.open",[Xre,hS]=zx(kN),RN=t=>{const{__scopeTooltip:e,delayDuration:n=Hre,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=t,[a,l]=F.useState(!0),u=F.useRef(!1),d=F.useRef(0);return F.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),w.jsx(Xre,{scope:e,isOpenDelayed:a,delayDuration:n,onOpen:F.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:F.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),i)},[i]),isPointerInTransitRef:u,onPointerInTransitChange:F.useCallback(f=>{u.current=f},[]),disableHoverableContent:r,children:s})};RN.displayName=kN;var jx="Tooltip",[Gre,Hx]=zx(jx),IN=t=>{const{__scopeTooltip:e,children:n,open:i,defaultOpen:r=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:l}=t,u=hS(jx,t.__scopeTooltip),d=Wx(e),[f,x]=F.useState(null),v=Ur(),y=F.useRef(0),C=a??u.disableHoverableContent,k=l??u.delayDuration,P=F.useRef(!1),[S=!1,R]=wo({prop:i,defaultProp:r,onChange:j=>{j?(u.onOpen(),document.dispatchEvent(new CustomEvent(b_))):u.onClose(),s==null||s(j)}}),L=F.useMemo(()=>S?P.current?"delayed-open":"instant-open":"closed",[S]),D=F.useCallback(()=>{window.clearTimeout(y.current),P.current=!1,R(!0)},[R]),W=F.useCallback(()=>{window.clearTimeout(y.current),R(!1)},[R]),z=F.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{P.current=!0,R(!0)},k)},[k,R]);return F.useEffect(()=>()=>window.clearTimeout(y.current),[]),w.jsx(xx,{...d,children:w.jsx(Gre,{scope:e,contentId:v,open:S,stateAttribute:L,trigger:f,onTriggerChange:x,onTriggerEnter:F.useCallback(()=>{u.isOpenDelayed?z():D()},[u.isOpenDelayed,z,D]),onTriggerLeave:F.useCallback(()=>{C?W():window.clearTimeout(y.current)},[W,C]),onOpen:D,onClose:W,disableHoverableContent:C,children:n})})};IN.displayName=jx;var w_="TooltipTrigger",LN=F.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=Hx(w_,n),s=hS(w_,n),a=Wx(n),l=F.useRef(null),u=sn(e,l,r.onTriggerChange),d=F.useRef(!1),f=F.useRef(!1),x=F.useCallback(()=>d.current=!1,[]);return F.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),w.jsx(ff,{asChild:!0,...a,children:w.jsx(Dt.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:u,onPointerMove:it(t.onPointerMove,v=>{v.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:it(t.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:it(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:it(t.onFocus,()=>{d.current||r.onOpen()}),onBlur:it(t.onBlur,r.onClose),onClick:it(t.onClick,r.onClose)})})});LN.displayName=w_;var Yre="TooltipPortal",[Lae,$re]=zx(Yre,{forceMount:void 0}),Su="TooltipContent",DN=F.forwardRef((t,e)=>{const n=$re(Su,t.__scopeTooltip),{forceMount:i=n.forceMount,side:r="top",...s}=t,a=Hx(Su,t.__scopeTooltip);return w.jsx(Vi,{present:i||a.open,children:a.disableHoverableContent?w.jsx(NN,{side:r,...s,ref:e}):w.jsx(Zre,{side:r,...s,ref:e})})}),Zre=F.forwardRef((t,e)=>{const n=Hx(Su,t.__scopeTooltip),i=hS(Su,t.__scopeTooltip),r=F.useRef(null),s=sn(e,r),[a,l]=F.useState(null),{trigger:u,onClose:d}=n,f=r.current,{onPointerInTransitChange:x}=i,v=F.useCallback(()=>{l(null),x(!1)},[x]),y=F.useCallback((C,k)=>{const P=C.currentTarget,S={x:C.clientX,y:C.clientY},R=Jre(S,P.getBoundingClientRect()),L=ese(S,R),D=tse(k.getBoundingClientRect()),W=ise([...L,...D]);l(W),x(!0)},[x]);return F.useEffect(()=>()=>v(),[v]),F.useEffect(()=>{if(u&&f){const C=P=>y(P,f),k=P=>y(P,u);return u.addEventListener("pointerleave",C),f.addEventListener("pointerleave",k),()=>{u.removeEventListener("pointerleave",C),f.removeEventListener("pointerleave",k)}}},[u,f,y,v]),F.useEffect(()=>{if(a){const C=k=>{const P=k.target,S={x:k.clientX,y:k.clientY},R=(u==null?void 0:u.contains(P))||(f==null?void 0:f.contains(P)),L=!nse(S,a);R?v():L&&(v(),d())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[u,f,a,d,v]),w.jsx(NN,{...t,ref:s})}),[Kre,Qre]=zx(jx,{isInside:!1}),NN=F.forwardRef((t,e)=>{const{__scopeTooltip:n,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=t,u=Hx(Su,n),d=Wx(n),{onClose:f}=u;return F.useEffect(()=>(document.addEventListener(b_,f),()=>document.removeEventListener(b_,f)),[f]),F.useEffect(()=>{if(u.trigger){const x=v=>{const y=v.target;y!=null&&y.contains(u.trigger)&&f()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[u.trigger,f]),w.jsx(zl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:x=>x.preventDefault(),onDismiss:f,children:w.jsxs(vx,{"data-state":u.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx(ZA,{children:i}),w.jsx(Kre,{scope:n,isInside:!0,children:w.jsx(qie,{id:u.contentId,role:"tooltip",children:r||i})})]})})});DN.displayName=Su;var FN="TooltipArrow",qre=F.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=Wx(n);return Qre(FN,n).isInside?null:w.jsx(yx,{...r,...i,ref:e})});qre.displayName=FN;function Jre(t,e){const n=Math.abs(e.top-t.y),i=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,i,r,s)){case s:return"left";case r:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function ese(t,e,n=5){const i=[];switch(e){case"top":i.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":i.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":i.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":i.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return i}function tse(t){const{top:e,right:n,bottom:i,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:i},{x:r,y:i}]}function nse(t,e){const{x:n,y:i}=t;let r=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s].x,u=e[s].y,d=e[a].x,f=e[a].y;u>i!=f>i&&n<(d-l)*(i-u)/(f-u)+l&&(r=!r)}return r}function ise(t){const e=t.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),rse(e)}function rse(t){if(t.length<=1)return t.slice();const e=[];for(let i=0;i<t.length;i++){const r=t[i];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let i=t.length-1;i>=0;i--){const r=t[i];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var sse=RN,ase=IN,ose=LN,ON=DN;const lse=sse,Ja=ase,eo=ose,ca=F.forwardRef(({className:t,sideOffset:e=4,...n},i)=>w.jsx(ON,{ref:i,sideOffset:e,className:Pt("z-50 overflow-hidden rounded-md bg-slate-900 px-3 py-1.5 text-xs text-slate-50 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:bg-slate-50 dark:text-slate-900",t),...n}));ca.displayName=ON.displayName;const cse=()=>{const{id:t}=Ar(),{toast:e}=kr();if(!t)throw new Error("Namespace ID is required for update form");const[n,i]=F.useState(!1),[r,s]=F.useState(!1),{data:a,isError:l,refetch:u}=HI(t);F.useEffect(()=>{if(l)throw new Error("Failed to fetch namespace data")},[l]);const{form:d,handleChange:f,setForm:x,validate:v,errors:y}=Bo({active:null,clientId:null,clientSecret:null,serviceName:null,environmentType:null},Bre);F.useEffect(()=>{a&&x({active:a.active,clientId:a.clientId,clientSecret:a.clientSecret,serviceName:a.serviceName,environmentType:a.environmentType})},[a]);const[C]=AH(),k=D=>{D.preventDefault(),i(W=>!W)},P=D=>{D.preventDefault(),s(W=>!W)},S=(D,W)=>{D.preventDefault();const z=d[W]||"";navigator.clipboard.writeText(z).then(()=>{e({title:`${ro(W)} copied to clipboard`})}).catch(j=>{console.error("Could not copy text: ",j)})},R=(D,W)=>{D.preventDefault();const z=AN();x(j=>({...j,[W]:z}))},L=async(D,W)=>{D.preventDefault();try{let z;W==="active"?z=!d[W]:W==="clientSecret"?z=!0:z=d[W],v()?(await C({id:t,[W]:z}).unwrap(),e({title:`${ro(W)} updated successfully`}),u()):e({title:`${ro(W)} failed to update`})}catch{e({title:`${ro(W)} failed to update`})}};return w.jsxs("form",{className:"grid grid-cols-1 gap-6 place-items-center max-w-2xl mx-auto mt-8",children:[w.jsxs("div",{className:"w-full grid grid-cols-4 gap-4 items-center align-center text-center",children:[w.jsx(zn,{htmlFor:"clientId",text:"Client ID:"}),w.jsxs("div",{className:"relative col-span-3 flex items-center space-x-2",children:[w.jsx(ti,{disabled:!0,type:r?"text":"password",name:"clientId",value:d.clientId||"",onChange:f}),y.errorMessages.clientId&&w.jsx("span",{className:"text-error text-sm",children:y.errorMessages.clientId}),w.jsxs(Ja,{children:[w.jsx(eo,{asChild:!0,children:w.jsx("div",{className:"flex items-center space-x-2 border rounded-md p-1 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 dark:border-gray-600 dark:text-slate-300 dark:bg-transparent",onClick:D=>S(D,"clientId"),children:w.jsx(a1,{})})}),w.jsx(ca,{children:w.jsx("p",{children:"Copy to clipboard"})})]}),w.jsxs(Ja,{children:[w.jsx(eo,{asChild:!0,children:w.jsx("div",{className:"flex items-center space-x-2 border rounded-md p-1 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 dark:border-gray-600 dark:text-slate-300 dark:bg-transparent",onClick:P,children:r?w.jsx(o1,{}):w.jsx(l1,{})})}),w.jsx(ca,{children:w.jsx("p",{children:"Toggle visibility"})})]}),w.jsxs(Ja,{children:[w.jsx(eo,{asChild:!0,children:w.jsx("div",{className:"flex items-center space-x-2 border rounded-md p-1 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 dark:border-gray-600 dark:text-slate-300 dark:bg-transparent",onClick:D=>R(D,"clientId"),children:w.jsx(Bs,{})})}),w.jsx(ca,{children:w.jsx("p",{children:"Generate new UUID"})})]}),w.jsx(Kt,{size:"sm",content:"Update",variant:"default",onClick:D=>L(D,"clientId"),overrideStyles:"my-4 px-3"})]})]}),w.jsxs("div",{className:"w-full grid grid-cols-4 gap-4 items-center align-center text-center",children:[w.jsx(zn,{htmlFor:"clientSecret",text:"Client Secret:"}),w.jsxs("div",{className:"relative col-span-3 flex items-center space-x-2",children:[w.jsx(ti,{disabled:!0,type:n?"text":"password",name:"clientSecret",value:d.clientSecret||"",onChange:f}),y.errorMessages.clientSecret&&w.jsx("span",{className:"text-error text-sm",children:y.errorMessages.clientSecret}),w.jsxs(Ja,{children:[w.jsx(eo,{children:w.jsx("div",{className:"flex items-center space-x-2 border rounded-md p-1 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 dark:border-gray-600 dark:text-slate-300 dark:bg-transparent",onClick:D=>S(D,"clientSecret"),children:w.jsx(a1,{})})}),w.jsx(ca,{children:w.jsx("p",{children:"Copy to clipboard"})})]}),w.jsxs(Ja,{children:[w.jsx(eo,{children:w.jsx("div",{className:"flex items-center space-x-2 border rounded-md p-1 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 dark:border-gray-600 dark:text-slate-300 dark:bg-transparent",onClick:k,children:n?w.jsx(o1,{}):w.jsx(l1,{})})}),w.jsx(ca,{children:w.jsx("p",{children:"Toggle visibility"})})]}),w.jsx(Kt,{size:"sm",content:w.jsx(Bs,{}),variant:"default",onClick:D=>L(D,"clientSecret"),overrideStyles:"my-4 px-3"})]})]}),w.jsxs("div",{className:"w-full grid grid-cols-4 gap-4 items-center align-center text-center",children:[w.jsx(zn,{htmlFor:"serviceName",text:"Service Name:"}),w.jsxs("div",{className:"relative col-span-3 flex items-center space-x-2",children:[w.jsx(ti,{type:"text",name:"serviceName",value:d.serviceName||"",onChange:f}),y.errorMessages.serviceName&&w.jsx("span",{className:"text-error text-sm",children:y.errorMessages.serviceName}),w.jsx(Kt,{size:"sm",content:"Update",variant:"default",onClick:D=>L(D,"serviceName"),overrideStyles:"my-4 px-3"})]})]}),w.jsxs("div",{className:"w-full grid grid-cols-4 gap-4 items-center align-center text-center",children:[w.jsx(zn,{htmlFor:"environmentType",text:"Environment Type:"}),w.jsxs("div",{className:"relative col-span-3 flex items-center space-x-2",children:[w.jsx(ti,{type:"text",name:"environmentType",value:d.environmentType||"",onChange:f}),y.errorMessages.environmentType&&w.jsx("span",{className:"text-error text-sm",children:y.errorMessages.environmentType}),w.jsx(Kt,{size:"sm",content:"Update",variant:"default",onClick:D=>L(D,"environmentType"),overrideStyles:"my-4 px-3"})]})]}),w.jsxs("div",{className:"w-full grid grid-cols-4 gap-4 items-center align-center text-center",children:[w.jsx(zn,{htmlFor:"active",text:"Deactivate/Reactivate:"}),w.jsx("div",{className:"relative col-span-3 flex items-center space-x-2",children:w.jsx(Kt,{size:"sm",content:d.active?"Deactivate":"Activate",variant:d.active?"destructive":"success",onClick:D=>L(D,"active"),overrideStyles:"my-4 px-3"})})]})]})},use=()=>w.jsxs(Xs,{className:"pb-16 mr-4 dark:text-slate-800 dark:bg-slate-900 dark:text-slate-100",children:[w.jsx(Ea,{children:"Update Namespace"}),w.jsx(cse,{})]}),hse=cn.object({id:cn.string().length(36).nullable(),firstName:cn.string().min(1).max(35).nullable(),lastName:cn.string().min(1).max(35).nullable(),avatarColor:cn.string().length(7).nullable(),username:cn.string().min(1).max(35).nullable(),password:cn.string().min(8).max(50).nullable()}),dse=()=>{const{id:t}=Ar(),{toast:e}=kr(),n=Ki(),i=un(Ex),r=un(K3),{registerHandler:s,unregisterHandler:a}=aw();if(!t)throw new Error("User ID is required");if(!i)throw new Error("User is required");if(!r)throw new Error("User Profile is required");const[l]=VD(),{data:u}=zie(t),[d]=Wie(),[f,x]=F.useState(!1),[v,y]=F.useState(r.avatarColor),{form:C,handleChange:k,setForm:P,validate:S,errors:R}=Bo({id:null,firstName:null,lastName:null,avatarColor:null,username:null,password:null},hse);F.useEffect(()=>{P(Z=>({...Z,avatarColor:v}))},[v]),F.useEffect(()=>{u&&P({...C,id:i.id,firstName:u.firstName,lastName:u.lastName,avatarColor:u.avatarColor,username:i.username})},[u]);const L=async(Z,$)=>{Z.preventDefault(),s(async H=>{try{if(n($c(!0)),await l(H).unwrap(),S()){const q=C[$];await d({id:t,[$]:q}).unwrap(),n($c(!1)),a(),n(ds()),e({title:"Profile Updated",description:`${ro($)} has been updated successfully`})}else e({title:"Profile Update Failed",description:"Please try again"})}catch{n($c(!1)),n(ds()),e({title:"Profile Update Failed",description:"Please try again"})}},()=>{console.error("Action rejected"),n(ds())}),n(pu({modalType:"confirmation"}))},D=async(Z,$)=>{Z.preventDefault();try{if(S()){const H=C[$],q=await d({id:t,[$]:H}).unwrap();e({title:"Profile Updated",description:`${ro($)} has been updated successfully`}),q&&n(Tx({...r,firstName:q.firstName,lastName:q.lastName,avatarColor:q.avatarColor})),$==="username"&&n(Px({...i,username:C.username}))}else e({title:"Profile Update Failed",description:"Please try again"})}catch{e({title:"Profile Update Failed",description:"Please try again"})}},W=()=>{x(!f)},z=(Z,$)=>{Z.preventDefault();const H=AN();P(q=>({...q,[$]:H}))},j=(Z,$)=>{Z.preventDefault();const H=C[$]||"";navigator.clipboard.writeText(H).then(()=>{e({title:`${ro($)} copied to clipboard`})}).catch(q=>{console.error("Could not copy text: ",q)})};return w.jsxs("div",{className:"w-full flex flex-col justify-center items-center text-left",children:[w.jsx($A,{name:i.username,size:"lg",avatarColor:v}),w.jsxs("form",{className:"grid grid-cols-1 gap-6 place-items-center max-w-2xl mx-auto mt-8",children:[w.jsxs("div",{className:"w-full grid grid-cols-4 gap-4 items-center align-center text-left",children:[w.jsx(zn,{htmlFor:"password",text:"Change Password:"}),w.jsxs("div",{className:"relative col-span-3 flex items-center space-x-2",children:[w.jsx(ti,{type:f?"text":"password",name:"password",value:C.password||"",onChange:k}),R.errorMessages.password&&w.jsx("span",{className:"text-error text-sm",children:R.errorMessages.password}),w.jsxs(Ja,{children:[w.jsx(eo,{asChild:!0,children:w.jsx("div",{className:"flex items-center space-x-2 border rounded-md p-1 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 dark:border-gray-600 dark:text-slate-300 dark:bg-transparent",onClick:Z=>j(Z,"password"),children:w.jsx(a1,{})})}),w.jsx(ca,{children:w.jsx("p",{children:"Copy to clipboard"})})]}),w.jsxs(Ja,{children:[w.jsx(eo,{asChild:!0,children:w.jsx("div",{className:"flex items-center space-x-2 border rounded-md p-1 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 dark:border-gray-600 dark:text-slate-300 dark:bg-transparent",onClick:Z=>z(Z,"password"),children:w.jsx(Bs,{})})}),w.jsx(ca,{children:w.jsx("p",{children:"Generate new UUID"})})]}),w.jsxs(Ja,{children:[w.jsx(eo,{asChild:!0,children:w.jsx("div",{className:"flex items-center space-x-2 border rounded-md p-1 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 dark:border-gray-600 dark:text-slate-300 dark:bg-transparent",onClick:W,children:f?w.jsx(o1,{}):w.jsx(l1,{})})}),w.jsx(ca,{children:w.jsx("p",{children:"Toggle visibility"})})]}),w.jsx(Kt,{size:"sm",content:"Update",variant:"default",onClick:Z=>L(Z,"password"),overrideStyles:"my-4 px-3"})]})]}),w.jsxs("div",{className:"w-full grid grid-cols-4 gap-4 items-center align-center text-left",children:[w.jsx(zn,{htmlFor:"username",text:"New Username:"}),w.jsxs("div",{className:"relative col-span-3 flex items-center space-x-2",children:[w.jsx(ti,{type:"text",name:"username",value:C.username||"",onChange:k}),R.errorMessages.username&&w.jsx("span",{className:"text-error text-sm",children:R.errorMessages.username}),w.jsx(Kt,{size:"sm",content:"Update",variant:"default",onClick:Z=>D(Z,"username"),overrideStyles:"my-4 px-3"})]})]}),w.jsxs("div",{className:"w-full grid grid-cols-4 gap-4 items-center align-center text-left",children:[w.jsx(zn,{htmlFor:"firstName",text:"First Name:"}),w.jsxs("div",{className:"relative col-span-3 flex items-center space-x-2",children:[w.jsx(ti,{type:"text",name:"firstName",value:C.firstName||"",onChange:k}),R.errorMessages.firstName&&w.jsx("span",{className:"text-error text-sm",children:R.errorMessages.firstName}),w.jsx(Kt,{size:"sm",content:"Update",variant:"default",onClick:Z=>D(Z,"firstName"),overrideStyles:"my-4 px-3"})]})]}),w.jsxs("div",{className:"w-full grid grid-cols-4 gap-4 items-center align-center text-left",children:[w.jsx(zn,{htmlFor:"lastName",text:"Last Name:"}),w.jsxs("div",{className:"relative col-span-3 flex items-center space-x-2",children:[w.jsx(ti,{type:"text",name:"lastName",value:C.lastName||"",onChange:k}),R.errorMessages.lastName&&w.jsx("span",{className:"text-error text-sm",children:R.errorMessages.lastName}),w.jsx(Kt,{size:"sm",content:"Update",variant:"default",onClick:Z=>D(Z,"lastName"),overrideStyles:"my-4 px-3"})]})]}),w.jsxs("div",{className:"w-full grid grid-cols-4 gap-4 items-center align-center text-center",children:[w.jsx(zn,{htmlFor:"avatarColor",text:"Select an Avatar Color:"}),w.jsxs("div",{className:"relative col-span-3 flex items-center space-x-2",children:[w.jsx(wI,{selectedColor:v,setColor:y}),w.jsx(Kt,{size:"sm",content:"Update",variant:"default",onClick:Z=>D(Z,"avatarColor"),overrideStyles:"my-4 px-3"})]})]})]}),w.jsx(NI,{})]})},fse=()=>w.jsxs(Xs,{className:"mr-4",children:[w.jsx(Ea,{children:"Update User Profile"}),w.jsx(Oo,{children:w.jsx(dse,{})})]}),pse=()=>{const t=Xr(),e=un(Ex),n=()=>{t(`/user/${e==null?void 0:e.id}/profile`)},i=[w.jsx(Kt,{content:"Profile",size:"sm",variant:"sidenavbutton",onClick:n})];return w.jsx(sf,{isOpen:!0,header:"User",links:i})};var dS="ToastProvider",[fS,mse,gse]=yf("Toast"),[BN,Dae]=bs("Toast",[gse]),[xse,Xx]=BN(dS),VN=t=>{const{__scopeToast:e,label:n="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:a}=t,[l,u]=F.useState(null),[d,f]=F.useState(0),x=F.useRef(!1),v=F.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${dS}\`. Expected non-empty \`string\`.`),w.jsx(fS.Provider,{scope:e,children:w.jsx(xse,{scope:e,label:n,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:F.useCallback(()=>f(y=>y+1),[]),onToastRemove:F.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:v,children:a})})};VN.displayName=dS;var UN="ToastViewport",vse=["F8"],S_="toast.viewportPause",M_="toast.viewportResume",zN=F.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:i=vse,label:r="Notifications ({hotkey})",...s}=t,a=Xx(UN,n),l=mse(n),u=F.useRef(null),d=F.useRef(null),f=F.useRef(null),x=F.useRef(null),v=sn(e,x,a.onViewportChange),y=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=a.toastCount>0;F.useEffect(()=>{const P=S=>{var L;i.every(D=>S[D]||S.code===D)&&((L=x.current)==null||L.focus())};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[i]),F.useEffect(()=>{const P=u.current,S=x.current;if(C&&P&&S){const R=()=>{if(!a.isClosePausedRef.current){const z=new CustomEvent(S_);S.dispatchEvent(z),a.isClosePausedRef.current=!0}},L=()=>{if(a.isClosePausedRef.current){const z=new CustomEvent(M_);S.dispatchEvent(z),a.isClosePausedRef.current=!1}},D=z=>{!P.contains(z.relatedTarget)&&L()},W=()=>{P.contains(document.activeElement)||L()};return P.addEventListener("focusin",R),P.addEventListener("focusout",D),P.addEventListener("pointermove",R),P.addEventListener("pointerleave",W),window.addEventListener("blur",R),window.addEventListener("focus",L),()=>{P.removeEventListener("focusin",R),P.removeEventListener("focusout",D),P.removeEventListener("pointermove",R),P.removeEventListener("pointerleave",W),window.removeEventListener("blur",R),window.removeEventListener("focus",L)}}},[C,a.isClosePausedRef]);const k=F.useCallback(({tabbingDirection:P})=>{const R=l().map(L=>{const D=L.ref.current,W=[D,...Rse(D)];return P==="forwards"?W:W.reverse()});return(P==="forwards"?R.reverse():R).flat()},[l]);return F.useEffect(()=>{const P=x.current;if(P){const S=R=>{var W,z,j;const L=R.altKey||R.ctrlKey||R.metaKey;if(R.key==="Tab"&&!L){const Z=document.activeElement,$=R.shiftKey;if(R.target===P&&$){(W=d.current)==null||W.focus();return}const ce=k({tabbingDirection:$?"backwards":"forwards"}),le=ce.findIndex(me=>me===Z);Xv(ce.slice(le+1))?R.preventDefault():$?(z=d.current)==null||z.focus():(j=f.current)==null||j.focus()}};return P.addEventListener("keydown",S),()=>P.removeEventListener("keydown",S)}},[l,k]),w.jsxs(i8,{ref:u,role:"region","aria-label":r.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&w.jsx(C_,{ref:d,onFocusFromOutsideViewport:()=>{const P=k({tabbingDirection:"forwards"});Xv(P)}}),w.jsx(fS.Slot,{scope:n,children:w.jsx(Dt.ol,{tabIndex:-1,...s,ref:v})}),C&&w.jsx(C_,{ref:f,onFocusFromOutsideViewport:()=>{const P=k({tabbingDirection:"backwards"});Xv(P)}})]})});zN.displayName=UN;var WN="ToastFocusProxy",C_=F.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...r}=t,s=Xx(WN,n);return w.jsx(Ef,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:a=>{var d;const l=a.relatedTarget;!((d=s.viewport)!=null&&d.contains(l))&&i()}})});C_.displayName=WN;var Gx="Toast",yse="toast.swipeStart",_se="toast.swipeMove",bse="toast.swipeCancel",wse="toast.swipeEnd",jN=F.forwardRef((t,e)=>{const{forceMount:n,open:i,defaultOpen:r,onOpenChange:s,...a}=t,[l=!0,u]=wo({prop:i,defaultProp:r,onChange:s});return w.jsx(Vi,{present:n||l,children:w.jsx(Cse,{open:l,...a,ref:e,onClose:()=>u(!1),onPause:Wn(t.onPause),onResume:Wn(t.onResume),onSwipeStart:it(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:it(t.onSwipeMove,d=>{const{x:f,y:x}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:it(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:it(t.onSwipeEnd,d=>{const{x:f,y:x}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),u(!1)})})})});jN.displayName=Gx;var[Sse,Mse]=BN(Gx,{onClose(){}}),Cse=F.forwardRef((t,e)=>{const{__scopeToast:n,type:i="foreground",duration:r,open:s,onClose:a,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:f,onSwipeMove:x,onSwipeCancel:v,onSwipeEnd:y,...C}=t,k=Xx(Gx,n),[P,S]=F.useState(null),R=sn(e,me=>S(me)),L=F.useRef(null),D=F.useRef(null),W=r||k.duration,z=F.useRef(0),j=F.useRef(W),Z=F.useRef(0),{onToastAdd:$,onToastRemove:H}=k,q=Wn(()=>{var we;(P==null?void 0:P.contains(document.activeElement))&&((we=k.viewport)==null||we.focus()),a()}),ce=F.useCallback(me=>{!me||me===1/0||(window.clearTimeout(Z.current),z.current=new Date().getTime(),Z.current=window.setTimeout(q,me))},[q]);F.useEffect(()=>{const me=k.viewport;if(me){const we=()=>{ce(j.current),d==null||d()},Se=()=>{const ge=new Date().getTime()-z.current;j.current=j.current-ge,window.clearTimeout(Z.current),u==null||u()};return me.addEventListener(S_,Se),me.addEventListener(M_,we),()=>{me.removeEventListener(S_,Se),me.removeEventListener(M_,we)}}},[k.viewport,W,u,d,ce]),F.useEffect(()=>{s&&!k.isClosePausedRef.current&&ce(W)},[s,W,k.isClosePausedRef,ce]),F.useEffect(()=>($(),()=>H()),[$,H]);const le=F.useMemo(()=>P?KN(P):null,[P]);return k.viewport?w.jsxs(w.Fragment,{children:[le&&w.jsx(Tse,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:le}),w.jsx(Sse,{scope:n,onClose:q,children:No.createPortal(w.jsx(fS.ItemSlot,{scope:n,children:w.jsx(n8,{asChild:!0,onEscapeKeyDown:it(l,()=>{k.isFocusedToastEscapeKeyDownRef.current||q(),k.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(Dt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":k.swipeDirection,...C,ref:R,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:it(t.onKeyDown,me=>{me.key==="Escape"&&(l==null||l(me.nativeEvent),me.nativeEvent.defaultPrevented||(k.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:it(t.onPointerDown,me=>{me.button===0&&(L.current={x:me.clientX,y:me.clientY})}),onPointerMove:it(t.onPointerMove,me=>{if(!L.current)return;const we=me.clientX-L.current.x,Se=me.clientY-L.current.y,ge=!!D.current,ie=["left","right"].includes(k.swipeDirection),_e=["left","up"].includes(k.swipeDirection)?Math.min:Math.max,Te=ie?_e(0,we):0,ee=ie?0:_e(0,Se),He=me.pointerType==="touch"?10:2,Ue={x:Te,y:ee},K={originalEvent:me,delta:Ue};ge?(D.current=Ue,zp(_se,x,K,{discrete:!1})):j2(Ue,k.swipeDirection,He)?(D.current=Ue,zp(yse,f,K,{discrete:!1}),me.target.setPointerCapture(me.pointerId)):(Math.abs(we)>He||Math.abs(Se)>He)&&(L.current=null)}),onPointerUp:it(t.onPointerUp,me=>{const we=D.current,Se=me.target;if(Se.hasPointerCapture(me.pointerId)&&Se.releasePointerCapture(me.pointerId),D.current=null,L.current=null,we){const ge=me.currentTarget,ie={originalEvent:me,delta:we};j2(we,k.swipeDirection,k.swipeThreshold)?zp(wse,y,ie,{discrete:!0}):zp(bse,v,ie,{discrete:!0}),ge.addEventListener("click",_e=>_e.preventDefault(),{once:!0})}})})})}),k.viewport)})]}):null}),Tse=t=>{const{__scopeToast:e,children:n,...i}=t,r=Xx(Gx,e),[s,a]=F.useState(!1),[l,u]=F.useState(!1);return Ase(()=>a(!0)),F.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:w.jsx(Ru,{asChild:!0,children:w.jsx(Ef,{...i,children:s&&w.jsxs(w.Fragment,{children:[r.label," ",n]})})})},Pse="ToastTitle",HN=F.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return w.jsx(Dt.div,{...i,ref:e})});HN.displayName=Pse;var Ese="ToastDescription",XN=F.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return w.jsx(Dt.div,{...i,ref:e})});XN.displayName=Ese;var GN="ToastAction",YN=F.forwardRef((t,e)=>{const{altText:n,...i}=t;return n.trim()?w.jsx(ZN,{altText:n,asChild:!0,children:w.jsx(pS,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${GN}\`. Expected non-empty \`string\`.`),null)});YN.displayName=GN;var $N="ToastClose",pS=F.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t,r=Mse($N,n);return w.jsx(ZN,{asChild:!0,children:w.jsx(Dt.button,{type:"button",...i,ref:e,onClick:it(t.onClick,r.onClose)})})});pS.displayName=$N;var ZN=F.forwardRef((t,e)=>{const{__scopeToast:n,altText:i,...r}=t;return w.jsx(Dt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function KN(t){const e=[];return Array.from(t.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),kse(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const a=i.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...KN(i))}}),e}function zp(t,e,n,{discrete:i}){const r=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?Ub(r,s):r.dispatchEvent(s)}var j2=(t,e,n=0)=>{const i=Math.abs(t.x),r=Math.abs(t.y),s=i>r;return e==="left"||e==="right"?s&&i>n:!s&&r>n};function Ase(t=()=>{}){const e=Wn(t);Ti(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[e])}function kse(t){return t.nodeType===t.ELEMENT_NODE}function Rse(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Xv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Ise=VN,QN=zN,qN=jN,JN=HN,eF=XN,tF=YN,nF=pS;const Lse=Ise,iF=F.forwardRef(({className:t,...e},n)=>w.jsx(QN,{ref:n,className:Pt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));iF.displayName=QN.displayName;const Dse=Yg("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-slate-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-slate-800",{variants:{variant:{default:"border bg-white text-slate-900 dark:bg-slate-900 dark:text-slate-50",destructive:"destructive group border-red-500 bg-red-500 text-slate-50 dark:border-red-900 dark:bg-red-900 dark:text-slate-50"}},defaultVariants:{variant:"default"}}),rF=F.forwardRef(({className:t,variant:e,...n},i)=>w.jsx(qN,{ref:i,className:Pt(Dse({variant:e}),t),...n}));rF.displayName=qN.displayName;const Nse=F.forwardRef(({className:t,...e},n)=>w.jsx(tF,{ref:n,className:Pt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-slate-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-slate-100 focus:outline-none focus:ring-1 focus:ring-slate-900 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-slate-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-slate-50 group-[.destructive]:focus:ring-red-500 dark:border-slate-800 dark:hover:bg-slate-800 dark:focus:ring-slate-300 dark:group-[.destructive]:border-slate-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-slate-50 dark:group-[.destructive]:focus:ring-red-900",t),...e}));Nse.displayName=tF.displayName;const sF=F.forwardRef(({className:t,...e},n)=>w.jsx(nF,{ref:n,className:Pt("absolute right-1 top-1 rounded-md p-1 text-slate-900 hover:text-slate-900 hover:bg-red-400 focus:outline-none dark:text-slate-100 dark:hover:text-slate-900",t),"toast-close":"",...e,children:w.jsx(Xb,{})}));sF.displayName=nF.displayName;const aF=F.forwardRef(({className:t,...e},n)=>w.jsx(JN,{ref:n,className:Pt("text-md font-semibold [&+div]:text-md dark:text-slate-100",t),...e}));aF.displayName=JN.displayName;const oF=F.forwardRef(({className:t,...e},n)=>w.jsx(eF,{ref:n,className:Pt("text-sm opacity-90 dark:text-slate-100",t),...e}));oF.displayName=eF.displayName;function Fse(){const{toasts:t}=kr();return w.jsxs(Lse,{children:[t.map(function({id:e,title:n,description:i,action:r,...s}){return w.jsxs(rF,{...s,children:[w.jsxs("div",{className:"grid gap-1",children:[n&&w.jsx(aF,{children:n}),i&&w.jsx(oF,{children:i})]}),r,w.jsx(sF,{})]},e)}),w.jsx(iF,{})]})}const al=({children:t})=>un(Xw)?w.jsx(w.Fragment,{children:t}):w.jsx(CB,{to:"/",replace:!0}),Ose=cn.object({serviceName:cn.string().max(20),environmentType:cn.string().min(1).max(25)}),Bse=({onClose:t})=>{const{form:e,handleChange:n,validate:i,errors:r}=Bo({serviceName:"",environmentType:""},Ose),{toast:s}=kr(),[a,{isSuccess:l,isError:u,isLoading:d}]=PH(),f=async x=>{if(x.preventDefault(),i())try{await a(e).unwrap()}catch(v){console.error("Failed to create namespace:",v)}};return F.useEffect(()=>{l&&(t(),s({title:"Namespace created successfully",description:"Namespace created successfully"}))},[l]),F.useEffect(()=>{u&&s({title:"Failed to create namespace",description:"Please try again"})},[u]),w.jsxs("form",{children:[w.jsxs("div",{className:"mb-4",children:[w.jsx(zn,{htmlFor:"environmentType",text:"Environment Type"}),w.jsx(ti,{type:"text",name:"environmentType",value:e.environmentType,onChange:n}),r.errorMessages.environmentType&&w.jsx("span",{className:"text-error text-sm",children:r.errorMessages.environmentType})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx(zn,{htmlFor:"serviceName",text:"Service Name"}),w.jsx(ti,{type:"text",name:"serviceName",value:e.serviceName,onChange:n}),r.errorMessages.serviceName&&w.jsx("span",{className:"text-error text-sm",children:r.errorMessages.serviceName})]}),w.jsx(Kt,{size:"sm",onClick:f,variant:"accent",overrideStyles:"px-3",content:l?"Success":d?w.jsx(Bs,{className:"animate-ease-in-out-rotation"}):"Create Namespace"})]})},Yr=()=>{const[t,e]=F.useState(()=>window.innerHeight-100),[n,i]=F.useState(()=>window.innerWidth);return F.useEffect(()=>{const r=()=>{e(window.innerHeight-100),i(window.innerWidth)};return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),{height:t,width:n}},Vse=()=>{const{height:t}=Yr(),e=Ki(),n=un(hx),i=un(dx),r=()=>{e(pu({modalType:"createNamespace"}))},s=()=>{e(ds())},a=()=>{s()};return w.jsxs("div",{className:"bg-slate-50 text-slate-900 w-full flex flex-row relative dark:bg-slate-800 dark:text-slate-200",children:[w.jsx(pd,{header:"Create Namespace",content:w.jsx(Bse,{onClose:s}),open:n&&i==="createNamespace",onClose:s,showConfirmButtons:!1,onConfirm:a}),w.jsx("div",{style:{height:t??`${t}px`},className:"bg-slate-50 bg-gray-200 dark:bg-slate-800",children:w.jsx(Pf,{})}),w.jsxs("div",{className:"flex-1 px-4 pb-4",children:[w.jsx(Kt,{content:"Create Namespace",size:"sm",variant:"accent",onClick:r,overrideStyles:"my-4 px-3"}),w.jsx(Xie,{})]})]})},Use=()=>{const{height:t}=Yr(),{id:e}=Ar(),n=un(OI),[i,r]=F.useState(0),[s,a]=F.useState(50),[l,u]=F.useState(""),d=un(rR);if(!e)throw new Error("Namespace ID is required");const{isLoading:f}=HI(e),{data:x}=gG({namespaceId:e,groupBy:n.groupBy,groupKey:l,offset:i,limit:s},{skip:!l});return f?w.jsx("div",{children:"Loading..."}):w.jsxs("div",{className:"bg-slate-50 text-slate-900 w-full flex flex-row relative dark:bg-slate-800 dark:text-slate-200",children:[w.jsx("div",{style:{height:t??`${t}px`},className:"bg-slate-50 bg-gray-200 dark:bg-slate-800",children:w.jsx(Pf,{})}),w.jsx("div",{className:`${d?"min-w-52":"min-w-8"}`}),w.jsxs("div",{className:"flex-1 px-4 pb-4",children:[w.jsx(Ox,{header:"Namespace Details"}),w.jsx("div",{className:"my-4",children:w.jsx(Ere,{})}),w.jsxs(u7,{children:[e?w.jsx(eG,{id:e,setGroupKey:u}):null,w.jsx(x7,{errorMeta:x})]})]})]})},zse=()=>{const{height:t}=Yr(),{id:e}=Ar();if(e)return w.jsxs("div",{className:"bg-slate-50 text-slate-900 w-full flex flex-row relative dark:bg-slate-800 dark:text-slate-200",children:[w.jsx("div",{style:{height:t??`${t}px`},className:"bg-slate-50 bg-gray-200 dark:bg-slate-800",children:w.jsx(Pf,{})}),w.jsxs("div",{className:"flex-1 px-4 pb-4",children:[w.jsx(Ox,{header:"Namespace Error Logs"}),w.jsx(iG,{id:e})]})]})},Wse=()=>{const{height:t}=Yr(),{id:e}=Ar();if(!e)throw new Error("Namespace ID is required");return w.jsxs("div",{className:"bg-slate-50 text-slate-900 w-full flex flex-row relative dark:bg-slate-800 dark:text-slate-200",children:[w.jsx("div",{style:{height:t??`${t}px`},className:"bg-slate-50 bg-gray-200 dark:bg-slate-800",children:w.jsx(Pf,{})}),w.jsxs("div",{className:"flex-1 px-4 pb-4",children:[w.jsx(Ox,{header:"Namespace Metrics"}),w.jsx(v7,{})]})]})};var jse="Separator",H2="horizontal",Hse=["horizontal","vertical"],lF=F.forwardRef((t,e)=>{const{decorative:n,orientation:i=H2,...r}=t,s=Xse(i)?i:H2,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return w.jsx(Dt.div,{"data-orientation":s,...l,...r,ref:e})});lF.displayName=jse;function Xse(t){return Hse.includes(t)}var cF=lF;const mS=F.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...i},r)=>w.jsx(cF,{ref:r,decorative:n,orientation:e,className:Pt("shrink-0 bg-slate-200 dark:bg-slate-800",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...i}));mS.displayName=cF.displayName;const Gse=()=>{const{height:t}=Yr(),{id:e}=Ar();if(!e)throw new Error("Namespace ID is required");return w.jsxs("div",{className:"bg-slate-50 text-slate-900 w-full flex flex-row relative dark:bg-slate-800 dark:text-slate-200",children:[w.jsx("div",{style:{height:t??`${t}px`},className:"bg-slate-50 bg-gray-200 dark:bg-slate-800",children:w.jsx(Pf,{})}),w.jsxs("div",{className:"flex-1 px-4 pb-4",children:[w.jsx(Ox,{header:"Namespace Settings"}),w.jsx(use,{}),w.jsx(mS,{className:"my-8 bg-slate-600 dark:bg-slate-200"}),w.jsx("h1",{className:"pl-8 pr-4",children:"Alerting"})]})]})},Yse=()=>w.jsxs(Eu,{children:[w.jsx(gi,{path:"/console",element:w.jsx(al,{children:w.jsx(Vse,{})})}),w.jsx(gi,{path:"/:id",element:w.jsx(al,{children:w.jsx(Use,{})})}),w.jsx(gi,{path:"/:id/logs",element:w.jsx(al,{children:w.jsx(zse,{})})}),w.jsx(gi,{path:"/:id/metrics",element:w.jsx(al,{children:w.jsx(Wse,{})})}),w.jsx(gi,{path:"/:id/settings",element:w.jsx(al,{children:w.jsx(Gse,{})})})]}),$se=()=>{const{height:t}=Yr();return w.jsxs("div",{className:"bg-slate-50 text-slate-900 w-full flex flex-row relative dark:bg-slate-800 dark:text-slate-200",children:[w.jsx("div",{style:{height:t??`${t}px`},className:"bg-slate-50 bg-gray-200 dark:bg-slate-800",children:w.jsx(Nx,{})}),w.jsx("div",{className:"flex-1 px-4 pb-4 flex justify-center items-center",children:w.jsx(Fie,{})})]})},Zse=()=>{const{height:t}=Yr();return w.jsxs("div",{className:"bg-slate-50 text-slate-900 w-full flex flex-row relative dark:bg-slate-800 dark:text-slate-200",children:[w.jsx("div",{style:{height:t??`${t}px`},className:"bg-slate-50 bg-gray-200 dark:bg-slate-800",children:w.jsx(Nx,{})}),w.jsx("div",{className:"min-w-52"}),w.jsx("div",{className:"flex-1 px-4 pb-4",children:w.jsx(Kz,{})})]})},Kse=()=>{const{height:t}=Yr();return w.jsxs("div",{className:"bg-slate-50 text-slate-900 w-full flex flex-row relative dark:bg-slate-800 dark:text-slate-200",children:[w.jsx("div",{style:{height:t??`${t}px`},className:"bg-slate-50 bg-gray-200 dark:bg-slate-800",children:w.jsx(Nx,{})}),w.jsx("div",{className:"min-w-52"}),w.jsx("div",{className:"flex justify-center",children:w.jsxs(Xs,{className:"w-3/4 mb-20 text-sm flex flex-col justify-center p-10",children:[w.jsx(Ea,{className:"text-2xl font-bold font-lexend",children:"Terms of Service"}),w.jsxs(Oo,{children:[w.jsxs("p",{className:"mb-4",children:[w.jsx("strong",{children:"Effective Date:"})," June 2024"]}),w.jsx("p",{className:"mb-6",children:"Welcome to HiGuard. By accessing or using our error dashboard service, you agree to be bound by these Terms of Service. Please read them carefully."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Acceptance of Terms"}),w.jsx("p",{className:"mb-6",children:"By using the Service, you accept and agree to be bound by these Terms, our Privacy Policy, and any other policies referenced herein. If you do not agree to these Terms, you may not use the Service."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Changes to Terms"}),w.jsx("p",{className:"mb-6",children:"We reserve the right to modify these Terms at any time. We will notify you of any changes by posting the new Terms on our website. You are advised to review these Terms periodically for any changes. Your continued use of the Service after any changes constitutes your acceptance of the new Terms."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Use of Service"}),w.jsx("p",{className:"mb-6",children:"The Service allows you to submit error data for analysis and troubleshooting. By using the Service, you agree to provide accurate and complete information."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. License to User Data"}),w.jsx("p",{className:"mb-6",children:"By submitting User Data to the Service, you grant us a non-exclusive, worldwide, royalty-free, perpetual, irrevocable, and sublicensable right to use, reproduce, modify, adapt, publish, translate, create derivative works from, distribute, and display such User Data in any media. This license allows us to use your data for any purpose, including improving and marketing our Service."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Privacy"}),w.jsx("p",{className:"mb-6",children:"We respect your privacy. Our Privacy Policy, which is incorporated into these Terms by reference, explains how we collect, use, and disclose your information. By using the Service, you agree to our collection and use of your information as described in the Privacy Policy."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. User Responsibilities"}),w.jsxs("ul",{className:"list-disc list-inside mb-6",children:[w.jsx("li",{children:"You are responsible for maintaining the confidentiality of your account and password."}),w.jsx("li",{children:"You are responsible for all activities that occur under your account."}),w.jsx("li",{children:"You agree not to use the Service for any unlawful or unauthorized purpose."})]}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"7. Termination"}),w.jsx("p",{className:"mb-6",children:"We may terminate or suspend your access to the Service at any time, without prior notice or liability, for any reason, including if you breach these Terms."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"8. Disclaimers"}),w.jsx("p",{className:"mb-6",children:'The Service is provided "as is" and "as available" without warranties of any kind, either express or implied, including, but not limited to, implied warranties of merchantability, fitness for a particular purpose, or non-infringement. We do not warrant that the Service will be uninterrupted, error-free, or secure.'}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"9. Limitation of Liability"}),w.jsx("p",{className:"mb-6",children:"To the fullest extent permitted by applicable law, we shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses, resulting from (i) your use or inability to use the Service; (ii) any unauthorized access to or use of our servers and/or any personal information stored therein; (iii) any interruption or cessation of transmission to or from the Service; (iv) any bugs, viruses, trojan horses, or the like that may be transmitted to or through the Service by any third party; or (v) any errors or omissions in any content or for any loss or damage incurred as a result of the use of any content posted, emailed, transmitted, or otherwise made available through the Service."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"10. Governing Law"}),w.jsx("p",{className:"mb-6",children:"These Terms shall be governed and construed in accordance with the laws of the United States of America, without regard to its conflict of law provisions."}),w.jsxs("div",{className:"mt-8",children:[w.jsx("p",{className:"font-bold",children:"HiGuard"}),w.jsx("p",{className:"font-bold",children:"HiQ"}),w.jsx("p",{className:"font-bold",children:"Derek Li"})]})]})]})})]})},X2=[{version:"HiGuard 0.1.0",date:"August 12th, 2024",changes:["Inital release of Higuard","Deployed client and server","Endpoint for creating errors available","Fixed styling issues"]}],Qse=()=>{const{height:t}=Yr();return w.jsxs("div",{className:"bg-slate-50 text-slate-900 w-full flex flex-row relative dark:bg-slate-800 dark:text-slate-200",children:[w.jsx("div",{style:{height:t??`${t}px`},className:"bg-slate-50 bg-gray-200 dark:bg-slate-800",children:w.jsx(Nx,{})}),w.jsx("div",{className:"min-w-52"}),w.jsxs("div",{className:"flex flex-col px-10 items-left w-3/4",children:[w.jsx("h1",{className:"font-bold text-6xl mb-8 mt-8",children:"HiGuard: Release Notes"}),X2.map((e,n)=>w.jsxs("div",{children:[w.jsx(y7,{version:e.version,date:e.date,changes:e.changes},n),n!==X2.length-1&&w.jsx(mS,{})]},n))]})]})},qse=()=>w.jsxs(Eu,{children:[w.jsx(gi,{path:"/",element:w.jsx($se,{})}),w.jsx(gi,{path:"/about",element:w.jsx(Zse,{})}),w.jsx(gi,{path:"/termsofservice",element:w.jsx(Kse,{})}),w.jsx(gi,{path:"/releases",element:w.jsx(Qse,{})})]}),Jse=()=>{const{height:t}=Yr(),e=Xr(),{id:n}=Ar();if(!n)throw new Error("Error ID is required");const{data:i,isLoading:r}=pG(n),s=()=>{e(`/error/${n}/console`)},a=[w.jsx(Kt,{content:"Console",size:"sm",variant:"sidenavbutton",onClick:s,overrideStyles:"px-3"})];return r?w.jsx("div",{children:"Loading..."}):w.jsxs("div",{className:"bg-slate-50 text-slate-900 w-full flex flex-row relative dark:bg-slate-800 dark:text-slate-200",children:[w.jsx("div",{style:{height:t??`${t}px`},className:"bg-slate-50 bg-gray-200 dark:bg-slate-800",children:w.jsx(rG,{links:a})}),w.jsx("div",{className:"min-w-52"}),w.jsx("div",{className:"flex flex-row px-4 justify-between",children:w.jsx(tG,{error:i})})]})},eae=()=>w.jsx(Eu,{children:w.jsx(gi,{path:"/:id/console",element:w.jsx(al,{children:w.jsx(Jse,{})})})}),tae=()=>{const{height:t}=Yr();return w.jsxs("div",{className:"bg-slate-50 text-slate-900 w-full flex flex-row relative dark:bg-slate-800 dark:text-slate-200",children:[w.jsx("div",{style:{height:t??`${t}px`},className:"bg-slate-50 bg-gray-200 dark:bg-slate-800",children:w.jsx(pse,{})}),w.jsx("div",{className:"min-w-52"}),w.jsx("div",{className:"flex-1 px-4 pb-4",children:w.jsx(fse,{})})]})},nae=()=>w.jsx(Eu,{children:w.jsx(gi,{path:":id/profile",element:w.jsx(al,{children:w.jsx(tae,{})})})}),iae=()=>{const{height:t}=Yr();return w.jsxs("div",{className:"bg-slate-50 text-slate-900 w-full flex flex-row relative dark:bg-slate-800 dark:text-slate-200",children:[w.jsx("div",{style:{height:t??`${t}px`},className:"bg-slate-50 bg-gray-200 dark:bg-slate-800",children:w.jsx(Lj,{})}),w.jsx("div",{className:"min-w-60"}),w.jsx("div",{className:"flex-1 px-4 pb-4",children:w.jsx("h1",{children:"Documentation"})})]})},rae=()=>w.jsx(Eu,{children:w.jsx(gi,{path:"/",element:w.jsx(iae,{})})}),sae=()=>{const t=$d(),e=Ki();F.useEffect(()=>{e(Fx())},[t,e])},aae=()=>{sae();const t=un(Gg);return F.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),w.jsxs("div",{className:"flex flex-col h-full justify-center items-center dark:bg-slate-800",children:[w.jsx(WD,{}),w.jsx(_7,{children:w.jsx(lse,{children:w.jsxs(Eu,{children:[w.jsx(gi,{path:"/*",element:w.jsx(qse,{})}),w.jsx(gi,{path:"/namespace/*",element:w.jsx(Yse,{})}),w.jsx(gi,{path:"/error/*",element:w.jsx(eae,{})}),w.jsx(gi,{path:"/user/*",element:w.jsx(nae,{})}),w.jsx(gi,{path:"/documentation/*",element:w.jsx(rae,{})})]})})}),w.jsx(Fse,{}),w.jsx(Q3,{})]})},oae=Mb({auth:DK,aggregateTable:Nj,modal:Rj,dark:VV,sidebar:Yz,errorGraph:cG,errorBoundary:Hie,timezone:DU,[Il.reducerPath]:Il.reducer}),uF=mV({reducer:oae,middleware:t=>t().concat(Il.middleware)});Gj(uF.dispatch);const lae=({error:t,errorInfo:e})=>{const n=Ki(),i=Xr(),r=()=>{n(Fx()),i("/")};return w.jsxs("div",{className:"flex flex-col h-screen align-center",children:[w.jsx(WD,{}),w.jsxs("div",{className:"flex flex-col justify-center content-center items-center",children:[w.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Something went wrong."}),w.jsx("img",{src:D6,width:300,height:300}),w.jsx(Kt,{variant:"outline",content:"Go Back",onClick:r}),w.jsxs("details",{className:"mt-4 text-left",children:[t&&t.toString(),w.jsx("br",{}),e==null?void 0:e.componentStack]})]}),w.jsx(Q3,{})]})};class cae extends F.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,n){this.props.setError({error:e,errorInfo:n})}componentWillUnmount(){this.props.clearError()}render(){return this.props.hasError?w.jsx(lae,{error:this.props.error,errorInfo:this.props.errorInfo}):this.props.children}}const uae=t=>({hasError:t.errorBoundary.hasError,error:t.errorBoundary.error,errorInfo:t.errorBoundary.errorInfo}),hae={setError:zD,clearError:Fx},dae=A4(uae,hae),fae=t=>{const e=$d(),{clearError:n}=t;return F.useEffect(()=>{n()},[e,n]),w.jsx(cae,{...t})},pae=dae(fae),mae=()=>{const t=Ki(),e=Xr(),{data:n,isSuccess:i,isError:r}=Uie(null);return F.useEffect(()=>{i?(t(Px(n.user)),t(jw(n.accessToken)),t(Tx(n.userProfile)),t(Hw(!0))):r&&t(Z3()),e("/")},[i,r]),null};Gv.createRoot(document.getElementById("root")).render(w.jsx(wi.StrictMode,{children:w.jsx(R4,{store:uF,children:w.jsx(AB,{children:w.jsxs(pae,{children:[w.jsx(mae,{}),w.jsx(aae,{})]})})})}));
